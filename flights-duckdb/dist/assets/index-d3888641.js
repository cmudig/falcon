var ste=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var vDe=ste((eUe,gF)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function mi(){}function zP(t){return t()}function UM(){return Object.create(null)}function nc(t){t.forEach(zP)}function HP(t){return typeof t=="function"}function ys(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let iy;function rte(t,e){return iy||(iy=document.createElement("a")),iy.href=e,t===iy.href}function ate(t){return Object.keys(t).length===0}function Ge(t,e){t.appendChild(e)}function nn(t,e,n){t.insertBefore(e,n||null)}function Xt(t){t.parentNode&&t.parentNode.removeChild(t)}function Mp(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Ft(t){return document.createElement(t)}function Bs(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function La(t){return document.createTextNode(t)}function Pn(){return La(" ")}function ote(){return La("")}function as(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function Be(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function lte(t){return Array.from(t.childNodes)}function B2(t,e){e=""+e,t.data!==e&&(t.data=e)}function zM(t,e,n,i){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function cte(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,i,e),s}let Ap;function hp(t){Ap=t}function qT(){if(!Ap)throw new Error("Function called outside component initialization");return Ap}function dte(t){qT().$$.on_mount.push(t)}function jP(t){qT().$$.on_destroy.push(t)}function Du(){const t=qT();return(e,n,{cancelable:i=!1}={})=>{const s=t.$$.callbacks[e];if(s){const a=cte(e,n,{cancelable:i});return s.slice().forEach(c=>{c.call(t,a)}),!a.defaultPrevented}return!0}}function En(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const Eh=[],id=[];let s1=[];const X9=[],fte=Promise.resolve();let K9=!1;function ute(){K9||(K9=!0,fte.then(VP))}function Z9(t){s1.push(t)}function GT(t){X9.push(t)}const e8=new Set;let ah=0;function VP(){if(ah!==0)return;const t=Ap;do{try{for(;ah<Eh.length;){const e=Eh[ah];ah++,hp(e),hte(e.$$)}}catch(e){throw Eh.length=0,ah=0,e}for(hp(null),Eh.length=0,ah=0;id.length;)id.pop()();for(let e=0;e<s1.length;e+=1){const n=s1[e];e8.has(n)||(e8.add(n),n())}s1.length=0}while(Eh.length);for(;X9.length;)X9.pop()();K9=!1,e8.clear(),hp(t)}function hte(t){if(t.fragment!==null){t.update(),nc(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z9)}}function pte(t){const e=[],n=[];s1.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),s1=e}const tm=new Set;let Pf;function Sh(){Pf={r:0,c:[],p:Pf}}function xh(){Pf.r||nc(Pf.c),Pf=Pf.p}function Bt(t,e){t&&t.i&&(tm.delete(t),t.i(e))}function Wt(t,e,n,i){if(t&&t.o){if(tm.has(t))return;tm.add(t),Pf.c.push(()=>{tm.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const _te=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[..._te];function WT(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function si(t){t&&t.c()}function Gn(t,e,n,i){const{fragment:s,after_update:a}=t.$$;s&&s.m(e,n),i||Z9(()=>{const c=t.$$.on_mount.map(zP).filter(HP);t.$$.on_destroy?t.$$.on_destroy.push(...c):nc(c),t.$$.on_mount=[]}),a.forEach(Z9)}function Wn(t,e){const n=t.$$;n.fragment!==null&&(pte(n.after_update),nc(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function gte(t,e){t.$$.dirty[0]===-1&&(Eh.push(t),ute(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ms(t,e,n,i,s,a,c,d=[-1]){const f=Ap;hp(t);const u=t.$$={fragment:null,ctx:[],props:a,update:mi,not_equal:s,bound:UM(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:UM(),dirty:d,skip_bound:!1,root:e.target||f.$$.root};c&&c(u.root);let o=!1;if(u.ctx=n?n(t,e.props||{},(g,y,...m)=>{const l=m.length?m[0]:y;return u.ctx&&s(u.ctx[g],u.ctx[g]=l)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](l),o&&gte(t,g)),y}):[],u.update(),o=!0,nc(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const g=lte(e.target);u.fragment&&u.fragment.l(g),g.forEach(Xt)}else u.fragment&&u.fragment.c();e.intro&&Bt(t.$$.fragment),Gn(t,e.target,e.anchor,e.customElement),VP()}hp(f)}class ws{$destroy(){Wn(this,1),this.$destroy=mi}$on(e,n){if(!HP(n))return mi;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!ate(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function yte(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function ge(t,e,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function d(o){try{u(i.next(o))}catch(g){c(g)}}function f(o){try{u(i.throw(o))}catch(g){c(g)}}function u(o){o.done?a(o.value):s(o.value).then(d,f)}u((i=i.apply(t,e||[])).next())})}function HM(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(t){return this instanceof xe?(this.v=t,this):new xe(t)}function qn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(y){i[y]&&(s[y]=function(m){return new Promise(function(l,b){a.push([y,m,l,b])>1||d(y,m)})})}function d(y,m){try{f(i[y](m))}catch(l){g(a[0][3],l)}}function f(y){y.value instanceof xe?Promise.resolve(y.value.v).then(u,o):g(a[0][2],y)}function u(y){d("next",y)}function o(y){d("throw",y)}function g(y,m){y(m),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Kc(t){var e,n;return e={},i("next"),i("throw",function(s){throw s}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(s,a){e[s]=t[s]?function(c){return(n=!n)?{value:xe(t[s](c)),done:!1}:a?a(c):c}:a}}function fs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof HM=="function"?HM(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(c){return new Promise(function(d,f){c=t[a](c),s(d,f,c.done,c.value)})}}function s(a,c,d,f){Promise.resolve(f).then(function(u){a({value:u,done:d})},c)}}const mte=new TextDecoder("utf-8"),J9=t=>mte.decode(t),wte=new TextEncoder,T6=t=>wte.encode(t),[ic,IDe]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[e,!1]})(),[sc,kDe]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[e,!1]})(),Lte=t=>typeof t=="number",qP=t=>typeof t=="boolean",Jn=t=>typeof t=="function",Us=t=>t!=null&&Object(t)===t,sd=t=>Us(t)&&Jn(t.then),I2=t=>Us(t)&&Jn(t[Symbol.iterator]),Pu=t=>Us(t)&&Jn(t[Symbol.asyncIterator]),Q9=t=>Us(t)&&Us(t.schema),GP=t=>Us(t)&&"done"in t&&"value"in t,WP=t=>Us(t)&&Jn(t.stat)&&Lte(t.fd),YP=t=>Us(t)&&YT(t.body),v6=t=>"_getDOMStream"in t&&"_getNodeStream"in t,bte=t=>Us(t)&&Jn(t.abort)&&Jn(t.getWriter)&&!v6(t),YT=t=>Us(t)&&Jn(t.cancel)&&Jn(t.getReader)&&!v6(t),Tte=t=>Us(t)&&Jn(t.end)&&Jn(t.write)&&qP(t.writable)&&!v6(t),XP=t=>Us(t)&&Jn(t.read)&&Jn(t.pipe)&&qP(t.readable)&&!v6(t),vte=t=>Us(t)&&Jn(t.clear)&&Jn(t.bytes)&&Jn(t.position)&&Jn(t.setPosition)&&Jn(t.capacity)&&Jn(t.getBufferIdentifier)&&Jn(t.createLong),XT=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function Ete(t){const e=t[0]?[t[0]]:[];let n,i,s,a;for(let c,d,f=0,u=0,o=t.length;++f<o;){if(c=e[u],d=t[f],!c||!d||c.buffer!==d.buffer||d.byteOffset<c.byteOffset){d&&(e[++u]=d);continue}if({byteOffset:n,byteLength:s}=c,{byteOffset:i,byteLength:a}=d,n+s<i||i+a<n){d&&(e[++u]=d);continue}e[u]=new Uint8Array(c.buffer,n,i-n+a)}return e}function Op(t,e,n=0,i=e.byteLength){const s=t.byteLength,a=new Uint8Array(t.buffer,t.byteOffset,s),c=new Uint8Array(e.buffer,e.byteOffset,Math.min(i,s));return a.set(c,n),t}function Ba(t,e){const n=Ete(t),i=n.reduce((o,g)=>o+g.byteLength,0);let s,a,c,d=0,f=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,i);for(const o=n.length;++f<o;){if(s=n[f],a=s.subarray(0,Math.min(s.length,u-d)),u<=d+a.length){a.length<s.length?n[f]=s.subarray(a.length):a.length===s.length&&f++,c?Op(c,a,d):c=a;break}Op(c||(c=new Uint8Array(u)),a,d),d+=a.length}return[c||new Uint8Array(0),n.slice(f),i-(c?c.byteLength:0)]}function kt(t,e){let n=GP(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=T6(n)),n instanceof ArrayBuffer?new t(n):n instanceof XT?new t(n):vte(n)?kt(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const Ste=t=>kt(Int8Array,t),xte=t=>kt(Int16Array,t),Bh=t=>kt(Int32Array,t),Bte=t=>kt(ic,t),At=t=>kt(Uint8Array,t),Ite=t=>kt(Uint16Array,t),kte=t=>kt(Uint32Array,t),Fte=t=>kt(sc,t),Mte=t=>kt(Float32Array,t),Ate=t=>kt(Float64Array,t),Ote=t=>kt(Uint8ClampedArray,t),eb=t=>(t.next(),t);function*Wo(t,e){const n=function*(s){yield s},i=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof XT?n(e):I2(e)?e:n(e);return yield*eb(function*(s){let a=null;do a=s.next(yield kt(t,a));while(!a.done)}(i[Symbol.iterator]())),new t}const Nte=t=>Wo(Int8Array,t),Cte=t=>Wo(Int16Array,t),Rte=t=>Wo(Int32Array,t),KP=t=>Wo(Uint8Array,t),Dte=t=>Wo(Uint16Array,t),Pte=t=>Wo(Uint32Array,t),$te=t=>Wo(Float32Array,t),Ute=t=>Wo(Float64Array,t),zte=t=>Wo(Uint8ClampedArray,t);function Na(t,e){return qn(this,arguments,function*(){if(sd(e))return yield xe(yield xe(yield*Kc(fs(Na(t,yield xe(e))))));const i=function(c){return qn(this,arguments,function*(){yield yield xe(yield xe(c))})},s=function(c){return qn(this,arguments,function*(){yield xe(yield*Kc(fs(eb(function*(d){let f=null;do f=d.next(yield f==null?void 0:f.value);while(!f.done)}(c[Symbol.iterator]())))))})},a=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof XT?i(e):I2(e)?s(e):Pu(e)?e:i(e);return yield xe(yield*Kc(fs(eb(function(c){return qn(this,arguments,function*(){let d=null;do d=yield xe(c.next(yield yield xe(kt(t,d))));while(!d.done)})}(a[Symbol.asyncIterator]()))))),yield xe(new t)})}const Hte=t=>Na(Int8Array,t),jte=t=>Na(Int16Array,t),Vte=t=>Na(Int32Array,t),ZP=t=>Na(Uint8Array,t),qte=t=>Na(Uint16Array,t),Gte=t=>Na(Uint32Array,t),Wte=t=>Na(Float32Array,t),Yte=t=>Na(Float64Array,t),Xte=t=>Na(Uint8ClampedArray,t);function E6(t,e,n){if(t!==0){n=n.slice(0,e+1);for(let i=-1;++i<=e;)n[i]+=t}return n}function JP(t,e){let n=0;const i=t.length;if(i!==e.length)return!1;if(i>0)do if(t[n]!==e[n])return!1;while(++n<i);return!0}const Kte=Object.freeze(Object.defineProperty({__proto__:null,compareArrayLike:JP,joinUint8Arrays:Ba,memcpy:Op,rebaseValueOffsets:E6,toArrayBufferView:kt,toArrayBufferViewAsyncIterator:Na,toArrayBufferViewIterator:Wo,toBigInt64Array:Bte,toBigUint64Array:Fte,toFloat32Array:Mte,toFloat32ArrayAsyncIterator:Wte,toFloat32ArrayIterator:$te,toFloat64Array:Ate,toFloat64ArrayAsyncIterator:Yte,toFloat64ArrayIterator:Ute,toInt16Array:xte,toInt16ArrayAsyncIterator:jte,toInt16ArrayIterator:Cte,toInt32Array:Bh,toInt32ArrayAsyncIterator:Vte,toInt32ArrayIterator:Rte,toInt8Array:Ste,toInt8ArrayAsyncIterator:Hte,toInt8ArrayIterator:Nte,toUint16Array:Ite,toUint16ArrayAsyncIterator:qte,toUint16ArrayIterator:Dte,toUint32Array:kte,toUint32ArrayAsyncIterator:Gte,toUint32ArrayIterator:Pte,toUint8Array:At,toUint8ArrayAsyncIterator:ZP,toUint8ArrayIterator:KP,toUint8ClampedArray:Ote,toUint8ClampedArrayAsyncIterator:Xte,toUint8ClampedArrayIterator:zte},Symbol.toStringTag,{value:"Module"})),lr={fromIterable(t){return sy(Zte(t))},fromAsyncIterable(t){return sy(Jte(t))},fromDOMStream(t){return sy(Qte(t))},fromNodeStream(t){return sy(tne(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},sy=t=>(t.next(),t);function*Zte(t){let e,n=!1,i=[],s,a,c,d=0;function f(){return a==="peek"?Ba(i,c)[0]:([s,i,d]=Ba(i,c),s)}({cmd:a,size:c}=yield null);const u=KP(t)[Symbol.iterator]();try{do if({done:e,value:s}=Number.isNaN(c-d)?u.next():u.next(c-d),!e&&s.byteLength>0&&(i.push(s),d+=s.byteLength),e||c<=d)do({cmd:a,size:c}=yield f());while(c<d);while(!e)}catch(o){(n=!0)&&typeof u.throw=="function"&&u.throw(o)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function Jte(t){return qn(this,arguments,function*(){let n,i=!1,s=[],a,c,d,f=0;function u(){return c==="peek"?Ba(s,d)[0]:([a,s,f]=Ba(s,d),a)}({cmd:c,size:d}=yield yield xe(null));const o=ZP(t)[Symbol.asyncIterator]();try{do if({done:n,value:a}=Number.isNaN(d-f)?yield xe(o.next()):yield xe(o.next(d-f)),!n&&a.byteLength>0&&(s.push(a),f+=a.byteLength),n||d<=f)do({cmd:c,size:d}=yield yield xe(u()));while(d<f);while(!n)}catch(g){(i=!0)&&typeof o.throw=="function"&&(yield xe(o.throw(g)))}finally{i===!1&&typeof o.return=="function"&&(yield xe(o.return(new Uint8Array(0))))}return yield xe(null)})}function Qte(t){return qn(this,arguments,function*(){let n=!1,i=!1,s=[],a,c,d,f=0;function u(){return c==="peek"?Ba(s,d)[0]:([a,s,f]=Ba(s,d),a)}({cmd:c,size:d}=yield yield xe(null));const o=new ene(t);try{do if({done:n,value:a}=Number.isNaN(d-f)?yield xe(o.read()):yield xe(o.read(d-f)),!n&&a.byteLength>0&&(s.push(At(a)),f+=a.byteLength),n||d<=f)do({cmd:c,size:d}=yield yield xe(u()));while(d<f);while(!n)}catch(g){(i=!0)&&(yield xe(o.cancel(g)))}finally{i===!1?yield xe(o.cancel()):t.locked&&o.releaseLock()}return yield xe(null)})}let ene=class{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return ge(this,void 0,void 0,function*(){const{reader:n,source:i}=this;n&&(yield n.cancel(e).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(e){return ge(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=At(n)),n})}};const t8=(t,e)=>{const n=s=>i([e,s]);let i;return[e,n,new Promise(s=>(i=s)&&t.once(e,n))]};function tne(t){return qn(this,arguments,function*(){const n=[];let i="error",s=!1,a=null,c,d,f=0,u=[],o;function g(){return c==="peek"?Ba(u,d)[0]:([o,u,f]=Ba(u,d),o)}if({cmd:c,size:d}=yield yield xe(null),t.isTTY)return yield yield xe(new Uint8Array(0)),yield xe(null);try{n[0]=t8(t,"end"),n[1]=t8(t,"error");do{if(n[2]=t8(t,"readable"),[i,a]=yield xe(Promise.race(n.map(m=>m[2]))),i==="error")break;if((s=i==="end")||(Number.isFinite(d-f)?(o=At(t.read(d-f)),o.byteLength<d-f&&(o=At(t.read()))):o=At(t.read()),o.byteLength>0&&(u.push(o),f+=o.byteLength)),s||d<=f)do({cmd:c,size:d}=yield yield xe(g()));while(d<f)}while(!s)}finally{yield xe(y(n,i==="error"?a:null))}return yield xe(null);function y(m,l){return o=u=null,new Promise((b,L)=>{for(const[E,S]of m)t.off(E,S);try{const E=t.destroy;E&&E.call(t,l),l=void 0}catch(E){l=E||l}finally{l!=null?L(l):b()}})}})}var Ms;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(Ms||(Ms={}));var wi;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(wi||(wi={}));var ri;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(ri||(ri={}));var zs;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(zs||(zs={}));var dt;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(dt||(dt={}));var jr;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(jr||(jr={}));var Jt;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(Jt||(Jt={}));var ne;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"})(ne||(ne={}));var aa;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(aa||(aa={}));const nne=void 0;function ou(t){if(t===null)return"null";if(t===nne)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof ic||t instanceof sc?`[${[...t].map(e=>ou(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,n)=>typeof n=="bigint"?`${n}`:n)}const QP=Symbol.for("isArrowBigNum");function Ca(t,...e){return e.length===0?Object.setPrototypeOf(kt(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}Ca.prototype[QP]=!0;Ca.prototype.toJSON=function(){return`"${Cp(this)}"`};Ca.prototype.valueOf=function(){return e$(this)};Ca.prototype.toString=function(){return Cp(this)};Ca.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return e$(this);case"string":return Cp(this);case"default":return t$(this)}return Cp(this)};function r1(...t){return Ca.apply(this,t)}function a1(...t){return Ca.apply(this,t)}function Np(...t){return Ca.apply(this,t)}Object.setPrototypeOf(r1.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(a1.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Np.prototype,Object.create(Uint32Array.prototype));Object.assign(r1.prototype,Ca.prototype,{constructor:r1,signed:!0,TypedArray:Int32Array,BigIntArray:ic});Object.assign(a1.prototype,Ca.prototype,{constructor:a1,signed:!1,TypedArray:Uint32Array,BigIntArray:sc});Object.assign(Np.prototype,Ca.prototype,{constructor:Np,signed:!0,TypedArray:Uint32Array,BigIntArray:sc});function e$(t){const{buffer:e,byteOffset:n,length:i,signed:s}=t,a=new sc(e,n,i),c=s&&a[a.length-1]&BigInt(1)<<BigInt(63);let d=BigInt(c?1:0),f=BigInt(0);if(c){for(const u of a)d+=~u*(BigInt(1)<<BigInt(32)*f++);d*=BigInt(-1)}else for(const u of a)d+=u*(BigInt(1)<<BigInt(32)*f++);return d}const Cp=t=>t.byteLength===8?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:n$(t),t$=t=>t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:n$(t);function n$(t){let e="";const n=new Uint32Array(2);let i=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const s=new Uint32Array((i=new Uint16Array(i).reverse()).buffer);let a=-1;const c=i.length-1;do{for(n[0]=i[a=0];a<c;)i[a++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+i[a];i[a]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,e=`${n[0]}${e}`}while(s[0]||s[1]||s[2]||s[3]);return e??"0"}let KT=class i${static new(e,n){switch(n){case!0:return new r1(e);case!1:return new a1(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case ic:return new r1(e)}return e.byteLength===16?new Np(e):new a1(e)}static signed(e){return new r1(e)}static unsigned(e){return new a1(e)}static decimal(e){return new Np(e)}constructor(e,n){return i$.new(e,n)}};const ine=Object.freeze(Object.defineProperty({__proto__:null,BN:KT,bignumToBigInt:t$,bignumToString:Cp,isArrowBigNumSymbol:QP},Symbol.toStringTag,{value:"Module"}));function Ia(t){if(typeof t=="bigint"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}var s$,r$,a$,o$,l$,c$,d$,f$,u$,h$,p$,_$,g$,y$,m$,w$,L$,b$,T$;let Ze=class tb{static isNull(e){return(e==null?void 0:e.typeId)===ne.Null}static isInt(e){return(e==null?void 0:e.typeId)===ne.Int}static isFloat(e){return(e==null?void 0:e.typeId)===ne.Float}static isBinary(e){return(e==null?void 0:e.typeId)===ne.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===ne.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===ne.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===ne.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===ne.Date}static isTime(e){return(e==null?void 0:e.typeId)===ne.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===ne.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===ne.Interval}static isList(e){return(e==null?void 0:e.typeId)===ne.List}static isStruct(e){return(e==null?void 0:e.typeId)===ne.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===ne.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===ne.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===ne.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===ne.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===ne.Dictionary}static isDenseUnion(e){return tb.isUnion(e)&&e.mode===wi.Dense}static isSparseUnion(e){return tb.isUnion(e)&&e.mode===wi.Sparse}get typeId(){return ne.NONE}};s$=Symbol.toStringTag;Ze[s$]=(t=>(t.children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType"))(Ze.prototype);let Fo=class extends Ze{toString(){return"Null"}get typeId(){return ne.Null}};r$=Symbol.toStringTag;Fo[r$]=(t=>t[Symbol.toStringTag]="Null")(Fo.prototype);let Wi=class extends Ze{constructor(e,n){super(),this.isSigned=e,this.bitWidth=n}get typeId(){return ne.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?ic:sc}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};a$=Symbol.toStringTag;Wi[a$]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Wi.prototype);class ZT extends Wi{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class JT extends Wi{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}let rd=class extends Wi{constructor(){super(!0,32)}get ArrayType(){return Int32Array}},S6=class extends Wi{constructor(){super(!0,64)}get ArrayType(){return ic}};class QT extends Wi{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class ev extends Wi{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class tv extends Wi{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}let nv=class extends Wi{constructor(){super(!1,64)}get ArrayType(){return sc}};Object.defineProperty(ZT.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(JT.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(rd.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(S6.prototype,"ArrayType",{value:ic});Object.defineProperty(QT.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(ev.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(tv.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(nv.prototype,"ArrayType",{value:sc});let Wl=class extends Ze{constructor(e){super(),this.precision=e}get typeId(){return ne.Float}get ArrayType(){switch(this.precision){case ri.HALF:return Uint16Array;case ri.SINGLE:return Float32Array;case ri.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};o$=Symbol.toStringTag;Wl[o$]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Wl.prototype);class v$ extends Wl{constructor(){super(ri.HALF)}}class iv extends Wl{constructor(){super(ri.SINGLE)}}class x6 extends Wl{constructor(){super(ri.DOUBLE)}}Object.defineProperty(v$.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(iv.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(x6.prototype,"ArrayType",{value:Float64Array});let Rp=class extends Ze{constructor(){super()}get typeId(){return ne.Binary}toString(){return"Binary"}};l$=Symbol.toStringTag;Rp[l$]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Rp.prototype);let I1=class extends Ze{constructor(){super()}get typeId(){return ne.Utf8}toString(){return"Utf8"}};c$=Symbol.toStringTag;I1[c$]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(I1.prototype);let k1=class extends Ze{constructor(){super()}get typeId(){return ne.Bool}toString(){return"Bool"}};d$=Symbol.toStringTag;k1[d$]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(k1.prototype);let Dp=class extends Ze{constructor(e,n,i=128){super(),this.scale=e,this.precision=n,this.bitWidth=i}get typeId(){return ne.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};f$=Symbol.toStringTag;Dp[f$]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Dp.prototype);let lu=class extends Ze{constructor(e){super(),this.unit=e}get typeId(){return ne.Date}toString(){return`Date${(this.unit+1)*32}<${zs[this.unit]}>`}};u$=Symbol.toStringTag;lu[u$]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(lu.prototype);class sne extends lu{constructor(){super(zs.DAY)}}class E$ extends lu{constructor(){super(zs.MILLISECOND)}}let Mo=class extends Ze{constructor(e,n){super(),this.unit=e,this.bitWidth=n}get typeId(){return ne.Time}toString(){return`Time${this.bitWidth}<${dt[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return ic}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}};h$=Symbol.toStringTag;Mo[h$]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Mo.prototype);class rne extends Mo{constructor(){super(dt.SECOND,32)}}class ane extends Mo{constructor(){super(dt.MILLISECOND,32)}}class one extends Mo{constructor(){super(dt.MICROSECOND,64)}}class lne extends Mo{constructor(){super(dt.NANOSECOND,64)}}let Yl=class extends Ze{constructor(e,n){super(),this.unit=e,this.timezone=n}get typeId(){return ne.Timestamp}toString(){return`Timestamp<${dt[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};p$=Symbol.toStringTag;Yl[p$]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(Yl.prototype);class cne extends Yl{constructor(e){super(dt.SECOND,e)}}class dne extends Yl{constructor(e){super(dt.MILLISECOND,e)}}class fne extends Yl{constructor(e){super(dt.MICROSECOND,e)}}class une extends Yl{constructor(e){super(dt.NANOSECOND,e)}}let cu=class extends Ze{constructor(e){super(),this.unit=e}get typeId(){return ne.Interval}toString(){return`Interval<${jr[this.unit]}>`}};_$=Symbol.toStringTag;cu[_$]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(cu.prototype);class hne extends cu{constructor(){super(jr.DAY_TIME)}}class pne extends cu{constructor(){super(jr.YEAR_MONTH)}}let du=class extends Ze{constructor(e){super(),this.children=[e]}get typeId(){return ne.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};g$=Symbol.toStringTag;du[g$]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(du.prototype);let fi=class extends Ze{constructor(e){super(),this.children=e}get typeId(){return ne.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};y$=Symbol.toStringTag;fi[y$]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(fi.prototype);let ad=class extends Ze{constructor(e,n,i){super(),this.mode=e,this.children=i,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((s,a,c)=>(s[a]=c)&&s||s,Object.create(null))}get typeId(){return ne.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};m$=Symbol.toStringTag;ad[m$]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(ad.prototype);class _ne extends ad{constructor(e,n){super(wi.Dense,e,n)}}class gne extends ad{constructor(e,n){super(wi.Sparse,e,n)}}let Pp=class extends Ze{constructor(e){super(),this.byteWidth=e}get typeId(){return ne.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};w$=Symbol.toStringTag;Pp[w$]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Pp.prototype);let F1=class extends Ze{constructor(e,n){super(),this.listSize=e,this.children=[n]}get typeId(){return ne.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};L$=Symbol.toStringTag;F1[L$]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(F1.prototype);let M1=class extends Ze{constructor(e,n=!1){super(),this.children=[e],this.keysSorted=n}get typeId(){return ne.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};b$=Symbol.toStringTag;M1[b$]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(M1.prototype);const yne=(t=>()=>++t)(-1);let Xl=class extends Ze{constructor(e,n,i,s){super(),this.indices=n,this.dictionary=e,this.isOrdered=s||!1,this.id=i==null?yne():Ia(i)}get typeId(){return ne.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};T$=Symbol.toStringTag;Xl[T$]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(Xl.prototype);function io(t){const e=t;switch(t.typeId){case ne.Decimal:return t.bitWidth/32;case ne.Timestamp:return 2;case ne.Date:return 1+e.unit;case ne.Interval:return 1+e.unit;case ne.FixedSizeList:return e.listSize;case ne.FixedSizeBinary:return e.byteWidth;default:return 1}}let xt=class{visitMany(e,...n){return e.map((i,s)=>this.visit(i,...n.map(a=>a[s])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,n=!0){return mne(this,e,n)}getVisitFnByTypeId(e,n=!0){return Ih(this,e,n)}visitNull(e,...n){return null}visitBool(e,...n){return null}visitInt(e,...n){return null}visitFloat(e,...n){return null}visitUtf8(e,...n){return null}visitBinary(e,...n){return null}visitFixedSizeBinary(e,...n){return null}visitDate(e,...n){return null}visitTimestamp(e,...n){return null}visitTime(e,...n){return null}visitDecimal(e,...n){return null}visitList(e,...n){return null}visitStruct(e,...n){return null}visitUnion(e,...n){return null}visitDictionary(e,...n){return null}visitInterval(e,...n){return null}visitFixedSizeList(e,...n){return null}visitMap(e,...n){return null}};function mne(t,e,n=!0){return typeof e=="number"?Ih(t,e,n):typeof e=="string"&&e in ne?Ih(t,ne[e],n):e&&e instanceof Ze?Ih(t,jM(e),n):e!=null&&e.type&&e.type instanceof Ze?Ih(t,jM(e.type),n):Ih(t,ne.NONE,n)}function Ih(t,e,n=!0){let i=null;switch(e){case ne.Null:i=t.visitNull;break;case ne.Bool:i=t.visitBool;break;case ne.Int:i=t.visitInt;break;case ne.Int8:i=t.visitInt8||t.visitInt;break;case ne.Int16:i=t.visitInt16||t.visitInt;break;case ne.Int32:i=t.visitInt32||t.visitInt;break;case ne.Int64:i=t.visitInt64||t.visitInt;break;case ne.Uint8:i=t.visitUint8||t.visitInt;break;case ne.Uint16:i=t.visitUint16||t.visitInt;break;case ne.Uint32:i=t.visitUint32||t.visitInt;break;case ne.Uint64:i=t.visitUint64||t.visitInt;break;case ne.Float:i=t.visitFloat;break;case ne.Float16:i=t.visitFloat16||t.visitFloat;break;case ne.Float32:i=t.visitFloat32||t.visitFloat;break;case ne.Float64:i=t.visitFloat64||t.visitFloat;break;case ne.Utf8:i=t.visitUtf8;break;case ne.Binary:i=t.visitBinary;break;case ne.FixedSizeBinary:i=t.visitFixedSizeBinary;break;case ne.Date:i=t.visitDate;break;case ne.DateDay:i=t.visitDateDay||t.visitDate;break;case ne.DateMillisecond:i=t.visitDateMillisecond||t.visitDate;break;case ne.Timestamp:i=t.visitTimestamp;break;case ne.TimestampSecond:i=t.visitTimestampSecond||t.visitTimestamp;break;case ne.TimestampMillisecond:i=t.visitTimestampMillisecond||t.visitTimestamp;break;case ne.TimestampMicrosecond:i=t.visitTimestampMicrosecond||t.visitTimestamp;break;case ne.TimestampNanosecond:i=t.visitTimestampNanosecond||t.visitTimestamp;break;case ne.Time:i=t.visitTime;break;case ne.TimeSecond:i=t.visitTimeSecond||t.visitTime;break;case ne.TimeMillisecond:i=t.visitTimeMillisecond||t.visitTime;break;case ne.TimeMicrosecond:i=t.visitTimeMicrosecond||t.visitTime;break;case ne.TimeNanosecond:i=t.visitTimeNanosecond||t.visitTime;break;case ne.Decimal:i=t.visitDecimal;break;case ne.List:i=t.visitList;break;case ne.Struct:i=t.visitStruct;break;case ne.Union:i=t.visitUnion;break;case ne.DenseUnion:i=t.visitDenseUnion||t.visitUnion;break;case ne.SparseUnion:i=t.visitSparseUnion||t.visitUnion;break;case ne.Dictionary:i=t.visitDictionary;break;case ne.Interval:i=t.visitInterval;break;case ne.IntervalDayTime:i=t.visitIntervalDayTime||t.visitInterval;break;case ne.IntervalYearMonth:i=t.visitIntervalYearMonth||t.visitInterval;break;case ne.FixedSizeList:i=t.visitFixedSizeList;break;case ne.Map:i=t.visitMap;break}if(typeof i=="function")return i;if(!n)return()=>null;throw new Error(`Unrecognized type '${ne[e]}'`)}function jM(t){switch(t.typeId){case ne.Null:return ne.Null;case ne.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?ne.Int8:ne.Uint8;case 16:return n?ne.Int16:ne.Uint16;case 32:return n?ne.Int32:ne.Uint32;case 64:return n?ne.Int64:ne.Uint64}return ne.Int}case ne.Float:switch(t.precision){case ri.HALF:return ne.Float16;case ri.SINGLE:return ne.Float32;case ri.DOUBLE:return ne.Float64}return ne.Float;case ne.Binary:return ne.Binary;case ne.Utf8:return ne.Utf8;case ne.Bool:return ne.Bool;case ne.Decimal:return ne.Decimal;case ne.Time:switch(t.unit){case dt.SECOND:return ne.TimeSecond;case dt.MILLISECOND:return ne.TimeMillisecond;case dt.MICROSECOND:return ne.TimeMicrosecond;case dt.NANOSECOND:return ne.TimeNanosecond}return ne.Time;case ne.Timestamp:switch(t.unit){case dt.SECOND:return ne.TimestampSecond;case dt.MILLISECOND:return ne.TimestampMillisecond;case dt.MICROSECOND:return ne.TimestampMicrosecond;case dt.NANOSECOND:return ne.TimestampNanosecond}return ne.Timestamp;case ne.Date:switch(t.unit){case zs.DAY:return ne.DateDay;case zs.MILLISECOND:return ne.DateMillisecond}return ne.Date;case ne.Interval:switch(t.unit){case jr.DAY_TIME:return ne.IntervalDayTime;case jr.YEAR_MONTH:return ne.IntervalYearMonth}return ne.Interval;case ne.Map:return ne.Map;case ne.List:return ne.List;case ne.Struct:return ne.Struct;case ne.Union:switch(t.mode){case wi.Dense:return ne.DenseUnion;case wi.Sparse:return ne.SparseUnion}return ne.Union;case ne.FixedSizeBinary:return ne.FixedSizeBinary;case ne.FixedSizeList:return ne.FixedSizeList;case ne.Dictionary:return ne.Dictionary}throw new Error(`Unrecognized type '${ne[t.typeId]}'`)}xt.prototype.visitInt8=null;xt.prototype.visitInt16=null;xt.prototype.visitInt32=null;xt.prototype.visitInt64=null;xt.prototype.visitUint8=null;xt.prototype.visitUint16=null;xt.prototype.visitUint32=null;xt.prototype.visitUint64=null;xt.prototype.visitFloat16=null;xt.prototype.visitFloat32=null;xt.prototype.visitFloat64=null;xt.prototype.visitDateDay=null;xt.prototype.visitDateMillisecond=null;xt.prototype.visitTimestampSecond=null;xt.prototype.visitTimestampMillisecond=null;xt.prototype.visitTimestampMicrosecond=null;xt.prototype.visitTimestampNanosecond=null;xt.prototype.visitTimeSecond=null;xt.prototype.visitTimeMillisecond=null;xt.prototype.visitTimeMicrosecond=null;xt.prototype.visitTimeNanosecond=null;xt.prototype.visitDenseUnion=null;xt.prototype.visitSparseUnion=null;xt.prototype.visitIntervalDayTime=null;xt.prototype.visitIntervalYearMonth=null;const S$=new Float64Array(1),oh=new Uint32Array(S$.buffer);function sv(t){const e=(t&31744)>>10,n=(t&1023)/1024,i=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return i*(n?Number.NaN:1/0);case 0:return i*(n?6103515625e-14*n:0)}return i*Math.pow(2,e-15)*(1+n)}function rv(t){if(t!==t)return 32256;S$[0]=t;const e=(oh[1]&2147483648)>>16&65535;let n=oh[1]&2146435072,i=0;return n>=1089470464?oh[0]>0?n=31744:(n=(n&2080374784)>>16,i=(oh[1]&1048575)>>10):n<=1056964608?(i=1048576+(oh[1]&1048575),i=1048576+(i<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,i=(oh[1]&1048575)+512>>10),e|n|i&65535}const wne=Object.freeze(Object.defineProperty({__proto__:null,float64ToUint16:rv,uint16ToFloat64:sv},Symbol.toStringTag,{value:"Module"}));let ft=class extends xt{};function Lt(t){return(e,n,i)=>{if(e.setValid(n,i!=null))return t(e,n,i)}}const Lne=(t,e,n)=>{t[e]=Math.trunc(n/864e5)},av=(t,e,n)=>{t[e]=Math.trunc(n%4294967296),t[e+1]=Math.trunc(n/4294967296)},bne=(t,e,n)=>{t[e]=Math.trunc(n*1e3%4294967296),t[e+1]=Math.trunc(n*1e3/4294967296)},Tne=(t,e,n)=>{t[e]=Math.trunc(n*1e6%4294967296),t[e+1]=Math.trunc(n*1e6/4294967296)},x$=(t,e,n,i)=>{if(n+1<e.length){const{[n]:s,[n+1]:a}=e;t.set(i.subarray(0,a-s),s)}},vne=({offset:t,values:e},n,i)=>{const s=t+n;i?e[s>>3]|=1<<s%8:e[s>>3]&=~(1<<s%8)},rc=({values:t},e,n)=>{t[e]=n},ov=({values:t},e,n)=>{t[e]=n},B$=({values:t},e,n)=>{t[e]=rv(n)},Ene=(t,e,n)=>{switch(t.type.precision){case ri.HALF:return B$(t,e,n);case ri.SINGLE:case ri.DOUBLE:return ov(t,e,n)}},lv=({values:t},e,n)=>{Lne(t,e,n.valueOf())},cv=({values:t},e,n)=>{av(t,e*2,n.valueOf())},I$=({stride:t,values:e},n,i)=>{e.set(i.subarray(0,t),t*n)},Sne=({values:t,valueOffsets:e},n,i)=>x$(t,e,n,i),xne=({values:t,valueOffsets:e},n,i)=>{x$(t,e,n,T6(i))},k$=(t,e,n)=>{t.type.unit===zs.DAY?lv(t,e,n):cv(t,e,n)},dv=({values:t},e,n)=>av(t,e*2,n/1e3),fv=({values:t},e,n)=>av(t,e*2,n),uv=({values:t},e,n)=>bne(t,e*2,n),hv=({values:t},e,n)=>Tne(t,e*2,n),F$=(t,e,n)=>{switch(t.type.unit){case dt.SECOND:return dv(t,e,n);case dt.MILLISECOND:return fv(t,e,n);case dt.MICROSECOND:return uv(t,e,n);case dt.NANOSECOND:return hv(t,e,n)}},pv=({values:t},e,n)=>{t[e]=n},_v=({values:t},e,n)=>{t[e]=n},gv=({values:t},e,n)=>{t[e]=n},yv=({values:t},e,n)=>{t[e]=n},M$=(t,e,n)=>{switch(t.type.unit){case dt.SECOND:return pv(t,e,n);case dt.MILLISECOND:return _v(t,e,n);case dt.MICROSECOND:return gv(t,e,n);case dt.NANOSECOND:return yv(t,e,n)}},A$=({values:t,stride:e},n,i)=>{t.set(i.subarray(0,e),e*n)},Bne=(t,e,n)=>{const i=t.children[0],s=t.valueOffsets,a=Vr.getVisitFn(i);if(Array.isArray(n))for(let c=-1,d=s[e],f=s[e+1];d<f;)a(i,d++,n[++c]);else for(let c=-1,d=s[e],f=s[e+1];d<f;)a(i,d++,n.get(++c))},Ine=(t,e,n)=>{const i=t.children[0],{valueOffsets:s}=t,a=Vr.getVisitFn(i);let{[e]:c,[e+1]:d}=s;const f=n instanceof Map?n.entries():Object.entries(n);for(const u of f)if(a(i,c,u),++c>=d)break},kne=(t,e)=>(n,i,s,a)=>i&&n(i,t,e[a]),Fne=(t,e)=>(n,i,s,a)=>i&&n(i,t,e.get(a)),Mne=(t,e)=>(n,i,s,a)=>i&&n(i,t,e.get(s.name)),Ane=(t,e)=>(n,i,s,a)=>i&&n(i,t,e[s.name]),One=(t,e,n)=>{const i=t.type.children.map(a=>Vr.getVisitFn(a.type)),s=n instanceof Map?Mne(e,n):n instanceof Je?Fne(e,n):Array.isArray(n)?kne(e,n):Ane(e,n);t.type.children.forEach((a,c)=>s(i[c],t.children[c],a,c))},Nne=(t,e,n)=>{t.type.mode===wi.Dense?O$(t,e,n):N$(t,e,n)},O$=(t,e,n)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],s=t.children[i];Vr.visit(s,t.valueOffsets[e],n)},N$=(t,e,n)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],s=t.children[i];Vr.visit(s,e,n)},Cne=(t,e,n)=>{var i;(i=t.dictionary)===null||i===void 0||i.set(t.values[e],n)},C$=(t,e,n)=>{t.type.unit===jr.DAY_TIME?mv(t,e,n):wv(t,e,n)},mv=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},wv=({values:t},e,n)=>{t[e]=n[0]*12+n[1]%12},Rne=(t,e,n)=>{const{stride:i}=t,s=t.children[0],a=Vr.getVisitFn(s);if(Array.isArray(n))for(let c=-1,d=e*i;++c<i;)a(s,d+c,n[c]);else for(let c=-1,d=e*i;++c<i;)a(s,d+c,n.get(c))};ft.prototype.visitBool=Lt(vne);ft.prototype.visitInt=Lt(rc);ft.prototype.visitInt8=Lt(rc);ft.prototype.visitInt16=Lt(rc);ft.prototype.visitInt32=Lt(rc);ft.prototype.visitInt64=Lt(rc);ft.prototype.visitUint8=Lt(rc);ft.prototype.visitUint16=Lt(rc);ft.prototype.visitUint32=Lt(rc);ft.prototype.visitUint64=Lt(rc);ft.prototype.visitFloat=Lt(Ene);ft.prototype.visitFloat16=Lt(B$);ft.prototype.visitFloat32=Lt(ov);ft.prototype.visitFloat64=Lt(ov);ft.prototype.visitUtf8=Lt(xne);ft.prototype.visitBinary=Lt(Sne);ft.prototype.visitFixedSizeBinary=Lt(I$);ft.prototype.visitDate=Lt(k$);ft.prototype.visitDateDay=Lt(lv);ft.prototype.visitDateMillisecond=Lt(cv);ft.prototype.visitTimestamp=Lt(F$);ft.prototype.visitTimestampSecond=Lt(dv);ft.prototype.visitTimestampMillisecond=Lt(fv);ft.prototype.visitTimestampMicrosecond=Lt(uv);ft.prototype.visitTimestampNanosecond=Lt(hv);ft.prototype.visitTime=Lt(M$);ft.prototype.visitTimeSecond=Lt(pv);ft.prototype.visitTimeMillisecond=Lt(_v);ft.prototype.visitTimeMicrosecond=Lt(gv);ft.prototype.visitTimeNanosecond=Lt(yv);ft.prototype.visitDecimal=Lt(A$);ft.prototype.visitList=Lt(Bne);ft.prototype.visitStruct=Lt(One);ft.prototype.visitUnion=Lt(Nne);ft.prototype.visitDenseUnion=Lt(O$);ft.prototype.visitSparseUnion=Lt(N$);ft.prototype.visitDictionary=Lt(Cne);ft.prototype.visitInterval=Lt(C$);ft.prototype.visitIntervalDayTime=Lt(mv);ft.prototype.visitIntervalYearMonth=Lt(wv);ft.prototype.visitFixedSizeList=Lt(Rne);ft.prototype.visitMap=Lt(Ine);const Vr=new ft,oa=Symbol.for("parent"),o1=Symbol.for("rowIndex");let B6=class{constructor(e,n){return this[oa]=e,this[o1]=n,new Proxy(this,new Pne)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[o1],n=this[oa],i=n.type.children,s={};for(let a=-1,c=i.length;++a<c;)s[i[a].name]=Hs.visit(n.children[a],e);return s}toString(){return`{${[...this].map(([e,n])=>`${ou(e)}: ${ou(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Dne(this[oa],this[o1])}},Dne=class{constructor(e,n){this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,Hs.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}};Object.defineProperties(B6.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[oa]:{writable:!0,enumerable:!1,configurable:!1,value:null},[o1]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});let Pne=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[oa].type.children.map(n=>n.name)}has(e,n){return e[oa].type.children.findIndex(i=>i.name===n)!==-1}getOwnPropertyDescriptor(e,n){if(e[oa].type.children.findIndex(i=>i.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const i=e[oa].type.children.findIndex(s=>s.name===n);if(i!==-1){const s=Hs.visit(e[oa].children[i],e[o1]);return Reflect.set(e,n,s),s}}set(e,n,i){const s=e[oa].type.children.findIndex(a=>a.name===n);return s!==-1?(Vr.visit(e[oa].children[s],e[o1],i),Reflect.set(e,n,i)):Reflect.has(e,n)||typeof n=="symbol"?Reflect.set(e,n,i):!1}},nt=class extends xt{};function ut(t){return(e,n)=>e.getValid(n)?t(e,n):null}const $ne=(t,e)=>864e5*t[e],Lv=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),Une=(t,e)=>4294967296*(t[e+1]/1e3)+(t[e]>>>0)/1e3,zne=(t,e)=>4294967296*(t[e+1]/1e6)+(t[e]>>>0)/1e6,R$=t=>new Date(t),Hne=(t,e)=>R$($ne(t,e)),jne=(t,e)=>R$(Lv(t,e)),Vne=(t,e)=>null,D$=(t,e,n)=>{if(n+1>=e.length)return null;const i=e[n],s=e[n+1];return t.subarray(i,s)},qne=({offset:t,values:e},n)=>{const i=t+n;return(e[i>>3]&1<<i%8)!==0},P$=({values:t},e)=>Hne(t,e),$$=({values:t},e)=>jne(t,e*2),Fd=({stride:t,values:e},n)=>e[t*n],Gne=({stride:t,values:e},n)=>sv(e[t*n]),U$=({values:t},e)=>t[e],Wne=({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)),Yne=({values:t,valueOffsets:e},n)=>D$(t,e,n),Xne=({values:t,valueOffsets:e},n)=>{const i=D$(t,e,n);return i!==null?J9(i):null},Kne=({values:t},e)=>t[e],Zne=({type:t,values:e},n)=>t.precision!==ri.HALF?e[n]:sv(e[n]),Jne=(t,e)=>t.type.unit===zs.DAY?P$(t,e):$$(t,e),z$=({values:t},e)=>1e3*Lv(t,e*2),H$=({values:t},e)=>Lv(t,e*2),j$=({values:t},e)=>Une(t,e*2),V$=({values:t},e)=>zne(t,e*2),Qne=(t,e)=>{switch(t.type.unit){case dt.SECOND:return z$(t,e);case dt.MILLISECOND:return H$(t,e);case dt.MICROSECOND:return j$(t,e);case dt.NANOSECOND:return V$(t,e)}},q$=({values:t},e)=>t[e],G$=({values:t},e)=>t[e],W$=({values:t},e)=>t[e],Y$=({values:t},e)=>t[e],eie=(t,e)=>{switch(t.type.unit){case dt.SECOND:return q$(t,e);case dt.MILLISECOND:return G$(t,e);case dt.MICROSECOND:return W$(t,e);case dt.NANOSECOND:return Y$(t,e)}},tie=({values:t,stride:e},n)=>KT.decimal(t.subarray(e*n,e*(n+1))),nie=(t,e)=>{const{valueOffsets:n,stride:i,children:s}=t,{[e*i]:a,[e*i+1]:c}=n,f=s[0].slice(a,c-a);return new Je([f])},iie=(t,e)=>{const{valueOffsets:n,children:i}=t,{[e]:s,[e+1]:a}=n,c=i[0];return new O3(c.slice(s,a-s))},sie=(t,e)=>new B6(t,e),rie=(t,e)=>t.type.mode===wi.Dense?X$(t,e):K$(t,e),X$=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];return Hs.visit(i,t.valueOffsets[e])},K$=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];return Hs.visit(i,e)},aie=(t,e)=>{var n;return(n=t.dictionary)===null||n===void 0?void 0:n.get(t.values[e])},oie=(t,e)=>t.type.unit===jr.DAY_TIME?Z$(t,e):J$(t,e),Z$=({values:t},e)=>t.subarray(2*e,2*(e+1)),J$=({values:t},e)=>{const n=t[e],i=new Int32Array(2);return i[0]=Math.trunc(n/12),i[1]=Math.trunc(n%12),i},lie=(t,e)=>{const{stride:n,children:i}=t,a=i[0].slice(e*n,n);return new Je([a])};nt.prototype.visitNull=ut(Vne);nt.prototype.visitBool=ut(qne);nt.prototype.visitInt=ut(Kne);nt.prototype.visitInt8=ut(Fd);nt.prototype.visitInt16=ut(Fd);nt.prototype.visitInt32=ut(Fd);nt.prototype.visitInt64=ut(U$);nt.prototype.visitUint8=ut(Fd);nt.prototype.visitUint16=ut(Fd);nt.prototype.visitUint32=ut(Fd);nt.prototype.visitUint64=ut(U$);nt.prototype.visitFloat=ut(Zne);nt.prototype.visitFloat16=ut(Gne);nt.prototype.visitFloat32=ut(Fd);nt.prototype.visitFloat64=ut(Fd);nt.prototype.visitUtf8=ut(Xne);nt.prototype.visitBinary=ut(Yne);nt.prototype.visitFixedSizeBinary=ut(Wne);nt.prototype.visitDate=ut(Jne);nt.prototype.visitDateDay=ut(P$);nt.prototype.visitDateMillisecond=ut($$);nt.prototype.visitTimestamp=ut(Qne);nt.prototype.visitTimestampSecond=ut(z$);nt.prototype.visitTimestampMillisecond=ut(H$);nt.prototype.visitTimestampMicrosecond=ut(j$);nt.prototype.visitTimestampNanosecond=ut(V$);nt.prototype.visitTime=ut(eie);nt.prototype.visitTimeSecond=ut(q$);nt.prototype.visitTimeMillisecond=ut(G$);nt.prototype.visitTimeMicrosecond=ut(W$);nt.prototype.visitTimeNanosecond=ut(Y$);nt.prototype.visitDecimal=ut(tie);nt.prototype.visitList=ut(nie);nt.prototype.visitStruct=ut(sie);nt.prototype.visitUnion=ut(rie);nt.prototype.visitDenseUnion=ut(X$);nt.prototype.visitSparseUnion=ut(K$);nt.prototype.visitDictionary=ut(aie);nt.prototype.visitInterval=ut(oie);nt.prototype.visitIntervalDayTime=ut(Z$);nt.prototype.visitIntervalYearMonth=ut(J$);nt.prototype.visitFixedSizeList=ut(lie);nt.prototype.visitMap=ut(iie);const Hs=new nt,fa=Symbol.for("keys"),l1=Symbol.for("vals");let O3=class{constructor(e){return this[fa]=new Je([e.children[0]]).memoize(),this[l1]=e.children[1],new Proxy(this,new die)}[Symbol.iterator](){return new cie(this[fa],this[l1])}get size(){return this[fa].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[fa],n=this[l1],i={};for(let s=-1,a=e.length;++s<a;)i[e.get(s)]=Hs.visit(n,s);return i}toString(){return`{${[...this].map(([e,n])=>`${ou(e)}: ${ou(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}},cie=class{constructor(e,n){this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),Hs.visit(this.vals,e)]})}},die=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[fa].toArray().map(String)}has(e,n){return e[fa].includes(n)}getOwnPropertyDescriptor(e,n){if(e[fa].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const i=e[fa].indexOf(n);if(i!==-1){const s=Hs.visit(Reflect.get(e,l1),i);return Reflect.set(e,n,s),s}}set(e,n,i){const s=e[fa].indexOf(n);return s!==-1?(Vr.visit(Reflect.get(e,l1),s,i),Reflect.set(e,n,i)):Reflect.has(e,n)?Reflect.set(e,n,i):!1}};Object.defineProperties(O3.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[fa]:{writable:!0,enumerable:!1,configurable:!1,value:null},[l1]:{writable:!0,enumerable:!1,configurable:!1,value:null}});function fie(t,e,n){const i=t.length,s=e>-1?e:i+e%i;return n?n(t,s):s}let VM;function bv(t,e,n,i){const{length:s=0}=t;let a=typeof e!="number"?0:e,c=typeof n!="number"?s:n;return a<0&&(a=(a%s+s)%s),c<0&&(c=(c%s+s)%s),c<a&&(VM=a,a=c,c=VM),c>s&&(c=s),i?i(t,a,c):[a,c]}const qM=t=>t!==t;function $u(t){if(typeof t!=="object"||t===null)return qM(t)?qM:n=>n===t;if(t instanceof Date){const n=t.valueOf();return i=>i instanceof Date?i.valueOf()===n:!1}return ArrayBuffer.isView(t)?n=>n?JP(t,n):!1:t instanceof Map?hie(t):Array.isArray(t)?uie(t):t instanceof Je?pie(t):_ie(t,!0)}function uie(t){const e=[];for(let n=-1,i=t.length;++n<i;)e[n]=$u(t[n]);return I6(e)}function hie(t){let e=-1;const n=[];for(const i of t.values())n[++e]=$u(i);return I6(n)}function pie(t){const e=[];for(let n=-1,i=t.length;++n<i;)e[n]=$u(t.get(n));return I6(e)}function _ie(t,e=!1){const n=Object.keys(t);if(!e&&n.length===0)return()=>!1;const i=[];for(let s=-1,a=n.length;++s<a;)i[s]=$u(t[n[s]]);return I6(i,n)}function I6(t,e){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return gie(t,n);case Map:return GM(t,n,n.keys());case O3:case B6:case Object:case void 0:return GM(t,n,e||Object.keys(n))}return n instanceof Je?yie(t,n):!1}}function gie(t,e){const n=t.length;if(e.length!==n)return!1;for(let i=-1;++i<n;)if(!t[i](e[i]))return!1;return!0}function yie(t,e){const n=t.length;if(e.length!==n)return!1;for(let i=-1;++i<n;)if(!t[i](e.get(i)))return!1;return!0}function GM(t,e,n){const i=n[Symbol.iterator](),s=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),a=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let c=0;const d=t.length;let f=a.next(),u=i.next(),o=s.next();for(;c<d&&!u.done&&!o.done&&!f.done&&!(u.value!==o.value||!t[c](f.value));++c,u=i.next(),o=s.next(),f=a.next());return c===d&&u.done&&o.done&&f.done?!0:(i.return&&i.return(),s.return&&s.return(),a.return&&a.return(),!1)}const mie=Object.freeze(Object.defineProperty({__proto__:null,clampIndex:fie,clampRange:bv,createElementComparator:$u},Symbol.toStringTag,{value:"Module"}));function k6(t,e,n,i){return(n&1<<i)!==0}function Tv(t,e,n,i){return(n&1<<i)>>i}function wie(t,e,n){return n?!!(t[e>>3]|=1<<e%8)||!0:!(t[e>>3]&=~(1<<e%8))&&!1}function F6(t,e,n){const i=n.byteLength+7&-8;if(t>0||n.byteLength<i){const s=new Uint8Array(i);return s.set(t%8===0?n.subarray(t>>3):$p(new A1(n,t,e,null,k6)).subarray(0,i)),s}return n}function $p(t){const e=[];let n=0,i=0,s=0;for(const c of t)c&&(s|=1<<i),++i===8&&(e[n++]=s,s=i=0);(n===0||i>0)&&(e[n++]=s);const a=new Uint8Array(e.length+7&-8);return a.set(e),a}let A1=class{constructor(e,n,i,s,a){this.bytes=e,this.length=i,this.context=s,this.get=a,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};function Xm(t,e,n){if(n-e<=0)return 0;if(n-e<8){let a=0;for(const c of new A1(t,e,n-e,t,Tv))a+=c;return a}const i=n>>3<<3,s=e+(e%8===0?0:8-e%8);return Xm(t,e,s)+Xm(t,i,n)+Q$(t,s>>3,i-s>>3)}function Q$(t,e,n){let i=0,s=Math.trunc(e);const a=new DataView(t.buffer,t.byteOffset,t.byteLength),c=n===void 0?t.byteLength:s+n;for(;c-s>=4;)i+=nm(a.getUint32(s)),s+=4;for(;c-s>=2;)i+=nm(a.getUint16(s)),s+=2;for(;c-s>=1;)i+=nm(a.getUint8(s)),s+=1;return i}function nm(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const Lie=Object.freeze(Object.defineProperty({__proto__:null,BitIterator:A1,getBit:Tv,getBool:k6,packBools:$p,popcnt_array:Q$,popcnt_bit_range:Xm,popcnt_uint32:nm,setBool:wie,truncateBitmap:F6},Symbol.toStringTag,{value:"Module"})),bie=-1;let hn=class nb{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0;const{valueOffsets:n,values:i,nullBitmap:s,typeIds:a}=this;return n&&(e+=n.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),a&&(e+=a.byteLength),this.children.reduce((c,d)=>c+d.byteLength,e)}get nullCount(){let e=this._nullCount,n;return e<=bie&&(n=this.nullBitmap)&&(this._nullCount=e=this.length-Xm(n,this.offset,this.offset+this.length)),e}constructor(e,n,i,s,a,c=[],d){this.type=e,this.children=c,this.dictionary=d,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(s||0,-1));let f;a instanceof nb?(this.stride=a.stride,this.values=a.values,this.typeIds=a.typeIds,this.nullBitmap=a.nullBitmap,this.valueOffsets=a.valueOffsets):(this.stride=io(e),a&&((f=a[0])&&(this.valueOffsets=f),(f=a[1])&&(this.values=f),(f=a[2])&&(this.nullBitmap=f),(f=a[3])&&(this.typeIds=f))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}getValid(e){if(this.nullable&&this.nullCount>0){const n=this.offset+e;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(e,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){const{nullBitmap:f}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:f,_nullCount:0})}const{nullBitmap:i,offset:s}=this,a=s+e>>3,c=(s+e)%8,d=i[a]>>c&1;return n?d===0&&(i[a]|=1<<c,this._nullCount=this.nullCount+1):d===1&&(i[a]&=~(1<<c),this._nullCount=this.nullCount-1),n}clone(e=this.type,n=this.offset,i=this.length,s=this._nullCount,a=this,c=this.children){return new nb(e,n,i,s,a,c,this.dictionary)}slice(e,n){const{stride:i,typeId:s,children:a}=this,c=+(this._nullCount===0)-1,d=s===16?i:1,f=this._sliceBuffers(e,n,i,s);return this.clone(this.type,this.offset+e,n,c,f,a.length===0||this.valueOffsets?a:this._sliceChildren(a,d*e,d*n))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===ne.Null)return this.clone(this.type,0,e,0);const{length:n,nullCount:i}=this,s=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);s[n>>3]=(1<<n-(n&-8))-1,i>0&&s.set(F6(this.offset,n,this.nullBitmap),0);const a=this.buffers;return a[aa.VALIDITY]=s,this.clone(this.type,0,e,i+(e-n),a)}_sliceBuffers(e,n,i,s){let a;const{buffers:c}=this;return(a=c[aa.TYPE])&&(c[aa.TYPE]=a.subarray(e,e+n)),(a=c[aa.OFFSET])&&(c[aa.OFFSET]=a.subarray(e,e+n+1))||(a=c[aa.DATA])&&(c[aa.DATA]=s===6?a:a.subarray(i*e,i*(e+n))),c}_sliceChildren(e,n,i){return e.map(s=>s.slice(n,i))}};hn.prototype.children=Object.freeze([]);let Tie=class im extends xt{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:n,["offset"]:i=0,["length"]:s=0}=e;return new hn(n,i,s,0)}visitBool(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.nullBitmap),a=kt(n.ArrayType,e.data),{["length"]:c=a.length>>3,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,a,s])}visitInt(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.nullBitmap),a=kt(n.ArrayType,e.data),{["length"]:c=a.length,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,a,s])}visitFloat(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.nullBitmap),a=kt(n.ArrayType,e.data),{["length"]:c=a.length,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,a,s])}visitUtf8(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.data),a=At(e.nullBitmap),c=Bh(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new hn(n,i,d,f,[c,s,a])}visitBinary(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.data),a=At(e.nullBitmap),c=Bh(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new hn(n,i,d,f,[c,s,a])}visitFixedSizeBinary(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.nullBitmap),a=kt(n.ArrayType,e.data),{["length"]:c=a.length/io(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,a,s])}visitDate(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.nullBitmap),a=kt(n.ArrayType,e.data),{["length"]:c=a.length/io(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,a,s])}visitTimestamp(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.nullBitmap),a=kt(n.ArrayType,e.data),{["length"]:c=a.length/io(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,a,s])}visitTime(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.nullBitmap),a=kt(n.ArrayType,e.data),{["length"]:c=a.length/io(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,a,s])}visitDecimal(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.nullBitmap),a=kt(n.ArrayType,e.data),{["length"]:c=a.length/io(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,a,s])}visitList(e){const{["type"]:n,["offset"]:i=0,["child"]:s}=e,a=At(e.nullBitmap),c=Bh(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new hn(n,i,d,f,[c,void 0,a],[s])}visitStruct(e){const{["type"]:n,["offset"]:i=0,["children"]:s=[]}=e,a=At(e.nullBitmap),{length:c=s.reduce((f,{length:u})=>Math.max(f,u),0),nullCount:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,void 0,a],s)}visitUnion(e){const{["type"]:n,["offset"]:i=0,["children"]:s=[]}=e,a=At(e.nullBitmap),c=kt(n.ArrayType,e.typeIds),{["length"]:d=c.length,["nullCount"]:f=e.nullBitmap?-1:0}=e;if(Ze.isSparseUnion(n))return new hn(n,i,d,f,[void 0,void 0,a,c],s);const u=Bh(e.valueOffsets);return new hn(n,i,d,f,[u,void 0,a,c],s)}visitDictionary(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.nullBitmap),a=kt(n.indices.ArrayType,e.data),{["dictionary"]:c=new Je([new im().visit({type:n.dictionary})])}=e,{["length"]:d=a.length,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new hn(n,i,d,f,[void 0,a,s],[],c)}visitInterval(e){const{["type"]:n,["offset"]:i=0}=e,s=At(e.nullBitmap),a=kt(n.ArrayType,e.data),{["length"]:c=a.length/io(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,a,s])}visitFixedSizeList(e){const{["type"]:n,["offset"]:i=0,["child"]:s=new im().visit({type:n.valueType})}=e,a=At(e.nullBitmap),{["length"]:c=s.length/io(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new hn(n,i,c,d,[void 0,void 0,a],[s])}visitMap(e){const{["type"]:n,["offset"]:i=0,["child"]:s=new im().visit({type:n.childType})}=e,a=At(e.nullBitmap),c=Bh(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new hn(n,i,d,f,[c,void 0,a],[s])}};function Ke(t){return new Tie().visit(t)}let WM=class{constructor(e=0,n){this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}};function eU(t){return t.reduce((e,n)=>e+n.nullCount,0)}function tU(t){return t.reduce((e,n,i)=>(e[i+1]=e[i]+n.length,e),new Uint32Array(t.length+1))}function nU(t,e,n,i){const s=[];for(let a=-1,c=t.length;++a<c;){const d=t[a],f=e[a],{length:u}=d;if(f>=i)break;if(n>=f+u)continue;if(f>=n&&f+u<=i){s.push(d);continue}const o=Math.max(0,n-f),g=Math.min(i-f,u);s.push(d.slice(o,g-o))}return s.length===0&&s.push(t[0].slice(0,0)),s}function vv(t,e,n,i){let s=0,a=0,c=e.length-1;do{if(s>=c-1)return n<e[c]?i(t,s,n-e[s]):null;a=s+Math.trunc((c-s)*.5),n<e[a]?c=a:s=a}while(s<c)}function Ev(t,e){return t.getValid(e)}function c1(t){function e(n,i,s){return t(n[i],s)}return function(n){const i=this.data;return vv(i,this._offsets,n,e)}}function iU(t){let e;function n(i,s,a){return t(i[s],a,e)}return function(i,s){const a=this.data;e=s;const c=vv(a,this._offsets,i,n);return e=void 0,c}}function sU(t){let e;function n(i,s,a){let c=a,d=0,f=0;for(let u=s-1,o=i.length;++u<o;){const g=i[u];if(~(d=t(g,e,c)))return f+d;c=0,f+=g.length}return-1}return function(i,s){e=i;const a=this.data,c=typeof s!="number"?n(a,0,0):vv(a,this._offsets,s,n);return e=void 0,c}}let it=class extends xt{};function vie(t,e){return e===null&&t.length>0?0:-1}function Eie(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let i=0;for(const s of new A1(n,t.offset+(e||0),t.length,n,k6)){if(!s)return i;++i}return-1}function vt(t,e,n){if(e===void 0)return-1;if(e===null)return Eie(t,n);const i=Hs.getVisitFn(t),s=$u(e);for(let a=(n||0)-1,c=t.length;++a<c;)if(s(i(t,a)))return a;return-1}function rU(t,e,n){const i=Hs.getVisitFn(t),s=$u(e);for(let a=(n||0)-1,c=t.length;++a<c;)if(s(i(t,a)))return a;return-1}it.prototype.visitNull=vie;it.prototype.visitBool=vt;it.prototype.visitInt=vt;it.prototype.visitInt8=vt;it.prototype.visitInt16=vt;it.prototype.visitInt32=vt;it.prototype.visitInt64=vt;it.prototype.visitUint8=vt;it.prototype.visitUint16=vt;it.prototype.visitUint32=vt;it.prototype.visitUint64=vt;it.prototype.visitFloat=vt;it.prototype.visitFloat16=vt;it.prototype.visitFloat32=vt;it.prototype.visitFloat64=vt;it.prototype.visitUtf8=vt;it.prototype.visitBinary=vt;it.prototype.visitFixedSizeBinary=vt;it.prototype.visitDate=vt;it.prototype.visitDateDay=vt;it.prototype.visitDateMillisecond=vt;it.prototype.visitTimestamp=vt;it.prototype.visitTimestampSecond=vt;it.prototype.visitTimestampMillisecond=vt;it.prototype.visitTimestampMicrosecond=vt;it.prototype.visitTimestampNanosecond=vt;it.prototype.visitTime=vt;it.prototype.visitTimeSecond=vt;it.prototype.visitTimeMillisecond=vt;it.prototype.visitTimeMicrosecond=vt;it.prototype.visitTimeNanosecond=vt;it.prototype.visitDecimal=vt;it.prototype.visitList=vt;it.prototype.visitStruct=vt;it.prototype.visitUnion=vt;it.prototype.visitDenseUnion=rU;it.prototype.visitSparseUnion=rU;it.prototype.visitDictionary=vt;it.prototype.visitInterval=vt;it.prototype.visitIntervalDayTime=vt;it.prototype.visitIntervalYearMonth=vt;it.prototype.visitFixedSizeList=vt;it.prototype.visitMap=vt;const Km=new it;let st=class extends xt{};function ht(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(e.typeId===ne.Timestamp||e instanceof Wi&&e.bitWidth!==64||e instanceof Mo&&e.bitWidth!==64||e instanceof Wl&&e.precision!==ri.HALF))return new WM(t.data.length,i=>{const s=t.data[i];return s.values.subarray(0,s.length)[Symbol.iterator]()});let n=0;return new WM(t.data.length,i=>{const a=t.data[i].length,c=t.slice(n,n+a);return n+=a,new Sie(c)})}let Sie=class{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};st.prototype.visitNull=ht;st.prototype.visitBool=ht;st.prototype.visitInt=ht;st.prototype.visitInt8=ht;st.prototype.visitInt16=ht;st.prototype.visitInt32=ht;st.prototype.visitInt64=ht;st.prototype.visitUint8=ht;st.prototype.visitUint16=ht;st.prototype.visitUint32=ht;st.prototype.visitUint64=ht;st.prototype.visitFloat=ht;st.prototype.visitFloat16=ht;st.prototype.visitFloat32=ht;st.prototype.visitFloat64=ht;st.prototype.visitUtf8=ht;st.prototype.visitBinary=ht;st.prototype.visitFixedSizeBinary=ht;st.prototype.visitDate=ht;st.prototype.visitDateDay=ht;st.prototype.visitDateMillisecond=ht;st.prototype.visitTimestamp=ht;st.prototype.visitTimestampSecond=ht;st.prototype.visitTimestampMillisecond=ht;st.prototype.visitTimestampMicrosecond=ht;st.prototype.visitTimestampNanosecond=ht;st.prototype.visitTime=ht;st.prototype.visitTimeSecond=ht;st.prototype.visitTimeMillisecond=ht;st.prototype.visitTimeMicrosecond=ht;st.prototype.visitTimeNanosecond=ht;st.prototype.visitDecimal=ht;st.prototype.visitList=ht;st.prototype.visitStruct=ht;st.prototype.visitUnion=ht;st.prototype.visitDenseUnion=ht;st.prototype.visitSparseUnion=ht;st.prototype.visitDictionary=ht;st.prototype.visitInterval=ht;st.prototype.visitIntervalDayTime=ht;st.prototype.visitIntervalYearMonth=ht;st.prototype.visitFixedSizeList=ht;st.prototype.visitMap=ht;const Sv=new st,xie=(t,e)=>t+e;let Md=class extends xt{visitNull(e,n){return 0}visitInt(e,n){return e.type.bitWidth/8}visitFloat(e,n){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,n){return 1/8}visitDecimal(e,n){return e.type.bitWidth/8}visitDate(e,n){return(e.type.unit+1)*4}visitTime(e,n){return e.type.bitWidth/8}visitTimestamp(e,n){return e.type.unit===dt.SECOND?4:8}visitInterval(e,n){return(e.type.unit+1)*4}visitStruct(e,n){return e.children.reduce((i,s)=>i+Ao.visit(s,n),0)}visitFixedSizeBinary(e,n){return e.type.byteWidth}visitMap(e,n){return 8+e.children.reduce((i,s)=>i+Ao.visit(s,n),0)}visitDictionary(e,n){var i;return e.type.indices.bitWidth/8+(((i=e.dictionary)===null||i===void 0?void 0:i.getByteLength(e.values[n]))||0)}};const Bie=({valueOffsets:t},e)=>8+(t[e+1]-t[e]),Iie=({valueOffsets:t},e)=>8+(t[e+1]-t[e]),kie=({valueOffsets:t,stride:e,children:n},i)=>{const s=n[0],{[i*e]:a}=t,{[i*e+1]:c}=t,d=Ao.getVisitFn(s.type),f=s.slice(a,c-a);let u=8;for(let o=-1,g=c-a;++o<g;)u+=d(f,o);return u},Fie=({stride:t,children:e},n)=>{const i=e[0],s=i.slice(n*t,t),a=Ao.getVisitFn(i.type);let c=0;for(let d=-1,f=s.length;++d<f;)c+=a(s,d);return c},Mie=(t,e)=>t.type.mode===wi.Dense?aU(t,e):oU(t,e),aU=({type:t,children:e,typeIds:n,valueOffsets:i},s)=>{const a=t.typeIdToChildIndex[n[s]];return 8+Ao.visit(e[a],i[s])},oU=({children:t},e)=>4+Ao.visitMany(t,t.map(()=>e)).reduce(xie,0);Md.prototype.visitUtf8=Bie;Md.prototype.visitBinary=Iie;Md.prototype.visitList=kie;Md.prototype.visitFixedSizeList=Fie;Md.prototype.visitUnion=Mie;Md.prototype.visitDenseUnion=aU;Md.prototype.visitSparseUnion=oU;const Ao=new Md;var lU;const cU={},dU={};let Je=class pf{constructor(e){var n,i,s;const a=e[0]instanceof pf?e.flatMap(d=>d.data):e;if(a.length===0||a.some(d=>!(d instanceof hn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const c=(n=a[0])===null||n===void 0?void 0:n.type;switch(a.length){case 0:this._offsets=[0];break;case 1:{const{get:d,set:f,indexOf:u,byteLength:o}=cU[c.typeId],g=a[0];this.isValid=y=>Ev(g,y),this.get=y=>d(g,y),this.set=(y,m)=>f(g,y,m),this.indexOf=y=>u(g,y),this.getByteLength=y=>o(g,y),this._offsets=[0,g.length];break}default:Object.setPrototypeOf(this,dU[c.typeId]),this._offsets=tU(a);break}this.data=a,this.type=c,this.stride=io(c),this.numChildren=(s=(i=c.children)===null||i===void 0?void 0:i.length)!==null&&s!==void 0?s:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,n)=>e+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=eU(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${ne[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,n){}indexOf(e,n){return-1}includes(e,n){return this.indexOf(e,n)>0}getByteLength(e){return 0}[Symbol.iterator](){return Sv.visit(this)}concat(...e){return new pf(this.data.concat(e.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(e,n){return new pf(bv(this,e,n,({data:i,_offsets:s},a,c)=>nU(i,s,a,c)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:i,stride:s,ArrayType:a}=this;switch(e.typeId){case ne.Int:case ne.Float:case ne.Decimal:case ne.Time:case ne.Timestamp:switch(n.length){case 0:return new a;case 1:return n[0].values.subarray(0,i*s);default:return n.reduce((c,{values:d,length:f})=>(c.array.set(d.subarray(0,f*s),c.offset),c.offset+=f*s,c),{array:new a(i*s),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(i=>i.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new pf(this.data.map(({children:n})=>n[e])):null}get isMemoized(){return Ze.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Ze.isDictionary(this.type)){const e=new YM(this.data[0].dictionary),n=this.data.map(i=>{const s=i.clone();return s.dictionary=e,s});return new pf(n)}return new YM(this)}unmemoize(){if(Ze.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),n=this.data.map(i=>{const s=i.clone();return s.dictionary=e,s});return new pf(n)}return this}};lU=Symbol.toStringTag;Je[lU]=(t=>{t.type=Ze.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(ne).map(n=>ne[n]).filter(n=>typeof n=="number"&&n!==ne.NONE);for(const n of e){const i=Hs.getVisitFnByTypeId(n),s=Vr.getVisitFnByTypeId(n),a=Km.getVisitFnByTypeId(n),c=Ao.getVisitFnByTypeId(n);cU[n]={get:i,set:s,indexOf:a,byteLength:c},dU[n]=Object.create(t,{isValid:{value:c1(Ev)},get:{value:c1(Hs.getVisitFnByTypeId(n))},set:{value:iU(Vr.getVisitFnByTypeId(n))},indexOf:{value:sU(Km.getVisitFnByTypeId(n))},getByteLength:{value:c1(Ao.getVisitFnByTypeId(n))}})}return"Vector"})(Je.prototype);let YM=class fU extends Je{constructor(e){super(e.data);const n=this.get,i=this.set,s=this.slice,a=new Array(this.length);Object.defineProperty(this,"get",{value(c){const d=a[c];if(d!==void 0)return d;const f=n.call(this,c);return a[c]=f,f}}),Object.defineProperty(this,"set",{value(c,d){i.call(this,c,d),a[c]=d}}),Object.defineProperty(this,"slice",{value:(c,d)=>new fU(s.call(this,c,d))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Je(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}};function M6(t){if(t){if(t instanceof hn)return new Je([t]);if(t instanceof Je)return new Je(t.data);if(t.type instanceof Ze)return new Je([Ke(t)]);if(Array.isArray(t))return new Je(t.flatMap(e=>Aie(e)));if(ArrayBuffer.isView(t)){t instanceof DataView&&(t=new Uint8Array(t.buffer));const e={offset:0,length:t.length,nullCount:0,data:t};if(t instanceof Int8Array)return new Je([Ke(Object.assign(Object.assign({},e),{type:new ZT}))]);if(t instanceof Int16Array)return new Je([Ke(Object.assign(Object.assign({},e),{type:new JT}))]);if(t instanceof Int32Array)return new Je([Ke(Object.assign(Object.assign({},e),{type:new rd}))]);if(t instanceof ic)return new Je([Ke(Object.assign(Object.assign({},e),{type:new S6}))]);if(t instanceof Uint8Array||t instanceof Uint8ClampedArray)return new Je([Ke(Object.assign(Object.assign({},e),{type:new QT}))]);if(t instanceof Uint16Array)return new Je([Ke(Object.assign(Object.assign({},e),{type:new ev}))]);if(t instanceof Uint32Array)return new Je([Ke(Object.assign(Object.assign({},e),{type:new tv}))]);if(t instanceof sc)return new Je([Ke(Object.assign(Object.assign({},e),{type:new nv}))]);if(t instanceof Float32Array)return new Je([Ke(Object.assign(Object.assign({},e),{type:new iv}))]);if(t instanceof Float64Array)return new Je([Ke(Object.assign(Object.assign({},e),{type:new x6}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}function Aie(t){return t instanceof hn?[t]:t instanceof Je?t.data:M6(t).data}function Oie(t){if(!t||t.length<=0)return function(s){return!0};let e="";const n=t.filter(i=>i===i);return n.length>0&&(e=`
    switch (x) {${n.map(i=>`
        case ${Nie(i)}:`).join("")}
            return false;
    }`),t.length!==n.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}function Nie(t){return typeof t!="bigint"?ou(t):`${ou(t)}n`}const n8=(t,e)=>(Math.ceil(t)*e+63&-64||64)/e,Cie=(t,e=0)=>t.length>=e?t.subarray(0,e):Op(new t.constructor(e),t,0);class A6{constructor(e,n=1){this.buffer=e,this.stride=n,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=Math.ceil(e.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,n){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;const n=this.stride,i=this.length*n,s=this.buffer.length;i>=s&&this._resize(s===0?n8(i*1,this.BYTES_PER_ELEMENT):n8(i*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=n8(e*this.stride,this.BYTES_PER_ELEMENT);const n=Cie(this.buffer,e);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=Op(new this.ArrayType(e),this.buffer)}}A6.prototype.offset=0;class N3 extends A6{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,n){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=n,this}}class uU extends N3{constructor(e=new Uint8Array(0)){super(e,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,n){const{buffer:i}=this.reserve(e-this.length+1),s=e>>3,a=e%8,c=i[s]>>a&1;return n?c===0&&(i[s]|=1<<a,++this.numValid):c===1&&(i[s]&=~(1<<a),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class hU extends N3{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,n){const i=this.length-1,s=this.reserve(e-i+1).buffer;return i<e++&&s.fill(s[i],i,e),s[e]=s[e-1]+n,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}}let Ki=class{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}constructor({type:e,nullValues:n}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=n,this.stride=io(e),this._nulls=new uU,n&&n.length>0&&(this._isValid=Oie(n))}toVector(){return new Je([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;const{_offsets:n,_values:i,_nulls:s,_typeIds:a,children:c}=this;return n&&(e+=n.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),a&&(e+=a.byteLength),c.reduce((d,f)=>d+f.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((n,i)=>n+i.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,n){return this.setValid(e,this.isValid(n))&&this.setValue(e,n),this}setValue(e,n){this._setValue(this,e,n)}setValid(e,n){return this.length=this._nulls.set(e,+n).length,n}addChild(e,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,n,i,s;const{type:a,length:c,nullCount:d,_typeIds:f,_offsets:u,_values:o,_nulls:g}=this;(n=f==null?void 0:f.flush(c))?s=u==null?void 0:u.flush(c):(s=u==null?void 0:u.flush(c))?e=o==null?void 0:o.flush(u.last()):e=o==null?void 0:o.flush(c),d>0&&(i=g==null?void 0:g.flush(c));const y=this.children.map(m=>m.flush());return this.clear(),Ke({type:a,length:c,nullCount:d,children:y,child:y[0],data:e,typeIds:n,nullBitmap:i,valueOffsets:s})}finish(){this.finished=!0;for(const e of this.children)e.finish();return this}clear(){var e,n,i,s;this.length=0,(e=this._nulls)===null||e===void 0||e.clear(),(n=this._values)===null||n===void 0||n.clear(),(i=this._offsets)===null||i===void 0||i.clear(),(s=this._typeIds)===null||s===void 0||s.clear();for(const a of this.children)a.clear();return this}};Ki.prototype.length=1;Ki.prototype.stride=1;Ki.prototype.children=null;Ki.prototype.finished=!1;Ki.prototype.nullValues=null;Ki.prototype._isValid=()=>!0;class Ad extends Ki{constructor(e){super(e),this._values=new N3(new this.ArrayType(0),this.stride)}setValue(e,n){const i=this._values;return i.reserve(e-i.length+1),super.setValue(e,n)}}class O6 extends Ki{constructor(e){super(e),this._pendingLength=0,this._offsets=new hU}setValue(e,n){const i=this._pending||(this._pending=new Map),s=i.get(e);s&&(this._pendingLength-=s.length),this._pendingLength+=n instanceof O3?n[fa].length:n.length,i.set(e,n)}setValid(e,n){return super.setValid(e,n)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const e=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,n),this}}let ib=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,n,i,s){return e.prep(8,24),e.writeInt64(BigInt(s??0)),e.pad(4),e.writeInt32(i),e.writeInt64(BigInt(n??0)),e.offset()}};const i8=2,lo=4,Il=4,gn=4,Fc=new Int32Array(2),XM=new Float32Array(Fc.buffer),KM=new Float64Array(Fc.buffer),ry=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var sb;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(sb||(sb={}));let O1=class pU{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new pU(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return Fc[0]=this.readInt32(e),XM[0]}readFloat64(e){return Fc[ry?0:1]=this.readInt32(e),Fc[ry?1:0]=this.readInt32(e+4),KM[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){XM[0]=n,this.writeInt32(e,Fc[0])}writeFloat64(e,n){KM[0]=n,this.writeInt32(e,Fc[ry?0:1]),this.writeInt32(e+4,Fc[ry?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+lo+Il)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<Il;n++)e+=String.fromCharCode(this.readInt8(this.position_+lo+n));return e}__offset(e,n){const i=e-this.readInt32(e);return n<this.readInt16(i)?this.readInt16(i+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const i=this.readInt32(e);e+=lo;const s=this.bytes_.subarray(e,e+i);return n===sb.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+lo}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=Il)throw new Error("FlatBuffers: file identifier must be length "+Il);for(let n=0;n<Il;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+lo+n))return!1;return!0}createScalarList(e,n){const i=[];for(let s=0;s<n;++s){const a=e(s);a!==null&&i.push(a)}return i}createObjList(e,n){const i=[];for(let s=0;s<n;++s){const a=e(s);a!==null&&i.push(a.unpack())}return i}},_U=class gU{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=O1.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const i=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<i+e+n;){const s=this.bb.capacity();this.bb=gU.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(i)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,i){(this.force_defaults||n!=i)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,i){(this.force_defaults||n!=i)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,i){(this.force_defaults||n!=i)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,i){(this.force_defaults||n!==i)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,i){(this.force_defaults||n!=i)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,i){(this.force_defaults||n!=i)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,i){(this.force_defaults||n!=i)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,i){n!=i&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=n<<1,s=O1.allocate(i);return s.setPosition(i-n),s.bytes().set(e.bytes(),i-n),s}addOffset(e){this.prep(lo,0),this.writeInt32(this.offset()-e+lo)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const i=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const s=2;this.addInt16(e-this.object_start);const a=(i+s)*i8;this.addInt16(a);let c=0;const d=this.space;e:for(n=0;n<this.vtables.length;n++){const f=this.bb.capacity()-this.vtables[n];if(a==this.bb.readInt16(f)){for(let u=i8;u<a;u+=i8)if(this.bb.readInt16(d+u)!=this.bb.readInt16(f+u))continue e;c=this.vtables[n];break}}return c?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,c-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,i){const s=i?gn:0;if(n){const a=n;if(this.prep(this.minalign,lo+Il+s),a.length!=Il)throw new Error("FlatBuffers: file identifier must be length "+Il);for(let c=Il-1;c>=0;c--)this.writeInt8(a.charCodeAt(c))}this.prep(this.minalign,lo+s),this.addOffset(e),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const i=this.bb.capacity()-e,s=i-this.bb.readInt32(i);if(!(n<this.bb.readInt16(s)&&this.bb.readInt16(s+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(e,n,i){this.notNested(),this.vector_num_elems=n,this.prep(lo,e*n),this.prep(i,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let i=0,s=this.space,a=this.bb.bytes();i<n.length;i++)a[s++]=n[i];return this.endVector()}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let i=0;i<e.length;++i){const s=e[i];if(s!==null)n.push(this.createObjectOffset(s));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}},Cr=class _f{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsKeyValue(e,n){return(n||new _f).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,n){return e.setPosition(e.position()+gn),(n||new _f).__init(e.readInt32(e.position())+e.position(),e)}key(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,n,i){return _f.startKeyValue(e),_f.addKey(e,n),_f.addValue(e,i),_f.endKeyValue(e)}};var N1;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(N1||(N1={}));var C1;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(C1||(C1={}));var Zm;(function(t){t[t.DenseArray=0]="DenseArray"})(Zm||(Zm={}));let Wh=class gf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new gf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+gn),(n||new gf).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,n){e.addFieldInt32(0,n,0)}static addIsSigned(e,n){e.addFieldInt8(1,+n,0)}static endInt(e){return e.endObject()}static createInt(e,n,i){return gf.startInt(e),gf.addBitWidth(e,n),gf.addIsSigned(e,i),gf.endInt(e)}},kh=class rb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryEncoding(e,n){return(n||new rb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,n){return e.setPosition(e.position()+gn),(n||new rb).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Wh).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Zm.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addIndexType(e,n){e.addFieldOffset(1,n,0)}static addIsOrdered(e,n){e.addFieldInt8(2,+n,0)}static addDictionaryKind(e,n){e.addFieldInt16(3,n,Zm.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}},ZM=class M0{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBinary(e,n){return(n||new M0).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+gn),(n||new M0).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return M0.startBinary(e),M0.endBinary(e)}},JM=class A0{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new A0).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+gn),(n||new A0).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return A0.startBool(e),A0.endBool(e)}};var Jm;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(Jm||(Jm={}));let sm=class Fh{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new Fh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+gn),(n||new Fh).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Jm.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Jm.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,n){return Fh.startDate(e),Fh.addUnit(e,n),Fh.endDate(e)}},Mh=class xc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDecimal(e,n){return(n||new xc).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+gn),(n||new xc).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,n){e.addFieldInt32(0,n,0)}static addScale(e,n){e.addFieldInt32(1,n,0)}static addBitWidth(e,n){e.addFieldInt32(2,n,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,n,i,s){return xc.startDecimal(e),xc.addPrecision(e,n),xc.addScale(e,i),xc.addBitWidth(e,s),xc.endDecimal(e)}};var R1;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(R1||(R1={}));let rm=class Ah{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeBinary(e,n){return(n||new Ah).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+gn),(n||new Ah).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,n){return Ah.startFixedSizeBinary(e),Ah.addByteWidth(e,n),Ah.endFixedSizeBinary(e)}},am=class Oh{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeList(e,n){return(n||new Oh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+gn),(n||new Oh).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,n){return Oh.startFixedSizeList(e),Oh.addListSize(e,n),Oh.endFixedSizeList(e)}};var Qm;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(Qm||(Qm={}));let om=class Nh{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloatingPoint(e,n){return(n||new Nh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,n){return e.setPosition(e.position()+gn),(n||new Nh).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Qm.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,Qm.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,n){return Nh.startFloatingPoint(e),Nh.addPrecision(e,n),Nh.endFloatingPoint(e)}};var e4;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(e4||(e4={}));let lm=class Ch{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInterval(e,n){return(n||new Ch).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,n){return e.setPosition(e.position()+gn),(n||new Ch).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):e4.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,e4.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,n){return Ch.startInterval(e),Ch.addUnit(e,n),Ch.endInterval(e)}},QM=class O0{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsList(e,n){return(n||new O0).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+gn),(n||new O0).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return O0.startList(e),O0.endList(e)}},cm=class Rh{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMap(e,n){return(n||new Rh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+gn),(n||new Rh).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,n){e.addFieldInt8(0,+n,0)}static endMap(e){return e.endObject()}static createMap(e,n){return Rh.startMap(e),Rh.addKeysSorted(e,n),Rh.endMap(e)}},eA=class N0{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNull(e,n){return(n||new N0).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+gn),(n||new N0).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return N0.startNull(e),N0.endNull(e)}},tA=class C0{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsStruct_(e,n){return(n||new C0).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,n){return e.setPosition(e.position()+gn),(n||new C0).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return C0.startStruct_(e),C0.endStruct_(e)}},R0=class yf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new yf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+gn),(n||new yf).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):R1.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,R1.MILLISECOND)}static addBitWidth(e,n){e.addFieldInt32(1,n,32)}static endTime(e){return e.endObject()}static createTime(e,n,i){return yf.startTime(e),yf.addUnit(e,n),yf.addBitWidth(e,i),yf.endTime(e)}},D0=class mf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTimestamp(e,n){return(n||new mf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,n){return e.setPosition(e.position()+gn),(n||new mf).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):R1.SECOND}timezone(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,R1.SECOND)}static addTimezone(e,n){e.addFieldOffset(1,n,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,n,i){return mf.startTimestamp(e),mf.addUnit(e,n),mf.addTimezone(e,i),mf.endTimestamp(e)}};var t4;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(t4||(t4={}));let wf=class Lf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUnion(e,n){return(n||new Lf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,n){return e.setPosition(e.position()+gn),(n||new Lf).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t4.Sparse}typeIds(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,t4.Sparse)}static addTypeIds(e,n){e.addFieldOffset(1,n,0)}static createTypeIdsVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addInt32(n[i]);return e.endVector()}static startTypeIdsVector(e,n){e.startVector(4,n,4)}static endUnion(e){return e.endObject()}static createUnion(e,n,i){return Lf.startUnion(e),Lf.addMode(e,n),Lf.addTypeIds(e,i),Lf.endUnion(e)}},nA=class P0{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUtf8(e,n){return(n||new P0).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+gn),(n||new P0).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return P0.startUtf8(e),P0.endUtf8(e)}};var Tt;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"})(Tt||(Tt={}));let kr=class dm{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsField(e,n){return(n||new dm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+gn),(n||new dm).__init(e.readInt32(e.position())+e.position(),e)}name(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Tt.NONE}type(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb_pos+n):null}dictionary(e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new kh).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){const i=this.bb.__offset(this.bb_pos,14);return i?(n||new dm).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const i=this.bb.__offset(this.bb_pos,16);return i?(n||new Cr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,n){e.addFieldOffset(0,n,0)}static addNullable(e,n){e.addFieldInt8(1,+n,0)}static addTypeType(e,n){e.addFieldInt8(2,n,Tt.NONE)}static addType(e,n){e.addFieldOffset(3,n,0)}static addDictionary(e,n){e.addFieldOffset(4,n,0)}static addChildren(e,n){e.addFieldOffset(5,n,0)}static createChildrenVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startChildrenVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(6,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endField(e){return e.endObject()}},eo=class pl{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsSchema(e,n){return(n||new pl).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+gn),(n||new pl).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):C1.Little}fields(e,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new kr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new Cr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,n){e.addFieldInt16(0,n,C1.Little)}static addFields(e,n){e.addFieldOffset(1,n,0)}static createFieldsVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startFieldsVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(2,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static addFeatures(e,n){e.addFieldOffset(3,n,0)}static createFeaturesVector(e,n){e.startVector(8,n.length,8);for(let i=n.length-1;i>=0;i--)e.addInt64(n[i]);return e.endVector()}static startFeaturesVector(e,n){e.startVector(8,n,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,n){e.finish(n)}static finishSizePrefixedSchemaBuffer(e,n){e.finish(n,void 0,!0)}static createSchema(e,n,i,s,a){return pl.startSchema(e),pl.addEndianness(e,n),pl.addFields(e,i),pl.addCustomMetadata(e,s),pl.addFeatures(e,a),pl.endSchema(e)}},Wa=class ab{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFooter(e,n){return(n||new ab).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,n){return e.setPosition(e.position()+gn),(n||new ab).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):N1.V1}schema(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new eo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(e,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new ib).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,n){const i=this.bb.__offset(this.bb_pos,10);return i?(n||new ib).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new Cr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,N1.V1)}static addSchema(e,n){e.addFieldOffset(1,n,0)}static addDictionaries(e,n){e.addFieldOffset(2,n,0)}static startDictionariesVector(e,n){e.startVector(24,n,8)}static addRecordBatches(e,n){e.addFieldOffset(3,n,0)}static startRecordBatchesVector(e,n){e.startVector(24,n,8)}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,n){e.finish(n)}static finishSizePrefixedFooterBuffer(e,n){e.finish(n,void 0,!0)}},Sn=class bf{constructor(e=[],n,i){this.fields=e||[],this.metadata=n||new Map,i||(i=lb(e)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,n)=>`${n}: ${e}`).join(", ")} }>`}select(e){const n=new Set(e),i=this.fields.filter(s=>n.has(s.name));return new bf(i,this.metadata)}selectAt(e){const n=e.map(i=>this.fields[i]).filter(Boolean);return new bf(n,this.metadata)}assign(...e){const n=e[0]instanceof bf?e[0]:Array.isArray(e[0])?new bf(e[0]):new bf(e),i=[...this.fields],s=ay(ay(new Map,this.metadata),n.metadata),a=n.fields.filter(d=>{const f=i.findIndex(u=>u.name===d.name);return~f?(i[f]=d.clone({metadata:ay(ay(new Map,i[f].metadata),d.metadata)}))&&!1:!0}),c=lb(a,new Map);return new bf([...i,...a],s,new Map([...this.dictionaries,...c]))}};Sn.prototype.fields=null;Sn.prototype.metadata=null;Sn.prototype.dictionaries=null;let rn=class ob{static new(...e){let[n,i,s,a]=e;return e[0]&&typeof e[0]=="object"&&({name:n}=e[0],i===void 0&&(i=e[0].type),s===void 0&&(s=e[0].nullable),a===void 0&&(a=e[0].metadata)),new ob(`${n}`,i,s,a)}constructor(e,n,i=!1,s){this.name=e,this.type=n,this.nullable=i,this.metadata=s||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[n,i,s,a]=e;return!e[0]||typeof e[0]!="object"?[n=this.name,i=this.type,s=this.nullable,a=this.metadata]=e:{name:n=this.name,type:i=this.type,nullable:s=this.nullable,metadata:a=this.metadata}=e[0],ob.new(n,i,s,a)}};rn.prototype.type=null;rn.prototype.name=null;rn.prototype.nullable=null;rn.prototype.metadata=null;function ay(t,e){return new Map([...t||new Map,...e||new Map])}function lb(t,e=new Map){for(let n=-1,i=t.length;++n<i;){const a=t[n].type;if(Ze.isDictionary(a)){if(!e.has(a.id))e.set(a.id,a.dictionary);else if(e.get(a.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}a.children&&a.children.length>0&&lb(a.children,e)}return e}var Rie=_U,Die=O1;let Up=class{static decode(e){e=new Die(At(e));const n=Wa.getRootAsFooter(e),i=Sn.decode(n.schema());return new Pie(i,n)}static encode(e){const n=new Rie,i=Sn.encode(n,e.schema);Wa.startRecordBatchesVector(n,e.numRecordBatches);for(const c of[...e.recordBatches()].slice().reverse())od.encode(n,c);const s=n.endVector();Wa.startDictionariesVector(n,e.numDictionaries);for(const c of[...e.dictionaryBatches()].slice().reverse())od.encode(n,c);const a=n.endVector();return Wa.startFooter(n),Wa.addSchema(n,i),Wa.addVersion(n,Ms.V4),Wa.addRecordBatches(n,s),Wa.addDictionaries(n,a),Wa.finishFooterBuffer(n,Wa.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,n=Ms.V4,i,s){this.schema=e,this.version=n,i&&(this._recordBatches=i),s&&(this._dictionaryBatches=s)}*recordBatches(){for(let e,n=-1,i=this.numRecordBatches;++n<i;)(e=this.getRecordBatch(n))&&(yield e)}*dictionaryBatches(){for(let e,n=-1,i=this.numDictionaries;++n<i;)(e=this.getDictionaryBatch(n))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}},Pie=class extends Up{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,n){super(e,n.version()),this._footer=n}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const n=this._footer.recordBatches(e);if(n)return od.decode(n)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const n=this._footer.dictionaries(e);if(n)return od.decode(n)}return null}},od=class yU{static decode(e){return new yU(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,n){const{metaDataLength:i}=n,s=BigInt(n.offset),a=BigInt(n.bodyLength);return ib.createBlock(e,s,i,a)}constructor(e,n,i){this.metaDataLength=e,this.offset=Ia(i),this.bodyLength=Ia(n)}};const On=Object.freeze({done:!0,value:void 0});let iA=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}},xv=class{tee(){return this._getDOMStream().tee()}pipe(e,n){return this._getNodeStream().pipe(e,n)}pipeTo(e,n){return this._getDOMStream().pipeTo(e,n)}pipeThrough(e,n){return this._getDOMStream().pipeThrough(e,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}},$ie=class extends xv{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return ge(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(On);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return lr.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return lr.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return ge(this,void 0,void 0,function*(){return yield this.abort(e),On})}return(e){return ge(this,void 0,void 0,function*(){return yield this.close(),On})}read(e){return ge(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return ge(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,i)=>{this.resolvers.push({resolve:n,reject:i})}):Promise.resolve(On)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}},d1=class extends $ie{write(e){if((e=At(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?J9(this.toUint8Array(!0)):this.toUint8Array(!1).then(J9)}toUint8Array(e=!1){return e?Ba(this._values)[0]:(()=>ge(this,void 0,void 0,function*(){var n,i,s,a;const c=[];let d=0;try{for(var f=!0,u=fs(this),o;o=yield u.next(),n=o.done,!n;){a=o.value,f=!1;try{const g=a;c.push(g),d+=g.byteLength}finally{f=!0}}}catch(g){i={error:g}}finally{try{!f&&!n&&(s=u.return)&&(yield s.call(u))}finally{if(i)throw i.error}}return Ba(c,d)[0]}))()}},zp=class{constructor(e){e&&(this.source=new Uie(lr.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}},D1=class mU{constructor(e){e instanceof mU?this.source=e.source:e instanceof d1?this.source=new ef(lr.fromAsyncIterable(e)):XP(e)?this.source=new ef(lr.fromNodeStream(e)):YT(e)?this.source=new ef(lr.fromDOMStream(e)):YP(e)?this.source=new ef(lr.fromDOMStream(e.body)):I2(e)?this.source=new ef(lr.fromIterable(e)):sd(e)?this.source=new ef(lr.fromAsyncIterable(e)):Pu(e)&&(this.source=new ef(lr.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}},Uie=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,n="read"){return this.source.next({cmd:n,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||On)}return(e){return Object.create(this.source.return&&this.source.return(e)||On)}},ef=class{constructor(e){this.source=e,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(e){return ge(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return ge(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return ge(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,n="read"){return ge(this,void 0,void 0,function*(){return yield this.source.next({cmd:n,size:e})})}throw(e){return ge(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(e))||On;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(e){return ge(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(e))||On;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}},sA=class extends zp{constructor(e,n){super(),this.position=0,this.buffer=At(e),this.size=n===void 0?this.buffer.byteLength:n}readInt32(e){const{buffer:n,byteOffset:i}=this.readAt(e,4);return new DataView(n,i).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:n,size:i,position:s}=this;return n&&s<i?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(i,s+Math.min(i-s,e)),n.subarray(s,this.position)):null}readAt(e,n){const i=this.buffer,s=Math.min(this.size,e+n);return i?i.subarray(e,s):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}},n4=class extends D1{constructor(e,n){super(),this.position=0,this._handle=e,typeof n=="number"?this.size=n:this._pending=(()=>ge(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return ge(this,void 0,void 0,function*(){const{buffer:n,byteOffset:i}=yield this.readAt(e,4);return new DataView(n,i).getInt32(0,!0)})}seek(e){return ge(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return ge(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:i,position:s}=this;if(n&&s<i){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let a=s,c=0,d=0;const f=Math.min(i,a+Math.min(i-a,e)),u=new Uint8Array(Math.max(0,(this.position=f)-a));for(;(a+=d)<f&&(c+=d)<u.byteLength;)({bytesRead:d}=yield n.read(u,c,u.byteLength-c,a));return u}return null})}readAt(e,n){return ge(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:i,size:s}=this;if(i&&e+n<s){const a=Math.min(s,e+n),c=new Uint8Array(a-e);return(yield i.read(c,0,n,e)).buffer}return new Uint8Array(n)})}close(){return ge(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return ge(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return ge(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};const zie=1<<16;function Yh(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const P1=8,Bv=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];let Iv=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),i=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let s=n[3]*i[3];this.buffer[0]=s&65535;let a=s>>>16;return s=n[2]*i[3],a+=s,s=n[3]*i[2]>>>0,a+=s,this.buffer[0]+=a<<16,this.buffer[1]=a>>>0<s?zie:0,this.buffer[1]+=a>>>16,this.buffer[1]+=n[1]*i[3]+n[2]*i[2]+n[3]*i[1],this.buffer[1]+=n[0]*i[3]+n[1]*i[2]+n[2]*i[1]+n[3]*i[0]<<16,this}_plus(e){const n=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${Yh(this.buffer[1])} ${Yh(this.buffer[0])}`}},Hn=class _l extends Iv{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,n=new Uint32Array(2)){return _l.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return _l.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const i=e.length,s=new _l(n);for(let a=0;a<i;){const c=P1<i-a?P1:i-a,d=new _l(new Uint32Array([Number.parseInt(e.slice(a,a+c),10),0])),f=new _l(new Uint32Array([Bv[c],0]));s.times(f),s.plus(d),a+=c}return s}static convertArray(e){const n=new Uint32Array(e.length*2);for(let i=-1,s=e.length;++i<s;)_l.from(e[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(e,n){return new _l(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new _l(new Uint32Array(e.buffer)).plus(n)}},f1=class gl extends Iv{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const n=this.buffer[1]<<0,i=e.buffer[1]<<0;return n<i||n===i&&this.buffer[0]<e.buffer[0]}static from(e,n=new Uint32Array(2)){return gl.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return gl.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const i=e.startsWith("-"),s=e.length,a=new gl(n);for(let c=i?1:0;c<s;){const d=P1<s-c?P1:s-c,f=new gl(new Uint32Array([Number.parseInt(e.slice(c,c+d),10),0])),u=new gl(new Uint32Array([Bv[d],0]));a.times(u),a.plus(f),c+=d}return i?a.negate():a}static convertArray(e){const n=new Uint32Array(e.length*2);for(let i=-1,s=e.length;++i<s;)gl.from(e[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(e,n){return new gl(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new gl(new Uint32Array(e.buffer)).plus(n)}},wU=class yl{constructor(e){this.buffer=e}high(){return new f1(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new f1(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const n=new Hn(new Uint32Array([this.buffer[3],0])),i=new Hn(new Uint32Array([this.buffer[2],0])),s=new Hn(new Uint32Array([this.buffer[1],0])),a=new Hn(new Uint32Array([this.buffer[0],0])),c=new Hn(new Uint32Array([e.buffer[3],0])),d=new Hn(new Uint32Array([e.buffer[2],0])),f=new Hn(new Uint32Array([e.buffer[1],0])),u=new Hn(new Uint32Array([e.buffer[0],0]));let o=Hn.multiply(a,u);this.buffer[0]=o.low();const g=new Hn(new Uint32Array([o.high(),0]));return o=Hn.multiply(s,u),g.plus(o),o=Hn.multiply(a,f),g.plus(o),this.buffer[1]=g.low(),this.buffer[3]=g.lessThan(o)?1:0,this.buffer[2]=g.high(),new Hn(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Hn.multiply(i,u)).plus(Hn.multiply(s,f)).plus(Hn.multiply(a,d)),this.buffer[3]+=Hn.multiply(n,u).plus(Hn.multiply(i,f)).plus(Hn.multiply(s,d)).plus(Hn.multiply(a,c)).low(),this}plus(e){const n=new Uint32Array(4);return n[3]=this.buffer[3]+e.buffer[3]>>>0,n[2]=this.buffer[2]+e.buffer[2]>>>0,n[1]=this.buffer[1]+e.buffer[1]>>>0,n[0]=this.buffer[0]+e.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${Yh(this.buffer[3])} ${Yh(this.buffer[2])} ${Yh(this.buffer[1])} ${Yh(this.buffer[0])}`}static multiply(e,n){return new yl(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new yl(new Uint32Array(e.buffer)).plus(n)}static from(e,n=new Uint32Array(4)){return yl.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(4)){return yl.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(4)){const i=e.startsWith("-"),s=e.length,a=new yl(n);for(let c=i?1:0;c<s;){const d=P1<s-c?P1:s-c,f=new yl(new Uint32Array([Number.parseInt(e.slice(c,c+d),10),0,0,0])),u=new yl(new Uint32Array([Bv[d],0,0,0]));a.times(u),a.plus(f),c+=d}return i?a.negate():a}static convertArray(e){const n=new Uint32Array(e.length*4);for(let i=-1,s=e.length;++i<s;)yl.from(e[i],new Uint32Array(n.buffer,n.byteOffset+4*4*i,4));return n}};const Hie=Object.freeze(Object.defineProperty({__proto__:null,BaseInt64:Iv,Int128:wU,Int64:f1,Uint64:Hn},Symbol.toStringTag,{value:"Module"}));let LU=class extends xt{constructor(e,n,i,s){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=n,this.buffers=i,this.dictionaries=s}visit(e){return super.visit(e instanceof rn?e.type:e)}visitNull(e,{length:n}=this.nextFieldNode()){return Ke({type:e,length:n})}visitBool(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitInt(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitFloat(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitUtf8(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitDate(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitTimestamp(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitTime(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitDecimal(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitList(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===wi.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitFixedSizeList(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),child:this.visit(e.children[0])})}visitMap(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ke({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,n,i=this.nextBufferRange()){return n>0&&this.readData(e,i)||new Uint8Array(0)}readOffsets(e,n){return this.readData(e,n)}readTypeIds(e,n){return this.readData(e,n)}readData(e,{length:n,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+n)}readDictionary(e){return this.dictionaries.get(e.id)}},jie=class extends LU{constructor(e,n,i,s){super(new Uint8Array(0),n,i,s),this.sources=e}readNullBitmap(e,n,{offset:i}=this.nextBufferRange()){return n<=0?new Uint8Array(0):$p(this.sources[i])}readOffsets(e,{offset:n}=this.nextBufferRange()){return kt(Uint8Array,kt(Int32Array,this.sources[n]))}readTypeIds(e,{offset:n}=this.nextBufferRange()){return kt(Uint8Array,kt(e.ArrayType,this.sources[n]))}readData(e,{offset:n}=this.nextBufferRange()){const{sources:i}=this;return Ze.isTimestamp(e)||(Ze.isInt(e)||Ze.isTime(e))&&e.bitWidth===64||Ze.isDate(e)&&e.unit===zs.MILLISECOND?kt(Uint8Array,f1.convertArray(i[n])):Ze.isDecimal(e)?kt(Uint8Array,wU.convertArray(i[n])):Ze.isBinary(e)||Ze.isFixedSizeBinary(e)?Vie(i[n]):Ze.isBool(e)?$p(i[n]):Ze.isUtf8(e)?T6(i[n].join("")):kt(Uint8Array,kt(e.ArrayType,i[n].map(s=>+s)))}};function Vie(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)n[i>>1]=Number.parseInt(e.slice(i,i+2),16);return n}class kv extends O6{constructor(e){super(e),this._values=new A6(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,n){return super.setValue(e,At(n))}_flushPending(e,n){const i=this._offsets,s=this._values.reserve(n).buffer;let a=0;for(const[c,d]of e)if(d===void 0)i.set(c,0);else{const f=d.length;s.set(d,a),i.set(c,f),a+=f}}}class bU extends Ki{constructor(e){super(e),this._values=new uU}setValue(e,n){this._values.set(e,+n)}}class C3 extends Ad{}C3.prototype._setValue=k$;class Fv extends C3{}Fv.prototype._setValue=lv;class Mv extends C3{}Mv.prototype._setValue=cv;class Av extends Ad{}Av.prototype._setValue=A$;class TU extends Ki{constructor({type:e,nullValues:n,dictionaryHashFunction:i}){super({type:new Xl(e.dictionary,e.indices,e.id,e.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=fu({type:this.type.indices,nullValues:n}),this.dictionary=fu({type:this.type.dictionary,nullValues:null}),typeof i=="function"&&(this.valueToKey=i)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,n){const i=this.indices;return n=i.setValid(e,n),this.length=i.length,n}setValue(e,n){const i=this._keysToIndices,s=this.valueToKey(n);let a=i[s];return a===void 0&&(i[s]=a=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(e,a)}flush(){const e=this.type,n=this._dictionary,i=this.dictionary.toVector(),s=this.indices.flush().clone(e);return s.dictionary=n?n.concat(i):i,this.finished||(this._dictionaryOffset+=i.length),this._dictionary=s.dictionary,this.clear(),s}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}}class Ov extends Ad{}Ov.prototype._setValue=I$;class vU extends Ki{setValue(e,n){const[i]=this.children,s=e*this.stride;for(let a=-1,c=n.length;++a<c;)i.set(s+a,n[a])}addChild(e,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const i=this.children.push(e);return this.type=new F1(this.type.listSize,new rn(n,e.type,!0)),i}}class R3 extends Ad{setValue(e,n){this._values.set(e,n)}}class EU extends R3{setValue(e,n){super.setValue(e,rv(n))}}class SU extends R3{}class xU extends R3{}class D3 extends Ad{}D3.prototype._setValue=C$;class Nv extends D3{}Nv.prototype._setValue=mv;class Cv extends D3{}Cv.prototype._setValue=wv;class Yo extends Ad{setValue(e,n){this._values.set(e,n)}}class BU extends Yo{}class IU extends Yo{}class kU extends Yo{}class FU extends Yo{}class MU extends Yo{}class AU extends Yo{}class OU extends Yo{}class NU extends Yo{}class CU extends O6{constructor(e){super(e),this._offsets=new hU}addChild(e,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new du(new rn(n,e.type,!0)),this.numChildren-1}_flushPending(e){const n=this._offsets,[i]=this.children;for(const[s,a]of e)if(typeof a>"u")n.set(s,0);else{const c=a.length,d=n.set(s,c).buffer[s];for(let f=-1;++f<c;)i.set(d+f,a[f])}}}class RU extends O6{set(e,n){return super.set(e,n)}setValue(e,n){const i=n instanceof Map?n:new Map(Object.entries(n)),s=this._pending||(this._pending=new Map),a=s.get(e);a&&(this._pendingLength-=a.size),this._pendingLength+=i.size,s.set(e,i)}addChild(e,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new M1(new rn(n,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){const n=this._offsets,[i]=this.children;for(const[s,a]of e)if(a===void 0)n.set(s,0);else{let{[s]:c,[s+1]:d}=n.set(s,a.size).buffer;for(const f of a.entries())if(i.set(c,f),++c>=d)break}}}class DU extends Ki{setValue(e,n){}setValid(e,n){return this.length=Math.max(e+1,this.length),n}}class PU extends Ki{setValue(e,n){const{children:i,type:s}=this;switch(Array.isArray(n)||n.constructor){case!0:return s.children.forEach((a,c)=>i[c].set(e,n[c]));case Map:return s.children.forEach((a,c)=>i[c].set(e,n.get(a.name)));default:return s.children.forEach((a,c)=>i[c].set(e,n[a.name]))}}setValid(e,n){return super.setValid(e,n)||this.children.forEach(i=>i.setValid(e,n)),n}addChild(e,n=`${this.numChildren}`){const i=this.children.push(e);return this.type=new fi([...this.type.children,new rn(n,e.type,!0)]),i}}class Uu extends Ad{}Uu.prototype._setValue=F$;class Rv extends Uu{}Rv.prototype._setValue=dv;class Dv extends Uu{}Dv.prototype._setValue=fv;class Pv extends Uu{}Pv.prototype._setValue=uv;class $v extends Uu{}$v.prototype._setValue=hv;class zu extends Ad{}zu.prototype._setValue=M$;class Uv extends zu{}Uv.prototype._setValue=pv;class zv extends zu{}zv.prototype._setValue=_v;class Hv extends zu{}Hv.prototype._setValue=gv;class jv extends zu{}jv.prototype._setValue=yv;class N6 extends Ki{constructor(e){super(e),this._typeIds=new N3(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,n){return this.set(this.length,e,n)}set(e,n,i){return i===void 0&&(i=this._valueToChildTypeId(this,n,e)),this.setValid(e,this.isValid(n))&&this.setValue(e,n,i),this}setValue(e,n,i){this._typeIds.set(e,i);const s=this.type.typeIdToChildIndex[i],a=this.children[s];a==null||a.set(e,n)}addChild(e,n=`${this.children.length}`){const i=this.children.push(e),{type:{children:s,mode:a,typeIds:c}}=this,d=[...s,new rn(n,e.type)];return this.type=new ad(a,[...c,i],d),i}_valueToChildTypeId(e,n,i){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class $U extends N6{}class UU extends N6{constructor(e){super(e),this._offsets=new N3(new Int32Array(0))}setValue(e,n,i){const s=this._typeIds.set(e,i).buffer[e],a=this.getChildAt(this.type.typeIdToChildIndex[s]),c=this._offsets.set(e,a.length).buffer[e];a==null||a.set(c,n)}}class Vv extends O6{constructor(e){super(e),this._values=new A6(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,n){return super.setValue(e,T6(n))}_flushPending(e,n){}}Vv.prototype._flushPending=kv.prototype._flushPending;class qie extends xt{visitNull(){return DU}visitBool(){return bU}visitInt(){return Yo}visitInt8(){return BU}visitInt16(){return IU}visitInt32(){return kU}visitInt64(){return FU}visitUint8(){return MU}visitUint16(){return AU}visitUint32(){return OU}visitUint64(){return NU}visitFloat(){return R3}visitFloat16(){return EU}visitFloat32(){return SU}visitFloat64(){return xU}visitUtf8(){return Vv}visitBinary(){return kv}visitFixedSizeBinary(){return Ov}visitDate(){return C3}visitDateDay(){return Fv}visitDateMillisecond(){return Mv}visitTimestamp(){return Uu}visitTimestampSecond(){return Rv}visitTimestampMillisecond(){return Dv}visitTimestampMicrosecond(){return Pv}visitTimestampNanosecond(){return $v}visitTime(){return zu}visitTimeSecond(){return Uv}visitTimeMillisecond(){return zv}visitTimeMicrosecond(){return Hv}visitTimeNanosecond(){return jv}visitDecimal(){return Av}visitList(){return CU}visitStruct(){return PU}visitUnion(){return N6}visitDenseUnion(){return UU}visitSparseUnion(){return $U}visitDictionary(){return TU}visitInterval(){return D3}visitIntervalDayTime(){return Nv}visitIntervalYearMonth(){return Cv}visitFixedSizeList(){return vU}visitMap(){return RU}}const Gie=new qie;let rt=class extends xt{compareSchemas(e,n){return e===n||n instanceof e.constructor&&this.compareManyFields(e.fields,n.fields)}compareManyFields(e,n){return e===n||Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((i,s)=>this.compareFields(i,n[s]))}compareFields(e,n){return e===n||n instanceof e.constructor&&e.name===n.name&&e.nullable===n.nullable&&this.visit(e.type,n.type)}};function Js(t,e){return e instanceof t.constructor}function P3(t,e){return t===e||Js(t,e)}function ac(t,e){return t===e||Js(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function C6(t,e){return t===e||Js(t,e)&&t.precision===e.precision}function Wie(t,e){return t===e||Js(t,e)&&t.byteWidth===e.byteWidth}function qv(t,e){return t===e||Js(t,e)&&t.unit===e.unit}function $3(t,e){return t===e||Js(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function U3(t,e){return t===e||Js(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function Yie(t,e){return t===e||Js(t,e)&&t.children.length===e.children.length&&Oo.compareManyFields(t.children,e.children)}function Xie(t,e){return t===e||Js(t,e)&&t.children.length===e.children.length&&Oo.compareManyFields(t.children,e.children)}function Gv(t,e){return t===e||Js(t,e)&&t.mode===e.mode&&t.typeIds.every((n,i)=>n===e.typeIds[i])&&Oo.compareManyFields(t.children,e.children)}function Kie(t,e){return t===e||Js(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&Oo.visit(t.indices,e.indices)&&Oo.visit(t.dictionary,e.dictionary)}function Wv(t,e){return t===e||Js(t,e)&&t.unit===e.unit}function Zie(t,e){return t===e||Js(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&Oo.compareManyFields(t.children,e.children)}function Jie(t,e){return t===e||Js(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&Oo.compareManyFields(t.children,e.children)}rt.prototype.visitNull=P3;rt.prototype.visitBool=P3;rt.prototype.visitInt=ac;rt.prototype.visitInt8=ac;rt.prototype.visitInt16=ac;rt.prototype.visitInt32=ac;rt.prototype.visitInt64=ac;rt.prototype.visitUint8=ac;rt.prototype.visitUint16=ac;rt.prototype.visitUint32=ac;rt.prototype.visitUint64=ac;rt.prototype.visitFloat=C6;rt.prototype.visitFloat16=C6;rt.prototype.visitFloat32=C6;rt.prototype.visitFloat64=C6;rt.prototype.visitUtf8=P3;rt.prototype.visitBinary=P3;rt.prototype.visitFixedSizeBinary=Wie;rt.prototype.visitDate=qv;rt.prototype.visitDateDay=qv;rt.prototype.visitDateMillisecond=qv;rt.prototype.visitTimestamp=$3;rt.prototype.visitTimestampSecond=$3;rt.prototype.visitTimestampMillisecond=$3;rt.prototype.visitTimestampMicrosecond=$3;rt.prototype.visitTimestampNanosecond=$3;rt.prototype.visitTime=U3;rt.prototype.visitTimeSecond=U3;rt.prototype.visitTimeMillisecond=U3;rt.prototype.visitTimeMicrosecond=U3;rt.prototype.visitTimeNanosecond=U3;rt.prototype.visitDecimal=P3;rt.prototype.visitList=Yie;rt.prototype.visitStruct=Xie;rt.prototype.visitUnion=Gv;rt.prototype.visitDenseUnion=Gv;rt.prototype.visitSparseUnion=Gv;rt.prototype.visitDictionary=Kie;rt.prototype.visitInterval=Wv;rt.prototype.visitIntervalDayTime=Wv;rt.prototype.visitIntervalYearMonth=Wv;rt.prototype.visitFixedSizeList=Zie;rt.prototype.visitMap=Jie;const Oo=new rt;function i4(t,e){return Oo.compareSchemas(t,e)}function Qie(t,e){return Oo.compareFields(t,e)}function zU(t,e){return Oo.visit(t,e)}function fu(t){const e=t.type,n=new(Gie.getVisitFn(e)())(t);if(e.children&&e.children.length>0){const i=t.children||[],s={nullValues:t.nullValues},a=Array.isArray(i)?(c,d)=>i[d]||s:({name:c})=>i[c]||s;for(const[c,d]of e.children.entries()){const{type:f}=d,u=a(d,c);n.children.push(fu(Object.assign(Object.assign({},u),{type:f})))}}return n}function Yv(t,e){if(t instanceof hn||t instanceof Je||t.type instanceof Ze||ArrayBuffer.isView(t))return M6(t);const n={type:e??fm(t),nullValues:[null]},i=[...HU(n)(t)],s=i.length===1?i[0]:i.reduce((a,c)=>a.concat(c));return Ze.isDictionary(s.type)?s.memoize():s}function ese(t){const e=Yv(t),n=new xi(new Sn(e.type.children),e.data[0]);return new qr(n)}function fm(t){if(t.length===0)return new Fo;let e=0,n=0,i=0,s=0,a=0,c=0,d=0,f=0;for(const u of t){if(u==null){++e;continue}switch(typeof u){case"bigint":++c;continue;case"boolean":++d;continue;case"number":++s;continue;case"string":++a;continue;case"object":Array.isArray(u)?++n:Object.prototype.toString.call(u)==="[object Date]"?++f:++i;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}if(s+e===t.length)return new x6;if(a+e===t.length)return new Xl(new I1,new rd);if(c+e===t.length)return new S6;if(d+e===t.length)return new k1;if(f+e===t.length)return new E$;if(n+e===t.length){const u=t,o=fm(u[u.findIndex(g=>g!=null)]);if(u.every(g=>g==null||zU(o,fm(g))))return new du(new rn("",o,!0))}else if(i+e===t.length){const u=new Map;for(const o of t)for(const g of Object.keys(o))!u.has(g)&&o[g]!=null&&u.set(g,new rn(g,fm([o[g]]),!0));return new fi([...u.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}function HU(t){const{["queueingStrategy"]:e="count"}=t,{["highWaterMark"]:n=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=t,i=e!=="bytes"?"length":"byteLength";return function*(s){let a=0;const c=fu(t);for(const d of s)c.append(d)[i]>=n&&++a&&(yield c.toVector());(c.finish().length>0||a===0)&&(yield c.toVector())}}function tse(t){const{["queueingStrategy"]:e="count"}=t,{["highWaterMark"]:n=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=t,i=e!=="bytes"?"length":"byteLength";return function(s){return qn(this,arguments,function*(){var a,c,d,f;let u=0;const o=fu(t);try{for(var g=!0,y=fs(s),m;m=yield xe(y.next()),a=m.done,!a;){f=m.value,g=!1;try{const l=f;o.append(l)[i]>=n&&++u&&(yield yield xe(o.toVector()))}finally{g=!0}}}catch(l){c={error:l}}finally{try{!g&&!a&&(d=y.return)&&(yield xe(d.call(y)))}finally{if(c)throw c.error}}(o.finish().length>0||u===0)&&(yield yield xe(o.toVector()))})}}function s8(t,e){return nse(t,e.map(n=>n.data.concat()))}function nse(t,e){const n=[...t.fields],i=[],s={numBatches:e.reduce((g,y)=>Math.max(g,y.length),0)};let a=0,c=0,d=-1;const f=e.length;let u,o=[];for(;s.numBatches-- >0;){for(c=Number.POSITIVE_INFINITY,d=-1;++d<f;)o[d]=u=e[d].shift(),c=Math.min(c,u?u.length:c);Number.isFinite(c)&&(o=ise(n,c,o,e,s),c>0&&(i[a++]=Ke({type:new fi(n),length:c,nullCount:0,children:o.slice()})))}return[t=t.assign(n),i.map(g=>new xi(t,g))]}function ise(t,e,n,i,s){var a;const c=(e+63&-64)>>3;for(let d=-1,f=i.length;++d<f;){const u=n[d],o=u==null?void 0:u.length;if(o>=e)o===e?n[d]=u:(n[d]=u.slice(0,e),s.numBatches=Math.max(s.numBatches,i[d].unshift(u.slice(e,o-e))));else{const g=t[d];t[d]=g.clone({nullable:!0}),n[d]=(a=u==null?void 0:u._changeLengthAndBackfillNullBitmap(e))!==null&&a!==void 0?a:Ke({type:g.type,length:e,nullCount:e,nullBitmap:new Uint8Array(c)})}}return n}var jU;let qr=class Tf{constructor(...e){var n,i;if(e.length===0)return this.batches=[],this.schema=new Sn([]),this._offsets=[0],this;let s,a;e[0]instanceof Sn&&(s=e.shift()),e[e.length-1]instanceof Uint32Array&&(a=e.pop());const c=f=>{if(f){if(f instanceof xi)return[f];if(f instanceof Tf)return f.batches;if(f instanceof hn){if(f.type instanceof fi)return[new xi(new Sn(f.type.children),f)]}else{if(Array.isArray(f))return f.flatMap(u=>c(u));if(typeof f[Symbol.iterator]=="function")return[...f].flatMap(u=>c(u));if(typeof f=="object"){const u=Object.keys(f),o=u.map(m=>new Je([f[m]])),g=new Sn(u.map((m,l)=>new rn(String(m),o[l].type))),[,y]=s8(g,o);return y.length===0?[new xi(f)]:y}}}return[]},d=e.flatMap(f=>c(f));if(s=(i=s??((n=d[0])===null||n===void 0?void 0:n.schema))!==null&&i!==void 0?i:new Sn([]),!(s instanceof Sn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const f of d){if(!(f instanceof xi))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!i4(s,f.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=d,this._offsets=a??tU(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,n)=>e+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=eU(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,n){}indexOf(e,n){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?Sv.visit(new Je(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const n=this.schema,i=this.data.concat(e.flatMap(({data:s})=>s));return new Tf(n,i.map(s=>new xi(n,s)))}slice(e,n){const i=this.schema;[e,n]=bv({length:this.numRows},e,n);const s=nU(this.data,this._offsets,e,n);return new Tf(i,s.map(a=>new xi(i,a)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const n=this.data.map(i=>i.children[e]);if(n.length===0){const{type:i}=this.schema.fields[e],s=Ke({type:i,length:0,nullCount:0});n.push(s._changeLengthAndBackfillNullBitmap(this.numRows))}return new Je(n)}return null}setChild(e,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(s=>s.name===e),n)}setChildAt(e,n){let i=this.schema,s=[...this.batches];if(e>-1&&e<this.numCols){n||(n=new Je([Ke({type:new Fo,length:this.numRows})]));const a=i.fields.slice(),c=a[e].clone({type:n.type}),d=this.schema.fields.map((f,u)=>this.getChildAt(u));[a[e],d[e]]=[c,n],[i,s]=s8(i,d)}return new Tf(i,s)}select(e){const n=this.schema.fields.reduce((i,s,a)=>i.set(s.name,a),new Map);return this.selectAt(e.map(i=>n.get(i)).filter(i=>i>-1))}selectAt(e){const n=this.schema.selectAt(e),i=this.batches.map(s=>s.selectAt(e));return new Tf(n,i)}assign(e){const n=this.schema.fields,[i,s]=e.schema.fields.reduce((d,f,u)=>{const[o,g]=d,y=n.findIndex(m=>m.name===f.name);return~y?g[y]=u:o.push(u),d},[[],[]]),a=this.schema.assign(e.schema),c=[...n.map((d,f)=>[f,s[f]]).map(([d,f])=>f===void 0?this.getChildAt(d):e.getChildAt(f)),...i.map(d=>e.getChildAt(d))].filter(Boolean);return new Tf(...s8(a,c))}};jU=Symbol.toStringTag;qr[jU]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=c1(Ev),t.get=c1(Hs.getVisitFn(ne.Struct)),t.set=iU(Vr.getVisitFn(ne.Struct)),t.indexOf=sU(Km.getVisitFn(ne.Struct)),t.getByteLength=c1(Ao.getVisitFn(ne.Struct)),"Table"))(qr.prototype);function sse(t){const e={},n=Object.entries(t);for(const[i,s]of n)e[i]=M6(s);return new qr(e)}function rse(t){const e={},n=Object.entries(t);for(const[i,s]of n)e[i]=Yv(s);return new qr(e)}var VU;let xi=class $0{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof Sn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ke({nullCount:0,type:new fi(this.schema.fields),children:this.schema.fields.map(n=>Ke({type:n.type,nullCount:0}))})]=e,!(this.data instanceof hn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=rA(this.schema,this.data.children);break}case 1:{const[n]=e,{fields:i,children:s,length:a}=Object.keys(n).reduce((f,u,o)=>(f.children[o]=n[u],f.length=Math.max(f.length,n[u].length),f.fields[o]=rn.new({name:u,type:n[u].type,nullable:!0}),f),{length:0,fields:new Array,children:new Array}),c=new Sn(i),d=Ke({type:new fi(i),length:a,children:s,nullCount:0});[this.schema,this.data]=rA(c,d.children,a);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=qU(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return Hs.visit(this.data,e)}set(e,n){return Vr.visit(this.data,e,n)}indexOf(e,n){return Km.visit(this.data,e,n)}getByteLength(e){return Ao.visit(this.data,e)}[Symbol.iterator](){return Sv.visit(new Je([this.data]))}toArray(){return[...this]}concat(...e){return new qr(this.schema,[this,...e])}slice(e,n){const[i]=new Je([this.data]).slice(e,n).data;return new $0(this.schema,i)}getChild(e){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new Je([this.data.children[e]]):null}setChild(e,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(s=>s.name===e),n)}setChildAt(e,n){let i=this.schema,s=this.data;if(e>-1&&e<this.numCols){n||(n=new Je([Ke({type:new Fo,length:this.numRows})]));const a=i.fields.slice(),c=s.children.slice(),d=a[e].clone({type:n.type});[a[e],c[e]]=[d,n.data[0]],i=new Sn(a,new Map(this.schema.metadata)),s=Ke({type:new fi(a),children:c})}return new $0(i,s)}select(e){const n=this.schema.select(e),i=new fi(n.fields),s=[];for(const a of e){const c=this.schema.fields.findIndex(d=>d.name===a);~c&&(s[c]=this.data.children[c])}return new $0(n,Ke({type:i,length:this.numRows,children:s}))}selectAt(e){const n=this.schema.selectAt(e),i=e.map(a=>this.data.children[a]).filter(Boolean),s=Ke({type:new fi(n.fields),length:this.numRows,children:i});return new $0(n,s)}};VU=Symbol.toStringTag;xi[VU]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(xi.prototype);function rA(t,e,n=e.reduce((i,s)=>Math.max(i,s.length),0)){var i;const s=[...t.fields],a=[...e],c=(n+63&-64)>>3;for(const[d,f]of t.fields.entries()){const u=e[d];(!u||u.length!==n)&&(s[d]=f.clone({nullable:!0}),a[d]=(i=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&i!==void 0?i:Ke({type:f.type,length:n,nullCount:n,nullBitmap:new Uint8Array(c)}))}return[t.assign(s),Ke({type:new fi(s),length:n,children:a})]}function qU(t,e,n=new Map){for(let i=-1,s=t.length;++i<s;){const c=t[i].type,d=e[i];if(Ze.isDictionary(c)){if(!n.has(c.id))d.dictionary&&n.set(c.id,d.dictionary);else if(n.get(c.id)!==d.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}c.children&&c.children.length>0&&qU(c.children,d.children,n)}return n}let Xv=class extends xi{constructor(e){const n=e.fields.map(s=>Ke({type:s.type})),i=Ke({type:new fi(e.fields),nullCount:0,children:n});super(e,i)}};var s4;(function(t){t[t.BUFFER=0]="BUFFER"})(s4||(s4={}));var r4;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})(r4||(r4={}));let ase=class vf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBodyCompression(e,n){return(n||new vf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,n){return e.setPosition(e.position()+gn),(n||new vf).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):r4.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):s4.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,n){e.addFieldInt8(0,n,r4.LZ4_FRAME)}static addMethod(e,n){e.addFieldInt8(1,n,s4.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,n,i){return vf.startBodyCompression(e),vf.addCodec(e,n),vf.addMethod(e,i),vf.endBodyCompression(e)}},GU=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,n,i){return e.prep(8,16),e.writeInt64(BigInt(i??0)),e.writeInt64(BigInt(n??0)),e.offset()}},WU=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,n,i){return e.prep(8,16),e.writeInt64(BigInt(i??0)),e.writeInt64(BigInt(n??0)),e.offset()}},wl=class cb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsRecordBatch(e,n){return(n||new cb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+gn),(n||new cb).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new WU).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new GU).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new ase).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addNodes(e,n){e.addFieldOffset(1,n,0)}static startNodesVector(e,n){e.startVector(16,n,8)}static addBuffers(e,n){e.addFieldOffset(2,n,0)}static startBuffersVector(e,n){e.startVector(16,n,8)}static addCompression(e,n){e.addFieldOffset(3,n,0)}static endRecordBatch(e){return e.endObject()}},Dh=class db{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryBatch(e,n){return(n||new db).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+gn),(n||new db).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new wl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addData(e,n){e.addFieldOffset(1,n,0)}static addIsDelta(e,n){e.addFieldInt8(2,+n,0)}static endDictionaryBatch(e){return e.endObject()}};var Hp;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(Hp||(Hp={}));let vc=class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new Ka).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+gn),(n||new Ka).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):N1.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Hp.NONE}header(e){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(e,this.bb_pos+n):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new Cr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,N1.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,Hp.NONE)}static addHeader(e,n){e.addFieldOffset(2,n,0)}static addBodyLength(e,n){e.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,i,s,a,c){return Ka.startMessage(e),Ka.addVersion(e,n),Ka.addHeaderType(e,i),Ka.addHeader(e,s),Ka.addBodyLength(e,a),Ka.addCustomMetadata(e,c),Ka.endMessage(e)}},ose=class extends xt{visit(e,n){return e==null||n==null?void 0:super.visit(e,n)}visitNull(e,n){return eA.startNull(n),eA.endNull(n)}visitInt(e,n){return Wh.startInt(n),Wh.addBitWidth(n,e.bitWidth),Wh.addIsSigned(n,e.isSigned),Wh.endInt(n)}visitFloat(e,n){return om.startFloatingPoint(n),om.addPrecision(n,e.precision),om.endFloatingPoint(n)}visitBinary(e,n){return ZM.startBinary(n),ZM.endBinary(n)}visitBool(e,n){return JM.startBool(n),JM.endBool(n)}visitUtf8(e,n){return nA.startUtf8(n),nA.endUtf8(n)}visitDecimal(e,n){return Mh.startDecimal(n),Mh.addScale(n,e.scale),Mh.addPrecision(n,e.precision),Mh.addBitWidth(n,e.bitWidth),Mh.endDecimal(n)}visitDate(e,n){return sm.startDate(n),sm.addUnit(n,e.unit),sm.endDate(n)}visitTime(e,n){return R0.startTime(n),R0.addUnit(n,e.unit),R0.addBitWidth(n,e.bitWidth),R0.endTime(n)}visitTimestamp(e,n){const i=e.timezone&&n.createString(e.timezone)||void 0;return D0.startTimestamp(n),D0.addUnit(n,e.unit),i!==void 0&&D0.addTimezone(n,i),D0.endTimestamp(n)}visitInterval(e,n){return lm.startInterval(n),lm.addUnit(n,e.unit),lm.endInterval(n)}visitList(e,n){return QM.startList(n),QM.endList(n)}visitStruct(e,n){return tA.startStruct_(n),tA.endStruct_(n)}visitUnion(e,n){wf.startTypeIdsVector(n,e.typeIds.length);const i=wf.createTypeIdsVector(n,e.typeIds);return wf.startUnion(n),wf.addMode(n,e.mode),wf.addTypeIds(n,i),wf.endUnion(n)}visitDictionary(e,n){const i=this.visit(e.indices,n);return kh.startDictionaryEncoding(n),kh.addId(n,BigInt(e.id)),kh.addIsOrdered(n,e.isOrdered),i!==void 0&&kh.addIndexType(n,i),kh.endDictionaryEncoding(n)}visitFixedSizeBinary(e,n){return rm.startFixedSizeBinary(n),rm.addByteWidth(n,e.byteWidth),rm.endFixedSizeBinary(n)}visitFixedSizeList(e,n){return am.startFixedSizeList(n),am.addListSize(n,e.listSize),am.endFixedSizeList(n)}visitMap(e,n){return cm.startMap(n),cm.addKeysSorted(n,e.keysSorted),cm.endMap(n)}};const r8=new ose;function lse(t,e=new Map){return new Sn(dse(t,e),um(t.customMetadata),e)}function YU(t){return new gr(t.count,XU(t.columns),KU(t.columns))}function cse(t){return new No(YU(t.data),t.id,t.isDelta)}function dse(t,e){return(t.fields||[]).filter(Boolean).map(n=>rn.fromJSON(n,e))}function aA(t,e){return(t.children||[]).filter(Boolean).map(n=>rn.fromJSON(n,e))}function XU(t){return(t||[]).reduce((e,n)=>[...e,new Hu(n.count,fse(n.VALIDITY)),...XU(n.children)],[])}function KU(t,e=[]){for(let n=-1,i=(t||[]).length;++n<i;){const s=t[n];s.VALIDITY&&e.push(new Lo(e.length,s.VALIDITY.length)),s.TYPE&&e.push(new Lo(e.length,s.TYPE.length)),s.OFFSET&&e.push(new Lo(e.length,s.OFFSET.length)),s.DATA&&e.push(new Lo(e.length,s.DATA.length)),e=KU(s.children,e)}return e}function fse(t){return(t||[]).reduce((e,n)=>e+ +(n===0),0)}function use(t,e){let n,i,s,a,c,d;return!e||!(a=t.dictionary)?(c=lA(t,aA(t,e)),s=new rn(t.name,c,t.nullable,um(t.customMetadata))):e.has(n=a.id)?(i=(i=a.indexType)?oA(i):new rd,d=new Xl(e.get(n),i,n,a.isOrdered),s=new rn(t.name,d,t.nullable,um(t.customMetadata))):(i=(i=a.indexType)?oA(i):new rd,e.set(n,c=lA(t,aA(t,e))),d=new Xl(c,i,n,a.isOrdered),s=new rn(t.name,d,t.nullable,um(t.customMetadata))),s||null}function um(t){return new Map(Object.entries(t||{}))}function oA(t){return new Wi(t.isSigned,t.bitWidth)}function lA(t,e){const n=t.type.name;switch(n){case"NONE":return new Fo;case"null":return new Fo;case"binary":return new Rp;case"utf8":return new I1;case"bool":return new k1;case"list":return new du((e||[])[0]);case"struct":return new fi(e||[]);case"struct_":return new fi(e||[])}switch(n){case"int":{const i=t.type;return new Wi(i.isSigned,i.bitWidth)}case"floatingpoint":{const i=t.type;return new Wl(ri[i.precision])}case"decimal":{const i=t.type;return new Dp(i.scale,i.precision,i.bitWidth)}case"date":{const i=t.type;return new lu(zs[i.unit])}case"time":{const i=t.type;return new Mo(dt[i.unit],i.bitWidth)}case"timestamp":{const i=t.type;return new Yl(dt[i.unit],i.timezone)}case"interval":{const i=t.type;return new cu(jr[i.unit])}case"union":{const i=t.type;return new ad(wi[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const i=t.type;return new Pp(i.byteWidth)}case"fixedsizelist":{const i=t.type;return new F1(i.listSize,(e||[])[0])}case"map":{const i=t.type;return new M1((e||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var hse=_U,pse=O1;let wo=class Ph{static fromJSON(e,n){const i=new Ph(0,Ms.V4,n);return i._createHeader=_se(e,n),i}static decode(e){e=new pse(At(e));const n=vc.getRootAsMessage(e),i=n.bodyLength(),s=n.version(),a=n.headerType(),c=new Ph(i,s,a);return c._createHeader=gse(n,a),c}static encode(e){const n=new hse;let i=-1;return e.isSchema()?i=Sn.encode(n,e.header()):e.isRecordBatch()?i=gr.encode(n,e.header()):e.isDictionaryBatch()&&(i=No.encode(n,e.header())),vc.startMessage(n),vc.addVersion(n,Ms.V4),vc.addHeader(n,i),vc.addHeaderType(n,e.headerType),vc.addBodyLength(n,BigInt(e.bodyLength)),vc.finishMessageBuffer(n,vc.endMessage(n)),n.asUint8Array()}static from(e,n=0){if(e instanceof Sn)return new Ph(0,Ms.V4,Jt.Schema,e);if(e instanceof gr)return new Ph(n,Ms.V4,Jt.RecordBatch,e);if(e instanceof No)return new Ph(n,Ms.V4,Jt.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Jt.Schema}isRecordBatch(){return this.headerType===Jt.RecordBatch}isDictionaryBatch(){return this.headerType===Jt.DictionaryBatch}constructor(e,n,i,s){this._version=n,this._headerType=i,this.body=new Uint8Array(0),s&&(this._createHeader=()=>s),this._bodyLength=Ia(e)}},gr=class{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,n,i){this._nodes=n,this._buffers=i,this._length=Ia(e)}},No=class{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,n,i=!1){this._data=e,this._isDelta=i,this._id=Ia(n)}},Lo=class{constructor(e,n){this.offset=Ia(e),this.length=Ia(n)}},Hu=class{constructor(e,n){this.length=Ia(e),this.nullCount=Ia(n)}};function _se(t,e){return()=>{switch(e){case Jt.Schema:return Sn.fromJSON(t);case Jt.RecordBatch:return gr.fromJSON(t);case Jt.DictionaryBatch:return No.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${Jt[e]}, type: ${e} }`)}}function gse(t,e){return()=>{switch(e){case Jt.Schema:return Sn.decode(t.header(new eo));case Jt.RecordBatch:return gr.decode(t.header(new wl),t.version());case Jt.DictionaryBatch:return No.decode(t.header(new Dh),t.version())}throw new Error(`Unrecognized Message type: { name: ${Jt[e]}, type: ${e} }`)}}rn.encode=Bse;rn.decode=Sse;rn.fromJSON=use;Sn.encode=xse;Sn.decode=yse;Sn.fromJSON=lse;gr.encode=Ise;gr.decode=mse;gr.fromJSON=YU;No.encode=kse;No.decode=wse;No.fromJSON=cse;Hu.encode=Fse;Hu.decode=bse;Lo.encode=Mse;Lo.decode=Lse;function yse(t,e=new Map){const n=Ese(t,e);return new Sn(n,hm(t),e)}function mse(t,e=Ms.V4){if(t.compression()!==null)throw new Error("Record batch compression not implemented");return new gr(t.length(),Tse(t),vse(t,e))}function wse(t,e=Ms.V4){return new No(gr.decode(t.data(),e),t.id(),t.isDelta())}function Lse(t){return new Lo(t.offset(),t.length())}function bse(t){return new Hu(t.length(),t.nullCount())}function Tse(t){const e=[];for(let n,i=-1,s=-1,a=t.nodesLength();++i<a;)(n=t.nodes(i))&&(e[++s]=Hu.decode(n));return e}function vse(t,e){const n=[];for(let i,s=-1,a=-1,c=t.buffersLength();++s<c;)(i=t.buffers(s))&&(e<Ms.V4&&(i.bb_pos+=8*(s+1)),n[++a]=Lo.decode(i));return n}function Ese(t,e){const n=[];for(let i,s=-1,a=-1,c=t.fieldsLength();++s<c;)(i=t.fields(s))&&(n[++a]=rn.decode(i,e));return n}function cA(t,e){const n=[];for(let i,s=-1,a=-1,c=t.childrenLength();++s<c;)(i=t.children(s))&&(n[++a]=rn.decode(i,e));return n}function Sse(t,e){let n,i,s,a,c,d;return!e||!(d=t.dictionary())?(s=fA(t,cA(t,e)),i=new rn(t.name(),s,t.nullable(),hm(t))):e.has(n=Ia(d.id()))?(a=(a=d.indexType())?dA(a):new rd,c=new Xl(e.get(n),a,n,d.isOrdered()),i=new rn(t.name(),c,t.nullable(),hm(t))):(a=(a=d.indexType())?dA(a):new rd,e.set(n,s=fA(t,cA(t,e))),c=new Xl(s,a,n,d.isOrdered()),i=new rn(t.name(),c,t.nullable(),hm(t))),i||null}function hm(t){const e=new Map;if(t)for(let n,i,s=-1,a=Math.trunc(t.customMetadataLength());++s<a;)(n=t.customMetadata(s))&&(i=n.key())!=null&&e.set(i,n.value());return e}function dA(t){return new Wi(t.isSigned(),t.bitWidth())}function fA(t,e){const n=t.typeType();switch(n){case Tt.NONE:return new Fo;case Tt.Null:return new Fo;case Tt.Binary:return new Rp;case Tt.Utf8:return new I1;case Tt.Bool:return new k1;case Tt.List:return new du((e||[])[0]);case Tt.Struct_:return new fi(e||[])}switch(n){case Tt.Int:{const i=t.type(new Wh);return new Wi(i.isSigned(),i.bitWidth())}case Tt.FloatingPoint:{const i=t.type(new om);return new Wl(i.precision())}case Tt.Decimal:{const i=t.type(new Mh);return new Dp(i.scale(),i.precision(),i.bitWidth())}case Tt.Date:{const i=t.type(new sm);return new lu(i.unit())}case Tt.Time:{const i=t.type(new R0);return new Mo(i.unit(),i.bitWidth())}case Tt.Timestamp:{const i=t.type(new D0);return new Yl(i.unit(),i.timezone())}case Tt.Interval:{const i=t.type(new lm);return new cu(i.unit())}case Tt.Union:{const i=t.type(new wf);return new ad(i.mode(),i.typeIdsArray()||[],e||[])}case Tt.FixedSizeBinary:{const i=t.type(new rm);return new Pp(i.byteWidth())}case Tt.FixedSizeList:{const i=t.type(new am);return new F1(i.listSize(),(e||[])[0])}case Tt.Map:{const i=t.type(new cm);return new M1((e||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${Tt[n]}" (${n})`)}function xse(t,e){const n=e.fields.map(a=>rn.encode(t,a));eo.startFieldsVector(t,n.length);const i=eo.createFieldsVector(t,n),s=e.metadata&&e.metadata.size>0?eo.createCustomMetadataVector(t,[...e.metadata].map(([a,c])=>{const d=t.createString(`${a}`),f=t.createString(`${c}`);return Cr.startKeyValue(t),Cr.addKey(t,d),Cr.addValue(t,f),Cr.endKeyValue(t)})):-1;return eo.startSchema(t),eo.addFields(t,i),eo.addEndianness(t,Ase?C1.Little:C1.Big),s!==-1&&eo.addCustomMetadata(t,s),eo.endSchema(t)}function Bse(t,e){let n=-1,i=-1,s=-1;const a=e.type;let c=e.typeId;Ze.isDictionary(a)?(c=a.dictionary.typeId,s=r8.visit(a,t),i=r8.visit(a.dictionary,t)):i=r8.visit(a,t);const d=(a.children||[]).map(o=>rn.encode(t,o)),f=kr.createChildrenVector(t,d),u=e.metadata&&e.metadata.size>0?kr.createCustomMetadataVector(t,[...e.metadata].map(([o,g])=>{const y=t.createString(`${o}`),m=t.createString(`${g}`);return Cr.startKeyValue(t),Cr.addKey(t,y),Cr.addValue(t,m),Cr.endKeyValue(t)})):-1;return e.name&&(n=t.createString(e.name)),kr.startField(t),kr.addType(t,i),kr.addTypeType(t,c),kr.addChildren(t,f),kr.addNullable(t,!!e.nullable),n!==-1&&kr.addName(t,n),s!==-1&&kr.addDictionary(t,s),u!==-1&&kr.addCustomMetadata(t,u),kr.endField(t)}function Ise(t,e){const n=e.nodes||[],i=e.buffers||[];wl.startNodesVector(t,n.length);for(const c of n.slice().reverse())Hu.encode(t,c);const s=t.endVector();wl.startBuffersVector(t,i.length);for(const c of i.slice().reverse())Lo.encode(t,c);const a=t.endVector();return wl.startRecordBatch(t),wl.addLength(t,BigInt(e.length)),wl.addNodes(t,s),wl.addBuffers(t,a),wl.endRecordBatch(t)}function kse(t,e){const n=gr.encode(t,e.data);return Dh.startDictionaryBatch(t),Dh.addId(t,BigInt(e.id)),Dh.addIsDelta(t,e.isDelta),Dh.addData(t,n),Dh.endDictionaryBatch(t)}function Fse(t,e){return WU.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))}function Mse(t,e){return GU.createBuffer(t,BigInt(e.offset),BigInt(e.length))}const Ase=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})(),Kv=t=>`Expected ${Jt[t]} Message in stream, but was null or length 0.`,Zv=t=>`Header pointer of flatbuffer-encoded ${Jt[t]} Message is null or length 0.`,ZU=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,JU=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;let Jv=class{constructor(e){this.source=e instanceof zp?e:new zp(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?On:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(Kv(e));return n.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const n=At(this.source.read(e));if(n.byteLength<e)throw new Error(JU(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(e=!1){const n=Jt.Schema,i=this.readMessage(n),s=i==null?void 0:i.header();if(e&&!s)throw new Error(Zv(n));return s}readMetadataLength(){const e=this.source.read(R6),n=e&&new O1(e),i=(n==null?void 0:n.readInt32(0))||0;return{done:i===0,value:i}}readMetadata(e){const n=this.source.read(e);if(!n)return On;if(n.byteLength<e)throw new Error(ZU(e,n.byteLength));return{done:!1,value:wo.decode(n)}}},QU=class{constructor(e,n){this.source=e instanceof D1?e:WP(e)?new n4(e,n):new D1(e)}[Symbol.asyncIterator](){return this}next(){return ge(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?On:e})}throw(e){return ge(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return ge(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return ge(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(Kv(e));return n.value})}readMessageBody(e){return ge(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const n=At(yield this.source.read(e));if(n.byteLength<e)throw new Error(JU(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(e=!1){return ge(this,void 0,void 0,function*(){const n=Jt.Schema,i=yield this.readMessage(n),s=i==null?void 0:i.header();if(e&&!s)throw new Error(Zv(n));return s})}readMetadataLength(){return ge(this,void 0,void 0,function*(){const e=yield this.source.read(R6),n=e&&new O1(e),i=(n==null?void 0:n.readInt32(0))||0;return{done:i===0,value:i}})}readMetadata(e){return ge(this,void 0,void 0,function*(){const n=yield this.source.read(e);if(!n)return On;if(n.byteLength<e)throw new Error(ZU(e,n.byteLength));return{done:!1,value:wo.decode(n)}})}},ez=class extends Jv{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof iA?e:new iA(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:wo.fromJSON(e.schema,Jt.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const n=e.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:wo.fromJSON(n,Jt.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:wo.fromJSON(n,Jt.RecordBatch)}}return this._body=[],On}readMessageBody(e){return n(this._body);function n(i){return(i||[]).reduce((s,a)=>[...s,...a.VALIDITY&&[a.VALIDITY]||[],...a.TYPE&&[a.TYPE]||[],...a.OFFSET&&[a.OFFSET]||[],...a.DATA&&[a.DATA]||[],...n(a.children)],[])}}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(Kv(e));return n.value}readSchema(){const e=Jt.Schema,n=this.readMessage(e),i=n==null?void 0:n.header();if(!n||!i)throw new Error(Zv(e));return i}};const R6=4,fb="ARROW1",jp=new Uint8Array(fb.length);for(let t=0;t<fb.length;t+=1)jp[t]=fb.codePointAt(t);function Qv(t,e=0){for(let n=-1,i=jp.length;++n<i;)if(jp[n]!==t[e+n])return!1;return!0}const z3=jp.length,tz=z3+R6,Ose=z3*2+R6;let Od=class pm extends xv{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const n=this._impl.open(e);return sd(n)?n.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return lr.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return lr.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof pm?e:Q9(e)?Rse(e):WP(e)?$se(e):sd(e)?(()=>ge(this,void 0,void 0,function*(){return yield pm.from(yield e)}))():YP(e)||YT(e)||XP(e)||Pu(e)?Pse(new D1(e)):Dse(new zp(e))}static readAll(e){return e instanceof pm?e.isSync()?uA(e):hA(e):Q9(e)||ArrayBuffer.isView(e)||I2(e)||GP(e)?uA(e):hA(e)}},$1=class extends Od{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return qn(this,arguments,function*(){yield xe(yield*Kc(fs(this[Symbol.iterator]())))})}},Vp=class extends Od{constructor(e){super(e),this._impl=e}readAll(){var e,n,i,s;return ge(this,void 0,void 0,function*(){const a=new Array;try{for(var c=!0,d=fs(this),f;f=yield d.next(),e=f.done,!e;){s=f.value,c=!1;try{const u=s;a.push(u)}finally{c=!0}}}catch(u){n={error:u}}finally{try{!c&&!e&&(i=d.return)&&(yield i.call(d))}finally{if(n)throw n.error}}return a})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}},D6=class extends $1{constructor(e){super(e),this._impl=e}},nz=class extends Vp{constructor(e){super(e),this._impl=e}},iz=class{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,n){const i=this._loadVectors(e,n,this.schema.fields),s=Ke({type:new fi(this.schema.fields),length:e.length,children:i});return new xi(this.schema,s)}_loadDictionaryBatch(e,n){const{id:i,isDelta:s}=e,{dictionaries:a,schema:c}=this,d=a.get(i);if(s||!d){const f=c.dictionaries.get(i),u=this._loadVectors(e.data,n,[f]);return(d&&s?d.concat(new Je(u)):new Je(u)).memoize()}return d.memoize()}_loadVectors(e,n,i){return new LU(n,e.nodes,e.buffers,this.dictionaries).visitMany(i)}},a4=class extends iz{constructor(e,n){super(n),this._reader=Q9(e)?new ez(this._handle=e):new Jv(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=rz(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):On}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):On}next(){if(this.closed)return On;let e;const{_reader:n}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const i=e.header(),s=n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(i,s)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const i=e.header(),s=n.readMessageBody(e.bodyLength),a=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,a)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Xv(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},o4=class extends iz{constructor(e,n){super(n),this._reader=new QU(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return ge(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return ge(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=rz(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return ge(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):On})}return(e){return ge(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):On})}next(){return ge(this,void 0,void 0,function*(){if(this.closed)return On;let e;const{_reader:n}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const i=e.header(),s=yield n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(i,s)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const i=e.header(),s=yield n.readMessageBody(e.bodyLength),a=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,a)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Xv(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return ge(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},sz=class extends a4{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,n){super(e instanceof sA?e:new sA(e),n)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var n;if(this.closed)return null;this._footer||this.open();const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(i&&this._handle.seek(i.offset)){const s=this._reader.readMessage(Jt.RecordBatch);if(s!=null&&s.isRecordBatch()){const a=s.header(),c=this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(a,c)}}return null}_readDictionaryBatch(e){var n;const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(i&&this._handle.seek(i.offset)){const s=this._reader.readMessage(Jt.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const a=s.header(),c=this._reader.readMessageBody(s.bodyLength),d=this._loadDictionaryBatch(a,c);this.dictionaries.set(a.id,d)}}}_readFooter(){const{_handle:e}=this,n=e.size-tz,i=e.readInt32(n),s=e.readAt(n-i,i);return Up.decode(s)}_readNextMessageAndValidate(e){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(e)}return null}},Nse=class extends o4{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...n){const i=typeof n[0]!="number"?n.shift():void 0,s=n[0]instanceof Map?n.shift():void 0;super(e instanceof n4?e:new n4(e,i),s)}isFile(){return!0}isAsync(){return!0}open(e){const n=Object.create(null,{open:{get:()=>super.open}});return ge(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const i of this._footer.dictionaryBatches())i&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,e)})}readRecordBatch(e){var n;return ge(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(i&&(yield this._handle.seek(i.offset))){const s=yield this._reader.readMessage(Jt.RecordBatch);if(s!=null&&s.isRecordBatch()){const a=s.header(),c=yield this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(a,c)}}return null})}_readDictionaryBatch(e){var n;return ge(this,void 0,void 0,function*(){const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(i&&(yield this._handle.seek(i.offset))){const s=yield this._reader.readMessage(Jt.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const a=s.header(),c=yield this._reader.readMessageBody(s.bodyLength),d=this._loadDictionaryBatch(a,c);this.dictionaries.set(a.id,d)}}})}_readFooter(){return ge(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const n=e.size-tz,i=yield e.readInt32(n),s=yield e.readAt(n-i,i);return Up.decode(s)})}_readNextMessageAndValidate(e){return ge(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(e)}return null})}},Cse=class extends a4{constructor(e,n){super(e,n)}_loadVectors(e,n,i){return new jie(n,e.nodes,e.buffers,this.dictionaries).visitMany(i)}};function rz(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*uA(t){const e=Od.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function hA(t){return qn(this,arguments,function*(){const n=yield xe(Od.from(t));try{if(!(yield xe(n.open({autoDestroy:!1}))).closed)do yield yield xe(n);while(!(yield xe(n.reset().open())).closed)}finally{yield xe(n.cancel())}})}function Rse(t){return new $1(new Cse(t))}function Dse(t){const e=t.peek(z3+7&-8);return e&&e.byteLength>=4?Qv(e)?new D6(new sz(t.read())):new $1(new a4(t)):new $1(new a4(function*(){}()))}function Pse(t){return ge(this,void 0,void 0,function*(){const e=yield t.peek(z3+7&-8);return e&&e.byteLength>=4?Qv(e)?new D6(new sz(yield t.read())):new Vp(new o4(t)):new Vp(new o4(function(){return qn(this,arguments,function*(){})}()))})}function $se(t){return ge(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),n=new n4(t,e);return e>=Ose&&Qv(yield n.readAt(0,z3+7&-8))?new nz(new Nse(n)):new Vp(new o4(n))})}let Li=class az extends xt{static assemble(...e){const n=s=>s.flatMap(a=>Array.isArray(a)?n(a):a instanceof xi?a.data.children:a.data),i=new az;return i.visitMany(n(e)),i}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof Je)return this.visitMany(e.data),this;const{type:n}=e;if(!Ze.isDictionary(n)){const{length:i,nullCount:s}=e;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Ze.isNull(n)||ba.call(this,s<=0?new Uint8Array(0):F6(e.offset,i,e.nullBitmap)),this.nodes.push(new Hu(i,s))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};function ba(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new Lo(this._byteLength,e)),this._byteLength+=e,this}function Use(t){const{type:e,length:n,typeIds:i,valueOffsets:s}=t;if(ba.call(this,i),e.mode===wi.Sparse)return ub.call(this,t);if(e.mode===wi.Dense){if(t.offset<=0)return ba.call(this,s),ub.call(this,t);{const a=i.reduce((o,g)=>Math.max(o,g),i[0]),c=new Int32Array(a+1),d=new Int32Array(a+1).fill(-1),f=new Int32Array(n),u=E6(-s[0],n,s);for(let o,g,y=-1;++y<n;)(g=d[o=i[y]])===-1&&(g=d[o]=u[o]),f[y]=u[y]-g,++c[o];ba.call(this,f);for(let o,g=-1,y=e.children.length;++g<y;)if(o=t.children[g]){const m=e.typeIds[g],l=Math.min(n,c[m]);this.visit(o.slice(d[m],l))}}}return this}function zse(t){let e;return t.nullCount>=t.length?ba.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?ba.call(this,F6(t.offset,t.length,e)):ba.call(this,$p(t.values))}function Nd(t){return ba.call(this,t.values.subarray(0,t.length*t.stride))}function oz(t){const{length:e,values:n,valueOffsets:i}=t,s=i[0],a=i[e],c=Math.min(a-s,n.byteLength-s);return ba.call(this,E6(-i[0],e,i)),ba.call(this,n.subarray(s,s+c)),this}function eE(t){const{length:e,valueOffsets:n}=t;return n&&ba.call(this,E6(n[0],e,n)),this.visit(t.children[0])}function ub(t){return this.visitMany(t.type.children.map((e,n)=>t.children[n]).filter(Boolean))[0]}Li.prototype.visitBool=zse;Li.prototype.visitInt=Nd;Li.prototype.visitFloat=Nd;Li.prototype.visitUtf8=oz;Li.prototype.visitBinary=oz;Li.prototype.visitFixedSizeBinary=Nd;Li.prototype.visitDate=Nd;Li.prototype.visitTimestamp=Nd;Li.prototype.visitTime=Nd;Li.prototype.visitDecimal=Nd;Li.prototype.visitList=eE;Li.prototype.visitStruct=ub;Li.prototype.visitUnion=Use;Li.prototype.visitInterval=Nd;Li.prototype.visitFixedSizeList=eE;Li.prototype.visitMap=eE;class Hse extends xt{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:Tt[e].toLowerCase()}}visitInt({typeId:e,bitWidth:n,isSigned:i}){return{name:Tt[e].toLowerCase(),bitWidth:n,isSigned:i}}visitFloat({typeId:e,precision:n}){return{name:Tt[e].toLowerCase(),precision:ri[n]}}visitBinary({typeId:e}){return{name:Tt[e].toLowerCase()}}visitBool({typeId:e}){return{name:Tt[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:Tt[e].toLowerCase()}}visitDecimal({typeId:e,scale:n,precision:i,bitWidth:s}){return{name:Tt[e].toLowerCase(),scale:n,precision:i,bitWidth:s}}visitDate({typeId:e,unit:n}){return{name:Tt[e].toLowerCase(),unit:zs[n]}}visitTime({typeId:e,unit:n,bitWidth:i}){return{name:Tt[e].toLowerCase(),unit:dt[n],bitWidth:i}}visitTimestamp({typeId:e,timezone:n,unit:i}){return{name:Tt[e].toLowerCase(),unit:dt[i],timezone:n}}visitInterval({typeId:e,unit:n}){return{name:Tt[e].toLowerCase(),unit:jr[n]}}visitList({typeId:e}){return{name:Tt[e].toLowerCase()}}visitStruct({typeId:e}){return{name:Tt[e].toLowerCase()}}visitUnion({typeId:e,mode:n,typeIds:i}){return{name:Tt[e].toLowerCase(),mode:wi[n],typeIds:[...i]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:n}){return{name:Tt[e].toLowerCase(),byteWidth:n}}visitFixedSizeList({typeId:e,listSize:n}){return{name:Tt[e].toLowerCase(),listSize:n}}visitMap({typeId:e,keysSorted:n}){return{name:Tt[e].toLowerCase(),keysSorted:n}}}class P6 extends xt{static assemble(...e){const n=new P6;return e.map(({schema:i,data:s})=>n.visitMany(i.fields,s.children))}visit({name:e},n){const{length:i}=n,{offset:s,nullCount:a,nullBitmap:c}=n,d=Ze.isDictionary(n.type)?n.type.indices:n.type,f=Object.assign([],n.buffers,{[aa.VALIDITY]:void 0});return Object.assign({name:e,count:i,VALIDITY:Ze.isNull(d)?void 0:a<=0?Array.from({length:i},()=>1):[...new A1(c,s,i,null,Tv)]},super.visit(n.clone(d,s,i,0,f)))}visitNull(){return{}}visitBool({values:e,offset:n,length:i}){return{DATA:[...new A1(e,n,i,null,k6)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...n0(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...new Je([e])],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...pA(new Je([e]))],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...pA(new Je([e]))]}}visitDate(e){return{DATA:e.type.unit===zs.DAY?[...e.values]:[...n0(e.values,2)]}}visitTimestamp(e){return{DATA:[...n0(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<dt.MICROSECOND?[...e.values]:[...n0(e.values,2)]}}visitDecimal(e){return{DATA:[...n0(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}visitStruct(e){return{children:this.visitMany(e.type.children,e.children)}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===wi.Dense?[...e.valueOffsets]:void 0,children:this.visitMany(e.type.children,e.children)}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:this.visitMany(e.type.children,e.children)}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}}function*pA(t){for(const e of t)yield e.reduce((n,i)=>`${n}${("0"+(i&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*n0(t,e){const n=new Uint32Array(t.buffer);for(let i=-1,s=n.length/e;++i<s;)yield`${KT.new(n.subarray((i+0)*e,(i+1)*e),!1)}`}let H3=class extends xv{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new d1,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Us(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return sd(e)?e.then(n=>this.writeAll(n)):Pu(e)?rE(this,e):sE(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,n=null){return e===this._sink||e instanceof d1?this._sink=e:(this._sink=new d1,e&&bte(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&Tte(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!i4(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(e){let n=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof qr&&!(n=e.schema))return this.finish()&&void 0;if(e instanceof xi&&!(n=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!i4(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}e instanceof xi?e instanceof Xv||this._writeRecordBatch(e):e instanceof qr?this.writeAll(e.batches):I2(e)&&this.writeAll(e)}_writeMessage(e,n=8){const i=n-1,s=wo.encode(e),a=s.byteLength,c=this._writeLegacyIpcFormat?4:8,d=a+c+i&~i,f=d-a-c;return e.headerType===Jt.RecordBatch?this._recordBatchBlocks.push(new od(d,e.bodyLength,this._position)):e.headerType===Jt.DictionaryBatch&&this._dictionaryBlocks.push(new od(d,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(d-c)),a>0&&this._write(s),this._writePadding(f)}_write(e){if(this._started){const n=At(e);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(e){return this._writeMessage(wo.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(jp)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:n,nodes:i,bufferRegions:s,buffers:a}=Li.assemble(e),c=new gr(e.numRows,i,s),d=wo.from(c,n);return this._writeDictionaries(e)._writeMessage(d)._writeBodyBuffers(a)}_writeDictionaryBatch(e,n,i=!1){this._dictionaryDeltaOffsets.set(n,e.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:s,nodes:a,bufferRegions:c,buffers:d}=Li.assemble(new Je([e])),f=new gr(e.length,a,c),u=new No(f,n,i),o=wo.from(u,s);return this._writeMessage(o)._writeBodyBuffers(d)}_writeBodyBuffers(e){let n,i,s;for(let a=-1,c=e.length;++a<c;)(n=e[a])&&(i=n.byteLength)>0&&(this._write(n),(s=(i+7&-8)-i)>0&&this._writePadding(s));return this}_writeDictionaries(e){for(let[n,i]of e.dictionaries){let s=this._dictionaryDeltaOffsets.get(n)||0;if(s===0||(i=i==null?void 0:i.slice(s)).length>0)for(const a of i.data)this._writeDictionaryBatch(a,n,s>0),s+=a.length}return this}},tE=class lz extends H3{static writeAll(e,n){const i=new lz(n);return sd(e)?e.then(s=>i.writeAll(s)):Pu(e)?rE(i,e):sE(i,e)}},nE=class cz extends H3{static writeAll(e){const n=new cz;return sd(e)?e.then(i=>n.writeAll(i)):Pu(e)?rE(n,e):sE(n,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){const n=Up.encode(new Up(e,Ms.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}};class iE extends H3{static writeAll(e){return new iE().writeAll(e)}constructor(){super(),this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(n=>dz(n))},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,n,i=!1){return this._dictionaryDeltaOffsets.set(n,e.length+(this._dictionaryDeltaOffsets.get(n)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${jse(e,n,i)}`),this._dictionaryBlocks.push(new od(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(const e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,n=this._recordBatches.length;++e<n;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${Vse(this._recordBatches[e])}`),this._recordBatchBlocks.push(new od(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}}function sE(t,e){let n=e;e instanceof qr&&(n=e.batches,t.reset(void 0,e.schema));for(const i of n)t.write(i);return t.finish()}function rE(t,e){var n,i,s,a,c,d,f;return ge(this,void 0,void 0,function*(){try{for(n=!0,i=fs(e);s=yield i.next(),a=s.done,!a;){f=s.value,n=!1;try{const u=f;t.write(u)}finally{n=!0}}}catch(u){c={error:u}}finally{try{!n&&!a&&(d=i.return)&&(yield d.call(i))}finally{if(c)throw c.error}}return t.finish()})}function dz({name:t,type:e,nullable:n}){const i=new Hse;return{name:t,nullable:n,type:i.visit(e),children:(e.children||[]).map(s=>dz(s)),dictionary:Ze.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:i.visit(e.indices)}:void 0}}function jse(t,e,n=!1){const[i]=P6.assemble(new xi({[e]:t}));return JSON.stringify({id:e,isDelta:n,data:{count:t.length,columns:i}},null,2)}function Vse(t){const[e]=P6.assemble(t);return JSON.stringify({count:t.numRows,columns:e},null,2)}function qse(t,e){if(Pu(t))return Wse(t,e);if(I2(t))return Gse(t,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}function Gse(t,e){let n=null;const i=(e==null?void 0:e.type)==="bytes"||!1,s=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(c){a(c,n||(n=t[Symbol.iterator]()))},pull(c){n?a(c,n):c.close()},cancel(){(n!=null&&n.return&&n.return()||!0)&&(n=null)}}),Object.assign({highWaterMark:i?s:void 0},e));function a(c,d){let f,u=null,o=c.desiredSize||null;for(;!(u=d.next(i?o:null)).done;)if(ArrayBuffer.isView(u.value)&&(f=At(u.value))&&(o!=null&&i&&(o=o-f.byteLength+1),u.value=f),c.enqueue(u.value),o!=null&&--o<=0)return;c.close()}}function Wse(t,e){let n=null;const i=(e==null?void 0:e.type)==="bytes"||!1,s=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(c){return ge(this,void 0,void 0,function*(){yield a(c,n||(n=t[Symbol.asyncIterator]()))})},pull(c){return ge(this,void 0,void 0,function*(){n?yield a(c,n):c.close()})},cancel(){return ge(this,void 0,void 0,function*(){(n!=null&&n.return&&(yield n.return())||!0)&&(n=null)})}}),Object.assign({highWaterMark:i?s:void 0},e));function a(c,d){return ge(this,void 0,void 0,function*(){let f,u=null,o=c.desiredSize||null;for(;!(u=yield d.next(i?o:null)).done;)if(ArrayBuffer.isView(u.value)&&(f=At(u.value))&&(o!=null&&i&&(o=o-f.byteLength+1),u.value=f),c.enqueue(u.value),o!=null&&--o<=0)return;c.close()})}}function Yse(t){return new Xse(t)}class Xse{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;const{["readableStrategy"]:n,["writableStrategy"]:i,["queueingStrategy"]:s="count"}=e,a=yte(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=fu(a),this._getSize=s!=="bytes"?_A:gA;const{["highWaterMark"]:c=s==="bytes"?Math.pow(2,14):1e3}=Object.assign({},n),{["highWaterMark"]:d=s==="bytes"?Math.pow(2,14):1e3}=Object.assign({},i);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:f=>{this._maybeFlush(this._builder,this._controller=f)},start:f=>{this._maybeFlush(this._builder,this._controller=f)}},{highWaterMark:c,size:s!=="bytes"?_A:gA}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:d,size:f=>this._writeValueAndReturnChunkSize(f)})}_writeValueAndReturnChunkSize(e){const n=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-n}_maybeFlush(e,n){n!=null&&(this._bufferedSize>=n.desiredSize&&++this._numChunks&&this._enqueue(n,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(n,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(n,null)))}_enqueue(e,n){this._bufferedSize=0,this._controller=null,n==null?e.close():e.enqueue(n)}}const _A=t=>{var e;return(e=t==null?void 0:t.length)!==null&&e!==void 0?e:0},gA=t=>{var e;return(e=t==null?void 0:t.byteLength)!==null&&e!==void 0?e:0};function aE(t,e){const n=new d1;let i=null;const s=new ReadableStream({cancel(){return ge(this,void 0,void 0,function*(){yield n.close()})},start(d){return ge(this,void 0,void 0,function*(){yield c(d,i||(i=yield a()))})},pull(d){return ge(this,void 0,void 0,function*(){i?yield c(d,i):d.close()})}});return{writable:new WritableStream(n,Object.assign({highWaterMark:Math.pow(2,14)},t)),readable:s};function a(){return ge(this,void 0,void 0,function*(){return yield(yield Od.from(n)).open(e)})}function c(d,f){return ge(this,void 0,void 0,function*(){let u=d.desiredSize,o=null;for(;!(o=yield f.next()).done;)if(d.enqueue(o.value),u!=null&&--u<=0)return;d.close()})}}function oE(t,e){const n=new this(t),i=new D1(n),s=new ReadableStream({cancel(){return ge(this,void 0,void 0,function*(){yield i.cancel()})},pull(c){return ge(this,void 0,void 0,function*(){yield a(c)})},start(c){return ge(this,void 0,void 0,function*(){yield a(c)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(n,t),readable:s};function a(c){return ge(this,void 0,void 0,function*(){let d=null,f=c.desiredSize;for(;d=yield i.read(f||null);)if(c.enqueue(d),f!=null&&(f-=d.byteLength)<=0)return;c.close()})}}function fz(t){const e=Od.from(t);return sd(e)?e.then(n=>fz(n)):e.isAsync()?e.readAll().then(n=>new qr(n)):new qr(e.readAll())}function Kse(t,e="stream"){return(e==="stream"?tE:nE).writeAll(t).toUint8Array(!0)}const Zse=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ine),Hie),Lie),wne),Kte),mie),{compareSchemas:i4,compareFields:Qie,compareTypes:zU});lr.toDOMStream=qse;Ki.throughDOM=Yse;Od.throughDOM=aE;D6.throughDOM=aE;$1.throughDOM=aE;H3.throughDOM=oE;nE.throughDOM=oE;tE.throughDOM=oE;const Jse=Object.freeze(Object.defineProperty({__proto__:null,AsyncByteQueue:d1,AsyncByteStream:D1,AsyncMessageReader:QU,AsyncRecordBatchFileReader:nz,AsyncRecordBatchStreamReader:Vp,Binary:Rp,BinaryBuilder:kv,Bool:k1,BoolBuilder:bU,get BufferType(){return aa},Builder:Ki,ByteStream:zp,Data:hn,DataType:Ze,DateBuilder:C3,DateDay:sne,DateDayBuilder:Fv,DateMillisecond:E$,DateMillisecondBuilder:Mv,get DateUnit(){return zs},Date_:lu,Decimal:Dp,DecimalBuilder:Av,DenseUnion:_ne,DenseUnionBuilder:UU,Dictionary:Xl,DictionaryBuilder:TU,Field:rn,FixedSizeBinary:Pp,FixedSizeBinaryBuilder:Ov,FixedSizeList:F1,FixedSizeListBuilder:vU,Float:Wl,Float16:v$,Float16Builder:EU,Float32:iv,Float32Builder:SU,Float64:x6,Float64Builder:xU,FloatBuilder:R3,Int:Wi,Int16:JT,Int16Builder:IU,Int32:rd,Int32Builder:kU,Int64:S6,Int64Builder:FU,Int8:ZT,Int8Builder:BU,IntBuilder:Yo,Interval:cu,IntervalBuilder:D3,IntervalDayTime:hne,IntervalDayTimeBuilder:Nv,get IntervalUnit(){return jr},IntervalYearMonth:pne,IntervalYearMonthBuilder:Cv,JSONMessageReader:ez,List:du,ListBuilder:CU,MapBuilder:RU,MapRow:O3,Map_:M1,Message:wo,get MessageHeader(){return Hp},MessageReader:Jv,get MetadataVersion(){return Ms},Null:Fo,NullBuilder:DU,get Precision(){return ri},RecordBatch:xi,RecordBatchFileReader:D6,RecordBatchFileWriter:nE,RecordBatchJSONWriter:iE,RecordBatchReader:Od,RecordBatchStreamReader:$1,RecordBatchStreamWriter:tE,RecordBatchWriter:H3,Schema:Sn,SparseUnion:gne,SparseUnionBuilder:$U,Struct:fi,StructBuilder:PU,StructRow:B6,Table:qr,Time:Mo,TimeBuilder:zu,TimeMicrosecond:one,TimeMicrosecondBuilder:Hv,TimeMillisecond:ane,TimeMillisecondBuilder:zv,TimeNanosecond:lne,TimeNanosecondBuilder:jv,TimeSecond:rne,TimeSecondBuilder:Uv,get TimeUnit(){return dt},Timestamp:Yl,TimestampBuilder:Uu,TimestampMicrosecond:fne,TimestampMicrosecondBuilder:Pv,TimestampMillisecond:dne,TimestampMillisecondBuilder:Dv,TimestampNanosecond:une,TimestampNanosecondBuilder:$v,TimestampSecond:cne,TimestampSecondBuilder:Rv,get Type(){return ne},Uint16:ev,Uint16Builder:AU,Uint32:tv,Uint32Builder:OU,Uint64:nv,Uint64Builder:NU,Uint8:QT,Uint8Builder:MU,Union:ad,UnionBuilder:N6,get UnionMode(){return wi},Utf8:I1,Utf8Builder:Vv,Vector:Je,Visitor:xt,builderThroughAsyncIterable:tse,builderThroughIterable:HU,makeBuilder:fu,makeData:Ke,makeTable:sse,makeVector:M6,tableFromArrays:rse,tableFromIPC:fz,tableFromJSON:ese,tableToIPC:Kse,util:Zse,vectorFromArray:Yv},Symbol.toStringTag,{value:"Module"}));function Qse(t,e,n){return Math.ceil((e-t)/(3.49*n))}const ere=Float64Array,a8=Float64Array;var tre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nre(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){if(this instanceof i){var s=[null];s.push.apply(s,arguments);var a=Function.bind.apply(e,s);return new a}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}function ire(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}var sre=ire;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var rre=function(t){return t!=null&&(uz(t)||are(t)||!!t._isBuffer)};function uz(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function are(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&uz(t.slice(0,0))}var ore=sre,lre=rre,cre=typeof Float64Array<"u";function dre(t,e){return t[0]-e[0]}function fre(){var t=this.stride,e=new Array(t.length),n;for(n=0;n<e.length;++n)e[n]=[Math.abs(t[n]),n];e.sort(dre);var i=new Array(e.length);for(n=0;n<i.length;++n)i[n]=e[n][1];return i}function ure(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var i=t==="generic";if(e===-1){var s="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",b=new Function(s);return b()}else if(e===0){var s="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",b=new Function("TrivialArray",s);return b(l4[t][0])}var s=["'use strict'"],a=ore(e),c=a.map(function(L){return"i"+L}),d="this.offset+"+a.map(function(L){return"this.stride["+L+"]*i"+L}).join("+"),f=a.map(function(L){return"b"+L}).join(","),u=a.map(function(L){return"c"+L}).join(",");s.push("function "+n+"(a,"+f+","+u+",d){this.data=a","this.shape=["+f+"]","this.stride=["+u+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),s.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map(function(L){return"this.shape["+L+"]"}).join("*"),"}})"),e===1?s.push("proto.order=[0]"):(s.push("Object.defineProperty(proto,'order',{get:"),e<4?(s.push("function "+n+"_order(){"),e===2?s.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):e===3&&s.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):s.push("ORDER})")),s.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),i?s.push("return this.data.set("+d+",v)}"):s.push("return this.data["+d+"]=v}"),s.push("proto.get=function "+n+"_get("+c.join(",")+"){"),i?s.push("return this.data.get("+d+")}"):s.push("return this.data["+d+"]}"),s.push("proto.index=function "+n+"_index(",c.join(),"){return "+d+"}"),s.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+a.map(function(L){return["(typeof i",L,"!=='number'||i",L,"<0)?this.shape[",L,"]:i",L,"|0"].join("")}).join(",")+","+a.map(function(L){return"this.stride["+L+"]"}).join(",")+",this.offset)}");var o=a.map(function(L){return"a"+L+"=this.shape["+L+"]"}),g=a.map(function(L){return"c"+L+"=this.stride["+L+"]"});s.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+o.join(",")+","+g.join(","));for(var y=0;y<e;++y)s.push("if(typeof i"+y+"==='number'&&i"+y+">=0){d=i"+y+"|0;b+=c"+y+"*d;a"+y+"-=d}");s.push("return new "+n+"(this.data,"+a.map(function(L){return"a"+L}).join(",")+","+a.map(function(L){return"c"+L}).join(",")+",b)}"),s.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+a.map(function(L){return"a"+L+"=this.shape["+L+"]"}).join(",")+","+a.map(function(L){return"b"+L+"=this.stride["+L+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var y=0;y<e;++y)s.push("if(typeof i"+y+"==='number'){d=i"+y+"|0;if(d<0){c+=b"+y+"*(a"+y+"-1);a"+y+"=ceil(-a"+y+"/d)}else{a"+y+"=ceil(a"+y+"/d)}b"+y+"*=d}");s.push("return new "+n+"(this.data,"+a.map(function(L){return"a"+L}).join(",")+","+a.map(function(L){return"b"+L}).join(",")+",c)}");for(var m=new Array(e),l=new Array(e),y=0;y<e;++y)m[y]="a[i"+y+"]",l[y]="b[i"+y+"]";s.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(L,E){return L+"=("+L+"===undefined?"+E+":"+L+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+m.join(",")+","+l.join(",")+",this.offset)}"),s.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var y=0;y<e;++y)s.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");s.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),s.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map(function(L){return"shape["+L+"]"}).join(",")+","+a.map(function(L){return"stride["+L+"]"}).join(",")+",offset)}");var b=new Function("CTOR_LIST","ORDER",s.join(`
`));return b(l4[t],fre)}function hre(t){if(lre(t))return"buffer";if(cre)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}var l4={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function pre(t,e,n,i){if(t===void 0){var u=l4.array[0];return u([])}else typeof t=="number"&&(t=[t]);e===void 0&&(e=[t.length]);var s=e.length;if(n===void 0){n=new Array(s);for(var a=s-1,c=1;a>=0;--a)n[a]=c,c*=e[a]}if(i===void 0){i=0;for(var a=0;a<s;++a)n[a]<0&&(i-=(e[a]-1)*n[a])}for(var d=hre(t),f=l4[d];f.length<=s+1;)f.push(ure(d,f.length-1));var u=f[s+1];return u(t,e,n,i)}var _re=pre;const gre=Cd(_re);var U0="n",$h="d",Ef="s",c4="p",Sf="o",_m="i",yre=wre;function hb(t,e,n){if(n===0){for(var i=[[]],s=0;s<e.length;++s)if(!e[s])for(var a=i.length,c=0;c<a;++c){var d=i[c].slice();d.push(Ef+s),i.push(d)}if(i.length===1)return"";var f=[];t==="generic"?f.push($h,".set(",Sf,",",$h,".get(",Sf,")+"):f.push($h,"[",Sf,"]+=");for(var s=1;s<i.length;++s){var d=i[s],u=(d.length+1)%2;s>1&&!u?f.push("+"):u&&f.push("-"),t==="generic"?f.push($h,".get("):f.push($h,"["),f.push(Sf,"-",d.join("-")),t==="generic"?f.push(")"):f.push("]")}return t==="generic"?f.push(");"):f.push(";"),f.join("")}e[n-1]=!0;var o=[hb(t,e,n-1),Sf,"+=",c4,n-1,";for(",_m,n-1,"=1;",_m,n-1,"<",U0,n-1,";++",_m,n-1,"){"];return e[n-1]=!1,o.push(hb(t,e,n-1),Sf,"+=",c4,n-1,";}"),o.join("")}function mre(t,e){for(var n=["prefixSum",e.length,"d",t,"s",e.join("s")].join(""),i=["function ",n,"(arr){var ",$h,"=arr.data,",U0,"=arr.shape,",Ef,"=arr.stride,",Sf,"=arr.offset,"],s=e.length,a=0;a<s;++a)i.push(U0,a,"=",U0,"[",e[a],"],");for(var a=0;a<s;++a)i.push(Ef,a,"=",Ef,"[",e[a],"],");for(var a=0;a<s;++a)i.push(_m,a,"=0,");for(var a=s-1;a>0;--a)i.push(c4,a,"=",Ef,a,"-",U0,a-1,"*",Ef,a-1,",");i.push(c4,"0=",Ef,0,";");for(var c=new Array(s),a=0;a<s;++a)c[a]=!0;i.push(hb(t,c,s),"}return ",n);var d=new Function(i.join(""));return d()}var yA={};function wre(t){var e=t.dtype+t.order.join(),n=yA[e];return n||(n=yA[e]=mre(t.dtype,t.order)),n(t),t}const Lre=Cd(yre);var hz={};function bre(t,e){for(var n=1,i=t.length,s=t[0],a=t[0],c=1;c<i;++c)if(a=s,s=t[c],e(s,a)){if(c===n){n++;continue}t[n++]=s}return t.length=n,t}function Tre(t){for(var e=1,n=t.length,i=t[0],s=t[0],a=1;a<n;++a,s=i)if(s=i,i=t[a],i!==s){if(a===e){e++;continue}t[e++]=i}return t.length=e,t}function vre(t,e,n){return t.length===0?t:e?(n||t.sort(e),bre(t,e)):(n||t.sort(),Tre(t))}var Ere=vre,Sre=Ere;function pz(t,e,n){var i=t.length,s=e.arrayArgs.length,a=e.indexArgs.length>0,c=[],d=[],f=0,u=0,o,g;for(o=0;o<i;++o)d.push(["i",o,"=0"].join(""));for(g=0;g<s;++g)for(o=0;o<i;++o)u=f,f=t[o],o===0?d.push(["d",g,"s",o,"=t",g,"p",f].join("")):d.push(["d",g,"s",o,"=(t",g,"p",f,"-s",u,"*t",g,"p",u,")"].join(""));for(d.length>0&&c.push("var "+d.join(",")),o=i-1;o>=0;--o)f=t[o],c.push(["for(i",o,"=0;i",o,"<s",f,";++i",o,"){"].join(""));for(c.push(n),o=0;o<i;++o){for(u=f,f=t[o],g=0;g<s;++g)c.push(["p",g,"+=d",g,"s",o].join(""));a&&(o>0&&c.push(["index[",u,"]-=s",u].join("")),c.push(["++index[",f,"]"].join(""))),c.push("}")}return c.join(`
`)}function xre(t,e,n,i){for(var s=e.length,a=n.arrayArgs.length,c=n.blockSize,d=n.indexArgs.length>0,f=[],u=0;u<a;++u)f.push(["var offset",u,"=p",u].join(""));for(var u=t;u<s;++u)f.push(["for(var j"+u+"=SS[",e[u],"]|0;j",u,">0;){"].join("")),f.push(["if(j",u,"<",c,"){"].join("")),f.push(["s",e[u],"=j",u].join("")),f.push(["j",u,"=0"].join("")),f.push(["}else{s",e[u],"=",c].join("")),f.push(["j",u,"-=",c,"}"].join("")),d&&f.push(["index[",e[u],"]=j",u].join(""));for(var u=0;u<a;++u){for(var o=["offset"+u],g=t;g<s;++g)o.push(["j",g,"*t",u,"p",e[g]].join(""));f.push(["p",u,"=(",o.join("+"),")"].join(""))}f.push(pz(e,n,i));for(var u=t;u<s;++u)f.push("}");return f.join(`
`)}function Bre(t){for(var e=0,n=t[0].length;e<n;){for(var i=1;i<t.length;++i)if(t[i][e]!==t[0][e])return e;++e}return e}function o8(t,e,n){for(var i=t.body,s=[],a=[],c=0;c<t.args.length;++c){var d=t.args[c];if(!(d.count<=0)){var f=new RegExp(d.name,"g"),u="",o=e.arrayArgs.indexOf(c);switch(e.argTypes[c]){case"offset":var g=e.offsetArgIndex.indexOf(c),y=e.offsetArgs[g];o=y.array,u="+q"+g;case"array":u="p"+o+u;var m="l"+c,l="a"+o;if(e.arrayBlockIndices[o]===0)d.count===1?n[o]==="generic"?d.lvalue?(s.push(["var ",m,"=",l,".get(",u,")"].join("")),i=i.replace(f,m),a.push([l,".set(",u,",",m,")"].join(""))):i=i.replace(f,[l,".get(",u,")"].join("")):i=i.replace(f,[l,"[",u,"]"].join("")):n[o]==="generic"?(s.push(["var ",m,"=",l,".get(",u,")"].join("")),i=i.replace(f,m),d.lvalue&&a.push([l,".set(",u,",",m,")"].join(""))):(s.push(["var ",m,"=",l,"[",u,"]"].join("")),i=i.replace(f,m),d.lvalue&&a.push([l,"[",u,"]=",m].join("")));else{for(var b=[d.name],L=[u],E=0;E<Math.abs(e.arrayBlockIndices[o]);E++)b.push("\\s*\\[([^\\]]+)\\]"),L.push("$"+(E+1)+"*t"+o+"b"+E);if(f=new RegExp(b.join(""),"g"),u=L.join("+"),n[o]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");i=i.replace(f,[l,"[",u,"]"].join(""))}break;case"scalar":i=i.replace(f,"Y"+e.scalarArgs.indexOf(c));break;case"index":i=i.replace(f,"index");break;case"shape":i=i.replace(f,"shape");break}}}return[s.join(`
`),i,a.join(`
`)].join(`
`).trim()}function Ire(t){for(var e=new Array(t.length),n=!0,i=0;i<t.length;++i){var s=t[i],a=s.match(/\d+/);a?a=a[0]:a="",s.charAt(0)===0?e[i]="u"+s.charAt(1)+a:e[i]=s.charAt(0)+a,i>0&&(n=n&&e[i]===e[i-1])}return n?e[0]:e.join("")}function kre(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,i=new Array(t.arrayArgs.length),s=new Array(t.arrayArgs.length),a=0;a<t.arrayArgs.length;++a)s[a]=e[2*a],i[a]=e[2*a+1];for(var c=[],d=[],f=[],u=[],o=[],a=0;a<t.arrayArgs.length;++a){t.arrayBlockIndices[a]<0?(f.push(0),u.push(n),c.push(n),d.push(n+t.arrayBlockIndices[a])):(f.push(t.arrayBlockIndices[a]),u.push(t.arrayBlockIndices[a]+n),c.push(0),d.push(t.arrayBlockIndices[a]));for(var g=[],y=0;y<i[a].length;y++)f[a]<=i[a][y]&&i[a][y]<u[a]&&g.push(i[a][y]-f[a]);o.push(g)}for(var m=["SS"],l=["'use strict'"],b=[],y=0;y<n;++y)b.push(["s",y,"=SS[",y,"]"].join(""));for(var a=0;a<t.arrayArgs.length;++a){m.push("a"+a),m.push("t"+a),m.push("p"+a);for(var y=0;y<n;++y)b.push(["t",a,"p",y,"=t",a,"[",f[a]+y,"]"].join(""));for(var y=0;y<Math.abs(t.arrayBlockIndices[a]);++y)b.push(["t",a,"b",y,"=t",a,"[",c[a]+y,"]"].join(""))}for(var a=0;a<t.scalarArgs.length;++a)m.push("Y"+a);if(t.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var L=new Array(n),a=0;a<n;++a)L[a]="0";b.push(["index=[",L.join(","),"]"].join(""))}for(var a=0;a<t.offsetArgs.length;++a){for(var E=t.offsetArgs[a],S=[],y=0;y<E.offset.length;++y)E.offset[y]!==0&&(E.offset[y]===1?S.push(["t",E.array,"p",y].join("")):S.push([E.offset[y],"*t",E.array,"p",y].join("")));S.length===0?b.push("q"+a+"=0"):b.push(["q",a,"=",S.join("+")].join(""))}var x=Sre([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));b=b.concat(x),b.length>0&&l.push("var "+b.join(","));for(var a=0;a<t.arrayArgs.length;++a)l.push("p"+a+"|=0");t.pre.body.length>3&&l.push(o8(t.pre,t,s));var k=o8(t.body,t,s),B=Bre(o);B<n?l.push(xre(B,o[0],t,k)):l.push(pz(o[0],t,k)),t.post.body.length>3&&l.push(o8(t.post,t,s)),t.debug&&console.log("-----Generated cwise routine for ",e,`:
`+l.join(`
`)+`
----------`);var A=[t.funcName||"unnamed","_cwise_loop_",i[0].join("s"),"m",B,Ire(s)].join(""),M=new Function(["function ",A,"(",m.join(","),"){",l.join(`
`),"} return ",A].join(""));return M()}var Fre=kre,Mre=Fre;function Are(t){var e=["'use strict'","var CACHED={}"],n=[],i=t.funcName+"_cwise_thunk";e.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var s=[],a=[],c=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],d=[],f=[],u=0;u<t.arrayArgs.length;++u){var o=t.arrayArgs[u];n.push(["t",o,"=array",o,".dtype,","r",o,"=array",o,".order"].join("")),s.push("t"+o),s.push("r"+o),a.push("t"+o),a.push("r"+o+".join()"),c.push("array"+o+".data"),c.push("array"+o+".stride"),c.push("array"+o+".offset|0"),u>0&&(d.push("array"+t.arrayArgs[0]+".shape.length===array"+o+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[u]))),f.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+o+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[u])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+d.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var u=0;u<t.scalarArgs.length;++u)c.push("scalar"+t.scalarArgs[u]);n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",s.join(","),"])}","return proc(",c.join(","),")}"].join("")),t.debug&&console.log(`-----Generated thunk:
`+e.join(`
`)+`
----------`);var g=new Function("compile",e.join(`
`));return g(Mre.bind(void 0,t))}var Ore=Are,Nre=Ore;function Cre(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function Rre(t){var e=new Cre;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var i=0;i<n.length;++i){var s=n[i];if(s==="array"||typeof s=="object"&&s.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if(s==="scalar")e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if(s==="index"){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if(s==="shape"){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof s=="object"&&s.offset)e.argTypes[i]="offset",e.offsetArgs.push({array:s.array,offset:s.offset}),e.offsetArgIndex.push(i);else throw new Error("cwise: Unknown argument type "+n[i])}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,Nre(e)}var Dre=Rre;(function(t){var e=Dre,n={body:"",args:[],thisVars:[],localVars:[]};function i(y){if(!y)return n;for(var m=0;m<y.args.length;++m){var l=y.args[m];m===0?y.args[m]={name:l,lvalue:!0,rvalue:!!y.rvalue,count:y.count||1}:y.args[m]={name:l,lvalue:!1,rvalue:!0,count:1}}return y.thisVars||(y.thisVars=[]),y.localVars||(y.localVars=[]),y}function s(y){return e({args:y.args,pre:i(y.pre),body:i(y.body),post:i(y.proc),funcName:y.funcName})}function a(y){for(var m=[],l=0;l<y.args.length;++l)m.push("a"+l);var b=new Function("P",["return function ",y.funcName,"_ndarrayops(",m.join(","),") {P(",m.join(","),");return a0}"].join(""));return b(s(y))}var c={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var y in c){var m=c[y];t[y]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+m+"c"},funcName:y}),t[y+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+m+"=b"},rvalue:!0,funcName:y+"eq"}),t[y+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+m+"s"},funcName:y+"s"}),t[y+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+m+"=s"},rvalue:!0,funcName:y+"seq"})}})();var d={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var y in d){var m=d[y];t[y]=a({args:["array","array"],body:{args:["a","b"],body:"a="+m+"b"},funcName:y}),t[y+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+m+"a"},rvalue:!0,count:2,funcName:y+"eq"})}})();var f={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var y in f){var m=f[y];t[y]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+m+"c"},funcName:y}),t[y+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+m+"s"},funcName:y+"s"}),t[y+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+m+"b"},rvalue:!0,count:2,funcName:y+"eq"}),t[y+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+m+"s"},rvalue:!0,count:2,funcName:y+"seq"})}})();var u=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var y=0;y<u.length;++y){var m=u[y];t[m]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:m}),t[m+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"eq"})}})();var o=["max","min","atan2","pow"];(function(){for(var y=0;y<o.length;++y){var m=o[y];t[m]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:m}),t[m+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:m+"s"}),t[m+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"eq"}),t[m+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"seq"})}})();var g=["atan2","pow"];(function(){for(var y=0;y<g.length;++y){var m=g[y];t[m+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:m+"op"}),t[m+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:m+"ops"}),t[m+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"opeq"}),t[m+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"opseq"})}})(),t.any=e({args:["array"],pre:n,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=e({args:["array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=e({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=e({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=e({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=e({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=e({args:["array","array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(hz);const oy=Cd(hz),Uh=class{constructor(t,e,n,i){this.data=t,this.ndarray=gre(t,e,n,i)}get shape(){return this.ndarray.shape}get offset(){return this.ndarray.offset}get strides(){return this.ndarray.stride}get length(){return this.ndarray.size}set shape(t){this.ndarray.shape=t}set offset(t){this.ndarray.offset=t}set strides(t){this.ndarray.stride=t}get(...t){return this.ndarray.get(...t)}set(...t){return this.ndarray.set(...t)}fill(t){this.data.fill(t)}increment(t,e=1){const n=this.ndarray.index(...t);this.data[n]+=e}addToItself(t){return oy.addeq(this.ndarray,t.ndarray),this}subToItself(t){return oy.subeq(this.ndarray,t.ndarray),this}add(t,e=a8){const n=new Uh(new e(this.length),this.shape);return oy.add(n.ndarray,this.ndarray,t.ndarray),n}sub(t,e=a8){const n=new Uh(new e(this.length),this.shape);return oy.sub(n.ndarray,this.ndarray,t.ndarray),n}slice(...t){const e=this.ndarray.pick(...t);return new Uh(this.data,e.shape,e.stride,e.offset)}cumulativeSum(){return Lre(this.ndarray),this}static typedArray(t,e,n,i,s){const a=new t(e);return new Uh(a,n,i,s)}static allocCumulative(t,e,n,i){return this.typedArray(ere,t,e,n,i)}static allocCounts(t,e,n,i){return this.typedArray(a8,t,e,n,i)}toString2D(){let t="";for(let e=0;e<this.shape[0];e++){let n="";for(let i=0;i<this.shape[1];i++)n+=this.get(e,i)+" ";t+=n+`
`}return t}toString1D(){let t="";for(let e=0;e<this.shape[0];e++)t+=this.get(e)+" ";return t}toString(){return this.shape.length===1?this.toString1D():this.shape.length===2?this.toString2D():"not implemented yet"}deepCopy(t){const e=Uh.typedArray(t,this.length,this.shape,this.strides,this.offset);for(let n=0;n<this.length;n++)e.data[n]=this.data[n];return e}};let rr=Uh;rr.ALL=null;function Pl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j3(t){let e,n,i;t.length!==2?(e=Pl,n=(d,f)=>Pl(t(d),f),i=(d,f)=>t(d)-f):(e=t===Pl||t===Pre?t:$re,n=t,i=t);function s(d,f,u=0,o=d.length){if(u<o){if(e(f,f)!==0)return o;do{const g=u+o>>>1;n(d[g],f)<0?u=g+1:o=g}while(u<o)}return u}function a(d,f,u=0,o=d.length){if(u<o){if(e(f,f)!==0)return o;do{const g=u+o>>>1;n(d[g],f)<=0?u=g+1:o=g}while(u<o)}return u}function c(d,f,u=0,o=d.length){const g=s(d,f,u,o-1);return g>u&&i(d[g-1],f)>-i(d[g],f)?g-1:g}return{left:s,center:c,right:a}}function $re(){return 0}function _z(t){return t===null?NaN:+t}function*Ure(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&(yield i)}}const gz=j3(Pl),d4=gz.right,zre=gz.left;j3(_z).center;const V3=d4;function Hre(t,e){let n=0,i,s=0,a=0;if(e===void 0)for(let c of t)c!=null&&(c=+c)>=c&&(i=c-s,s+=i/++n,a+=i*(c-s));else{let c=-1;for(let d of t)(d=e(d,++c,t))!=null&&(d=+d)>=d&&(i=d-s,s+=i/++n,a+=i*(d-s))}if(n>1)return a/(n-1)}function jre(t,e){const n=Hre(t,e);return n&&Math.sqrt(n)}function yz(t,e){let n,i;if(e===void 0)for(const s of t)s!=null&&(n===void 0?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)));else{let s=-1;for(let a of t)(a=e(a,++s,t))!=null&&(n===void 0?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}class us{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let s=0;s<this._n&&s<32;s++){const a=n[s],c=e+a,d=Math.abs(e)<Math.abs(a)?e-(c-a):a-(c-e);d&&(n[i++]=d),e=c}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,s,a,c=0;if(n>0){for(c=e[--n];n>0&&(i=c,s=e[--n],c=i+s,a=s-(c-i),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(s=a*2,i=c+s,s==i-c&&(c=i))}return c}}class mA extends Map{constructor(e,n=Lz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,s]of e)this.set(i,s)}get(e){return super.get(pb(this,e))}has(e){return super.has(pb(this,e))}set(e,n){return super.set(mz(this,e),n)}delete(e){return super.delete(wz(this,e))}}class f4 extends Set{constructor(e,n=Lz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const i of e)this.add(i)}has(e){return super.has(pb(this,e))}add(e){return super.add(mz(this,e))}delete(e){return super.delete(wz(this,e))}}function pb({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function mz({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function wz({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function Lz(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Vre(t,e){return Array.from(e,n=>t[n])}function qre(t=Pl){if(t===Pl)return bz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function bz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Gre=Math.sqrt(50),Wre=Math.sqrt(10),Yre=Math.sqrt(2);function u4(t,e,n){const i=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(i)),a=i/Math.pow(10,s),c=a>=Gre?10:a>=Wre?5:a>=Yre?2:1;let d,f,u;return s<0?(u=Math.pow(10,-s)/c,d=Math.round(t*u),f=Math.round(e*u),d/u<t&&++d,f/u>e&&--f,u=-u):(u=Math.pow(10,s)*c,d=Math.round(t/u),f=Math.round(e/u),d*u<t&&++d,f*u>e&&--f),f<d&&.5<=n&&n<2?u4(t,e,n*2):[d,f,u]}function _b(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[s,a,c]=i?u4(e,t,n):u4(t,e,n);if(!(a>=s))return[];const d=a-s+1,f=new Array(d);if(i)if(c<0)for(let u=0;u<d;++u)f[u]=(a-u)/-c;else for(let u=0;u<d;++u)f[u]=(a-u)*c;else if(c<0)for(let u=0;u<d;++u)f[u]=(s+u)/-c;else for(let u=0;u<d;++u)f[u]=(s+u)*c;return f}function gb(t,e,n){return e=+e,t=+t,n=+n,u4(t,e,n)[2]}function ld(t,e,n){e=+e,t=+t,n=+n;const i=e<t,s=i?gb(e,t,n):gb(t,e,n);return(i?-1:1)*(s<0?1/-s:s)}function Kf(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function yb(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function Tz(t,e,n=0,i=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(s=s===void 0?bz:qre(s);i>n;){if(i-n>600){const f=i-n+1,u=e-n+1,o=Math.log(f),g=.5*Math.exp(2*o/3),y=.5*Math.sqrt(o*g*(f-g)/f)*(u-f/2<0?-1:1),m=Math.max(n,Math.floor(e-u*g/f+y)),l=Math.min(i,Math.floor(e+(f-u)*g/f+y));Tz(t,e,m,l,s)}const a=t[e];let c=n,d=i;for(i0(t,n,e),s(t[i],a)>0&&i0(t,n,i);c<d;){for(i0(t,c,d),++c,--d;s(t[c],a)<0;)++c;for(;s(t[d],a)>0;)--d}s(t[n],a)===0?i0(t,n,d):(++d,i0(t,d,i)),d<=e&&(n=d+1),e<=d&&(i=d-1)}return t}function i0(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function mb(t,e,n){if(t=Float64Array.from(Ure(t,n)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return yb(t);if(e>=1)return Kf(t);var i,s=(i-1)*e,a=Math.floor(s),c=Kf(Tz(t,a).subarray(0,a+1)),d=yb(t.subarray(a+1));return c+(d-c)*(s-a)}}function vz(t,e,n=_z){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,s=(i-1)*e,a=Math.floor(s),c=+n(t[a],a,t),d=+n(t[a+1],a+1,t);return c+(d-c)*(s-a)}}function Xre(t,e){let n=0,i=0;if(e===void 0)for(let s of t)s!=null&&(s=+s)>=s&&(++n,i+=s);else{let s=-1;for(let a of t)(a=e(a,++s,t))!=null&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}function Ez(t,e){return mb(t,.5,e)}function*Kre(t){for(const e of t)yield*e}function Sz(t){return Array.from(Kre(t))}function hr(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(s);++i<s;)a[i]=t+i*n;return a}function xz(t,e){let n=0;if(e===void 0)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let s of t)(s=+e(s,++i,t))&&(n+=s)}return n}function Zre(t){return t}var l8=1,c8=2,wb=3,ly=4,wA=1e-6;function Jre(t){return"translate("+t+",0)"}function Qre(t){return"translate(0,"+t+")"}function eae(t){return e=>+t(e)}function tae(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function nae(){return!this.__axis}function iae(t,e){var n=[],i=null,s=null,a=6,c=6,d=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===l8||t===ly?-1:1,o=t===ly||t===c8?"x":"y",g=t===l8||t===wb?Jre:Qre;function y(m){var l=i??(e.ticks?e.ticks.apply(e,n):e.domain()),b=s??(e.tickFormat?e.tickFormat.apply(e,n):Zre),L=Math.max(a,0)+d,E=e.range(),S=+E[0]+f,x=+E[E.length-1]+f,k=(e.bandwidth?tae:eae)(e.copy(),f),B=m.selection?m.selection():m,A=B.selectAll(".domain").data([null]),M=B.selectAll(".tick").data(l,e).order(),C=M.exit(),R=M.enter().append("g").attr("class","tick"),D=M.select("line"),$=M.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(R),D=D.merge(R.append("line").attr("stroke","currentColor").attr(o+"2",u*a)),$=$.merge(R.append("text").attr("fill","currentColor").attr(o,u*L).attr("dy",t===l8?"0em":t===wb?"0.71em":"0.32em")),m!==B&&(A=A.transition(m),M=M.transition(m),D=D.transition(m),$=$.transition(m),C=C.transition(m).attr("opacity",wA).attr("transform",function(Y){return isFinite(Y=k(Y))?g(Y+f):this.getAttribute("transform")}),R.attr("opacity",wA).attr("transform",function(Y){var z=this.parentNode.__axis;return g((z&&isFinite(z=z(Y))?z:k(Y))+f)})),C.remove(),A.attr("d",t===ly||t===c8?c?"M"+u*c+","+S+"H"+f+"V"+x+"H"+u*c:"M"+f+","+S+"V"+x:c?"M"+S+","+u*c+"V"+f+"H"+x+"V"+u*c:"M"+S+","+f+"H"+x),M.attr("opacity",1).attr("transform",function(Y){return g(k(Y)+f)}),D.attr(o+"2",u*a),$.attr(o,u*L).text(b),B.filter(nae).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===c8?"start":t===ly?"end":"middle"),B.each(function(){this.__axis=k})}return y.scale=function(m){return arguments.length?(e=m,y):e},y.ticks=function(){return n=Array.from(arguments),y},y.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),y):n.slice()},y.tickValues=function(m){return arguments.length?(i=m==null?null:Array.from(m),y):i&&i.slice()},y.tickFormat=function(m){return arguments.length?(s=m,y):s},y.tickSize=function(m){return arguments.length?(a=c=+m,y):a},y.tickSizeInner=function(m){return arguments.length?(a=+m,y):a},y.tickSizeOuter=function(m){return arguments.length?(c=+m,y):c},y.tickPadding=function(m){return arguments.length?(d=+m,y):d},y.offset=function(m){return arguments.length?(f=+m,y):f},y}function sae(t){return iae(wb,t)}var rae={value:()=>{}};function lE(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new gm(n)}function gm(t){this._=t}function aae(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}gm.prototype=lE.prototype={constructor:gm,on:function(t,e){var n=this._,i=aae(t+"",n),s,a=-1,c=i.length;if(arguments.length<2){for(;++a<c;)if((s=(t=i[a]).type)&&(s=oae(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<c;)if(s=(t=i[a]).type)n[s]=LA(n[s],t.name,e);else if(e==null)for(s in n)n[s]=LA(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gm(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,a;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,s=a.length;i<s;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],s=0,a=i.length;s<a;++s)i[s].value.apply(e,n)}};function oae(t,e){for(var n=0,i=t.length,s;n<i;++n)if((s=t[n]).name===e)return s.value}function LA(t,e,n){for(var i=0,s=t.length;i<s;++i)if(t[i].name===e){t[i]=rae,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Lb="http://www.w3.org/1999/xhtml";const bA={svg:"http://www.w3.org/2000/svg",xhtml:Lb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $6(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),bA.hasOwnProperty(e)?{space:bA[e],local:t}:t}function lae(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Lb&&e.documentElement.namespaceURI===Lb?e.createElement(t):e.createElementNS(n,t)}}function cae(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Bz(t){var e=$6(t);return(e.local?cae:lae)(e)}function dae(){}function cE(t){return t==null?dae:function(){return this.querySelector(t)}}function fae(t){typeof t!="function"&&(t=cE(t));for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var a=e[s],c=a.length,d=i[s]=new Array(c),f,u,o=0;o<c;++o)(f=a[o])&&(u=t.call(f,f.__data__,o,a))&&("__data__"in f&&(u.__data__=f.__data__),d[o]=u);return new yr(i,this._parents)}function uae(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function hae(){return[]}function Iz(t){return t==null?hae:function(){return this.querySelectorAll(t)}}function pae(t){return function(){return uae(t.apply(this,arguments))}}function _ae(t){typeof t=="function"?t=pae(t):t=Iz(t);for(var e=this._groups,n=e.length,i=[],s=[],a=0;a<n;++a)for(var c=e[a],d=c.length,f,u=0;u<d;++u)(f=c[u])&&(i.push(t.call(f,f.__data__,u,c)),s.push(f));return new yr(i,s)}function kz(t){return function(){return this.matches(t)}}function Fz(t){return function(e){return e.matches(t)}}var gae=Array.prototype.find;function yae(t){return function(){return gae.call(this.children,t)}}function mae(){return this.firstElementChild}function wae(t){return this.select(t==null?mae:yae(typeof t=="function"?t:Fz(t)))}var Lae=Array.prototype.filter;function bae(){return Array.from(this.children)}function Tae(t){return function(){return Lae.call(this.children,t)}}function vae(t){return this.selectAll(t==null?bae:Tae(typeof t=="function"?t:Fz(t)))}function Eae(t){typeof t!="function"&&(t=kz(t));for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var a=e[s],c=a.length,d=i[s]=[],f,u=0;u<c;++u)(f=a[u])&&t.call(f,f.__data__,u,a)&&d.push(f);return new yr(i,this._parents)}function Mz(t){return new Array(t.length)}function Sae(){return new yr(this._enter||this._groups.map(Mz),this._parents)}function h4(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}h4.prototype={constructor:h4,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function xae(t){return function(){return t}}function Bae(t,e,n,i,s,a){for(var c=0,d,f=e.length,u=a.length;c<u;++c)(d=e[c])?(d.__data__=a[c],i[c]=d):n[c]=new h4(t,a[c]);for(;c<f;++c)(d=e[c])&&(s[c]=d)}function Iae(t,e,n,i,s,a,c){var d,f,u=new Map,o=e.length,g=a.length,y=new Array(o),m;for(d=0;d<o;++d)(f=e[d])&&(y[d]=m=c.call(f,f.__data__,d,e)+"",u.has(m)?s[d]=f:u.set(m,f));for(d=0;d<g;++d)m=c.call(t,a[d],d,a)+"",(f=u.get(m))?(i[d]=f,f.__data__=a[d],u.delete(m)):n[d]=new h4(t,a[d]);for(d=0;d<o;++d)(f=e[d])&&u.get(y[d])===f&&(s[d]=f)}function kae(t){return t.__data__}function Fae(t,e){if(!arguments.length)return Array.from(this,kae);var n=e?Iae:Bae,i=this._parents,s=this._groups;typeof t!="function"&&(t=xae(t));for(var a=s.length,c=new Array(a),d=new Array(a),f=new Array(a),u=0;u<a;++u){var o=i[u],g=s[u],y=g.length,m=Mae(t.call(o,o&&o.__data__,u,i)),l=m.length,b=d[u]=new Array(l),L=c[u]=new Array(l),E=f[u]=new Array(y);n(o,g,b,L,E,m,e);for(var S=0,x=0,k,B;S<l;++S)if(k=b[S]){for(S>=x&&(x=S+1);!(B=L[x])&&++x<l;);k._next=B||null}}return c=new yr(c,i),c._enter=d,c._exit=f,c}function Mae(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Aae(){return new yr(this._exit||this._groups.map(Mz),this._parents)}function Oae(t,e,n){var i=this.enter(),s=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),i&&s?i.merge(s).order():s}function Nae(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,s=n.length,a=i.length,c=Math.min(s,a),d=new Array(s),f=0;f<c;++f)for(var u=n[f],o=i[f],g=u.length,y=d[f]=new Array(g),m,l=0;l<g;++l)(m=u[l]||o[l])&&(y[l]=m);for(;f<s;++f)d[f]=n[f];return new yr(d,this._parents)}function Cae(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],s=i.length-1,a=i[s],c;--s>=0;)(c=i[s])&&(a&&c.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(c,a),a=c);return this}function Rae(t){t||(t=Dae);function e(g,y){return g&&y?t(g.__data__,y.__data__):!g-!y}for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a){for(var c=n[a],d=c.length,f=s[a]=new Array(d),u,o=0;o<d;++o)(u=c[o])&&(f[o]=u);f.sort(e)}return new yr(s,this._parents).order()}function Dae(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pae(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function $ae(){return Array.from(this)}function Uae(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],s=0,a=i.length;s<a;++s){var c=i[s];if(c)return c}return null}function zae(){let t=0;for(const e of this)++t;return t}function Hae(){return!this.node()}function jae(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var s=e[n],a=0,c=s.length,d;a<c;++a)(d=s[a])&&t.call(d,d.__data__,a,s);return this}function Vae(t){return function(){this.removeAttribute(t)}}function qae(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gae(t,e){return function(){this.setAttribute(t,e)}}function Wae(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Yae(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Xae(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Kae(t,e){var n=$6(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?qae:Vae:typeof e=="function"?n.local?Xae:Yae:n.local?Wae:Gae)(n,e))}function Az(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zae(t){return function(){this.style.removeProperty(t)}}function Jae(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Qae(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function eoe(t,e,n){return arguments.length>1?this.each((e==null?Zae:typeof e=="function"?Qae:Jae)(t,e,n??"")):U1(this.node(),t)}function U1(t,e){return t.style.getPropertyValue(e)||Az(t).getComputedStyle(t,null).getPropertyValue(e)}function toe(t){return function(){delete this[t]}}function noe(t,e){return function(){this[t]=e}}function ioe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function soe(t,e){return arguments.length>1?this.each((e==null?toe:typeof e=="function"?ioe:noe)(t,e)):this.node()[t]}function Oz(t){return t.trim().split(/^|\s+/)}function dE(t){return t.classList||new Nz(t)}function Nz(t){this._node=t,this._names=Oz(t.getAttribute("class")||"")}Nz.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Cz(t,e){for(var n=dE(t),i=-1,s=e.length;++i<s;)n.add(e[i])}function Rz(t,e){for(var n=dE(t),i=-1,s=e.length;++i<s;)n.remove(e[i])}function roe(t){return function(){Cz(this,t)}}function aoe(t){return function(){Rz(this,t)}}function ooe(t,e){return function(){(e.apply(this,arguments)?Cz:Rz)(this,t)}}function loe(t,e){var n=Oz(t+"");if(arguments.length<2){for(var i=dE(this.node()),s=-1,a=n.length;++s<a;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?ooe:e?roe:aoe)(n,e))}function coe(){this.textContent=""}function doe(t){return function(){this.textContent=t}}function foe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function uoe(t){return arguments.length?this.each(t==null?coe:(typeof t=="function"?foe:doe)(t)):this.node().textContent}function hoe(){this.innerHTML=""}function poe(t){return function(){this.innerHTML=t}}function _oe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function goe(t){return arguments.length?this.each(t==null?hoe:(typeof t=="function"?_oe:poe)(t)):this.node().innerHTML}function yoe(){this.nextSibling&&this.parentNode.appendChild(this)}function moe(){return this.each(yoe)}function woe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Loe(){return this.each(woe)}function boe(t){var e=typeof t=="function"?t:Bz(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Toe(){return null}function voe(t,e){var n=typeof t=="function"?t:Bz(t),i=e==null?Toe:typeof e=="function"?e:cE(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Eoe(){var t=this.parentNode;t&&t.removeChild(this)}function Soe(){return this.each(Eoe)}function xoe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Boe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ioe(t){return this.select(t?Boe:xoe)}function koe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Foe(t){return function(e){t.call(this,e,this.__data__)}}function Moe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Aoe(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,s=e.length,a;n<s;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function Ooe(t,e,n){return function(){var i=this.__on,s,a=Foe(e);if(i){for(var c=0,d=i.length;c<d;++c)if((s=i[c]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(t.type,a,n),s={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(s):this.__on=[s]}}function Noe(t,e,n){var i=Moe(t+""),s,a=i.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var f=0,u=d.length,o;f<u;++f)for(s=0,o=d[f];s<a;++s)if((c=i[s]).type===o.type&&c.name===o.name)return o.value}return}for(d=e?Ooe:Aoe,s=0;s<a;++s)this.each(d(i[s],e,n));return this}function Dz(t,e,n){var i=Az(t),s=i.CustomEvent;typeof s=="function"?s=new s(e,n):(s=i.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function Coe(t,e){return function(){return Dz(this,t,e)}}function Roe(t,e){return function(){return Dz(this,t,e.apply(this,arguments))}}function Doe(t,e){return this.each((typeof e=="function"?Roe:Coe)(t,e))}function*Poe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],s=0,a=i.length,c;s<a;++s)(c=i[s])&&(yield c)}var Pz=[null];function yr(t,e){this._groups=t,this._parents=e}function q3(){return new yr([[document.documentElement]],Pz)}function $oe(){return this}yr.prototype=q3.prototype={constructor:yr,select:fae,selectAll:_ae,selectChild:wae,selectChildren:vae,filter:Eae,data:Fae,enter:Sae,exit:Aae,join:Oae,merge:Nae,selection:$oe,order:Cae,sort:Rae,call:Pae,nodes:$ae,node:Uae,size:zae,empty:Hae,each:jae,attr:Kae,style:eoe,property:soe,classed:loe,text:uoe,html:goe,raise:moe,lower:Loe,append:boe,insert:voe,remove:Soe,clone:Ioe,datum:koe,on:Noe,dispatch:Doe,[Symbol.iterator]:Poe};function Uoe(t){return typeof t=="string"?new yr([[document.querySelector(t)]],[document.documentElement]):new yr([[t]],Pz)}function k2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function G3(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Rd(){}var uu=.7,z1=1/uu,u1="\\s*([+-]?\\d+)\\s*",qp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zoe=/^#([0-9a-f]{3,8})$/,Hoe=new RegExp(`^rgb\\(${u1},${u1},${u1}\\)$`),joe=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),Voe=new RegExp(`^rgba\\(${u1},${u1},${u1},${qp}\\)$`),qoe=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${qp}\\)$`),Goe=new RegExp(`^hsl\\(${qp},${Eo},${Eo}\\)$`),Woe=new RegExp(`^hsla\\(${qp},${Eo},${Eo},${qp}\\)$`),TA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k2(Rd,cd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vA,formatHex:vA,formatHex8:Yoe,formatHsl:Xoe,formatRgb:EA,toString:EA});function vA(){return this.rgb().formatHex()}function Yoe(){return this.rgb().formatHex8()}function Xoe(){return $z(this).formatHsl()}function EA(){return this.rgb().formatRgb()}function cd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zoe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?SA(e):n===3?new hi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Hoe.exec(t))?new hi(e[1],e[2],e[3],1):(e=joe.exec(t))?new hi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Voe.exec(t))?cy(e[1],e[2],e[3],e[4]):(e=qoe.exec(t))?cy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Goe.exec(t))?IA(e[1],e[2]/100,e[3]/100,1):(e=Woe.exec(t))?IA(e[1],e[2]/100,e[3]/100,e[4]):TA.hasOwnProperty(t)?SA(TA[t]):t==="transparent"?new hi(NaN,NaN,NaN,0):null}function SA(t){return new hi(t>>16&255,t>>8&255,t&255,1)}function cy(t,e,n,i){return i<=0&&(t=e=n=NaN),new hi(t,e,n,i)}function fE(t){return t instanceof Rd||(t=cd(t)),t?(t=t.rgb(),new hi(t.r,t.g,t.b,t.opacity)):new hi}function dd(t,e,n,i){return arguments.length===1?fE(t):new hi(t,e,n,i??1)}function hi(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}k2(hi,dd,G3(Rd,{brighter(t){return t=t==null?z1:Math.pow(z1,t),new hi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?uu:Math.pow(uu,t),new hi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hi(Zf(this.r),Zf(this.g),Zf(this.b),p4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xA,formatHex:xA,formatHex8:Koe,formatRgb:BA,toString:BA}));function xA(){return`#${$f(this.r)}${$f(this.g)}${$f(this.b)}`}function Koe(){return`#${$f(this.r)}${$f(this.g)}${$f(this.b)}${$f((isNaN(this.opacity)?1:this.opacity)*255)}`}function BA(){const t=p4(this.opacity);return`${t===1?"rgb(":"rgba("}${Zf(this.r)}, ${Zf(this.g)}, ${Zf(this.b)}${t===1?")":`, ${t})`}`}function p4(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $f(t){return t=Zf(t),(t<16?"0":"")+t.toString(16)}function IA(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ua(t,e,n,i)}function $z(t){if(t instanceof ua)return new ua(t.h,t.s,t.l,t.opacity);if(t instanceof Rd||(t=cd(t)),!t)return new ua;if(t instanceof ua)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,s=Math.min(e,n,i),a=Math.max(e,n,i),c=NaN,d=a-s,f=(a+s)/2;return d?(e===a?c=(n-i)/d+(n<i)*6:n===a?c=(i-e)/d+2:c=(e-n)/d+4,d/=f<.5?a+s:2-a-s,c*=60):d=f>0&&f<1?0:c,new ua(c,d,f,t.opacity)}function _4(t,e,n,i){return arguments.length===1?$z(t):new ua(t,e,n,i??1)}function ua(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}k2(ua,_4,G3(Rd,{brighter(t){return t=t==null?z1:Math.pow(z1,t),new ua(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?uu:Math.pow(uu,t),new ua(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,s=2*n-i;return new hi(d8(t>=240?t-240:t+120,s,i),d8(t,s,i),d8(t<120?t+240:t-120,s,i),this.opacity)},clamp(){return new ua(kA(this.h),dy(this.s),dy(this.l),p4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=p4(this.opacity);return`${t===1?"hsl(":"hsla("}${kA(this.h)}, ${dy(this.s)*100}%, ${dy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function kA(t){return t=(t||0)%360,t<0?t+360:t}function dy(t){return Math.max(0,Math.min(1,t||0))}function d8(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Uz=Math.PI/180,zz=180/Math.PI,g4=18,Hz=.96422,jz=1,Vz=.82521,qz=4/29,h1=6/29,Gz=3*h1*h1,Zoe=h1*h1*h1;function Wz(t){if(t instanceof So)return new So(t.l,t.a,t.b,t.opacity);if(t instanceof Al)return Yz(t);t instanceof hi||(t=fE(t));var e=p8(t.r),n=p8(t.g),i=p8(t.b),s=f8((.2225045*e+.7168786*n+.0606169*i)/jz),a,c;return e===n&&n===i?a=c=s:(a=f8((.4360747*e+.3850649*n+.1430804*i)/Hz),c=f8((.0139322*e+.0971045*n+.7141733*i)/Vz)),new So(116*s-16,500*(a-s),200*(s-c),t.opacity)}function y4(t,e,n,i){return arguments.length===1?Wz(t):new So(t,e,n,i??1)}function So(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}k2(So,y4,G3(Rd,{brighter(t){return new So(this.l+g4*(t??1),this.a,this.b,this.opacity)},darker(t){return new So(this.l-g4*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Hz*u8(e),t=jz*u8(t),n=Vz*u8(n),new hi(h8(3.1338561*e-1.6168667*t-.4906146*n),h8(-.9787684*e+1.9161415*t+.033454*n),h8(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function f8(t){return t>Zoe?Math.pow(t,1/3):t/Gz+qz}function u8(t){return t>h1?t*t*t:Gz*(t-qz)}function h8(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function p8(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Joe(t){if(t instanceof Al)return new Al(t.h,t.c,t.l,t.opacity);if(t instanceof So||(t=Wz(t)),t.a===0&&t.b===0)return new Al(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*zz;return new Al(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function m4(t,e,n,i){return arguments.length===1?Joe(t):new Al(t,e,n,i??1)}function Al(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Yz(t){if(isNaN(t.h))return new So(t.l,0,0,t.opacity);var e=t.h*Uz;return new So(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}k2(Al,m4,G3(Rd,{brighter(t){return new Al(this.h,this.c,this.l+g4*(t??1),this.opacity)},darker(t){return new Al(this.h,this.c,this.l-g4*(t??1),this.opacity)},rgb(){return Yz(this).rgb()}}));var Xz=-.14861,uE=1.78277,hE=-.29227,U6=-.90649,Gp=1.97294,FA=Gp*U6,MA=Gp*uE,AA=uE*hE-U6*Xz;function Qoe(t){if(t instanceof Jf)return new Jf(t.h,t.s,t.l,t.opacity);t instanceof hi||(t=fE(t));var e=t.r/255,n=t.g/255,i=t.b/255,s=(AA*i+FA*e-MA*n)/(AA+FA-MA),a=i-s,c=(Gp*(n-s)-hE*a)/U6,d=Math.sqrt(c*c+a*a)/(Gp*s*(1-s)),f=d?Math.atan2(c,a)*zz-120:NaN;return new Jf(f<0?f+360:f,d,s,t.opacity)}function bb(t,e,n,i){return arguments.length===1?Qoe(t):new Jf(t,e,n,i??1)}function Jf(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}k2(Jf,bb,G3(Rd,{brighter(t){return t=t==null?z1:Math.pow(z1,t),new Jf(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?uu:Math.pow(uu,t),new Jf(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Uz,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),s=Math.sin(t);return new hi(255*(e+n*(Xz*i+uE*s)),255*(e+n*(hE*i+U6*s)),255*(e+n*(Gp*i)),this.opacity)}}));function Kz(t,e,n,i,s){var a=t*t,c=a*t;return((1-3*t+3*a-c)*e+(4-6*a+3*c)*n+(1+3*t+3*a-3*c)*i+c*s)/6}function Zz(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),s=t[i],a=t[i+1],c=i>0?t[i-1]:2*s-a,d=i<e-1?t[i+2]:2*a-s;return Kz((n-i/e)*e,c,s,a,d)}}function Jz(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),s=t[(i+e-1)%e],a=t[i%e],c=t[(i+1)%e],d=t[(i+2)%e];return Kz((n-i/e)*e,s,a,c,d)}}const z6=t=>()=>t;function Qz(t,e){return function(n){return t+n*e}}function ele(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function H6(t,e){var n=e-t;return n?Qz(t,n>180||n<-180?n-360*Math.round(n/360):n):z6(isNaN(t)?e:t)}function tle(t){return(t=+t)==1?pi:function(e,n){return n-e?ele(e,n,t):z6(isNaN(e)?n:e)}}function pi(t,e){var n=e-t;return n?Qz(t,n):z6(isNaN(t)?e:t)}const Wp=function t(e){var n=tle(e);function i(s,a){var c=n((s=dd(s)).r,(a=dd(a)).r),d=n(s.g,a.g),f=n(s.b,a.b),u=pi(s.opacity,a.opacity);return function(o){return s.r=c(o),s.g=d(o),s.b=f(o),s.opacity=u(o),s+""}}return i.gamma=t,i}(1);function eH(t){return function(e){var n=e.length,i=new Array(n),s=new Array(n),a=new Array(n),c,d;for(c=0;c<n;++c)d=dd(e[c]),i[c]=d.r||0,s[c]=d.g||0,a[c]=d.b||0;return i=t(i),s=t(s),a=t(a),d.opacity=1,function(f){return d.r=i(f),d.g=s(f),d.b=a(f),d+""}}}var tH=eH(Zz),nle=eH(Jz);function pE(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),s;return function(a){for(s=0;s<n;++s)i[s]=t[s]*(1-a)+e[s]*a;return i}}function nH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ile(t,e){return(nH(e)?pE:iH)(t,e)}function iH(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,s=new Array(i),a=new Array(n),c;for(c=0;c<i;++c)s[c]=Dd(t[c],e[c]);for(;c<n;++c)a[c]=e[c];return function(d){for(c=0;c<i;++c)a[c]=s[c](d);return a}}function sH(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Or(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function rH(t,e){var n={},i={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=Dd(t[s],e[s]):i[s]=e[s];return function(a){for(s in n)i[s]=n[s](a);return i}}var Tb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_8=new RegExp(Tb.source,"g");function sle(t){return function(){return t}}function rle(t){return function(e){return t(e)+""}}function _E(t,e){var n=Tb.lastIndex=_8.lastIndex=0,i,s,a,c=-1,d=[],f=[];for(t=t+"",e=e+"";(i=Tb.exec(t))&&(s=_8.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),d[c]?d[c]+=a:d[++c]=a),(i=i[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:Or(i,s)})),n=_8.lastIndex;return n<e.length&&(a=e.slice(n),d[c]?d[c]+=a:d[++c]=a),d.length<2?f[0]?rle(f[0].x):sle(e):(e=f.length,function(u){for(var o=0,g;o<e;++o)d[(g=f[o]).i]=g.x(u);return d.join("")})}function Dd(t,e){var n=typeof e,i;return e==null||n==="boolean"?z6(e):(n==="number"?Or:n==="string"?(i=cd(e))?(e=i,Wp):_E:e instanceof cd?Wp:e instanceof Date?sH:nH(e)?pE:Array.isArray(e)?iH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rH:Or)(t,e)}function ale(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function ole(t,e){var n=H6(+t,+e);return function(i){var s=n(i);return s-360*Math.floor(s/360)}}function W3(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var OA=180/Math.PI,vb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aH(t,e,n,i,s,a){var c,d,f;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(f=t*n+e*i)&&(n-=t*f,i-=e*f),(d=Math.sqrt(n*n+i*i))&&(n/=d,i/=d,f/=d),t*i<e*n&&(t=-t,e=-e,f=-f,c=-c),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*OA,skewX:Math.atan(f)*OA,scaleX:c,scaleY:d}}var fy;function lle(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?vb:aH(e.a,e.b,e.c,e.d,e.e,e.f)}function cle(t){return t==null||(fy||(fy=document.createElementNS("http://www.w3.org/2000/svg","g")),fy.setAttribute("transform",t),!(t=fy.transform.baseVal.consolidate()))?vb:(t=t.matrix,aH(t.a,t.b,t.c,t.d,t.e,t.f))}function oH(t,e,n,i){function s(u){return u.length?u.pop()+" ":""}function a(u,o,g,y,m,l){if(u!==g||o!==y){var b=m.push("translate(",null,e,null,n);l.push({i:b-4,x:Or(u,g)},{i:b-2,x:Or(o,y)})}else(g||y)&&m.push("translate("+g+e+y+n)}function c(u,o,g,y){u!==o?(u-o>180?o+=360:o-u>180&&(u+=360),y.push({i:g.push(s(g)+"rotate(",null,i)-2,x:Or(u,o)})):o&&g.push(s(g)+"rotate("+o+i)}function d(u,o,g,y){u!==o?y.push({i:g.push(s(g)+"skewX(",null,i)-2,x:Or(u,o)}):o&&g.push(s(g)+"skewX("+o+i)}function f(u,o,g,y,m,l){if(u!==g||o!==y){var b=m.push(s(m)+"scale(",null,",",null,")");l.push({i:b-4,x:Or(u,g)},{i:b-2,x:Or(o,y)})}else(g!==1||y!==1)&&m.push(s(m)+"scale("+g+","+y+")")}return function(u,o){var g=[],y=[];return u=t(u),o=t(o),a(u.translateX,u.translateY,o.translateX,o.translateY,g,y),c(u.rotate,o.rotate,g,y),d(u.skewX,o.skewX,g,y),f(u.scaleX,u.scaleY,o.scaleX,o.scaleY,g,y),u=o=null,function(m){for(var l=-1,b=y.length,L;++l<b;)g[(L=y[l]).i]=L.x(m);return g.join("")}}}var lH=oH(lle,"px, ","px)","deg)"),cH=oH(cle,", ",")",")"),dle=1e-12;function NA(t){return((t=Math.exp(t))+1/t)/2}function fle(t){return((t=Math.exp(t))-1/t)/2}function ule(t){return((t=Math.exp(2*t))-1)/(t+1)}const hle=function t(e,n,i){function s(a,c){var d=a[0],f=a[1],u=a[2],o=c[0],g=c[1],y=c[2],m=o-d,l=g-f,b=m*m+l*l,L,E;if(b<dle)E=Math.log(y/u)/e,L=function(M){return[d+M*m,f+M*l,u*Math.exp(e*M*E)]};else{var S=Math.sqrt(b),x=(y*y-u*u+i*b)/(2*u*n*S),k=(y*y-u*u-i*b)/(2*y*n*S),B=Math.log(Math.sqrt(x*x+1)-x),A=Math.log(Math.sqrt(k*k+1)-k);E=(A-B)/e,L=function(M){var C=M*E,R=NA(B),D=u/(n*S)*(R*ule(e*C+B)-fle(B));return[d+D*m,f+D*l,u*R/NA(e*C+B)]}}return L.duration=E*1e3*e/Math.SQRT2,L}return s.rho=function(a){var c=Math.max(.001,+a),d=c*c,f=d*d;return t(c,d,f)},s}(Math.SQRT2,2,4);function dH(t){return function(e,n){var i=t((e=_4(e)).h,(n=_4(n)).h),s=pi(e.s,n.s),a=pi(e.l,n.l),c=pi(e.opacity,n.opacity);return function(d){return e.h=i(d),e.s=s(d),e.l=a(d),e.opacity=c(d),e+""}}}const ple=dH(H6);var _le=dH(pi);function gle(t,e){var n=pi((t=y4(t)).l,(e=y4(e)).l),i=pi(t.a,e.a),s=pi(t.b,e.b),a=pi(t.opacity,e.opacity);return function(c){return t.l=n(c),t.a=i(c),t.b=s(c),t.opacity=a(c),t+""}}function fH(t){return function(e,n){var i=t((e=m4(e)).h,(n=m4(n)).h),s=pi(e.c,n.c),a=pi(e.l,n.l),c=pi(e.opacity,n.opacity);return function(d){return e.h=i(d),e.c=s(d),e.l=a(d),e.opacity=c(d),e+""}}}const yle=fH(H6);var mle=fH(pi);function uH(t){return function e(n){n=+n;function i(s,a){var c=t((s=bb(s)).h,(a=bb(a)).h),d=pi(s.s,a.s),f=pi(s.l,a.l),u=pi(s.opacity,a.opacity);return function(o){return s.h=c(o),s.s=d(o),s.l=f(Math.pow(o,n)),s.opacity=u(o),s+""}}return i.gamma=e,i}(1)}const wle=uH(H6);var Lle=uH(pi);function gE(t,e){e===void 0&&(e=t,t=Dd);for(var n=0,i=e.length-1,s=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(s,s=e[++n]);return function(c){var d=Math.max(0,Math.min(i-1,Math.floor(c*=i)));return a[d](c-d)}}function ble(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}const Tle=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Dd,interpolateArray:ile,interpolateBasis:Zz,interpolateBasisClosed:Jz,interpolateCubehelix:wle,interpolateCubehelixLong:Lle,interpolateDate:sH,interpolateDiscrete:ale,interpolateHcl:yle,interpolateHclLong:mle,interpolateHsl:ple,interpolateHslLong:_le,interpolateHue:ole,interpolateLab:gle,interpolateNumber:Or,interpolateNumberArray:pE,interpolateObject:rH,interpolateRgb:Wp,interpolateRgbBasis:tH,interpolateRgbBasisClosed:nle,interpolateRound:W3,interpolateString:_E,interpolateTransformCss:lH,interpolateTransformSvg:cH,interpolateZoom:hle,piecewise:gE,quantize:ble},Symbol.toStringTag,{value:"Module"}));var H1=0,z0=0,s0=0,hH=1e3,w4,H0,L4=0,hu=0,j6=0,Yp=typeof performance=="object"&&performance.now?performance:Date,pH=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function V6(){return hu||(pH(vle),hu=Yp.now()+j6)}function vle(){hu=0}function Xp(){this._call=this._time=this._next=null}Xp.prototype=yE.prototype={constructor:Xp,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?V6():+n)+(e==null?0:+e),!this._next&&H0!==this&&(H0?H0._next=this:w4=this,H0=this),this._call=t,this._time=n,Eb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Eb())}};function yE(t,e,n){var i=new Xp;return i.restart(t,e,n),i}function Ele(){V6(),++H1;for(var t=w4,e;t;)(e=hu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--H1}function CA(){hu=(L4=Yp.now())+j6,H1=z0=0;try{Ele()}finally{H1=0,xle(),hu=0}}function Sle(){var t=Yp.now(),e=t-L4;e>hH&&(j6-=e,L4=t)}function xle(){for(var t,e=w4,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:w4=n);H0=t,Eb(i)}function Eb(t){if(!H1){z0&&(z0=clearTimeout(z0));var e=t-hu;e>24?(t<1/0&&(z0=setTimeout(CA,t-Yp.now()-j6)),s0&&(s0=clearInterval(s0))):(s0||(L4=Yp.now(),s0=setInterval(Sle,hH)),H1=1,pH(CA))}}function RA(t,e,n){var i=new Xp;return e=e==null?0:+e,i.restart(s=>{i.stop(),t(s+e)},e,n),i}function Ble(t,e,n){var i=new Xp,s=e;return e==null?(i.restart(t,e,n),i):(i._restart=i.restart,i.restart=function(a,c,d){c=+c,d=d==null?V6():+d,i._restart(function f(u){u+=s,i._restart(f,s+=c,d),a(u)},c,d)},i.restart(t,e,n),i)}var Ile=lE("start","end","cancel","interrupt"),kle=[],_H=0,DA=1,Sb=2,ym=3,PA=4,xb=5,mm=6;function q6(t,e,n,i,s,a){var c=t.__transition;if(!c)t.__transition={};else if(n in c)return;Fle(t,n,{name:e,index:i,group:s,on:Ile,tween:kle,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:_H})}function mE(t,e){var n=Ra(t,e);if(n.state>_H)throw new Error("too late; already scheduled");return n}function Xo(t,e){var n=Ra(t,e);if(n.state>ym)throw new Error("too late; already running");return n}function Ra(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Fle(t,e,n){var i=t.__transition,s;i[e]=n,n.timer=yE(a,0,n.time);function a(u){n.state=DA,n.timer.restart(c,n.delay,n.time),n.delay<=u&&c(u-n.delay)}function c(u){var o,g,y,m;if(n.state!==DA)return f();for(o in i)if(m=i[o],m.name===n.name){if(m.state===ym)return RA(c);m.state===PA?(m.state=mm,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete i[o]):+o<e&&(m.state=mm,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete i[o])}if(RA(function(){n.state===ym&&(n.state=PA,n.timer.restart(d,n.delay,n.time),d(u))}),n.state=Sb,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Sb){for(n.state=ym,s=new Array(y=n.tween.length),o=0,g=-1;o<y;++o)(m=n.tween[o].value.call(t,t.__data__,n.index,n.group))&&(s[++g]=m);s.length=g+1}}function d(u){for(var o=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(f),n.state=xb,1),g=-1,y=s.length;++g<y;)s[g].call(t,o);n.state===xb&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=mm,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function Mle(t,e){var n=t.__transition,i,s,a=!0,c;if(n){e=e==null?null:e+"";for(c in n){if((i=n[c]).name!==e){a=!1;continue}s=i.state>Sb&&i.state<xb,i.state=mm,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[c]}a&&delete t.__transition}}function Ale(t){return this.each(function(){Mle(this,t)})}function Ole(t,e){var n,i;return function(){var s=Xo(this,t),a=s.tween;if(a!==n){i=n=a;for(var c=0,d=i.length;c<d;++c)if(i[c].name===e){i=i.slice(),i.splice(c,1);break}}s.tween=i}}function Nle(t,e,n){var i,s;if(typeof n!="function")throw new Error;return function(){var a=Xo(this,t),c=a.tween;if(c!==i){s=(i=c).slice();for(var d={name:e,value:n},f=0,u=s.length;f<u;++f)if(s[f].name===e){s[f]=d;break}f===u&&s.push(d)}a.tween=s}}function Cle(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Ra(this.node(),n).tween,s=0,a=i.length,c;s<a;++s)if((c=i[s]).name===t)return c.value;return null}return this.each((e==null?Ole:Nle)(n,t,e))}function wE(t,e,n){var i=t._id;return t.each(function(){var s=Xo(this,i);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return Ra(s,i).value[e]}}function gH(t,e){var n;return(typeof e=="number"?Or:e instanceof cd?Wp:(n=cd(e))?(e=n,Wp):_E)(t,e)}function Rle(t){return function(){this.removeAttribute(t)}}function Dle(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ple(t,e,n){var i,s=n+"",a;return function(){var c=this.getAttribute(t);return c===s?null:c===i?a:a=e(i=c,n)}}function $le(t,e,n){var i,s=n+"",a;return function(){var c=this.getAttributeNS(t.space,t.local);return c===s?null:c===i?a:a=e(i=c,n)}}function Ule(t,e,n){var i,s,a;return function(){var c,d=n(this),f;return d==null?void this.removeAttribute(t):(c=this.getAttribute(t),f=d+"",c===f?null:c===i&&f===s?a:(s=f,a=e(i=c,d)))}}function zle(t,e,n){var i,s,a;return function(){var c,d=n(this),f;return d==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),f=d+"",c===f?null:c===i&&f===s?a:(s=f,a=e(i=c,d)))}}function Hle(t,e){var n=$6(t),i=n==="transform"?cH:gH;return this.attrTween(t,typeof e=="function"?(n.local?zle:Ule)(n,i,wE(this,"attr."+t,e)):e==null?(n.local?Dle:Rle)(n):(n.local?$le:Ple)(n,i,e))}function jle(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Vle(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function qle(t,e){var n,i;function s(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&Vle(t,a)),n}return s._value=e,s}function Gle(t,e){var n,i;function s(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&jle(t,a)),n}return s._value=e,s}function Wle(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=$6(t);return this.tween(n,(i.local?qle:Gle)(i,e))}function Yle(t,e){return function(){mE(this,t).delay=+e.apply(this,arguments)}}function Xle(t,e){return e=+e,function(){mE(this,t).delay=e}}function Kle(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Yle:Xle)(e,t)):Ra(this.node(),e).delay}function Zle(t,e){return function(){Xo(this,t).duration=+e.apply(this,arguments)}}function Jle(t,e){return e=+e,function(){Xo(this,t).duration=e}}function Qle(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Zle:Jle)(e,t)):Ra(this.node(),e).duration}function ece(t,e){if(typeof e!="function")throw new Error;return function(){Xo(this,t).ease=e}}function tce(t){var e=this._id;return arguments.length?this.each(ece(e,t)):Ra(this.node(),e).ease}function nce(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Xo(this,t).ease=n}}function ice(t){if(typeof t!="function")throw new Error;return this.each(nce(this._id,t))}function sce(t){typeof t!="function"&&(t=kz(t));for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var a=e[s],c=a.length,d=i[s]=[],f,u=0;u<c;++u)(f=a[u])&&t.call(f,f.__data__,u,a)&&d.push(f);return new Kl(i,this._parents,this._name,this._id)}function rce(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,s=n.length,a=Math.min(i,s),c=new Array(i),d=0;d<a;++d)for(var f=e[d],u=n[d],o=f.length,g=c[d]=new Array(o),y,m=0;m<o;++m)(y=f[m]||u[m])&&(g[m]=y);for(;d<i;++d)c[d]=e[d];return new Kl(c,this._parents,this._name,this._id)}function ace(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function oce(t,e,n){var i,s,a=ace(e)?mE:Xo;return function(){var c=a(this,t),d=c.on;d!==i&&(s=(i=d).copy()).on(e,n),c.on=s}}function lce(t,e){var n=this._id;return arguments.length<2?Ra(this.node(),n).on.on(t):this.each(oce(n,t,e))}function cce(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function dce(){return this.on("end.remove",cce(this._id))}function fce(t){var e=this._name,n=this._id;typeof t!="function"&&(t=cE(t));for(var i=this._groups,s=i.length,a=new Array(s),c=0;c<s;++c)for(var d=i[c],f=d.length,u=a[c]=new Array(f),o,g,y=0;y<f;++y)(o=d[y])&&(g=t.call(o,o.__data__,y,d))&&("__data__"in o&&(g.__data__=o.__data__),u[y]=g,q6(u[y],e,n,y,u,Ra(o,n)));return new Kl(a,this._parents,e,n)}function uce(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Iz(t));for(var i=this._groups,s=i.length,a=[],c=[],d=0;d<s;++d)for(var f=i[d],u=f.length,o,g=0;g<u;++g)if(o=f[g]){for(var y=t.call(o,o.__data__,g,f),m,l=Ra(o,n),b=0,L=y.length;b<L;++b)(m=y[b])&&q6(m,e,n,b,y,l);a.push(y),c.push(o)}return new Kl(a,c,e,n)}var hce=q3.prototype.constructor;function pce(){return new hce(this._groups,this._parents)}function _ce(t,e){var n,i,s;return function(){var a=U1(this,t),c=(this.style.removeProperty(t),U1(this,t));return a===c?null:a===n&&c===i?s:s=e(n=a,i=c)}}function yH(t){return function(){this.style.removeProperty(t)}}function gce(t,e,n){var i,s=n+"",a;return function(){var c=U1(this,t);return c===s?null:c===i?a:a=e(i=c,n)}}function yce(t,e,n){var i,s,a;return function(){var c=U1(this,t),d=n(this),f=d+"";return d==null&&(f=d=(this.style.removeProperty(t),U1(this,t))),c===f?null:c===i&&f===s?a:(s=f,a=e(i=c,d))}}function mce(t,e){var n,i,s,a="style."+e,c="end."+a,d;return function(){var f=Xo(this,t),u=f.on,o=f.value[a]==null?d||(d=yH(e)):void 0;(u!==n||s!==o)&&(i=(n=u).copy()).on(c,s=o),f.on=i}}function wce(t,e,n){var i=(t+="")=="transform"?lH:gH;return e==null?this.styleTween(t,_ce(t,i)).on("end.style."+t,yH(t)):typeof e=="function"?this.styleTween(t,yce(t,i,wE(this,"style."+t,e))).each(mce(this._id,t)):this.styleTween(t,gce(t,i,e),n).on("end.style."+t,null)}function Lce(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function bce(t,e,n){var i,s;function a(){var c=e.apply(this,arguments);return c!==s&&(i=(s=c)&&Lce(t,c,n)),i}return a._value=e,a}function Tce(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,bce(t,e,n??""))}function vce(t){return function(){this.textContent=t}}function Ece(t){return function(){var e=t(this);this.textContent=e??""}}function Sce(t){return this.tween("text",typeof t=="function"?Ece(wE(this,"text",t)):vce(t==null?"":t+""))}function xce(t){return function(e){this.textContent=t.call(this,e)}}function Bce(t){var e,n;function i(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&xce(s)),e}return i._value=t,i}function Ice(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Bce(t))}function kce(){for(var t=this._name,e=this._id,n=mH(),i=this._groups,s=i.length,a=0;a<s;++a)for(var c=i[a],d=c.length,f,u=0;u<d;++u)if(f=c[u]){var o=Ra(f,e);q6(f,t,n,u,c,{time:o.time+o.delay+o.duration,delay:0,duration:o.duration,ease:o.ease})}return new Kl(i,this._parents,t,n)}function Fce(){var t,e,n=this,i=n._id,s=n.size();return new Promise(function(a,c){var d={value:c},f={value:function(){--s===0&&a()}};n.each(function(){var u=Xo(this,i),o=u.on;o!==t&&(e=(t=o).copy(),e._.cancel.push(d),e._.interrupt.push(d),e._.end.push(f)),u.on=e}),s===0&&a()})}var Mce=0;function Kl(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function mH(){return++Mce}var cl=q3.prototype;Kl.prototype={constructor:Kl,select:fce,selectAll:uce,selectChild:cl.selectChild,selectChildren:cl.selectChildren,filter:sce,merge:rce,selection:pce,transition:kce,call:cl.call,nodes:cl.nodes,node:cl.node,size:cl.size,empty:cl.empty,each:cl.each,on:lce,attr:Hle,attrTween:Wle,style:wce,styleTween:Tce,text:Sce,textTween:Ice,remove:dce,tween:Cle,delay:Kle,duration:Qle,ease:tce,easeVarying:ice,end:Fce,[Symbol.iterator]:cl[Symbol.iterator]};function Ace(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Oce={time:null,delay:0,duration:250,ease:Ace};function Nce(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Cce(t){var e,n;t instanceof Kl?(e=t._id,t=t._name):(e=mH(),(n=Oce).time=V6(),t=t==null?null:t+"");for(var i=this._groups,s=i.length,a=0;a<s;++a)for(var c=i[a],d=c.length,f,u=0;u<d;++u)(f=c[u])&&q6(f,t,e,u,c,n||Nce(f,e));return new Kl(i,this._parents,t,e)}q3.prototype.interrupt=Ale;q3.prototype.transition=Cce;const Bb=Math.PI,Ib=2*Bb,xf=1e-6,Rce=Ib-xf;function wH(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Dce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wH;const n=10**e;return function(i){this._+=i[0];for(let s=1,a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}let LE=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wH:Dce(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,s){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(e,n,i,s,a,c){this._append`C${+e},${+n},${+i},${+s},${this._x1=+a},${this._y1=+c}`}arcTo(e,n,i,s,a){if(e=+e,n=+n,i=+i,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let c=this._x1,d=this._y1,f=i-e,u=s-n,o=c-e,g=d-n,y=o*o+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>xf)if(!(Math.abs(g*f-u*o)>xf)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=i-c,l=s-d,b=f*f+u*u,L=m*m+l*l,E=Math.sqrt(b),S=Math.sqrt(y),x=a*Math.tan((Bb-Math.acos((b+y-L)/(2*E*S)))/2),k=x/S,B=x/E;Math.abs(k-1)>xf&&this._append`L${e+k*o},${n+k*g}`,this._append`A${a},${a},0,0,${+(g*m>o*l)},${this._x1=e+B*f},${this._y1=n+B*u}`}}arc(e,n,i,s,a,c){if(e=+e,n=+n,i=+i,c=!!c,i<0)throw new Error(`negative radius: ${i}`);let d=i*Math.cos(s),f=i*Math.sin(s),u=e+d,o=n+f,g=1^c,y=c?s-a:a-s;this._x1===null?this._append`M${u},${o}`:(Math.abs(this._x1-u)>xf||Math.abs(this._y1-o)>xf)&&this._append`L${u},${o}`,i&&(y<0&&(y=y%Ib+Ib),y>Rce?this._append`A${i},${i},0,1,${g},${e-d},${n-f}A${i},${i},0,1,${g},${this._x1=u},${this._y1=o}`:y>xf&&this._append`A${i},${i},0,${+(y>=Bb)},${g},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}};function G6(){return new LE}G6.prototype=LE.prototype;const $l=11102230246251565e-32,Ni=134217729,Pce=(3+8*$l)*$l;function g8(t,e,n,i,s){let a,c,d,f,u=e[0],o=i[0],g=0,y=0;o>u==o>-u?(a=u,u=e[++g]):(a=o,o=i[++y]);let m=0;if(g<t&&y<n)for(o>u==o>-u?(c=u+a,d=a-(c-u),u=e[++g]):(c=o+a,d=a-(c-o),o=i[++y]),a=c,d!==0&&(s[m++]=d);g<t&&y<n;)o>u==o>-u?(c=a+u,f=c-a,d=a-(c-f)+(u-f),u=e[++g]):(c=a+o,f=c-a,d=a-(c-f)+(o-f),o=i[++y]),a=c,d!==0&&(s[m++]=d);for(;g<t;)c=a+u,f=c-a,d=a-(c-f)+(u-f),u=e[++g],a=c,d!==0&&(s[m++]=d);for(;y<n;)c=a+o,f=c-a,d=a-(c-f)+(o-f),o=i[++y],a=c,d!==0&&(s[m++]=d);return(a!==0||m===0)&&(s[m++]=a),m}function $ce(t,e){let n=e[0];for(let i=1;i<t;i++)n+=e[i];return n}function Y3(t){return new Float64Array(t)}const Uce=(3+16*$l)*$l,zce=(2+12*$l)*$l,Hce=(9+64*$l)*$l*$l,lh=Y3(4),$A=Y3(8),UA=Y3(12),zA=Y3(16),Ji=Y3(4);function jce(t,e,n,i,s,a,c){let d,f,u,o,g,y,m,l,b,L,E,S,x,k,B,A,M,C;const R=t-s,D=n-s,$=e-a,Y=i-a;k=R*Y,y=Ni*R,m=y-(y-R),l=R-m,y=Ni*Y,b=y-(y-Y),L=Y-b,B=l*L-(k-m*b-l*b-m*L),A=$*D,y=Ni*$,m=y-(y-$),l=$-m,y=Ni*D,b=y-(y-D),L=D-b,M=l*L-(A-m*b-l*b-m*L),E=B-M,g=B-E,lh[0]=B-(E+g)+(g-M),S=k+E,g=S-k,x=k-(S-g)+(E-g),E=x-A,g=x-E,lh[1]=x-(E+g)+(g-A),C=S+E,g=C-S,lh[2]=S-(C-g)+(E-g),lh[3]=C;let z=$ce(4,lh),H=zce*c;if(z>=H||-z>=H||(g=t-R,d=t-(R+g)+(g-s),g=n-D,u=n-(D+g)+(g-s),g=e-$,f=e-($+g)+(g-a),g=i-Y,o=i-(Y+g)+(g-a),d===0&&f===0&&u===0&&o===0)||(H=Hce*c+Pce*Math.abs(z),z+=R*o+Y*d-($*u+D*f),z>=H||-z>=H))return z;k=d*Y,y=Ni*d,m=y-(y-d),l=d-m,y=Ni*Y,b=y-(y-Y),L=Y-b,B=l*L-(k-m*b-l*b-m*L),A=f*D,y=Ni*f,m=y-(y-f),l=f-m,y=Ni*D,b=y-(y-D),L=D-b,M=l*L-(A-m*b-l*b-m*L),E=B-M,g=B-E,Ji[0]=B-(E+g)+(g-M),S=k+E,g=S-k,x=k-(S-g)+(E-g),E=x-A,g=x-E,Ji[1]=x-(E+g)+(g-A),C=S+E,g=C-S,Ji[2]=S-(C-g)+(E-g),Ji[3]=C;const q=g8(4,lh,4,Ji,$A);k=R*o,y=Ni*R,m=y-(y-R),l=R-m,y=Ni*o,b=y-(y-o),L=o-b,B=l*L-(k-m*b-l*b-m*L),A=$*u,y=Ni*$,m=y-(y-$),l=$-m,y=Ni*u,b=y-(y-u),L=u-b,M=l*L-(A-m*b-l*b-m*L),E=B-M,g=B-E,Ji[0]=B-(E+g)+(g-M),S=k+E,g=S-k,x=k-(S-g)+(E-g),E=x-A,g=x-E,Ji[1]=x-(E+g)+(g-A),C=S+E,g=C-S,Ji[2]=S-(C-g)+(E-g),Ji[3]=C;const W=g8(q,$A,4,Ji,UA);k=d*o,y=Ni*d,m=y-(y-d),l=d-m,y=Ni*o,b=y-(y-o),L=o-b,B=l*L-(k-m*b-l*b-m*L),A=f*u,y=Ni*f,m=y-(y-f),l=f-m,y=Ni*u,b=y-(y-u),L=u-b,M=l*L-(A-m*b-l*b-m*L),E=B-M,g=B-E,Ji[0]=B-(E+g)+(g-M),S=k+E,g=S-k,x=k-(S-g)+(E-g),E=x-A,g=x-E,Ji[1]=x-(E+g)+(g-A),C=S+E,g=C-S,Ji[2]=S-(C-g)+(E-g),Ji[3]=C;const X=g8(W,UA,4,Ji,zA);return zA[X-1]}function uy(t,e,n,i,s,a){const c=(e-a)*(n-s),d=(t-s)*(i-a),f=c-d;if(c===0||d===0||c>0!=d>0)return f;const u=Math.abs(c+d);return Math.abs(f)>=Uce*u?f:-jce(t,e,n,i,s,a,u)}const HA=Math.pow(2,-52),hy=new Uint32Array(512);class b4{static from(e,n=Yce,i=Xce){const s=e.length,a=new Float64Array(s*2);for(let c=0;c<s;c++){const d=e[c];a[2*c]=n(d),a[2*c+1]=i(d)}return new b4(a)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:i,_hullTri:s,_hullHash:a}=this,c=e.length>>1;let d=1/0,f=1/0,u=-1/0,o=-1/0;for(let D=0;D<c;D++){const $=e[2*D],Y=e[2*D+1];$<d&&(d=$),Y<f&&(f=Y),$>u&&(u=$),Y>o&&(o=Y),this._ids[D]=D}const g=(d+u)/2,y=(f+o)/2;let m=1/0,l,b,L;for(let D=0;D<c;D++){const $=y8(g,y,e[2*D],e[2*D+1]);$<m&&(l=D,m=$)}const E=e[2*l],S=e[2*l+1];m=1/0;for(let D=0;D<c;D++){if(D===l)continue;const $=y8(E,S,e[2*D],e[2*D+1]);$<m&&$>0&&(b=D,m=$)}let x=e[2*b],k=e[2*b+1],B=1/0;for(let D=0;D<c;D++){if(D===l||D===b)continue;const $=Gce(E,S,x,k,e[2*D],e[2*D+1]);$<B&&(L=D,B=$)}let A=e[2*L],M=e[2*L+1];if(B===1/0){for(let Y=0;Y<c;Y++)this._dists[Y]=e[2*Y]-e[0]||e[2*Y+1]-e[1];Xh(this._ids,this._dists,0,c-1);const D=new Uint32Array(c);let $=0;for(let Y=0,z=-1/0;Y<c;Y++){const H=this._ids[Y];this._dists[H]>z&&(D[$++]=H,z=this._dists[H])}this.hull=D.subarray(0,$),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(uy(E,S,x,k,A,M)<0){const D=b,$=x,Y=k;b=L,x=A,k=M,L=D,A=$,M=Y}const C=Wce(E,S,x,k,A,M);this._cx=C.x,this._cy=C.y;for(let D=0;D<c;D++)this._dists[D]=y8(e[2*D],e[2*D+1],C.x,C.y);Xh(this._ids,this._dists,0,c-1),this._hullStart=l;let R=3;i[l]=n[L]=b,i[b]=n[l]=L,i[L]=n[b]=l,s[l]=0,s[b]=1,s[L]=2,a.fill(-1),a[this._hashKey(E,S)]=l,a[this._hashKey(x,k)]=b,a[this._hashKey(A,M)]=L,this.trianglesLen=0,this._addTriangle(l,b,L,-1,-1,-1);for(let D=0,$,Y;D<this._ids.length;D++){const z=this._ids[D],H=e[2*z],q=e[2*z+1];if(D>0&&Math.abs(H-$)<=HA&&Math.abs(q-Y)<=HA||($=H,Y=q,z===l||z===b||z===L))continue;let W=0;for(let ie=0,Ae=this._hashKey(H,q);ie<this._hashSize&&(W=a[(Ae+ie)%this._hashSize],!(W!==-1&&W!==i[W]));ie++);W=n[W];let X=W,G;for(;G=i[X],uy(H,q,e[2*X],e[2*X+1],e[2*G],e[2*G+1])>=0;)if(X=G,X===W){X=-1;break}if(X===-1)continue;let le=this._addTriangle(X,z,i[X],-1,-1,s[X]);s[z]=this._legalize(le+2),s[X]=le,R++;let pe=i[X];for(;G=i[pe],uy(H,q,e[2*pe],e[2*pe+1],e[2*G],e[2*G+1])<0;)le=this._addTriangle(pe,z,G,s[z],-1,s[pe]),s[z]=this._legalize(le+2),i[pe]=pe,R--,pe=G;if(X===W)for(;G=n[X],uy(H,q,e[2*G],e[2*G+1],e[2*X],e[2*X+1])<0;)le=this._addTriangle(G,z,X,-1,s[X],s[G]),this._legalize(le+2),s[G]=le,i[X]=X,R--,X=G;this._hullStart=n[z]=X,i[X]=n[pe]=z,i[z]=pe,a[this._hashKey(H,q)]=z,a[this._hashKey(e[2*X],e[2*X+1])]=X}this.hull=new Uint32Array(R);for(let D=0,$=this._hullStart;D<R;D++)this.hull[D]=$,$=i[$];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(Vce(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:i,coords:s}=this;let a=0,c=0;for(;;){const d=i[e],f=e-e%3;if(c=f+(e+2)%3,d===-1){if(a===0)break;e=hy[--a];continue}const u=d-d%3,o=f+(e+1)%3,g=u+(d+2)%3,y=n[c],m=n[e],l=n[o],b=n[g];if(qce(s[2*y],s[2*y+1],s[2*m],s[2*m+1],s[2*l],s[2*l+1],s[2*b],s[2*b+1])){n[e]=b,n[d]=y;const E=i[g];if(E===-1){let x=this._hullStart;do{if(this._hullTri[x]===g){this._hullTri[x]=e;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(e,E),this._link(d,i[c]),this._link(c,g);const S=u+(d+1)%3;a<hy.length&&(hy[a++]=S)}else{if(a===0)break;e=hy[--a]}}return c}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,i,s,a,c){const d=this.trianglesLen;return this._triangles[d]=e,this._triangles[d+1]=n,this._triangles[d+2]=i,this._link(d,s),this._link(d+1,a),this._link(d+2,c),this.trianglesLen+=3,d}}function Vce(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function y8(t,e,n,i){const s=t-n,a=e-i;return s*s+a*a}function qce(t,e,n,i,s,a,c,d){const f=t-c,u=e-d,o=n-c,g=i-d,y=s-c,m=a-d,l=f*f+u*u,b=o*o+g*g,L=y*y+m*m;return f*(g*L-b*m)-u*(o*L-b*y)+l*(o*m-g*y)<0}function Gce(t,e,n,i,s,a){const c=n-t,d=i-e,f=s-t,u=a-e,o=c*c+d*d,g=f*f+u*u,y=.5/(c*u-d*f),m=(u*o-d*g)*y,l=(c*g-f*o)*y;return m*m+l*l}function Wce(t,e,n,i,s,a){const c=n-t,d=i-e,f=s-t,u=a-e,o=c*c+d*d,g=f*f+u*u,y=.5/(c*u-d*f),m=t+(u*o-d*g)*y,l=e+(c*g-f*o)*y;return{x:m,y:l}}function Xh(t,e,n,i){if(i-n<=20)for(let s=n+1;s<=i;s++){const a=t[s],c=e[a];let d=s-1;for(;d>=n&&e[t[d]]>c;)t[d+1]=t[d--];t[d+1]=a}else{const s=n+i>>1;let a=n+1,c=i;r0(t,s,a),e[t[n]]>e[t[i]]&&r0(t,n,i),e[t[a]]>e[t[i]]&&r0(t,a,i),e[t[n]]>e[t[a]]&&r0(t,n,a);const d=t[a],f=e[d];for(;;){do a++;while(e[t[a]]<f);do c--;while(e[t[c]]>f);if(c<a)break;r0(t,a,c)}t[n+1]=t[c],t[c]=d,i-a+1>=c-n?(Xh(t,e,a,i),Xh(t,e,n,c-1)):(Xh(t,e,n,c-1),Xh(t,e,a,i))}}function r0(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Yce(t){return t[0]}function Xce(t){return t[1]}const jA=1e-6;class Uf{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,i){e=+e,n=+n,i=+i;const s=e+i,a=n;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${s},${a}`:(Math.abs(this._x1-s)>jA||Math.abs(this._y1-a)>jA)&&(this._+="L"+s+","+a),i&&(this._+=`A${i},${i},0,1,1,${e-i},${n}A${i},${i},0,1,1,${this._x1=s},${this._y1=a}`)}rect(e,n,i,s){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+i}v${+s}h${-i}Z`}value(){return this._||null}}class kb{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}let Kce=class{constructor(e,[n,i,s,a]=[0,0,960,500]){if(!((s=+s)>=(n=+n))||!((a=+a)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=s,this.xmin=n,this.ymax=a,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:i},vectors:s}=this,a=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let m=0,l=0,b=i.length,L,E;m<b;m+=3,l+=2){const S=i[m]*2,x=i[m+1]*2,k=i[m+2]*2,B=e[S],A=e[S+1],M=e[x],C=e[x+1],R=e[k],D=e[k+1],$=M-B,Y=C-A,z=R-B,H=D-A,q=($*H-Y*z)*2;if(Math.abs(q)<1e-9){let W=1e9;const X=i[0]*2;W*=Math.sign((e[X]-B)*H-(e[X+1]-A)*z),L=(B+R)/2-W*H,E=(A+D)/2+W*z}else{const W=1/q,X=$*$+Y*Y,G=z*z+H*H;L=B+(H*X-Y*G)*W,E=A+($*G-z*X)*W}a[l]=L,a[l+1]=E}let c=n[n.length-1],d,f=c*4,u,o=e[2*c],g,y=e[2*c+1];s.fill(0);for(let m=0;m<n.length;++m)c=n[m],d=f,u=o,g=y,f=c*4,o=e[2*c],y=e[2*c+1],s[d+2]=s[f]=g-y,s[d+3]=s[f+1]=o-u}render(e){const n=e==null?e=new Uf:void 0,{delaunay:{halfedges:i,inedges:s,hull:a},circumcenters:c,vectors:d}=this;if(a.length<=1)return null;for(let o=0,g=i.length;o<g;++o){const y=i[o];if(y<o)continue;const m=Math.floor(o/3)*2,l=Math.floor(y/3)*2,b=c[m],L=c[m+1],E=c[l],S=c[l+1];this._renderSegment(b,L,E,S,e)}let f,u=a[a.length-1];for(let o=0;o<a.length;++o){f=u,u=a[o];const g=Math.floor(s[u]/3)*2,y=c[g],m=c[g+1],l=f*4,b=this._project(y,m,d[l+2],d[l+3]);b&&this._renderSegment(y,m,b[0],b[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new Uf:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const i=n==null?n=new Uf:void 0,s=this._clip(e);if(s===null||!s.length)return;n.moveTo(s[0],s[1]);let a=s.length;for(;s[0]===s[a-2]&&s[1]===s[a-1]&&a>1;)a-=2;for(let c=2;c<a;c+=2)(s[c]!==s[c-2]||s[c+1]!==s[c-1])&&n.lineTo(s[c],s[c+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,i=e.length/2;n<i;++n){const s=this.cellPolygon(n);s&&(s.index=n,yield s)}}cellPolygon(e){const n=new kb;return this.renderCell(e,n),n.value()}_renderSegment(e,n,i,s,a){let c;const d=this._regioncode(e,n),f=this._regioncode(i,s);d===0&&f===0?(a.moveTo(e,n),a.lineTo(i,s)):(c=this._clipSegment(e,n,i,s,d,f))&&(a.moveTo(c[0],c[1]),a.lineTo(c[2],c[3]))}contains(e,n,i){return n=+n,n!==n||(i=+i,i!==i)?!1:this.delaunay._step(e,n,i)===e}*neighbors(e){const n=this._clip(e);if(n)for(const i of this.delaunay.neighbors(e)){const s=this._clip(i);if(s){e:for(let a=0,c=n.length;a<c;a+=2)for(let d=0,f=s.length;d<f;d+=2)if(n[a]==s[d]&&n[a+1]==s[d+1]&&n[(a+2)%c]==s[(d+f-2)%f]&&n[(a+3)%c]==s[(d+f-1)%f]){yield i;break e}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:i,halfedges:s,triangles:a}}=this,c=i[e];if(c===-1)return null;const d=[];let f=c;do{const u=Math.floor(f/3);if(d.push(n[u*2],n[u*2+1]),f=f%3===2?f-2:f+1,a[f]!==e)break;f=s[f]}while(f!==c&&f!==-1);return d}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:i}=this,s=e*4;return i[s]||i[s+1]?this._clipInfinite(e,n,i[s],i[s+1],i[s+2],i[s+3]):this._clipFinite(e,n)}_clipFinite(e,n){const i=n.length;let s=null,a,c,d=n[i-2],f=n[i-1],u,o=this._regioncode(d,f),g,y=0;for(let m=0;m<i;m+=2)if(a=d,c=f,d=n[m],f=n[m+1],u=o,o=this._regioncode(d,f),u===0&&o===0)g=y,y=0,s?s.push(d,f):s=[d,f];else{let l,b,L,E,S;if(u===0){if((l=this._clipSegment(a,c,d,f,u,o))===null)continue;[b,L,E,S]=l}else{if((l=this._clipSegment(d,f,a,c,o,u))===null)continue;[E,S,b,L]=l,g=y,y=this._edgecode(b,L),g&&y&&this._edge(e,g,y,s,s.length),s?s.push(b,L):s=[b,L]}g=y,y=this._edgecode(E,S),g&&y&&this._edge(e,g,y,s,s.length),s?s.push(E,S):s=[E,S]}if(s)g=y,y=this._edgecode(s[0],s[1]),g&&y&&this._edge(e,g,y,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(e,n,i,s,a,c){for(;;){if(a===0&&c===0)return[e,n,i,s];if(a&c)return null;let d,f,u=a||c;u&8?(d=e+(i-e)*(this.ymax-n)/(s-n),f=this.ymax):u&4?(d=e+(i-e)*(this.ymin-n)/(s-n),f=this.ymin):u&2?(f=n+(s-n)*(this.xmax-e)/(i-e),d=this.xmax):(f=n+(s-n)*(this.xmin-e)/(i-e),d=this.xmin),a?(e=d,n=f,a=this._regioncode(e,n)):(i=d,s=f,c=this._regioncode(i,s))}}_clipInfinite(e,n,i,s,a,c){let d=Array.from(n),f;if((f=this._project(d[0],d[1],i,s))&&d.unshift(f[0],f[1]),(f=this._project(d[d.length-2],d[d.length-1],a,c))&&d.push(f[0],f[1]),d=this._clipFinite(e,d))for(let u=0,o=d.length,g,y=this._edgecode(d[o-2],d[o-1]);u<o;u+=2)g=y,y=this._edgecode(d[u],d[u+1]),g&&y&&(u=this._edge(e,g,y,d,u),o=d.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(d=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return d}_edge(e,n,i,s,a){for(;n!==i;){let c,d;switch(n){case 5:n=4;continue;case 4:n=6,c=this.xmax,d=this.ymin;break;case 6:n=2;continue;case 2:n=10,c=this.xmax,d=this.ymax;break;case 10:n=8;continue;case 8:n=9,c=this.xmin,d=this.ymax;break;case 9:n=1;continue;case 1:n=5,c=this.xmin,d=this.ymin;break}(s[a]!==c||s[a+1]!==d)&&this.contains(e,c,d)&&(s.splice(a,0,c,d),a+=2)}if(s.length>4)for(let c=0;c<s.length;c+=2){const d=(c+2)%s.length,f=(c+4)%s.length;(s[c]===s[d]&&s[d]===s[f]||s[c+1]===s[d+1]&&s[d+1]===s[f+1])&&(s.splice(d,2),c-=2)}return a}_project(e,n,i,s){let a=1/0,c,d,f;if(s<0){if(n<=this.ymin)return null;(c=(this.ymin-n)/s)<a&&(f=this.ymin,d=e+(a=c)*i)}else if(s>0){if(n>=this.ymax)return null;(c=(this.ymax-n)/s)<a&&(f=this.ymax,d=e+(a=c)*i)}if(i>0){if(e>=this.xmax)return null;(c=(this.xmax-e)/i)<a&&(d=this.xmax,f=n+(a=c)*s)}else if(i<0){if(e<=this.xmin)return null;(c=(this.xmin-e)/i)<a&&(d=this.xmin,f=n+(a=c)*s)}return[d,f]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}};const Zce=2*Math.PI,ch=Math.pow;function Jce(t){return t[0]}function Qce(t){return t[1]}function ede(t){const{triangles:e,coords:n}=t;for(let i=0;i<e.length;i+=3){const s=2*e[i],a=2*e[i+1],c=2*e[i+2];if((n[c]-n[s])*(n[a+1]-n[s+1])-(n[a]-n[s])*(n[c+1]-n[s+1])>1e-10)return!1}return!0}function tde(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class bE{static from(e,n=Jce,i=Qce,s){return new bE("length"in e?nde(e,n,i,s):Float64Array.from(ide(e,n,i,s)))}constructor(e){this._delaunator=new b4(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&ede(e)){this.collinear=Int32Array.from({length:n.length/2},(y,m)=>m).sort((y,m)=>n[2*y]-n[2*m]||n[2*y+1]-n[2*m+1]);const f=this.collinear[0],u=this.collinear[this.collinear.length-1],o=[n[2*f],n[2*f+1],n[2*u],n[2*u+1]],g=1e-8*Math.hypot(o[3]-o[1],o[2]-o[0]);for(let y=0,m=n.length/2;y<m;++y){const l=tde(n[2*y],n[2*y+1],g);n[2*y]=l[0],n[2*y+1]=l[1]}this._delaunator=new b4(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,c=this.inedges.fill(-1),d=this._hullIndex.fill(-1);for(let f=0,u=i.length;f<u;++f){const o=a[f%3===2?f-2:f+1];(i[f]===-1||c[o]===-1)&&(c[o]=f)}for(let f=0,u=s.length;f<u;++f)d[s[f]]=f;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],c[s[0]]=1,s.length===2&&(c[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}voronoi(e){return new Kce(this,e)}*neighbors(e){const{inedges:n,hull:i,_hullIndex:s,halfedges:a,triangles:c,collinear:d}=this;if(d){const g=d.indexOf(e);g>0&&(yield d[g-1]),g<d.length-1&&(yield d[g+1]);return}const f=n[e];if(f===-1)return;let u=f,o=-1;do{if(yield o=c[u],u=u%3===2?u-2:u+1,c[u]!==e)return;if(u=a[u],u===-1){const g=i[(s[e]+1)%i.length];g!==o&&(yield g);return}}while(u!==f)}find(e,n,i=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const s=i;let a;for(;(a=this._step(i,e,n))>=0&&a!==i&&a!==s;)i=a;return a}_step(e,n,i){const{inedges:s,hull:a,_hullIndex:c,halfedges:d,triangles:f,points:u}=this;if(s[e]===-1||!u.length)return(e+1)%(u.length>>1);let o=e,g=ch(n-u[e*2],2)+ch(i-u[e*2+1],2);const y=s[e];let m=y;do{let l=f[m];const b=ch(n-u[l*2],2)+ch(i-u[l*2+1],2);if(b<g&&(g=b,o=l),m=m%3===2?m-2:m+1,f[m]!==e)break;if(m=d[m],m===-1){if(m=a[(c[e]+1)%a.length],m!==l&&ch(n-u[m*2],2)+ch(i-u[m*2+1],2)<g)return m;break}}while(m!==y);return o}render(e){const n=e==null?e=new Uf:void 0,{points:i,halfedges:s,triangles:a}=this;for(let c=0,d=s.length;c<d;++c){const f=s[c];if(f<c)continue;const u=a[c]*2,o=a[f]*2;e.moveTo(i[u],i[u+1]),e.lineTo(i[o],i[o+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const i=e==null?e=new Uf:void 0,{points:s}=this;for(let a=0,c=s.length;a<c;a+=2){const d=s[a],f=s[a+1];e.moveTo(d+n,f),e.arc(d,f,n,0,Zce)}return i&&i.value()}renderHull(e){const n=e==null?e=new Uf:void 0,{hull:i,points:s}=this,a=i[0]*2,c=i.length;e.moveTo(s[a],s[a+1]);for(let d=1;d<c;++d){const f=2*i[d];e.lineTo(s[f],s[f+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new kb;return this.renderHull(e),e.value()}renderTriangle(e,n){const i=n==null?n=new Uf:void 0,{points:s,triangles:a}=this,c=a[e*=3]*2,d=a[e+1]*2,f=a[e+2]*2;return n.moveTo(s[c],s[c+1]),n.lineTo(s[d],s[d+1]),n.lineTo(s[f],s[f+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,i=e.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new kb;return this.renderTriangle(e,n),n.value()}}function nde(t,e,n,i){const s=t.length,a=new Float64Array(s*2);for(let c=0;c<s;++c){const d=t[c];a[c*2]=e.call(i,d,c,t),a[c*2+1]=n.call(i,d,c,t)}return a}function*ide(t,e,n,i){let s=0;for(const a of t)yield e.call(i,a,s,t),yield n.call(i,a,s,t),++s}var VA={},m8={},w8=34,a0=10,L8=13;function LH(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function sde(t,e){var n=LH(t);return function(i,s){return e(n(i),s,t)}}function qA(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var s in i)s in e||n.push(e[s]=s)}),n}function vs(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function rde(t){return t<0?"-"+vs(-t,6):t>9999?"+"+vs(t,6):vs(t,4)}function ade(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),s=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":rde(t.getUTCFullYear())+"-"+vs(t.getUTCMonth()+1,2)+"-"+vs(t.getUTCDate(),2)+(s?"T"+vs(e,2)+":"+vs(n,2)+":"+vs(i,2)+"."+vs(s,3)+"Z":i?"T"+vs(e,2)+":"+vs(n,2)+":"+vs(i,2)+"Z":n||e?"T"+vs(e,2)+":"+vs(n,2)+"Z":"")}function ode(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function i(g,y){var m,l,b=s(g,function(L,E){if(m)return m(L,E-1);l=L,m=y?sde(L,y):LH(L)});return b.columns=l||[],b}function s(g,y){var m=[],l=g.length,b=0,L=0,E,S=l<=0,x=!1;g.charCodeAt(l-1)===a0&&--l,g.charCodeAt(l-1)===L8&&--l;function k(){if(S)return m8;if(x)return x=!1,VA;var A,M=b,C;if(g.charCodeAt(M)===w8){for(;b++<l&&g.charCodeAt(b)!==w8||g.charCodeAt(++b)===w8;);return(A=b)>=l?S=!0:(C=g.charCodeAt(b++))===a0?x=!0:C===L8&&(x=!0,g.charCodeAt(b)===a0&&++b),g.slice(M+1,A-1).replace(/""/g,'"')}for(;b<l;){if((C=g.charCodeAt(A=b++))===a0)x=!0;else if(C===L8)x=!0,g.charCodeAt(b)===a0&&++b;else if(C!==n)continue;return g.slice(M,A)}return S=!0,g.slice(M,l)}for(;(E=k())!==m8;){for(var B=[];E!==VA&&E!==m8;)B.push(E),E=k();y&&(B=y(B,L++))==null||m.push(B)}return m}function a(g,y){return g.map(function(m){return y.map(function(l){return o(m[l])}).join(t)})}function c(g,y){return y==null&&(y=qA(g)),[y.map(o).join(t)].concat(a(g,y)).join(`
`)}function d(g,y){return y==null&&(y=qA(g)),a(g,y).join(`
`)}function f(g){return g.map(u).join(`
`)}function u(g){return g.map(o).join(t)}function o(g){return g==null?"":g instanceof Date?ade(g):e.test(g+="")?'"'+g.replace(/"/g,'""')+'"':g}return{parse:i,parseRows:s,format:c,formatBody:d,formatRows:f,formatRow:u,formatValue:o}}function lde(t,e){var n,i=1;t==null&&(t=0),e==null&&(e=0);function s(){var a,c=n.length,d,f=0,u=0;for(a=0;a<c;++a)d=n[a],f+=d.x,u+=d.y;for(f=(f/c-t)*i,u=(u/c-e)*i,a=0;a<c;++a)d=n[a],d.x-=f,d.y-=u}return s.initialize=function(a){n=a},s.x=function(a){return arguments.length?(t=+a,s):t},s.y=function(a){return arguments.length?(e=+a,s):e},s.strength=function(a){return arguments.length?(i=+a,s):i},s}function cde(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return bH(this.cover(e,n),e,n,t)}function bH(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var s,a=t._root,c={data:i},d=t._x0,f=t._y0,u=t._x1,o=t._y1,g,y,m,l,b,L,E,S;if(!a)return t._root=c,t;for(;a.length;)if((b=e>=(g=(d+u)/2))?d=g:u=g,(L=n>=(y=(f+o)/2))?f=y:o=y,s=a,!(a=a[E=L<<1|b]))return s[E]=c,t;if(m=+t._x.call(null,a.data),l=+t._y.call(null,a.data),e===m&&n===l)return c.next=a,s?s[E]=c:t._root=c,t;do s=s?s[E]=new Array(4):t._root=new Array(4),(b=e>=(g=(d+u)/2))?d=g:u=g,(L=n>=(y=(f+o)/2))?f=y:o=y;while((E=L<<1|b)===(S=(l>=y)<<1|m>=g));return s[S]=a,s[E]=c,t}function dde(t){var e,n,i=t.length,s,a,c=new Array(i),d=new Array(i),f=1/0,u=1/0,o=-1/0,g=-1/0;for(n=0;n<i;++n)isNaN(s=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(c[n]=s,d[n]=a,s<f&&(f=s),s>o&&(o=s),a<u&&(u=a),a>g&&(g=a));if(f>o||u>g)return this;for(this.cover(f,u).cover(o,g),n=0;n<i;++n)bH(this,c[n],d[n],t[n]);return this}function fde(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,s=this._x1,a=this._y1;if(isNaN(n))s=(n=Math.floor(t))+1,a=(i=Math.floor(e))+1;else{for(var c=s-n||1,d=this._root,f,u;n>t||t>=s||i>e||e>=a;)switch(u=(e<i)<<1|t<n,f=new Array(4),f[u]=d,d=f,c*=2,u){case 0:s=n+c,a=i+c;break;case 1:n=s-c,a=i+c;break;case 2:s=n+c,i=a-c;break;case 3:n=s-c,i=a-c;break}this._root&&this._root.length&&(this._root=d)}return this._x0=n,this._y0=i,this._x1=s,this._y1=a,this}function ude(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function hde(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function os(t,e,n,i,s){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=s}function pde(t,e,n){var i,s=this._x0,a=this._y0,c,d,f,u,o=this._x1,g=this._y1,y=[],m=this._root,l,b;for(m&&y.push(new os(m,s,a,o,g)),n==null?n=1/0:(s=t-n,a=e-n,o=t+n,g=e+n,n*=n);l=y.pop();)if(!(!(m=l.node)||(c=l.x0)>o||(d=l.y0)>g||(f=l.x1)<s||(u=l.y1)<a))if(m.length){var L=(c+f)/2,E=(d+u)/2;y.push(new os(m[3],L,E,f,u),new os(m[2],c,E,L,u),new os(m[1],L,d,f,E),new os(m[0],c,d,L,E)),(b=(e>=E)<<1|t>=L)&&(l=y[y.length-1],y[y.length-1]=y[y.length-1-b],y[y.length-1-b]=l)}else{var S=t-+this._x.call(null,m.data),x=e-+this._y.call(null,m.data),k=S*S+x*x;if(k<n){var B=Math.sqrt(n=k);s=t-B,a=e-B,o=t+B,g=e+B,i=m.data}}return i}function _de(t){if(isNaN(o=+this._x.call(null,t))||isNaN(g=+this._y.call(null,t)))return this;var e,n=this._root,i,s,a,c=this._x0,d=this._y0,f=this._x1,u=this._y1,o,g,y,m,l,b,L,E;if(!n)return this;if(n.length)for(;;){if((l=o>=(y=(c+f)/2))?c=y:f=y,(b=g>=(m=(d+u)/2))?d=m:u=m,e=n,!(n=n[L=b<<1|l]))return this;if(!n.length)break;(e[L+1&3]||e[L+2&3]||e[L+3&3])&&(i=e,E=L)}for(;n.data!==t;)if(s=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,s?(a?s.next=a:delete s.next,this):e?(a?e[L]=a:delete e[L],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(i?i[E]=n:this._root=n),this):(this._root=a,this)}function gde(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function yde(){return this._root}function mde(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function wde(t){var e=[],n,i=this._root,s,a,c,d,f;for(i&&e.push(new os(i,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(i=n.node,a=n.x0,c=n.y0,d=n.x1,f=n.y1)&&i.length){var u=(a+d)/2,o=(c+f)/2;(s=i[3])&&e.push(new os(s,u,o,d,f)),(s=i[2])&&e.push(new os(s,a,o,u,f)),(s=i[1])&&e.push(new os(s,u,c,d,o)),(s=i[0])&&e.push(new os(s,a,c,u,o))}return this}function Lde(t){var e=[],n=[],i;for(this._root&&e.push(new os(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var s=i.node;if(s.length){var a,c=i.x0,d=i.y0,f=i.x1,u=i.y1,o=(c+f)/2,g=(d+u)/2;(a=s[0])&&e.push(new os(a,c,d,o,g)),(a=s[1])&&e.push(new os(a,o,d,f,g)),(a=s[2])&&e.push(new os(a,c,g,o,u)),(a=s[3])&&e.push(new os(a,o,g,f,u))}n.push(i)}for(;i=n.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this}function bde(t){return t[0]}function Tde(t){return arguments.length?(this._x=t,this):this._x}function vde(t){return t[1]}function Ede(t){return arguments.length?(this._y=t,this):this._y}function TE(t,e,n){var i=new vE(e??bde,n??vde,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function vE(t,e,n,i,s,a){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=s,this._y1=a,this._root=void 0}function GA(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ls=TE.prototype=vE.prototype;Ls.copy=function(){var t=new vE(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,i;if(!e)return t;if(!e.length)return t._root=GA(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var s=0;s<4;++s)(i=e.source[s])&&(i.length?n.push({source:i,target:e.target[s]=new Array(4)}):e.target[s]=GA(i));return t};Ls.add=cde;Ls.addAll=dde;Ls.cover=fde;Ls.data=ude;Ls.extent=hde;Ls.find=pde;Ls.remove=_de;Ls.removeAll=gde;Ls.root=yde;Ls.size=mde;Ls.visit=wde;Ls.visitAfter=Lde;Ls.x=Tde;Ls.y=Ede;function ds(t){return function(){return t}}function zc(t){return(t()-.5)*1e-6}function Sde(t){return t.x+t.vx}function xde(t){return t.y+t.vy}function Bde(t){var e,n,i,s=1,a=1;typeof t!="function"&&(t=ds(t==null?1:+t));function c(){for(var u,o=e.length,g,y,m,l,b,L,E=0;E<a;++E)for(g=TE(e,Sde,xde).visitAfter(d),u=0;u<o;++u)y=e[u],b=n[y.index],L=b*b,m=y.x+y.vx,l=y.y+y.vy,g.visit(S);function S(x,k,B,A,M){var C=x.data,R=x.r,D=b+R;if(C){if(C.index>y.index){var $=m-C.x-C.vx,Y=l-C.y-C.vy,z=$*$+Y*Y;z<D*D&&($===0&&($=zc(i),z+=$*$),Y===0&&(Y=zc(i),z+=Y*Y),z=(D-(z=Math.sqrt(z)))/z*s,y.vx+=($*=z)*(D=(R*=R)/(L+R)),y.vy+=(Y*=z)*D,C.vx-=$*(D=1-D),C.vy-=Y*D)}return}return k>m+D||A<m-D||B>l+D||M<l-D}}function d(u){if(u.data)return u.r=n[u.data.index];for(var o=u.r=0;o<4;++o)u[o]&&u[o].r>u.r&&(u.r=u[o].r)}function f(){if(e){var u,o=e.length,g;for(n=new Array(o),u=0;u<o;++u)g=e[u],n[g.index]=+t(g,u,e)}}return c.initialize=function(u,o){e=u,i=o,f()},c.iterations=function(u){return arguments.length?(a=+u,c):a},c.strength=function(u){return arguments.length?(s=+u,c):s},c.radius=function(u){return arguments.length?(t=typeof u=="function"?u:ds(+u),f(),c):t},c}function Ide(t){return t.index}function WA(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function kde(t){var e=Ide,n=g,i,s=ds(30),a,c,d,f,u,o=1;t==null&&(t=[]);function g(L){return 1/Math.min(d[L.source.index],d[L.target.index])}function y(L){for(var E=0,S=t.length;E<o;++E)for(var x=0,k,B,A,M,C,R,D;x<S;++x)k=t[x],B=k.source,A=k.target,M=A.x+A.vx-B.x-B.vx||zc(u),C=A.y+A.vy-B.y-B.vy||zc(u),R=Math.sqrt(M*M+C*C),R=(R-a[x])/R*L*i[x],M*=R,C*=R,A.vx-=M*(D=f[x]),A.vy-=C*D,B.vx+=M*(D=1-D),B.vy+=C*D}function m(){if(c){var L,E=c.length,S=t.length,x=new Map(c.map((B,A)=>[e(B,A,c),B])),k;for(L=0,d=new Array(E);L<S;++L)k=t[L],k.index=L,typeof k.source!="object"&&(k.source=WA(x,k.source)),typeof k.target!="object"&&(k.target=WA(x,k.target)),d[k.source.index]=(d[k.source.index]||0)+1,d[k.target.index]=(d[k.target.index]||0)+1;for(L=0,f=new Array(S);L<S;++L)k=t[L],f[L]=d[k.source.index]/(d[k.source.index]+d[k.target.index]);i=new Array(S),l(),a=new Array(S),b()}}function l(){if(c)for(var L=0,E=t.length;L<E;++L)i[L]=+n(t[L],L,t)}function b(){if(c)for(var L=0,E=t.length;L<E;++L)a[L]=+s(t[L],L,t)}return y.initialize=function(L,E){c=L,u=E,m()},y.links=function(L){return arguments.length?(t=L,m(),y):t},y.id=function(L){return arguments.length?(e=L,y):e},y.iterations=function(L){return arguments.length?(o=+L,y):o},y.strength=function(L){return arguments.length?(n=typeof L=="function"?L:ds(+L),l(),y):n},y.distance=function(L){return arguments.length?(s=typeof L=="function"?L:ds(+L),b(),y):s},y}const Fde=1664525,Mde=1013904223,YA=4294967296;function Ade(){let t=1;return()=>(t=(Fde*t+Mde)%YA)/YA}function Ode(t){return t.x}function Nde(t){return t.y}var Cde=10,Rde=Math.PI*(3-Math.sqrt(5));function Dde(t){var e,n=1,i=.001,s=1-Math.pow(i,1/300),a=0,c=.6,d=new Map,f=yE(g),u=lE("tick","end"),o=Ade();t==null&&(t=[]);function g(){y(),u.call("tick",e),n<i&&(f.stop(),u.call("end",e))}function y(b){var L,E=t.length,S;b===void 0&&(b=1);for(var x=0;x<b;++x)for(n+=(a-n)*s,d.forEach(function(k){k(n)}),L=0;L<E;++L)S=t[L],S.fx==null?S.x+=S.vx*=c:(S.x=S.fx,S.vx=0),S.fy==null?S.y+=S.vy*=c:(S.y=S.fy,S.vy=0);return e}function m(){for(var b=0,L=t.length,E;b<L;++b){if(E=t[b],E.index=b,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),isNaN(E.x)||isNaN(E.y)){var S=Cde*Math.sqrt(.5+b),x=b*Rde;E.x=S*Math.cos(x),E.y=S*Math.sin(x)}(isNaN(E.vx)||isNaN(E.vy))&&(E.vx=E.vy=0)}}function l(b){return b.initialize&&b.initialize(t,o),b}return m(),e={tick:y,restart:function(){return f.restart(g),e},stop:function(){return f.stop(),e},nodes:function(b){return arguments.length?(t=b,m(),d.forEach(l),e):t},alpha:function(b){return arguments.length?(n=+b,e):n},alphaMin:function(b){return arguments.length?(i=+b,e):i},alphaDecay:function(b){return arguments.length?(s=+b,e):+s},alphaTarget:function(b){return arguments.length?(a=+b,e):a},velocityDecay:function(b){return arguments.length?(c=1-b,e):1-c},randomSource:function(b){return arguments.length?(o=b,d.forEach(l),e):o},force:function(b,L){return arguments.length>1?(L==null?d.delete(b):d.set(b,l(L)),e):d.get(b)},find:function(b,L,E){var S=0,x=t.length,k,B,A,M,C;for(E==null?E=1/0:E*=E,S=0;S<x;++S)M=t[S],k=b-M.x,B=L-M.y,A=k*k+B*B,A<E&&(C=M,E=A);return C},on:function(b,L){return arguments.length>1?(u.on(b,L),e):u.on(b)}}}function Pde(){var t,e,n,i,s=ds(-30),a,c=1,d=1/0,f=.81;function u(m){var l,b=t.length,L=TE(t,Ode,Nde).visitAfter(g);for(i=m,l=0;l<b;++l)e=t[l],L.visit(y)}function o(){if(t){var m,l=t.length,b;for(a=new Array(l),m=0;m<l;++m)b=t[m],a[b.index]=+s(b,m,t)}}function g(m){var l=0,b,L,E=0,S,x,k;if(m.length){for(S=x=k=0;k<4;++k)(b=m[k])&&(L=Math.abs(b.value))&&(l+=b.value,E+=L,S+=L*b.x,x+=L*b.y);m.x=S/E,m.y=x/E}else{b=m,b.x=b.data.x,b.y=b.data.y;do l+=a[b.data.index];while(b=b.next)}m.value=l}function y(m,l,b,L){if(!m.value)return!0;var E=m.x-e.x,S=m.y-e.y,x=L-l,k=E*E+S*S;if(x*x/f<k)return k<d&&(E===0&&(E=zc(n),k+=E*E),S===0&&(S=zc(n),k+=S*S),k<c&&(k=Math.sqrt(c*k)),e.vx+=E*m.value*i/k,e.vy+=S*m.value*i/k),!0;if(m.length||k>=d)return;(m.data!==e||m.next)&&(E===0&&(E=zc(n),k+=E*E),S===0&&(S=zc(n),k+=S*S),k<c&&(k=Math.sqrt(c*k)));do m.data!==e&&(x=a[m.data.index]*i/k,e.vx+=E*x,e.vy+=S*x);while(m=m.next)}return u.initialize=function(m,l){t=m,n=l,o()},u.strength=function(m){return arguments.length?(s=typeof m=="function"?m:ds(+m),o(),u):s},u.distanceMin=function(m){return arguments.length?(c=m*m,u):Math.sqrt(c)},u.distanceMax=function(m){return arguments.length?(d=m*m,u):Math.sqrt(d)},u.theta=function(m){return arguments.length?(f=m*m,u):Math.sqrt(f)},u}function $de(t){var e=ds(.1),n,i,s;typeof t!="function"&&(t=ds(t==null?0:+t));function a(d){for(var f=0,u=n.length,o;f<u;++f)o=n[f],o.vx+=(s[f]-o.x)*i[f]*d}function c(){if(n){var d,f=n.length;for(i=new Array(f),s=new Array(f),d=0;d<f;++d)i[d]=isNaN(s[d]=+t(n[d],d,n))?0:+e(n[d],d,n)}}return a.initialize=function(d){n=d,c()},a.strength=function(d){return arguments.length?(e=typeof d=="function"?d:ds(+d),c(),a):e},a.x=function(d){return arguments.length?(t=typeof d=="function"?d:ds(+d),c(),a):t},a}function Ude(t){var e=ds(.1),n,i,s;typeof t!="function"&&(t=ds(t==null?0:+t));function a(d){for(var f=0,u=n.length,o;f<u;++f)o=n[f],o.vy+=(s[f]-o.y)*i[f]*d}function c(){if(n){var d,f=n.length;for(i=new Array(f),s=new Array(f),d=0;d<f;++d)i[d]=isNaN(s[d]=+t(n[d],d,n))?0:+e(n[d],d,n)}}return a.initialize=function(d){n=d,c()},a.strength=function(d){return arguments.length?(e=typeof d=="function"?d:ds(+d),c(),a):e},a.y=function(d){return arguments.length?(t=typeof d=="function"?d:ds(+d),c(),a):t},a}function zde(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function T4(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function j1(t){return t=T4(Math.abs(t)),t?t[1]:NaN}function Hde(t,e){return function(n,i){for(var s=n.length,a=[],c=0,d=t[0],f=0;s>0&&d>0&&(f+d+1>i&&(d=Math.max(1,i-f)),a.push(n.substring(s-=d,s+d)),!((f+=d+1)>i));)d=t[c=(c+1)%t.length];return a.reverse().join(e)}}function jde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pu(t){if(!(e=Vde.exec(t)))throw new Error("invalid format: "+t);var e;return new EE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pu.prototype=EE.prototype;function EE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}EE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qde(t){e:for(var e=t.length,n=1,i=-1,s;n<e;++n)switch(t[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(s+1):t}var TH;function Gde(t,e){var n=T4(t,e);if(!n)return t+"";var i=n[0],s=n[1],a=s-(TH=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=i.length;return a===c?i:a>c?i+new Array(a-c+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+T4(t,Math.max(0,e+a-1))[0]}function XA(t,e){var n=T4(t,e);if(!n)return t+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const KA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zde,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>XA(t*100,e),r:XA,s:Gde,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZA(t){return t}var JA=Array.prototype.map,QA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vH(t){var e=t.grouping===void 0||t.thousands===void 0?ZA:Hde(JA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ZA:jde(JA.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function u(g){g=pu(g);var y=g.fill,m=g.align,l=g.sign,b=g.symbol,L=g.zero,E=g.width,S=g.comma,x=g.precision,k=g.trim,B=g.type;B==="n"?(S=!0,B="g"):KA[B]||(x===void 0&&(x=12),k=!0,B="g"),(L||y==="0"&&m==="=")&&(L=!0,y="0",m="=");var A=b==="$"?n:b==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",M=b==="$"?i:/[%p]/.test(B)?c:"",C=KA[B],R=/[defgprs%]/.test(B);x=x===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function D($){var Y=A,z=M,H,q,W;if(B==="c")z=C($)+z,$="";else{$=+$;var X=$<0||1/$<0;if($=isNaN($)?f:C(Math.abs($),x),k&&($=qde($)),X&&+$==0&&l!=="+"&&(X=!1),Y=(X?l==="("?l:d:l==="-"||l==="("?"":l)+Y,z=(B==="s"?QA[8+TH/3]:"")+z+(X&&l==="("?")":""),R){for(H=-1,q=$.length;++H<q;)if(W=$.charCodeAt(H),48>W||W>57){z=(W===46?s+$.slice(H+1):$.slice(H))+z,$=$.slice(0,H);break}}}S&&!L&&($=e($,1/0));var G=Y.length+$.length+z.length,le=G<E?new Array(E-G+1).join(y):"";switch(S&&L&&($=e(le+$,le.length?E-z.length:1/0),le=""),m){case"<":$=Y+$+z+le;break;case"=":$=Y+le+$+z;break;case"^":$=le.slice(0,G=le.length>>1)+Y+$+z+le.slice(G);break;default:$=le+Y+$+z;break}return a($)}return D.toString=function(){return g+""},D}function o(g,y){var m=u((g=pu(g),g.type="f",g)),l=Math.max(-8,Math.min(8,Math.floor(j1(y)/3)))*3,b=Math.pow(10,-l),L=QA[8+l/3];return function(E){return m(b*E)+L}}return{format:u,formatPrefix:o}}var py,W6,SE;Wde({thousands:",",grouping:[3],currency:["$",""]});function Wde(t){return py=vH(t),W6=py.format,SE=py.formatPrefix,py}function EH(t){return Math.max(0,-j1(Math.abs(t)))}function SH(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(j1(e)/3)))*3-j1(Math.abs(t)))}function xH(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,j1(e)-j1(t))+1}var He=1e-6,v4=1e-12,It=Math.PI,$n=It/2,E4=It/4,ps=It*2,jn=180/It,St=It/180,Nt=Math.abs,F2=Math.atan,Gr=Math.atan2,Ve=Math.cos,_y=Math.ceil,BH=Math.exp,Fb=Math.hypot,S4=Math.log,b8=Math.pow,Pe=Math.sin,Rr=Math.sign||function(t){return t>0?1:t<0?-1:0},_s=Math.sqrt,xE=Math.tan;function IH(t){return t>1?0:t<-1?It:Math.acos(t)}function js(t){return t>1?$n:t<-1?-$n:Math.asin(t)}function Bi(){}function x4(t,e){t&&tO.hasOwnProperty(t.type)&&tO[t.type](t,e)}var eO={Feature:function(t,e){x4(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,s=n.length;++i<s;)x4(n[i].geometry,e)}},tO={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,s=n.length;++i<s;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Mb(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,s=n.length;++i<s;)Mb(n[i],e,0)},Polygon:function(t,e){nO(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,s=n.length;++i<s;)nO(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,s=n.length;++i<s;)x4(n[i],e)}};function Mb(t,e,n){var i=-1,s=t.length-n,a;for(e.lineStart();++i<s;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function nO(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Mb(t[n],e,1);e.polygonEnd()}function kl(t,e){t&&eO.hasOwnProperty(t.type)?eO[t.type](t,e):x4(t,e)}var B4=new us,I4=new us,kH,FH,Ab,Ob,Nb,Co={point:Bi,lineStart:Bi,lineEnd:Bi,polygonStart:function(){B4=new us,Co.lineStart=Yde,Co.lineEnd=Xde},polygonEnd:function(){var t=+B4;I4.add(t<0?ps+t:t),this.lineStart=this.lineEnd=this.point=Bi},sphere:function(){I4.add(ps)}};function Yde(){Co.point=Kde}function Xde(){MH(kH,FH)}function Kde(t,e){Co.point=MH,kH=t,FH=e,t*=St,e*=St,Ab=t,Ob=Ve(e=e/2+E4),Nb=Pe(e)}function MH(t,e){t*=St,e*=St,e=e/2+E4;var n=t-Ab,i=n>=0?1:-1,s=i*n,a=Ve(e),c=Pe(e),d=Nb*c,f=Ob*a+d*Ve(s),u=d*i*Pe(s);B4.add(Gr(u,f)),Ab=t,Ob=a,Nb=c}function Zde(t){return I4=new us,kl(t,Co),I4*2}function k4(t){return[Gr(t[1],t[0]),js(t[2])]}function _u(t){var e=t[0],n=t[1],i=Ve(n);return[i*Ve(e),i*Pe(e),Pe(n)]}function gy(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function V1(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function T8(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function yy(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function F4(t){var e=_s(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var An,Is,Rn,cr,Bf,AH,OH,p1,pp,Mc,Zl,Sl={point:Cb,lineStart:iO,lineEnd:sO,polygonStart:function(){Sl.point=CH,Sl.lineStart=Jde,Sl.lineEnd=Qde,pp=new us,Co.polygonStart()},polygonEnd:function(){Co.polygonEnd(),Sl.point=Cb,Sl.lineStart=iO,Sl.lineEnd=sO,B4<0?(An=-(Rn=180),Is=-(cr=90)):pp>He?cr=90:pp<-He&&(Is=-90),Zl[0]=An,Zl[1]=Rn},sphere:function(){An=-(Rn=180),Is=-(cr=90)}};function Cb(t,e){Mc.push(Zl=[An=t,Rn=t]),e<Is&&(Is=e),e>cr&&(cr=e)}function NH(t,e){var n=_u([t*St,e*St]);if(p1){var i=V1(p1,n),s=[i[1],-i[0],0],a=V1(s,i);F4(a),a=k4(a);var c=t-Bf,d=c>0?1:-1,f=a[0]*jn*d,u,o=Nt(c)>180;o^(d*Bf<f&&f<d*t)?(u=a[1]*jn,u>cr&&(cr=u)):(f=(f+360)%360-180,o^(d*Bf<f&&f<d*t)?(u=-a[1]*jn,u<Is&&(Is=u)):(e<Is&&(Is=e),e>cr&&(cr=e))),o?t<Bf?or(An,t)>or(An,Rn)&&(Rn=t):or(t,Rn)>or(An,Rn)&&(An=t):Rn>=An?(t<An&&(An=t),t>Rn&&(Rn=t)):t>Bf?or(An,t)>or(An,Rn)&&(Rn=t):or(t,Rn)>or(An,Rn)&&(An=t)}else Mc.push(Zl=[An=t,Rn=t]);e<Is&&(Is=e),e>cr&&(cr=e),p1=n,Bf=t}function iO(){Sl.point=NH}function sO(){Zl[0]=An,Zl[1]=Rn,Sl.point=Cb,p1=null}function CH(t,e){if(p1){var n=t-Bf;pp.add(Nt(n)>180?n+(n>0?360:-360):n)}else AH=t,OH=e;Co.point(t,e),NH(t,e)}function Jde(){Co.lineStart()}function Qde(){CH(AH,OH),Co.lineEnd(),Nt(pp)>He&&(An=-(Rn=180)),Zl[0]=An,Zl[1]=Rn,p1=null}function or(t,e){return(e-=t)<0?e+360:e}function efe(t,e){return t[0]-e[0]}function rO(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function tfe(t){var e,n,i,s,a,c,d;if(cr=Rn=-(An=Is=1/0),Mc=[],kl(t,Sl),n=Mc.length){for(Mc.sort(efe),e=1,i=Mc[0],a=[i];e<n;++e)s=Mc[e],rO(i,s[0])||rO(i,s[1])?(or(i[0],s[1])>or(i[0],i[1])&&(i[1]=s[1]),or(s[0],i[1])>or(i[0],i[1])&&(i[0]=s[0])):a.push(i=s);for(c=-1/0,n=a.length-1,e=0,i=a[n];e<=n;i=s,++e)s=a[e],(d=or(i[1],s[0]))>c&&(c=d,An=s[0],Rn=i[1])}return Mc=Zl=null,An===1/0||Is===1/0?[[NaN,NaN],[NaN,NaN]]:[[An,Is],[Rn,cr]]}var j0,M4,A4,O4,N4,C4,R4,D4,Rb,Db,Pb,RH,DH,ns,is,ss,ga={sphere:Bi,point:BE,lineStart:aO,lineEnd:oO,polygonStart:function(){ga.lineStart=sfe,ga.lineEnd=rfe},polygonEnd:function(){ga.lineStart=aO,ga.lineEnd=oO}};function BE(t,e){t*=St,e*=St;var n=Ve(e);X3(n*Ve(t),n*Pe(t),Pe(e))}function X3(t,e,n){++j0,A4+=(t-A4)/j0,O4+=(e-O4)/j0,N4+=(n-N4)/j0}function aO(){ga.point=nfe}function nfe(t,e){t*=St,e*=St;var n=Ve(e);ns=n*Ve(t),is=n*Pe(t),ss=Pe(e),ga.point=ife,X3(ns,is,ss)}function ife(t,e){t*=St,e*=St;var n=Ve(e),i=n*Ve(t),s=n*Pe(t),a=Pe(e),c=Gr(_s((c=is*a-ss*s)*c+(c=ss*i-ns*a)*c+(c=ns*s-is*i)*c),ns*i+is*s+ss*a);M4+=c,C4+=c*(ns+(ns=i)),R4+=c*(is+(is=s)),D4+=c*(ss+(ss=a)),X3(ns,is,ss)}function oO(){ga.point=BE}function sfe(){ga.point=afe}function rfe(){PH(RH,DH),ga.point=BE}function afe(t,e){RH=t,DH=e,t*=St,e*=St,ga.point=PH;var n=Ve(e);ns=n*Ve(t),is=n*Pe(t),ss=Pe(e),X3(ns,is,ss)}function PH(t,e){t*=St,e*=St;var n=Ve(e),i=n*Ve(t),s=n*Pe(t),a=Pe(e),c=is*a-ss*s,d=ss*i-ns*a,f=ns*s-is*i,u=Fb(c,d,f),o=js(u),g=u&&-o/u;Rb.add(g*c),Db.add(g*d),Pb.add(g*f),M4+=o,C4+=o*(ns+(ns=i)),R4+=o*(is+(is=s)),D4+=o*(ss+(ss=a)),X3(ns,is,ss)}function ofe(t){j0=M4=A4=O4=N4=C4=R4=D4=0,Rb=new us,Db=new us,Pb=new us,kl(t,ga);var e=+Rb,n=+Db,i=+Pb,s=Fb(e,n,i);return s<v4&&(e=C4,n=R4,i=D4,M4<He&&(e=A4,n=O4,i=N4),s=Fb(e,n,i),s<v4)?[NaN,NaN]:[Gr(n,e)*jn,js(i/s)*jn]}function $b(t,e){function n(i,s){return i=t(i,s),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,s){return i=e.invert(i,s),i&&t.invert(i[0],i[1])}),n}function Ub(t,e){return Nt(t)>It&&(t-=Math.round(t/ps)*ps),[t,e]}Ub.invert=Ub;function $H(t,e,n){return(t%=ps)?e||n?$b(cO(t),dO(e,n)):cO(t):e||n?dO(e,n):Ub}function lO(t){return function(e,n){return e+=t,Nt(e)>It&&(e-=Math.round(e/ps)*ps),[e,n]}}function cO(t){var e=lO(t);return e.invert=lO(-t),e}function dO(t,e){var n=Ve(t),i=Pe(t),s=Ve(e),a=Pe(e);function c(d,f){var u=Ve(f),o=Ve(d)*u,g=Pe(d)*u,y=Pe(f),m=y*n+o*i;return[Gr(g*s-m*a,o*n-y*i),js(m*s+g*a)]}return c.invert=function(d,f){var u=Ve(f),o=Ve(d)*u,g=Pe(d)*u,y=Pe(f),m=y*s-g*a;return[Gr(g*s+y*a,o*n+m*i),js(m*n-o*i)]},c}function lfe(t){t=$H(t[0]*St,t[1]*St,t.length>2?t[2]*St:0);function e(n){return n=t(n[0]*St,n[1]*St),n[0]*=jn,n[1]*=jn,n}return e.invert=function(n){return n=t.invert(n[0]*St,n[1]*St),n[0]*=jn,n[1]*=jn,n},e}function cfe(t,e,n,i,s,a){if(n){var c=Ve(e),d=Pe(e),f=i*n;s==null?(s=e+i*ps,a=e-f/2):(s=fO(c,s),a=fO(c,a),(i>0?s<a:s>a)&&(s+=i*ps));for(var u,o=s;i>0?o>a:o<a;o-=f)u=k4([c,-d*Ve(o),-d*Pe(o)]),t.point(u[0],u[1])}}function fO(t,e){e=_u(e),e[0]-=t,F4(e);var n=IH(-e[1]);return((-e[2]<0?-n:n)+ps-He)%ps}function UH(){var t=[],e;return{point:function(n,i,s){e.push([n,i,s])},lineStart:function(){t.push(e=[])},lineEnd:Bi,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function wm(t,e){return Nt(t[0]-e[0])<He&&Nt(t[1]-e[1])<He}function my(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function zH(t,e,n,i,s){var a=[],c=[],d,f;if(t.forEach(function(l){if(!((b=l.length-1)<=0)){var b,L=l[0],E=l[b],S;if(wm(L,E)){if(!L[2]&&!E[2]){for(s.lineStart(),d=0;d<b;++d)s.point((L=l[d])[0],L[1]);s.lineEnd();return}E[0]+=2*He}a.push(S=new my(L,l,null,!0)),c.push(S.o=new my(L,null,S,!1)),a.push(S=new my(E,l,null,!1)),c.push(S.o=new my(E,null,S,!0))}}),!!a.length){for(c.sort(e),uO(a),uO(c),d=0,f=c.length;d<f;++d)c[d].e=n=!n;for(var u=a[0],o,g;;){for(var y=u,m=!0;y.v;)if((y=y.n)===u)return;o=y.z,s.lineStart();do{if(y.v=y.o.v=!0,y.e){if(m)for(d=0,f=o.length;d<f;++d)s.point((g=o[d])[0],g[1]);else i(y.x,y.n.x,1,s);y=y.n}else{if(m)for(o=y.p.z,d=o.length-1;d>=0;--d)s.point((g=o[d])[0],g[1]);else i(y.x,y.p.x,-1,s);y=y.p}y=y.o,o=y.z,m=!m}while(!y.v);s.lineEnd()}}}function uO(t){if(e=t.length){for(var e,n=0,i=t[0],s;++n<e;)i.n=s=t[n],s.p=i,i=s;i.n=s=t[0],s.p=i}}function v8(t){return Nt(t[0])<=It?t[0]:Rr(t[0])*((Nt(t[0])+It)%ps-It)}function dfe(t,e){var n=v8(e),i=e[1],s=Pe(i),a=[Pe(n),-Ve(n),0],c=0,d=0,f=new us;s===1?i=$n+He:s===-1&&(i=-$n-He);for(var u=0,o=t.length;u<o;++u)if(y=(g=t[u]).length)for(var g,y,m=g[y-1],l=v8(m),b=m[1]/2+E4,L=Pe(b),E=Ve(b),S=0;S<y;++S,l=k,L=A,E=M,m=x){var x=g[S],k=v8(x),B=x[1]/2+E4,A=Pe(B),M=Ve(B),C=k-l,R=C>=0?1:-1,D=R*C,$=D>It,Y=L*A;if(f.add(Gr(Y*R*Pe(D),E*M+Y*Ve(D))),c+=$?C+R*ps:C,$^l>=n^k>=n){var z=V1(_u(m),_u(x));F4(z);var H=V1(a,z);F4(H);var q=($^C>=0?-1:1)*js(H[2]);(i>q||i===q&&(z[0]||z[1]))&&(d+=$^C>=0?1:-1)}}return(c<-He||c<He&&f<-v4)^d&1}function HH(t,e,n,i){return function(s){var a=e(s),c=UH(),d=e(c),f=!1,u,o,g,y={point:m,lineStart:b,lineEnd:L,polygonStart:function(){y.point=E,y.lineStart=S,y.lineEnd=x,o=[],u=[]},polygonEnd:function(){y.point=m,y.lineStart=b,y.lineEnd=L,o=Sz(o);var k=dfe(u,i);o.length?(f||(s.polygonStart(),f=!0),zH(o,ufe,k,n,s)):k&&(f||(s.polygonStart(),f=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),f&&(s.polygonEnd(),f=!1),o=u=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function m(k,B){t(k,B)&&s.point(k,B)}function l(k,B){a.point(k,B)}function b(){y.point=l,a.lineStart()}function L(){y.point=m,a.lineEnd()}function E(k,B){g.push([k,B]),d.point(k,B)}function S(){d.lineStart(),g=[]}function x(){E(g[0][0],g[0][1]),d.lineEnd();var k=d.clean(),B=c.result(),A,M=B.length,C,R,D;if(g.pop(),u.push(g),g=null,!!M){if(k&1){if(R=B[0],(C=R.length-1)>0){for(f||(s.polygonStart(),f=!0),s.lineStart(),A=0;A<C;++A)s.point((D=R[A])[0],D[1]);s.lineEnd()}return}M>1&&k&2&&B.push(B.pop().concat(B.shift())),o.push(B.filter(ffe))}}return y}}function ffe(t){return t.length>1}function ufe(t,e){return((t=t.x)[0]<0?t[1]-$n-He:$n-t[1])-((e=e.x)[0]<0?e[1]-$n-He:$n-e[1])}const hO=HH(function(){return!0},hfe,_fe,[-It,-$n]);function hfe(t){var e=NaN,n=NaN,i=NaN,s;return{lineStart:function(){t.lineStart(),s=1},point:function(a,c){var d=a>0?It:-It,f=Nt(a-e);Nt(f-It)<He?(t.point(e,n=(n+c)/2>0?$n:-$n),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(d,n),t.point(a,n),s=0):i!==d&&f>=It&&(Nt(e-i)<He&&(e-=i*He),Nt(a-d)<He&&(a-=d*He),n=pfe(e,n,a,c),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(d,n),s=0),t.point(e=a,n=c),i=d},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-s}}}function pfe(t,e,n,i){var s,a,c=Pe(t-n);return Nt(c)>He?F2((Pe(e)*(a=Ve(i))*Pe(n)-Pe(i)*(s=Ve(e))*Pe(t))/(s*a*c)):(e+i)/2}function _fe(t,e,n,i){var s;if(t==null)s=n*$n,i.point(-It,s),i.point(0,s),i.point(It,s),i.point(It,0),i.point(It,-s),i.point(0,-s),i.point(-It,-s),i.point(-It,0),i.point(-It,s);else if(Nt(t[0]-e[0])>He){var a=t[0]<e[0]?It:-It;s=n*a/2,i.point(-a,s),i.point(0,s),i.point(a,s)}else i.point(e[0],e[1])}function gfe(t){var e=Ve(t),n=6*St,i=e>0,s=Nt(e)>He;function a(o,g,y,m){cfe(m,t,n,y,o,g)}function c(o,g){return Ve(o)*Ve(g)>e}function d(o){var g,y,m,l,b;return{lineStart:function(){l=m=!1,b=1},point:function(L,E){var S=[L,E],x,k=c(L,E),B=i?k?0:u(L,E):k?u(L+(L<0?It:-It),E):0;if(!g&&(l=m=k)&&o.lineStart(),k!==m&&(x=f(g,S),(!x||wm(g,x)||wm(S,x))&&(S[2]=1)),k!==m)b=0,k?(o.lineStart(),x=f(S,g),o.point(x[0],x[1])):(x=f(g,S),o.point(x[0],x[1],2),o.lineEnd()),g=x;else if(s&&g&&i^k){var A;!(B&y)&&(A=f(S,g,!0))&&(b=0,i?(o.lineStart(),o.point(A[0][0],A[0][1]),o.point(A[1][0],A[1][1]),o.lineEnd()):(o.point(A[1][0],A[1][1]),o.lineEnd(),o.lineStart(),o.point(A[0][0],A[0][1],3)))}k&&(!g||!wm(g,S))&&o.point(S[0],S[1]),g=S,m=k,y=B},lineEnd:function(){m&&o.lineEnd(),g=null},clean:function(){return b|(l&&m)<<1}}}function f(o,g,y){var m=_u(o),l=_u(g),b=[1,0,0],L=V1(m,l),E=gy(L,L),S=L[0],x=E-S*S;if(!x)return!y&&o;var k=e*E/x,B=-e*S/x,A=V1(b,L),M=yy(b,k),C=yy(L,B);T8(M,C);var R=A,D=gy(M,R),$=gy(R,R),Y=D*D-$*(gy(M,M)-1);if(!(Y<0)){var z=_s(Y),H=yy(R,(-D-z)/$);if(T8(H,M),H=k4(H),!y)return H;var q=o[0],W=g[0],X=o[1],G=g[1],le;W<q&&(le=q,q=W,W=le);var pe=W-q,ie=Nt(pe-It)<He,Ae=ie||pe<He;if(!ie&&G<X&&(le=X,X=G,G=le),Ae?ie?X+G>0^H[1]<(Nt(H[0]-q)<He?X:G):X<=H[1]&&H[1]<=G:pe>It^(q<=H[0]&&H[0]<=W)){var fe=yy(R,(-D+z)/$);return T8(fe,M),[H,k4(fe)]}}}function u(o,g){var y=i?t:It-t,m=0;return o<-y?m|=1:o>y&&(m|=2),g<-y?m|=4:g>y&&(m|=8),m}return HH(c,d,a,i?[0,-t]:[-It,t-It])}function yfe(t,e,n,i,s,a){var c=t[0],d=t[1],f=e[0],u=e[1],o=0,g=1,y=f-c,m=u-d,l;if(l=n-c,!(!y&&l>0)){if(l/=y,y<0){if(l<o)return;l<g&&(g=l)}else if(y>0){if(l>g)return;l>o&&(o=l)}if(l=s-c,!(!y&&l<0)){if(l/=y,y<0){if(l>g)return;l>o&&(o=l)}else if(y>0){if(l<o)return;l<g&&(g=l)}if(l=i-d,!(!m&&l>0)){if(l/=m,m<0){if(l<o)return;l<g&&(g=l)}else if(m>0){if(l>g)return;l>o&&(o=l)}if(l=a-d,!(!m&&l<0)){if(l/=m,m<0){if(l>g)return;l>o&&(o=l)}else if(m>0){if(l<o)return;l<g&&(g=l)}return o>0&&(t[0]=c+o*y,t[1]=d+o*m),g<1&&(e[0]=c+g*y,e[1]=d+g*m),!0}}}}}var V0=1e9,wy=-V0;function jH(t,e,n,i){function s(u,o){return t<=u&&u<=n&&e<=o&&o<=i}function a(u,o,g,y){var m=0,l=0;if(u==null||(m=c(u,g))!==(l=c(o,g))||f(u,o)<0^g>0)do y.point(m===0||m===3?t:n,m>1?i:e);while((m=(m+g+4)%4)!==l);else y.point(o[0],o[1])}function c(u,o){return Nt(u[0]-t)<He?o>0?0:3:Nt(u[0]-n)<He?o>0?2:1:Nt(u[1]-e)<He?o>0?1:0:o>0?3:2}function d(u,o){return f(u.x,o.x)}function f(u,o){var g=c(u,1),y=c(o,1);return g!==y?g-y:g===0?o[1]-u[1]:g===1?u[0]-o[0]:g===2?u[1]-o[1]:o[0]-u[0]}return function(u){var o=u,g=UH(),y,m,l,b,L,E,S,x,k,B,A,M={point:C,lineStart:Y,lineEnd:z,polygonStart:D,polygonEnd:$};function C(q,W){s(q,W)&&o.point(q,W)}function R(){for(var q=0,W=0,X=m.length;W<X;++W)for(var G=m[W],le=1,pe=G.length,ie=G[0],Ae,fe,Fe=ie[0],je=ie[1];le<pe;++le)Ae=Fe,fe=je,ie=G[le],Fe=ie[0],je=ie[1],fe<=i?je>i&&(Fe-Ae)*(i-fe)>(je-fe)*(t-Ae)&&++q:je<=i&&(Fe-Ae)*(i-fe)<(je-fe)*(t-Ae)&&--q;return q}function D(){o=g,y=[],m=[],A=!0}function $(){var q=R(),W=A&&q,X=(y=Sz(y)).length;(W||X)&&(u.polygonStart(),W&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),X&&zH(y,d,q,a,u),u.polygonEnd()),o=u,y=m=l=null}function Y(){M.point=H,m&&m.push(l=[]),B=!0,k=!1,S=x=NaN}function z(){y&&(H(b,L),E&&k&&g.rejoin(),y.push(g.result())),M.point=C,k&&o.lineEnd()}function H(q,W){var X=s(q,W);if(m&&l.push([q,W]),B)b=q,L=W,E=X,B=!1,X&&(o.lineStart(),o.point(q,W));else if(X&&k)o.point(q,W);else{var G=[S=Math.max(wy,Math.min(V0,S)),x=Math.max(wy,Math.min(V0,x))],le=[q=Math.max(wy,Math.min(V0,q)),W=Math.max(wy,Math.min(V0,W))];yfe(G,le,t,e,n,i)?(k||(o.lineStart(),o.point(G[0],G[1])),o.point(le[0],le[1]),X||o.lineEnd(),A=!1):X&&(o.lineStart(),o.point(q,W),A=!1)}S=q,x=W,k=X}return M}}function pO(t,e,n){var i=hr(t,e-He,n).concat(e);return function(s){return i.map(function(a){return[s,a]})}}function _O(t,e,n){var i=hr(t,e-He,n).concat(e);return function(s){return i.map(function(a){return[a,s]})}}function mfe(){var t,e,n,i,s,a,c,d,f=10,u=f,o=90,g=360,y,m,l,b,L=2.5;function E(){return{type:"MultiLineString",coordinates:S()}}function S(){return hr(_y(i/o)*o,n,o).map(l).concat(hr(_y(d/g)*g,c,g).map(b)).concat(hr(_y(e/f)*f,t,f).filter(function(x){return Nt(x%o)>He}).map(y)).concat(hr(_y(a/u)*u,s,u).filter(function(x){return Nt(x%g)>He}).map(m))}return E.lines=function(){return S().map(function(x){return{type:"LineString",coordinates:x}})},E.outline=function(){return{type:"Polygon",coordinates:[l(i).concat(b(c).slice(1),l(n).reverse().slice(1),b(d).reverse().slice(1))]}},E.extent=function(x){return arguments.length?E.extentMajor(x).extentMinor(x):E.extentMinor()},E.extentMajor=function(x){return arguments.length?(i=+x[0][0],n=+x[1][0],d=+x[0][1],c=+x[1][1],i>n&&(x=i,i=n,n=x),d>c&&(x=d,d=c,c=x),E.precision(L)):[[i,d],[n,c]]},E.extentMinor=function(x){return arguments.length?(e=+x[0][0],t=+x[1][0],a=+x[0][1],s=+x[1][1],e>t&&(x=e,e=t,t=x),a>s&&(x=a,a=s,s=x),E.precision(L)):[[e,a],[t,s]]},E.step=function(x){return arguments.length?E.stepMajor(x).stepMinor(x):E.stepMinor()},E.stepMajor=function(x){return arguments.length?(o=+x[0],g=+x[1],E):[o,g]},E.stepMinor=function(x){return arguments.length?(f=+x[0],u=+x[1],E):[f,u]},E.precision=function(x){return arguments.length?(L=+x,y=pO(a,s,90),m=_O(e,t,L),l=pO(d,c,90),b=_O(i,n,L),E):L},E.extentMajor([[-180,-90+He],[180,90-He]]).extentMinor([[-180,-80-He],[180,80+He]])}const Kp=t=>t;var E8=new us,zb=new us,VH,qH,Hb,jb,$c={point:Bi,lineStart:Bi,lineEnd:Bi,polygonStart:function(){$c.lineStart=wfe,$c.lineEnd=bfe},polygonEnd:function(){$c.lineStart=$c.lineEnd=$c.point=Bi,E8.add(Nt(zb)),zb=new us},result:function(){var t=E8/2;return E8=new us,t}};function wfe(){$c.point=Lfe}function Lfe(t,e){$c.point=GH,VH=Hb=t,qH=jb=e}function GH(t,e){zb.add(jb*t-Hb*e),Hb=t,jb=e}function bfe(){GH(VH,qH)}const gO=$c;var q1=1/0,P4=q1,Zp=-q1,$4=Zp,Tfe={point:vfe,lineStart:Bi,lineEnd:Bi,polygonStart:Bi,polygonEnd:Bi,result:function(){var t=[[q1,P4],[Zp,$4]];return Zp=$4=-(P4=q1=1/0),t}};function vfe(t,e){t<q1&&(q1=t),t>Zp&&(Zp=t),e<P4&&(P4=e),e>$4&&($4=e)}const U4=Tfe;var Vb=0,qb=0,q0=0,z4=0,H4=0,Kh=0,Gb=0,Wb=0,G0=0,WH,YH,co,fo,ha={point:gu,lineStart:yO,lineEnd:mO,polygonStart:function(){ha.lineStart=xfe,ha.lineEnd=Bfe},polygonEnd:function(){ha.point=gu,ha.lineStart=yO,ha.lineEnd=mO},result:function(){var t=G0?[Gb/G0,Wb/G0]:Kh?[z4/Kh,H4/Kh]:q0?[Vb/q0,qb/q0]:[NaN,NaN];return Vb=qb=q0=z4=H4=Kh=Gb=Wb=G0=0,t}};function gu(t,e){Vb+=t,qb+=e,++q0}function yO(){ha.point=Efe}function Efe(t,e){ha.point=Sfe,gu(co=t,fo=e)}function Sfe(t,e){var n=t-co,i=e-fo,s=_s(n*n+i*i);z4+=s*(co+t)/2,H4+=s*(fo+e)/2,Kh+=s,gu(co=t,fo=e)}function mO(){ha.point=gu}function xfe(){ha.point=Ife}function Bfe(){XH(WH,YH)}function Ife(t,e){ha.point=XH,gu(WH=co=t,YH=fo=e)}function XH(t,e){var n=t-co,i=e-fo,s=_s(n*n+i*i);z4+=s*(co+t)/2,H4+=s*(fo+e)/2,Kh+=s,s=fo*t-co*e,Gb+=s*(co+t),Wb+=s*(fo+e),G0+=s*3,gu(co=t,fo=e)}const wO=ha;function KH(t){this._context=t}KH.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ps);break}}},result:Bi};var Yb=new us,S8,ZH,JH,W0,Y0,j4={point:Bi,lineStart:function(){j4.point=kfe},lineEnd:function(){S8&&QH(ZH,JH),j4.point=Bi},polygonStart:function(){S8=!0},polygonEnd:function(){S8=null},result:function(){var t=+Yb;return Yb=new us,t}};function kfe(t,e){j4.point=QH,ZH=W0=t,JH=Y0=e}function QH(t,e){W0-=t,Y0-=e,Yb.add(_s(W0*W0+Y0*Y0)),W0=t,Y0=e}const LO=j4;let bO,V4,TO,vO;class EO{constructor(e){this._append=e==null?ej:Ffe(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==TO||this._append!==V4){const i=this._radius,s=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,TO=i,V4=this._append,vO=this._,this._=s}this._+=vO;break}}}result(){const e=this._;return this._="",e.length?e:null}}function ej(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ffe(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return ej;if(e!==bO){const n=10**e;bO=e,V4=function(s){let a=1;this._+=s[0];for(const c=s.length;a<c;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}return V4}function tj(t,e){let n=3,i=4.5,s,a;function c(d){return d&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),kl(d,s(a))),a.result()}return c.area=function(d){return kl(d,s(gO)),gO.result()},c.measure=function(d){return kl(d,s(LO)),LO.result()},c.bounds=function(d){return kl(d,s(U4)),U4.result()},c.centroid=function(d){return kl(d,s(wO)),wO.result()},c.projection=function(d){return arguments.length?(s=d==null?(t=null,Kp):(t=d).stream,c):t},c.context=function(d){return arguments.length?(a=d==null?(e=null,new EO(n)):new KH(e=d),typeof i!="function"&&a.pointRadius(i),c):e},c.pointRadius=function(d){return arguments.length?(i=typeof d=="function"?d:(a.pointRadius(+d),+d),c):i},c.digits=function(d){if(!arguments.length)return n;if(d==null)n=null;else{const f=Math.floor(d);if(!(f>=0))throw new RangeError(`invalid digits: ${d}`);n=f}return e===null&&(a=new EO(n)),c},c.projection(t).digits(n).context(e)}function Y6(t){return function(e){var n=new Xb;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Xb(){}Xb.prototype={constructor:Xb,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function IE(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),kl(n,t.stream(U4)),e(U4.result()),i!=null&&t.clipExtent(i),t}function X6(t,e,n){return IE(t,function(i){var s=e[1][0]-e[0][0],a=e[1][1]-e[0][1],c=Math.min(s/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),d=+e[0][0]+(s-c*(i[1][0]+i[0][0]))/2,f=+e[0][1]+(a-c*(i[1][1]+i[0][1]))/2;t.scale(150*c).translate([d,f])},n)}function kE(t,e,n){return X6(t,[[0,0],e],n)}function FE(t,e,n){return IE(t,function(i){var s=+e,a=s/(i[1][0]-i[0][0]),c=(s-a*(i[1][0]+i[0][0]))/2,d=-a*i[0][1];t.scale(150*a).translate([c,d])},n)}function ME(t,e,n){return IE(t,function(i){var s=+e,a=s/(i[1][1]-i[0][1]),c=-a*i[0][0],d=(s-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([c,d])},n)}var SO=16,Mfe=Ve(30*St);function xO(t,e){return+e?Ofe(t,e):Afe(t)}function Afe(t){return Y6({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Ofe(t,e){function n(i,s,a,c,d,f,u,o,g,y,m,l,b,L){var E=u-i,S=o-s,x=E*E+S*S;if(x>4*e&&b--){var k=c+y,B=d+m,A=f+l,M=_s(k*k+B*B+A*A),C=js(A/=M),R=Nt(Nt(A)-1)<He||Nt(a-g)<He?(a+g)/2:Gr(B,k),D=t(R,C),$=D[0],Y=D[1],z=$-i,H=Y-s,q=S*z-E*H;(q*q/x>e||Nt((E*z+S*H)/x-.5)>.3||c*y+d*m+f*l<Mfe)&&(n(i,s,a,c,d,f,$,Y,R,k/=M,B/=M,A,b,L),L.point($,Y),n($,Y,R,k,B,A,u,o,g,y,m,l,b,L))}}return function(i){var s,a,c,d,f,u,o,g,y,m,l,b,L={point:E,lineStart:S,lineEnd:k,polygonStart:function(){i.polygonStart(),L.lineStart=B},polygonEnd:function(){i.polygonEnd(),L.lineStart=S}};function E(C,R){C=t(C,R),i.point(C[0],C[1])}function S(){g=NaN,L.point=x,i.lineStart()}function x(C,R){var D=_u([C,R]),$=t(C,R);n(g,y,o,m,l,b,g=$[0],y=$[1],o=C,m=D[0],l=D[1],b=D[2],SO,i),i.point(g,y)}function k(){L.point=E,i.lineEnd()}function B(){S(),L.point=A,L.lineEnd=M}function A(C,R){x(s=C,R),a=g,c=y,d=m,f=l,u=b,L.point=x}function M(){n(g,y,o,m,l,b,a,c,s,d,f,u,SO,i),L.lineEnd=k,k()}return L}}var Nfe=Y6({point:function(t,e){this.stream.point(t*St,e*St)}});function Cfe(t){return Y6({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function Rfe(t,e,n,i,s){function a(c,d){return c*=i,d*=s,[e+t*c,n-t*d]}return a.invert=function(c,d){return[(c-e)/t*i,(n-d)/t*s]},a}function BO(t,e,n,i,s,a){if(!a)return Rfe(t,e,n,i,s);var c=Ve(a),d=Pe(a),f=c*t,u=d*t,o=c/t,g=d/t,y=(d*n-c*e)/t,m=(d*e+c*n)/t;function l(b,L){return b*=i,L*=s,[f*b-u*L+e,n-u*b-f*L]}return l.invert=function(b,L){return[i*(o*b-g*L+y),s*(m-g*b-o*L)]},l}function Ko(t){return nj(function(){return t})()}function nj(t){var e,n=150,i=480,s=250,a=0,c=0,d=0,f=0,u=0,o,g=0,y=1,m=1,l=null,b=hO,L=null,E,S,x,k=Kp,B=.5,A,M,C,R,D;function $(q){return C(q[0]*St,q[1]*St)}function Y(q){return q=C.invert(q[0],q[1]),q&&[q[0]*jn,q[1]*jn]}$.stream=function(q){return R&&D===q?R:R=Nfe(Cfe(o)(b(A(k(D=q)))))},$.preclip=function(q){return arguments.length?(b=q,l=void 0,H()):b},$.postclip=function(q){return arguments.length?(k=q,L=E=S=x=null,H()):k},$.clipAngle=function(q){return arguments.length?(b=+q?gfe(l=q*St):(l=null,hO),H()):l*jn},$.clipExtent=function(q){return arguments.length?(k=q==null?(L=E=S=x=null,Kp):jH(L=+q[0][0],E=+q[0][1],S=+q[1][0],x=+q[1][1]),H()):L==null?null:[[L,E],[S,x]]},$.scale=function(q){return arguments.length?(n=+q,z()):n},$.translate=function(q){return arguments.length?(i=+q[0],s=+q[1],z()):[i,s]},$.center=function(q){return arguments.length?(a=q[0]%360*St,c=q[1]%360*St,z()):[a*jn,c*jn]},$.rotate=function(q){return arguments.length?(d=q[0]%360*St,f=q[1]%360*St,u=q.length>2?q[2]%360*St:0,z()):[d*jn,f*jn,u*jn]},$.angle=function(q){return arguments.length?(g=q%360*St,z()):g*jn},$.reflectX=function(q){return arguments.length?(y=q?-1:1,z()):y<0},$.reflectY=function(q){return arguments.length?(m=q?-1:1,z()):m<0},$.precision=function(q){return arguments.length?(A=xO(M,B=q*q),H()):_s(B)},$.fitExtent=function(q,W){return X6($,q,W)},$.fitSize=function(q,W){return kE($,q,W)},$.fitWidth=function(q,W){return FE($,q,W)},$.fitHeight=function(q,W){return ME($,q,W)};function z(){var q=BO(n,0,0,y,m,g).apply(null,e(a,c)),W=BO(n,i-q[0],s-q[1],y,m,g);return o=$H(d,f,u),M=$b(e,W),C=$b(o,M),A=xO(M,B),H()}function H(){return R=D=null,$}return function(){return e=t.apply(this,arguments),$.invert=e.invert&&Y,z()}}function AE(t){var e=0,n=It/3,i=nj(t),s=i(e,n);return s.parallels=function(a){return arguments.length?i(e=a[0]*St,n=a[1]*St):[e*jn,n*jn]},s}function Dfe(t){var e=Ve(t);function n(i,s){return[i*e,Pe(s)/e]}return n.invert=function(i,s){return[i/e,js(s*e)]},n}function Pfe(t,e){var n=Pe(t),i=(n+Pe(e))/2;if(Nt(i)<He)return Dfe(t);var s=1+n*(2*i-n),a=_s(s)/i;function c(d,f){var u=_s(s-2*i*Pe(f))/i;return[u*Pe(d*=i),a-u*Ve(d)]}return c.invert=function(d,f){var u=a-f,o=Gr(d,Nt(u))*Rr(u);return u*i<0&&(o-=It*Rr(d)*Rr(u)),[o/i,js((s-(d*d+u*u)*i*i)/(2*i))]},c}function q4(){return AE(Pfe).scale(155.424).center([0,33.6442])}function ij(){return q4().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function $fe(t){var e=t.length;return{point:function(n,i){for(var s=-1;++s<e;)t[s].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Ufe(){var t,e,n=ij(),i,s=q4().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,c=q4().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d,f,u={point:function(y,m){f=[y,m]}};function o(y){var m=y[0],l=y[1];return f=null,i.point(m,l),f||(a.point(m,l),f)||(d.point(m,l),f)}o.invert=function(y){var m=n.scale(),l=n.translate(),b=(y[0]-l[0])/m,L=(y[1]-l[1])/m;return(L>=.12&&L<.234&&b>=-.425&&b<-.214?s:L>=.166&&L<.234&&b>=-.214&&b<-.115?c:n).invert(y)},o.stream=function(y){return t&&e===y?t:t=$fe([n.stream(e=y),s.stream(y),c.stream(y)])},o.precision=function(y){return arguments.length?(n.precision(y),s.precision(y),c.precision(y),g()):n.precision()},o.scale=function(y){return arguments.length?(n.scale(y),s.scale(y*.35),c.scale(y),o.translate(n.translate())):n.scale()},o.translate=function(y){if(!arguments.length)return n.translate();var m=n.scale(),l=+y[0],b=+y[1];return i=n.translate(y).clipExtent([[l-.455*m,b-.238*m],[l+.455*m,b+.238*m]]).stream(u),a=s.translate([l-.307*m,b+.201*m]).clipExtent([[l-.425*m+He,b+.12*m+He],[l-.214*m-He,b+.234*m-He]]).stream(u),d=c.translate([l-.205*m,b+.212*m]).clipExtent([[l-.214*m+He,b+.166*m+He],[l-.115*m-He,b+.234*m-He]]).stream(u),g()},o.fitExtent=function(y,m){return X6(o,y,m)},o.fitSize=function(y,m){return kE(o,y,m)},o.fitWidth=function(y,m){return FE(o,y,m)},o.fitHeight=function(y,m){return ME(o,y,m)};function g(){return t=e=null,o}return o.scale(1070)}function sj(t){return function(e,n){var i=Ve(e),s=Ve(n),a=t(i*s);return a===1/0?[2,0]:[a*s*Pe(e),a*Pe(n)]}}function K3(t){return function(e,n){var i=_s(e*e+n*n),s=t(i),a=Pe(s),c=Ve(s);return[Gr(e*a,i*c),js(i&&n*a/i)]}}var rj=sj(function(t){return _s(2/(1+t))});rj.invert=K3(function(t){return 2*js(t/2)});function zfe(){return Ko(rj).scale(124.75).clipAngle(180-.001)}var aj=sj(function(t){return(t=IH(t))&&t/Pe(t)});aj.invert=K3(function(t){return t});function Hfe(){return Ko(aj).scale(79.4188).clipAngle(180-.001)}function K6(t,e){return[t,S4(xE(($n+e)/2))]}K6.invert=function(t,e){return[t,2*F2(BH(e))-$n]};function jfe(){return oj(K6).scale(961/ps)}function oj(t){var e=Ko(t),n=e.center,i=e.scale,s=e.translate,a=e.clipExtent,c=null,d,f,u;e.scale=function(g){return arguments.length?(i(g),o()):i()},e.translate=function(g){return arguments.length?(s(g),o()):s()},e.center=function(g){return arguments.length?(n(g),o()):n()},e.clipExtent=function(g){return arguments.length?(g==null?c=d=f=u=null:(c=+g[0][0],d=+g[0][1],f=+g[1][0],u=+g[1][1]),o()):c==null?null:[[c,d],[f,u]]};function o(){var g=It*i(),y=e(lfe(e.rotate()).invert([0,0]));return a(c==null?[[y[0]-g,y[1]-g],[y[0]+g,y[1]+g]]:t===K6?[[Math.max(y[0]-g,c),d],[Math.min(y[0]+g,f),u]]:[[c,Math.max(y[1]-g,d)],[f,Math.min(y[1]+g,u)]])}return o()}function Ly(t){return xE(($n+t)/2)}function Vfe(t,e){var n=Ve(t),i=t===e?Pe(t):S4(n/Ve(e))/S4(Ly(e)/Ly(t)),s=n*b8(Ly(t),i)/i;if(!i)return K6;function a(c,d){s>0?d<-$n+He&&(d=-$n+He):d>$n-He&&(d=$n-He);var f=s/b8(Ly(d),i);return[f*Pe(i*c),s-f*Ve(i*c)]}return a.invert=function(c,d){var f=s-d,u=Rr(i)*_s(c*c+f*f),o=Gr(c,Nt(f))*Rr(f);return f*i<0&&(o-=It*Rr(c)*Rr(f)),[o/i,2*F2(b8(s/u,1/i))-$n]},a}function qfe(){return AE(Vfe).scale(109.5).parallels([30,30])}function G4(t,e){return[t,e]}G4.invert=G4;function Gfe(){return Ko(G4).scale(152.63)}function Wfe(t,e){var n=Ve(t),i=t===e?Pe(t):(n-Ve(e))/(e-t),s=n/i+t;if(Nt(i)<He)return G4;function a(c,d){var f=s-d,u=i*c;return[f*Pe(u),s-f*Ve(u)]}return a.invert=function(c,d){var f=s-d,u=Gr(c,Nt(f))*Rr(f);return f*i<0&&(u-=It*Rr(c)*Rr(f)),[u/i,s-Rr(i)*_s(c*c+f*f)]},a}function Yfe(){return AE(Wfe).scale(131.154).center([0,13.9389])}var _p=1.340264,gp=-.081106,yp=893e-6,mp=.003796,W4=_s(3)/2,Xfe=12;function lj(t,e){var n=js(W4*Pe(e)),i=n*n,s=i*i*i;return[t*Ve(n)/(W4*(_p+3*gp*i+s*(7*yp+9*mp*i))),n*(_p+gp*i+s*(yp+mp*i))]}lj.invert=function(t,e){for(var n=e,i=n*n,s=i*i*i,a=0,c,d,f;a<Xfe&&(d=n*(_p+gp*i+s*(yp+mp*i))-e,f=_p+3*gp*i+s*(7*yp+9*mp*i),n-=c=d/f,i=n*n,s=i*i*i,!(Nt(c)<v4));++a);return[W4*t*(_p+3*gp*i+s*(7*yp+9*mp*i))/Ve(n),js(Pe(n)/W4)]};function Kfe(){return Ko(lj).scale(177.158)}function cj(t,e){var n=Ve(e),i=Ve(t)*n;return[n*Pe(t)/i,Pe(e)/i]}cj.invert=K3(F2);function Zfe(){return Ko(cj).scale(144.049).clipAngle(60)}function Jfe(){var t=1,e=0,n=0,i=1,s=1,a=0,c,d,f=null,u,o,g,y=1,m=1,l=Y6({point:function(k,B){var A=x([k,B]);this.stream.point(A[0],A[1])}}),b=Kp,L,E;function S(){return y=t*i,m=t*s,L=E=null,x}function x(k){var B=k[0]*y,A=k[1]*m;if(a){var M=A*c-B*d;B=B*c+A*d,A=M}return[B+e,A+n]}return x.invert=function(k){var B=k[0]-e,A=k[1]-n;if(a){var M=A*c+B*d;B=B*c-A*d,A=M}return[B/y,A/m]},x.stream=function(k){return L&&E===k?L:L=l(b(E=k))},x.postclip=function(k){return arguments.length?(b=k,f=u=o=g=null,S()):b},x.clipExtent=function(k){return arguments.length?(b=k==null?(f=u=o=g=null,Kp):jH(f=+k[0][0],u=+k[0][1],o=+k[1][0],g=+k[1][1]),S()):f==null?null:[[f,u],[o,g]]},x.scale=function(k){return arguments.length?(t=+k,S()):t},x.translate=function(k){return arguments.length?(e=+k[0],n=+k[1],S()):[e,n]},x.angle=function(k){return arguments.length?(a=k%360*St,d=Pe(a),c=Ve(a),S()):a*jn},x.reflectX=function(k){return arguments.length?(i=k?-1:1,S()):i<0},x.reflectY=function(k){return arguments.length?(s=k?-1:1,S()):s<0},x.fitExtent=function(k,B){return X6(x,k,B)},x.fitSize=function(k,B){return kE(x,k,B)},x.fitWidth=function(k,B){return FE(x,k,B)},x.fitHeight=function(k,B){return ME(x,k,B)},x}function dj(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(-.013791+i*(.003971*n-.001529*i))),e*(1.007226+n*(.015085+i*(-.044475+.028874*n-.005916*i)))]}dj.invert=function(t,e){var n=e,i=25,s;do{var a=n*n,c=a*a;n-=s=(n*(1.007226+a*(.015085+c*(-.044475+.028874*a-.005916*c)))-e)/(1.007226+a*(.015085*3+c*(-.044475*7+.028874*9*a-.005916*11*c)))}while(Nt(s)>He&&--i>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function Qfe(){return Ko(dj).scale(175.295)}function fj(t,e){return[Ve(e)*Pe(t),Pe(e)]}fj.invert=K3(js);function eue(){return Ko(fj).scale(249.5).clipAngle(90+He)}function uj(t,e){var n=Ve(e),i=1+Ve(t)*n;return[n*Pe(t)/i,Pe(e)/i]}uj.invert=K3(function(t){return 2*F2(t)});function tue(){return Ko(uj).scale(250).clipAngle(142)}function hj(t,e){return[S4(xE(($n+e)/2)),-t]}hj.invert=function(t,e){return[-e,2*F2(BH(t))-$n]};function nue(){var t=oj(hj),e=t.center,n=t.rotate;return t.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},t.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function iue(t,e){return t.parent===e.parent?1:2}function sue(t){return t.reduce(rue,0)/t.length}function rue(t,e){return t+e.x}function aue(t){return 1+t.reduce(oue,0)}function oue(t,e){return Math.max(t,e.y)}function lue(t){for(var e;e=t.children;)t=e[0];return t}function cue(t){for(var e;e=t.children;)t=e[e.length-1];return t}function due(){var t=iue,e=1,n=1,i=!1;function s(a){var c,d=0;a.eachAfter(function(y){var m=y.children;m?(y.x=sue(m),y.y=aue(m)):(y.x=c?d+=t(y,c):0,y.y=0,c=y)});var f=lue(a),u=cue(a),o=f.x-t(f,u)/2,g=u.x+t(u,f)/2;return a.eachAfter(i?function(y){y.x=(y.x-a.x)*e,y.y=(a.y-y.y)*n}:function(y){y.x=(y.x-o)/(g-o)*e,y.y=(1-(a.y?y.y/a.y:1))*n})}return s.separation=function(a){return arguments.length?(t=a,s):t},s.size=function(a){return arguments.length?(i=!1,e=+a[0],n=+a[1],s):i?null:[e,n]},s.nodeSize=function(a){return arguments.length?(i=!0,e=+a[0],n=+a[1],s):i?[e,n]:null},s}function fue(t){var e=0,n=t.children,i=n&&n.length;if(!i)e=1;else for(;--i>=0;)e+=n[i].value;t.value=e}function uue(){return this.eachAfter(fue)}function hue(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this}function pue(t,e){for(var n=this,i=[n],s,a,c=-1;n=i.pop();)if(t.call(e,n,++c,this),s=n.children)for(a=s.length-1;a>=0;--a)i.push(s[a]);return this}function _ue(t,e){for(var n=this,i=[n],s=[],a,c,d,f=-1;n=i.pop();)if(s.push(n),a=n.children)for(c=0,d=a.length;c<d;++c)i.push(a[c]);for(;n=s.pop();)t.call(e,n,++f,this);return this}function gue(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i}function yue(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,s=i&&i.length;--s>=0;)n+=i[s].value;e.value=n})}function mue(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function wue(t){for(var e=this,n=Lue(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var s=i.length;t!==n;)i.splice(s,0,t),t=t.parent;return i}function Lue(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),s=null;for(t=n.pop(),e=i.pop();t===e;)s=t,t=n.pop(),e=i.pop();return s}function bue(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Tue(){return Array.from(this)}function vue(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Eue(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Sue(){var t=this,e,n=[t],i,s,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,i=t.children)for(s=0,a=i.length;s<a;++s)n.push(i[s]);while(n.length)}function OE(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Iue)):e===void 0&&(e=Bue);for(var n=new G1(t),i,s=[n],a,c,d,f;i=s.pop();)if((c=e(i.data))&&(f=(c=Array.from(c)).length))for(i.children=c,d=f-1;d>=0;--d)s.push(a=c[d]=new G1(c[d])),a.parent=i,a.depth=i.depth+1;return n.eachBefore(pj)}function xue(){return OE(this).eachBefore(kue)}function Bue(t){return t.children}function Iue(t){return Array.isArray(t)?t[1]:null}function kue(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function pj(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function G1(t){this.data=t,this.depth=this.height=0,this.parent=null}G1.prototype=OE.prototype={constructor:G1,count:uue,each:hue,eachAfter:_ue,eachBefore:pue,find:gue,sum:yue,sort:mue,path:wue,ancestors:bue,descendants:Tue,leaves:vue,links:Eue,copy:xue,[Symbol.iterator]:Sue};function Lm(t){return t==null?null:_j(t)}function _j(t){if(typeof t!="function")throw new Error;return t}function Af(){return 0}function zh(t){return function(){return t}}const Fue=1664525,Mue=1013904223,IO=4294967296;function Aue(){let t=1;return()=>(t=(Fue*t+Mue)%IO)/IO}function Oue(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Nue(t,e){let n=t.length,i,s;for(;n;)s=e()*n--|0,i=t[n],t[n]=t[s],t[s]=i;return t}function Cue(t,e){for(var n=0,i=(t=Nue(Array.from(t),e)).length,s=[],a,c;n<i;)a=t[n],c&&gj(c,a)?++n:(c=Due(s=Rue(s,a)),n=0);return c}function Rue(t,e){var n,i;if(x8(e,t))return[e];for(n=0;n<t.length;++n)if(by(e,t[n])&&x8(X0(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(by(X0(t[n],t[i]),e)&&by(X0(t[n],e),t[i])&&by(X0(t[i],e),t[n])&&x8(yj(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function by(t,e){var n=t.r-e.r,i=e.x-t.x,s=e.y-t.y;return n<0||n*n<i*i+s*s}function gj(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,i=e.x-t.x,s=e.y-t.y;return n>0&&n*n>i*i+s*s}function x8(t,e){for(var n=0;n<e.length;++n)if(!gj(t,e[n]))return!1;return!0}function Due(t){switch(t.length){case 1:return Pue(t[0]);case 2:return X0(t[0],t[1]);case 3:return yj(t[0],t[1],t[2])}}function Pue(t){return{x:t.x,y:t.y,r:t.r}}function X0(t,e){var n=t.x,i=t.y,s=t.r,a=e.x,c=e.y,d=e.r,f=a-n,u=c-i,o=d-s,g=Math.sqrt(f*f+u*u);return{x:(n+a+f/g*o)/2,y:(i+c+u/g*o)/2,r:(g+s+d)/2}}function yj(t,e,n){var i=t.x,s=t.y,a=t.r,c=e.x,d=e.y,f=e.r,u=n.x,o=n.y,g=n.r,y=i-c,m=i-u,l=s-d,b=s-o,L=f-a,E=g-a,S=i*i+s*s-a*a,x=S-c*c-d*d+f*f,k=S-u*u-o*o+g*g,B=m*l-y*b,A=(l*k-b*x)/(B*2)-i,M=(b*L-l*E)/B,C=(m*x-y*k)/(B*2)-s,R=(y*E-m*L)/B,D=M*M+R*R-1,$=2*(a+A*M+C*R),Y=A*A+C*C-a*a,z=-(Math.abs(D)>1e-6?($+Math.sqrt($*$-4*D*Y))/(2*D):Y/$);return{x:i+A+M*z,y:s+C+R*z,r:z}}function kO(t,e,n){var i=t.x-e.x,s,a,c=t.y-e.y,d,f,u=i*i+c*c;u?(a=e.r+n.r,a*=a,f=t.r+n.r,f*=f,a>f?(s=(u+f-a)/(2*u),d=Math.sqrt(Math.max(0,f/u-s*s)),n.x=t.x-s*i-d*c,n.y=t.y-s*c+d*i):(s=(u+a-f)/(2*u),d=Math.sqrt(Math.max(0,a/u-s*s)),n.x=e.x+s*i-d*c,n.y=e.y+s*c+d*i)):(n.x=e.x+n.r,n.y=e.y)}function FO(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,s=e.y-t.y;return n>0&&n*n>i*i+s*s}function MO(t){var e=t._,n=t.next._,i=e.r+n.r,s=(e.x*n.r+n.x*e.r)/i,a=(e.y*n.r+n.y*e.r)/i;return s*s+a*a}function Ty(t){this._=t,this.next=null,this.previous=null}function $ue(t,e){if(!(a=(t=Oue(t)).length))return 0;var n,i,s,a,c,d,f,u,o,g,y;if(n=t[0],n.x=0,n.y=0,!(a>1))return n.r;if(i=t[1],n.x=-i.r,i.x=n.r,i.y=0,!(a>2))return n.r+i.r;kO(i,n,s=t[2]),n=new Ty(n),i=new Ty(i),s=new Ty(s),n.next=s.previous=i,i.next=n.previous=s,s.next=i.previous=n;e:for(f=3;f<a;++f){kO(n._,i._,s=t[f]),s=new Ty(s),u=i.next,o=n.previous,g=i._.r,y=n._.r;do if(g<=y){if(FO(u._,s._)){i=u,n.next=i,i.previous=n,--f;continue e}g+=u._.r,u=u.next}else{if(FO(o._,s._)){n=o,n.next=i,i.previous=n,--f;continue e}y+=o._.r,o=o.previous}while(u!==o.next);for(s.previous=n,s.next=i,n.next=i.previous=i=s,c=MO(n);(s=s.next)!==i;)(d=MO(s))<c&&(n=s,c=d);i=n.next}for(n=[i._],s=i;(s=s.next)!==i;)n.push(s._);for(s=Cue(n,e),f=0;f<a;++f)n=t[f],n.x-=s.x,n.y-=s.y;return s.r}function Uue(t){return Math.sqrt(t.value)}function zue(){var t=null,e=1,n=1,i=Af;function s(a){const c=Aue();return a.x=e/2,a.y=n/2,t?a.eachBefore(AO(t)).eachAfter(B8(i,.5,c)).eachBefore(OO(1)):a.eachBefore(AO(Uue)).eachAfter(B8(Af,1,c)).eachAfter(B8(i,a.r/Math.min(e,n),c)).eachBefore(OO(Math.min(e,n)/(2*a.r))),a}return s.radius=function(a){return arguments.length?(t=Lm(a),s):t},s.size=function(a){return arguments.length?(e=+a[0],n=+a[1],s):[e,n]},s.padding=function(a){return arguments.length?(i=typeof a=="function"?a:zh(+a),s):i},s}function AO(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function B8(t,e,n){return function(i){if(s=i.children){var s,a,c=s.length,d=t(i)*e||0,f;if(d)for(a=0;a<c;++a)s[a].r+=d;if(f=$ue(s,n),d)for(a=0;a<c;++a)s[a].r-=d;i.r=f+d}}}function OO(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function mj(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Z3(t,e,n,i,s){for(var a=t.children,c,d=-1,f=a.length,u=t.value&&(i-e)/t.value;++d<f;)c=a[d],c.y0=n,c.y1=s,c.x0=e,c.x1=e+=c.value*u}function Hue(){var t=1,e=1,n=0,i=!1;function s(c){var d=c.height+1;return c.x0=c.y0=n,c.x1=t,c.y1=e/d,c.eachBefore(a(e,d)),i&&c.eachBefore(mj),c}function a(c,d){return function(f){f.children&&Z3(f,f.x0,c*(f.depth+1)/d,f.x1,c*(f.depth+2)/d);var u=f.x0,o=f.y0,g=f.x1-n,y=f.y1-n;g<u&&(u=g=(u+g)/2),y<o&&(o=y=(o+y)/2),f.x0=u,f.y0=o,f.x1=g,f.y1=y}}return s.round=function(c){return arguments.length?(i=!!c,s):i},s.size=function(c){return arguments.length?(t=+c[0],e=+c[1],s):[t,e]},s.padding=function(c){return arguments.length?(n=+c,s):n},s}var jue={depth:-1},NO={},I8={};function Vue(t){return t.id}function que(t){return t.parentId}function CO(){var t=Vue,e=que,n;function i(s){var a=Array.from(s),c=t,d=e,f,u,o,g,y,m,l,b,L=new Map;if(n!=null){const E=a.map((k,B)=>Gue(n(k,B,s))),S=E.map(RO),x=new Set(E).add("");for(const k of S)x.has(k)||(x.add(k),E.push(k),S.push(RO(k)),a.push(I8));c=(k,B)=>E[B],d=(k,B)=>S[B]}for(o=0,f=a.length;o<f;++o)u=a[o],m=a[o]=new G1(u),(l=c(u,o,s))!=null&&(l+="")&&(b=m.id=l,L.set(b,L.has(b)?NO:m)),(l=d(u,o,s))!=null&&(l+="")&&(m.parent=l);for(o=0;o<f;++o)if(m=a[o],l=m.parent){if(y=L.get(l),!y)throw new Error("missing: "+l);if(y===NO)throw new Error("ambiguous: "+l);y.children?y.children.push(m):y.children=[m],m.parent=y}else{if(g)throw new Error("multiple roots");g=m}if(!g)throw new Error("no root");if(n!=null){for(;g.data===I8&&g.children.length===1;)g=g.children[0],--f;for(let E=a.length-1;E>=0&&(m=a[E],m.data===I8);--E)m.data=null}if(g.parent=jue,g.eachBefore(function(E){E.depth=E.parent.depth+1,--f}).eachBefore(pj),g.parent=null,f>0)throw new Error("cycle");return g}return i.id=function(s){return arguments.length?(t=Lm(s),i):t},i.parentId=function(s){return arguments.length?(e=Lm(s),i):e},i.path=function(s){return arguments.length?(n=Lm(s),i):n},i}function Gue(t){t=`${t}`;let e=t.length;return Kb(t,e-1)&&!Kb(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function RO(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Kb(t,e););return t.slice(0,e)}function Kb(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}function Wue(t,e){return t.parent===e.parent?1:2}function k8(t){var e=t.children;return e?e[0]:t.t}function F8(t){var e=t.children;return e?e[e.length-1]:t.t}function Yue(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Xue(t){for(var e=0,n=0,i=t.children,s=i.length,a;--s>=0;)a=i[s],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function Kue(t,e,n){return t.a.parent===e.parent?t.a:n}function bm(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}bm.prototype=Object.create(G1.prototype);function Zue(t){for(var e=new bm(t,0),n,i=[e],s,a,c,d;n=i.pop();)if(a=n._.children)for(n.children=new Array(d=a.length),c=d-1;c>=0;--c)i.push(s=n.children[c]=new bm(a[c],c)),s.parent=n;return(e.parent=new bm(null,0)).children=[e],e}function Jue(){var t=Wue,e=1,n=1,i=null;function s(u){var o=Zue(u);if(o.eachAfter(a),o.parent.m=-o.z,o.eachBefore(c),i)u.eachBefore(f);else{var g=u,y=u,m=u;u.eachBefore(function(S){S.x<g.x&&(g=S),S.x>y.x&&(y=S),S.depth>m.depth&&(m=S)});var l=g===y?1:t(g,y)/2,b=l-g.x,L=e/(y.x+l+b),E=n/(m.depth||1);u.eachBefore(function(S){S.x=(S.x+b)*L,S.y=S.depth*E})}return u}function a(u){var o=u.children,g=u.parent.children,y=u.i?g[u.i-1]:null;if(o){Xue(u);var m=(o[0].z+o[o.length-1].z)/2;y?(u.z=y.z+t(u._,y._),u.m=u.z-m):u.z=m}else y&&(u.z=y.z+t(u._,y._));u.parent.A=d(u,y,u.parent.A||g[0])}function c(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function d(u,o,g){if(o){for(var y=u,m=u,l=o,b=y.parent.children[0],L=y.m,E=m.m,S=l.m,x=b.m,k;l=F8(l),y=k8(y),l&&y;)b=k8(b),m=F8(m),m.a=u,k=l.z+S-y.z-L+t(l._,y._),k>0&&(Yue(Kue(l,u,g),u,k),L+=k,E+=k),S+=l.m,L+=y.m,x+=b.m,E+=m.m;l&&!F8(m)&&(m.t=l,m.m+=S-E),y&&!k8(b)&&(b.t=y,b.m+=L-x,g=u)}return g}function f(u){u.x*=e,u.y=u.depth*n}return s.separation=function(u){return arguments.length?(t=u,s):t},s.size=function(u){return arguments.length?(i=!1,e=+u[0],n=+u[1],s):i?null:[e,n]},s.nodeSize=function(u){return arguments.length?(i=!0,e=+u[0],n=+u[1],s):i?[e,n]:null},s}function Z6(t,e,n,i,s){for(var a=t.children,c,d=-1,f=a.length,u=t.value&&(s-n)/t.value;++d<f;)c=a[d],c.x0=e,c.x1=i,c.y0=n,c.y1=n+=c.value*u}var wj=(1+Math.sqrt(5))/2;function Lj(t,e,n,i,s,a){for(var c=[],d=e.children,f,u,o=0,g=0,y=d.length,m,l,b=e.value,L,E,S,x,k,B,A;o<y;){m=s-n,l=a-i;do L=d[g++].value;while(!L&&g<y);for(E=S=L,B=Math.max(l/m,m/l)/(b*t),A=L*L*B,k=Math.max(S/A,A/E);g<y;++g){if(L+=u=d[g].value,u<E&&(E=u),u>S&&(S=u),A=L*L*B,x=Math.max(S/A,A/E),x>k){L-=u;break}k=x}c.push(f={value:L,dice:m<l,children:d.slice(o,g)}),f.dice?Z3(f,n,i,s,b?i+=l*L/b:a):Z6(f,n,i,b?n+=m*L/b:s,a),b-=L,o=g}return c}const bj=function t(e){function n(i,s,a,c,d){Lj(e,i,s,a,c,d)}return n.ratio=function(i){return t((i=+i)>1?i:1)},n}(wj);function Que(){var t=bj,e=!1,n=1,i=1,s=[0],a=Af,c=Af,d=Af,f=Af,u=Af;function o(y){return y.x0=y.y0=0,y.x1=n,y.y1=i,y.eachBefore(g),s=[0],e&&y.eachBefore(mj),y}function g(y){var m=s[y.depth],l=y.x0+m,b=y.y0+m,L=y.x1-m,E=y.y1-m;L<l&&(l=L=(l+L)/2),E<b&&(b=E=(b+E)/2),y.x0=l,y.y0=b,y.x1=L,y.y1=E,y.children&&(m=s[y.depth+1]=a(y)/2,l+=u(y)-m,b+=c(y)-m,L-=d(y)-m,E-=f(y)-m,L<l&&(l=L=(l+L)/2),E<b&&(b=E=(b+E)/2),t(y,l,b,L,E))}return o.round=function(y){return arguments.length?(e=!!y,o):e},o.size=function(y){return arguments.length?(n=+y[0],i=+y[1],o):[n,i]},o.tile=function(y){return arguments.length?(t=_j(y),o):t},o.padding=function(y){return arguments.length?o.paddingInner(y).paddingOuter(y):o.paddingInner()},o.paddingInner=function(y){return arguments.length?(a=typeof y=="function"?y:zh(+y),o):a},o.paddingOuter=function(y){return arguments.length?o.paddingTop(y).paddingRight(y).paddingBottom(y).paddingLeft(y):o.paddingTop()},o.paddingTop=function(y){return arguments.length?(c=typeof y=="function"?y:zh(+y),o):c},o.paddingRight=function(y){return arguments.length?(d=typeof y=="function"?y:zh(+y),o):d},o.paddingBottom=function(y){return arguments.length?(f=typeof y=="function"?y:zh(+y),o):f},o.paddingLeft=function(y){return arguments.length?(u=typeof y=="function"?y:zh(+y),o):u},o}function ehe(t,e,n,i,s){var a=t.children,c,d=a.length,f,u=new Array(d+1);for(u[0]=f=c=0;c<d;++c)u[c+1]=f+=a[c].value;o(0,d,t.value,e,n,i,s);function o(g,y,m,l,b,L,E){if(g>=y-1){var S=a[g];S.x0=l,S.y0=b,S.x1=L,S.y1=E;return}for(var x=u[g],k=m/2+x,B=g+1,A=y-1;B<A;){var M=B+A>>>1;u[M]<k?B=M+1:A=M}k-u[B-1]<u[B]-k&&g+1<B&&--B;var C=u[B]-x,R=m-C;if(L-l>E-b){var D=m?(l*R+L*C)/m:L;o(g,B,C,l,b,D,E),o(B,y,R,D,b,L,E)}else{var $=m?(b*R+E*C)/m:E;o(g,B,C,l,b,L,$),o(B,y,R,l,$,L,E)}}}function the(t,e,n,i,s){(t.depth&1?Z6:Z3)(t,e,n,i,s)}const nhe=function t(e){function n(i,s,a,c,d){if((f=i._squarify)&&f.ratio===e)for(var f,u,o,g,y=-1,m,l=f.length,b=i.value;++y<l;){for(u=f[y],o=u.children,g=u.value=0,m=o.length;g<m;++g)u.value+=o[g].value;u.dice?Z3(u,s,a,c,b?a+=(d-a)*u.value/b:d):Z6(u,s,a,b?s+=(c-s)*u.value/b:c,d),b-=u.value}else i._squarify=f=Lj(e,i,s,a,c,d),f.ratio=e}return n.ratio=function(i){return t((i=+i)>1?i:1)},n}(wj);function Zo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Pd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Zb=Symbol("implicit");function NE(){var t=new mA,e=[],n=[],i=Zb;function s(a){let c=t.get(a);if(c===void 0){if(i!==Zb)return i;t.set(a,c=e.push(a)-1)}return n[c%n.length]}return s.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new mA;for(const c of a)t.has(c)||t.set(c,e.push(c)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return NE(e,n).unknown(i)},Zo.apply(s,arguments),s}function ihe(t){return function(){return t}}function Jb(t){return+t}var DO=[0,1];function Ns(t){return t}function Qb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ihe(isNaN(e)?NaN:.5)}function she(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function rhe(t,e,n){var i=t[0],s=t[1],a=e[0],c=e[1];return s<i?(i=Qb(s,i),a=n(c,a)):(i=Qb(i,s),a=n(a,c)),function(d){return a(i(d))}}function ahe(t,e,n){var i=Math.min(t.length,e.length)-1,s=new Array(i),a=new Array(i),c=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<i;)s[c]=Qb(t[c],t[c+1]),a[c]=n(e[c],e[c+1]);return function(d){var f=V3(t,d,1,i)-1;return a[f](s[f](d))}}function J3(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function J6(){var t=DO,e=DO,n=Dd,i,s,a,c=Ns,d,f,u;function o(){var y=Math.min(t.length,e.length);return c!==Ns&&(c=she(t[0],t[y-1])),d=y>2?ahe:rhe,f=u=null,g}function g(y){return y==null||isNaN(y=+y)?a:(f||(f=d(t.map(i),e,n)))(i(c(y)))}return g.invert=function(y){return c(s((u||(u=d(e,t.map(i),Or)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,Jb),o()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),o()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=W3,o()},g.clamp=function(y){return arguments.length?(c=y?!0:Ns,o()):c!==Ns},g.interpolate=function(y){return arguments.length?(n=y,o()):n},g.unknown=function(y){return arguments.length?(a=y,g):a},function(y,m){return i=y,s=m,o()}}function Tj(){return J6()(Ns,Ns)}function vj(t,e,n,i){var s=ld(t,e,n),a;switch(i=pu(i??",f"),i.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=SH(s,c))&&(i.precision=a),SE(i,c)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=xH(s,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=EH(s))&&(i.precision=a-(i.type==="%")*2);break}}return W6(i)}function ju(t){var e=t.domain;return t.ticks=function(n){var i=e();return _b(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var s=e();return vj(s[0],s[s.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),s=0,a=i.length-1,c=i[s],d=i[a],f,u,o=10;for(d<c&&(u=c,c=d,d=u,u=s,s=a,a=u);o-- >0;){if(u=gb(c,d,n),u===f)return i[s]=c,i[a]=d,e(i);if(u>0)c=Math.floor(c/u)*u,d=Math.ceil(d/u)*u;else if(u<0)c=Math.ceil(c*u)/u,d=Math.floor(d*u)/u;else break;f=u}return t},t}function Q6(){var t=Tj();return t.copy=function(){return J3(t,Q6())},Zo.apply(t,arguments),ju(t)}function Ej(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,Jb),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return Ej(t).unknown(e)},t=arguments.length?Array.from(t,Jb):[0,1],ju(n)}function Sj(t,e){t=t.slice();var n=0,i=t.length-1,s=t[n],a=t[i],c;return a<s&&(c=n,n=i,i=c,c=s,s=a,a=c),t[n]=e.floor(s),t[i]=e.ceil(a),t}function PO(t){return Math.log(t)}function $O(t){return Math.exp(t)}function ohe(t){return-Math.log(-t)}function lhe(t){return-Math.exp(-t)}function che(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dhe(t){return t===10?che:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fhe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function UO(t){return(e,n)=>-t(-e,n)}function CE(t){const e=t(PO,$O),n=e.domain;let i=10,s,a;function c(){return s=fhe(i),a=dhe(i),n()[0]<0?(s=UO(s),a=UO(a),t(ohe,lhe)):t(PO,$O),e}return e.base=function(d){return arguments.length?(i=+d,c()):i},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const f=n();let u=f[0],o=f[f.length-1];const g=o<u;g&&([u,o]=[o,u]);let y=s(u),m=s(o),l,b;const L=d==null?10:+d;let E=[];if(!(i%1)&&m-y<L){if(y=Math.floor(y),m=Math.ceil(m),u>0){for(;y<=m;++y)for(l=1;l<i;++l)if(b=y<0?l/a(-y):l*a(y),!(b<u)){if(b>o)break;E.push(b)}}else for(;y<=m;++y)for(l=i-1;l>=1;--l)if(b=y>0?l/a(-y):l*a(y),!(b<u)){if(b>o)break;E.push(b)}E.length*2<L&&(E=_b(u,o,L))}else E=_b(y,m,Math.min(m-y,L)).map(a);return g?E.reverse():E},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=i===10?"s":","),typeof f!="function"&&(!(i%1)&&(f=pu(f)).precision==null&&(f.trim=!0),f=W6(f)),d===1/0)return f;const u=Math.max(1,i*d/e.ticks().length);return o=>{let g=o/a(Math.round(s(o)));return g*i<i-.5&&(g*=i),g<=u?f(o):""}},e.nice=()=>n(Sj(n(),{floor:d=>a(Math.floor(s(d))),ceil:d=>a(Math.ceil(s(d)))})),e}function xj(){const t=CE(J6()).domain([1,10]);return t.copy=()=>J3(t,xj()).base(t.base()),Zo.apply(t,arguments),t}function zO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function HO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function RE(t){var e=1,n=t(zO(e),HO(e));return n.constant=function(i){return arguments.length?t(zO(e=+i),HO(e)):e},ju(n)}function Bj(){var t=RE(J6());return t.copy=function(){return J3(t,Bj()).constant(t.constant())},Zo.apply(t,arguments)}function jO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function uhe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hhe(t){return t<0?-t*t:t*t}function DE(t){var e=t(Ns,Ns),n=1;function i(){return n===1?t(Ns,Ns):n===.5?t(uhe,hhe):t(jO(n),jO(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,i()):n},ju(e)}function PE(){var t=DE(J6());return t.copy=function(){return J3(t,PE()).exponent(t.exponent())},Zo.apply(t,arguments),t}function phe(){return PE.apply(null,arguments).exponent(.5)}function Ij(){var t=[],e=[],n=[],i;function s(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=vz(t,c/d);return a}function a(c){return c==null||isNaN(c=+c)?i:e[V3(n,c)]}return a.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},a.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Pl),s()},a.range=function(c){return arguments.length?(e=Array.from(c),s()):e.slice()},a.unknown=function(c){return arguments.length?(i=c,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return Ij().domain(t).range(e).unknown(i)},Zo.apply(a,arguments)}function kj(){var t=0,e=1,n=1,i=[.5],s=[0,1],a;function c(f){return f!=null&&f<=f?s[V3(i,f,0,n)]:a}function d(){var f=-1;for(i=new Array(n);++f<n;)i[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var u=s.indexOf(f);return u<0?[NaN,NaN]:u<1?[t,i[0]]:u>=n?[i[n-1],e]:[i[u-1],i[u]]},c.unknown=function(f){return arguments.length&&(a=f),c},c.thresholds=function(){return i.slice()},c.copy=function(){return kj().domain([t,e]).range(s).unknown(a)},Zo.apply(ju(c),arguments)}function Fj(){var t=[.5],e=[0,1],n,i=1;function s(a){return a!=null&&a<=a?e[V3(t,a,0,i)]:n}return s.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(a){var c=e.indexOf(a);return[t[c-1],t[c]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return Fj().domain(t).range(e).unknown(n)},Zo.apply(s,arguments)}const M8=new Date,A8=new Date;function oi(t,e,n,i){function s(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(t(a=new Date(+a)),a),s.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),s.round=a=>{const c=s(a),d=s.ceil(a);return a-c<d-a?c:d},s.offset=(a,c)=>(e(a=new Date(+a),c==null?1:Math.floor(c)),a),s.range=(a,c,d)=>{const f=[];if(a=s.ceil(a),d=d==null?1:Math.floor(d),!(a<c)||!(d>0))return f;let u;do f.push(u=new Date(+a)),e(a,d),t(a);while(u<a&&a<c);return f},s.filter=a=>oi(c=>{if(c>=c)for(;t(c),!a(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!a(c););else for(;--d>=0;)for(;e(c,1),!a(c););}),n&&(s.count=(a,c)=>(M8.setTime(+a),A8.setTime(+c),t(M8),t(A8),Math.floor(n(M8,A8))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(i?c=>i(c)%a===0:c=>s.count(0,c)%a===0):s)),s}const W1=oi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);W1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?oi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):W1);W1.range;const Ol=1e3,Dr=Ol*60,Nl=Dr*60,Jl=Nl*24,$E=Jl*7,VO=Jl*30,O8=Jl*365,Cl=oi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ol)},(t,e)=>(e-t)/Ol,t=>t.getUTCSeconds());Cl.range;const eL=oi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ol)},(t,e)=>{t.setTime(+t+e*Dr)},(t,e)=>(e-t)/Dr,t=>t.getMinutes());eL.range;const tL=oi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Dr)},(t,e)=>(e-t)/Dr,t=>t.getUTCMinutes());tL.range;const nL=oi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ol-t.getMinutes()*Dr)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getHours());nL.range;const iL=oi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getUTCHours());iL.range;const Ul=oi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dr)/Jl,t=>t.getDate()-1);Ul.range;const Zc=oi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jl,t=>t.getUTCDate()-1);Zc.range;const Mj=oi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jl,t=>Math.floor(t/Jl));Mj.range;function Vu(t){return oi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Dr)/$E)}const M2=Vu(0),Y4=Vu(1),_he=Vu(2),ghe=Vu(3),Y1=Vu(4),yhe=Vu(5),mhe=Vu(6);M2.range;Y4.range;_he.range;ghe.range;Y1.range;yhe.range;mhe.range;function qu(t){return oi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/$E)}const A2=qu(0),X4=qu(1),whe=qu(2),Lhe=qu(3),X1=qu(4),bhe=qu(5),The=qu(6);A2.range;X4.range;whe.range;Lhe.range;X1.range;bhe.range;The.range;const Jp=oi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Jp.range;const Qp=oi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Qp.range;const Ro=oi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ro.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:oi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ro.range;const Do=oi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Do.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:oi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Do.range;function Aj(t,e,n,i,s,a){const c=[[Cl,1,Ol],[Cl,5,5*Ol],[Cl,15,15*Ol],[Cl,30,30*Ol],[a,1,Dr],[a,5,5*Dr],[a,15,15*Dr],[a,30,30*Dr],[s,1,Nl],[s,3,3*Nl],[s,6,6*Nl],[s,12,12*Nl],[i,1,Jl],[i,2,2*Jl],[n,1,$E],[e,1,VO],[e,3,3*VO],[t,1,O8]];function d(u,o,g){const y=o<u;y&&([u,o]=[o,u]);const m=g&&typeof g.range=="function"?g:f(u,o,g),l=m?m.range(u,+o+1):[];return y?l.reverse():l}function f(u,o,g){const y=Math.abs(o-u)/g,m=j3(([,,L])=>L).right(c,y);if(m===c.length)return t.every(ld(u/O8,o/O8,g));if(m===0)return W1.every(Math.max(ld(u,o,g),1));const[l,b]=c[y/c[m-1][2]<c[m][2]/y?m-1:m];return l.every(b)}return[d,f]}const[vhe,Ehe]=Aj(Do,Qp,A2,Mj,iL,tL),[She,xhe]=Aj(Ro,Jp,M2,Ul,nL,eL);function N8(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function C8(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function o0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Oj(t){var e=t.dateTime,n=t.date,i=t.time,s=t.periods,a=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,u=l0(s),o=c0(s),g=l0(a),y=c0(a),m=l0(c),l=c0(c),b=l0(d),L=c0(d),E=l0(f),S=c0(f),x={a:X,A:G,b:le,B:pe,c:null,d:KO,e:KO,f:Xhe,g:r1e,G:o1e,H:Ghe,I:Whe,j:Yhe,L:Nj,m:Khe,M:Zhe,p:ie,q:Ae,Q:QO,s:eN,S:Jhe,u:Qhe,U:e1e,V:t1e,w:n1e,W:i1e,x:null,X:null,y:s1e,Y:a1e,Z:l1e,"%":JO},k={a:fe,A:Fe,b:je,B:yt,c:null,d:ZO,e:ZO,f:u1e,g:T1e,G:E1e,H:c1e,I:d1e,j:f1e,L:Rj,m:h1e,M:p1e,p:Pt,q:qt,Q:QO,s:eN,S:_1e,u:g1e,U:y1e,V:m1e,w:w1e,W:L1e,x:null,X:null,y:b1e,Y:v1e,Z:S1e,"%":JO},B={a:D,A:$,b:Y,B:z,c:H,d:YO,e:YO,f:Hhe,g:WO,G:GO,H:XO,I:XO,j:Phe,L:zhe,m:Dhe,M:$he,p:R,q:Rhe,Q:Vhe,s:qhe,S:Uhe,u:Mhe,U:Ahe,V:Ohe,w:Fhe,W:Nhe,x:q,X:W,y:WO,Y:GO,Z:Che,"%":jhe};x.x=A(n,x),x.X=A(i,x),x.c=A(e,x),k.x=A(n,k),k.X=A(i,k),k.c=A(e,k);function A(_e,V){return function(j){var P=[],Z=-1,Q=0,oe=_e.length,re,ye,Ee;for(j instanceof Date||(j=new Date(+j));++Z<oe;)_e.charCodeAt(Z)===37&&(P.push(_e.slice(Q,Z)),(ye=qO[re=_e.charAt(++Z)])!=null?re=_e.charAt(++Z):ye=re==="e"?" ":"0",(Ee=V[re])&&(re=Ee(j,ye)),P.push(re),Q=Z+1);return P.push(_e.slice(Q,Z)),P.join("")}}function M(_e,V){return function(j){var P=o0(1900,void 0,1),Z=C(P,_e,j+="",0),Q,oe;if(Z!=j.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(V&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(Q=C8(o0(P.y,0,1)),oe=Q.getUTCDay(),Q=oe>4||oe===0?X4.ceil(Q):X4(Q),Q=Zc.offset(Q,(P.V-1)*7),P.y=Q.getUTCFullYear(),P.m=Q.getUTCMonth(),P.d=Q.getUTCDate()+(P.w+6)%7):(Q=N8(o0(P.y,0,1)),oe=Q.getDay(),Q=oe>4||oe===0?Y4.ceil(Q):Y4(Q),Q=Ul.offset(Q,(P.V-1)*7),P.y=Q.getFullYear(),P.m=Q.getMonth(),P.d=Q.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),oe="Z"in P?C8(o0(P.y,0,1)).getUTCDay():N8(o0(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(oe+5)%7:P.w+P.U*7-(oe+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,C8(P)):N8(P)}}function C(_e,V,j,P){for(var Z=0,Q=V.length,oe=j.length,re,ye;Z<Q;){if(P>=oe)return-1;if(re=V.charCodeAt(Z++),re===37){if(re=V.charAt(Z++),ye=B[re in qO?V.charAt(Z++):re],!ye||(P=ye(_e,j,P))<0)return-1}else if(re!=j.charCodeAt(P++))return-1}return P}function R(_e,V,j){var P=u.exec(V.slice(j));return P?(_e.p=o.get(P[0].toLowerCase()),j+P[0].length):-1}function D(_e,V,j){var P=m.exec(V.slice(j));return P?(_e.w=l.get(P[0].toLowerCase()),j+P[0].length):-1}function $(_e,V,j){var P=g.exec(V.slice(j));return P?(_e.w=y.get(P[0].toLowerCase()),j+P[0].length):-1}function Y(_e,V,j){var P=E.exec(V.slice(j));return P?(_e.m=S.get(P[0].toLowerCase()),j+P[0].length):-1}function z(_e,V,j){var P=b.exec(V.slice(j));return P?(_e.m=L.get(P[0].toLowerCase()),j+P[0].length):-1}function H(_e,V,j){return C(_e,e,V,j)}function q(_e,V,j){return C(_e,n,V,j)}function W(_e,V,j){return C(_e,i,V,j)}function X(_e){return c[_e.getDay()]}function G(_e){return a[_e.getDay()]}function le(_e){return f[_e.getMonth()]}function pe(_e){return d[_e.getMonth()]}function ie(_e){return s[+(_e.getHours()>=12)]}function Ae(_e){return 1+~~(_e.getMonth()/3)}function fe(_e){return c[_e.getUTCDay()]}function Fe(_e){return a[_e.getUTCDay()]}function je(_e){return f[_e.getUTCMonth()]}function yt(_e){return d[_e.getUTCMonth()]}function Pt(_e){return s[+(_e.getUTCHours()>=12)]}function qt(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var V=A(_e+="",x);return V.toString=function(){return _e},V},parse:function(_e){var V=M(_e+="",!1);return V.toString=function(){return _e},V},utcFormat:function(_e){var V=A(_e+="",k);return V.toString=function(){return _e},V},utcParse:function(_e){var V=M(_e+="",!0);return V.toString=function(){return _e},V}}}var qO={"-":"",_:" ",0:"0"},Ei=/^\s*\d+/,Bhe=/^%/,Ihe=/[\\^$*+?|[\]().{}]/g;function Ht(t,e,n){var i=t<0?"-":"",s=(i?-t:t)+"",a=s.length;return i+(a<n?new Array(n-a+1).join(e)+s:s)}function khe(t){return t.replace(Ihe,"\\$&")}function l0(t){return new RegExp("^(?:"+t.map(khe).join("|")+")","i")}function c0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Fhe(t,e,n){var i=Ei.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Mhe(t,e,n){var i=Ei.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Ahe(t,e,n){var i=Ei.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Ohe(t,e,n){var i=Ei.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Nhe(t,e,n){var i=Ei.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function GO(t,e,n){var i=Ei.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function WO(t,e,n){var i=Ei.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Che(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Rhe(t,e,n){var i=Ei.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function Dhe(t,e,n){var i=Ei.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function YO(t,e,n){var i=Ei.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Phe(t,e,n){var i=Ei.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function XO(t,e,n){var i=Ei.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function $he(t,e,n){var i=Ei.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Uhe(t,e,n){var i=Ei.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function zhe(t,e,n){var i=Ei.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Hhe(t,e,n){var i=Ei.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function jhe(t,e,n){var i=Bhe.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Vhe(t,e,n){var i=Ei.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function qhe(t,e,n){var i=Ei.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function KO(t,e){return Ht(t.getDate(),e,2)}function Ghe(t,e){return Ht(t.getHours(),e,2)}function Whe(t,e){return Ht(t.getHours()%12||12,e,2)}function Yhe(t,e){return Ht(1+Ul.count(Ro(t),t),e,3)}function Nj(t,e){return Ht(t.getMilliseconds(),e,3)}function Xhe(t,e){return Nj(t,e)+"000"}function Khe(t,e){return Ht(t.getMonth()+1,e,2)}function Zhe(t,e){return Ht(t.getMinutes(),e,2)}function Jhe(t,e){return Ht(t.getSeconds(),e,2)}function Qhe(t){var e=t.getDay();return e===0?7:e}function e1e(t,e){return Ht(M2.count(Ro(t)-1,t),e,2)}function Cj(t){var e=t.getDay();return e>=4||e===0?Y1(t):Y1.ceil(t)}function t1e(t,e){return t=Cj(t),Ht(Y1.count(Ro(t),t)+(Ro(t).getDay()===4),e,2)}function n1e(t){return t.getDay()}function i1e(t,e){return Ht(Y4.count(Ro(t)-1,t),e,2)}function s1e(t,e){return Ht(t.getFullYear()%100,e,2)}function r1e(t,e){return t=Cj(t),Ht(t.getFullYear()%100,e,2)}function a1e(t,e){return Ht(t.getFullYear()%1e4,e,4)}function o1e(t,e){var n=t.getDay();return t=n>=4||n===0?Y1(t):Y1.ceil(t),Ht(t.getFullYear()%1e4,e,4)}function l1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ht(e/60|0,"0",2)+Ht(e%60,"0",2)}function ZO(t,e){return Ht(t.getUTCDate(),e,2)}function c1e(t,e){return Ht(t.getUTCHours(),e,2)}function d1e(t,e){return Ht(t.getUTCHours()%12||12,e,2)}function f1e(t,e){return Ht(1+Zc.count(Do(t),t),e,3)}function Rj(t,e){return Ht(t.getUTCMilliseconds(),e,3)}function u1e(t,e){return Rj(t,e)+"000"}function h1e(t,e){return Ht(t.getUTCMonth()+1,e,2)}function p1e(t,e){return Ht(t.getUTCMinutes(),e,2)}function _1e(t,e){return Ht(t.getUTCSeconds(),e,2)}function g1e(t){var e=t.getUTCDay();return e===0?7:e}function y1e(t,e){return Ht(A2.count(Do(t)-1,t),e,2)}function Dj(t){var e=t.getUTCDay();return e>=4||e===0?X1(t):X1.ceil(t)}function m1e(t,e){return t=Dj(t),Ht(X1.count(Do(t),t)+(Do(t).getUTCDay()===4),e,2)}function w1e(t){return t.getUTCDay()}function L1e(t,e){return Ht(X4.count(Do(t)-1,t),e,2)}function b1e(t,e){return Ht(t.getUTCFullYear()%100,e,2)}function T1e(t,e){return t=Dj(t),Ht(t.getUTCFullYear()%100,e,2)}function v1e(t,e){return Ht(t.getUTCFullYear()%1e4,e,4)}function E1e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?X1(t):X1.ceil(t),Ht(t.getUTCFullYear()%1e4,e,4)}function S1e(){return"+0000"}function JO(){return"%"}function QO(t){return+t}function eN(t){return Math.floor(+t/1e3)}var dh,UE,Pj,zE,$j;x1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function x1e(t){return dh=Oj(t),UE=dh.format,Pj=dh.parse,zE=dh.utcFormat,$j=dh.utcParse,dh}function B1e(t){return new Date(t)}function I1e(t){return t instanceof Date?+t:+new Date(+t)}function HE(t,e,n,i,s,a,c,d,f,u){var o=Tj(),g=o.invert,y=o.domain,m=u(".%L"),l=u(":%S"),b=u("%I:%M"),L=u("%I %p"),E=u("%a %d"),S=u("%b %d"),x=u("%B"),k=u("%Y");function B(A){return(f(A)<A?m:d(A)<A?l:c(A)<A?b:a(A)<A?L:i(A)<A?s(A)<A?E:S:n(A)<A?x:k)(A)}return o.invert=function(A){return new Date(g(A))},o.domain=function(A){return arguments.length?y(Array.from(A,I1e)):y().map(B1e)},o.ticks=function(A){var M=y();return t(M[0],M[M.length-1],A??10)},o.tickFormat=function(A,M){return M==null?B:u(M)},o.nice=function(A){var M=y();return(!A||typeof A.range!="function")&&(A=e(M[0],M[M.length-1],A??10)),A?y(Sj(M,A)):o},o.copy=function(){return J3(o,HE(t,e,n,i,s,a,c,d,f,u))},o}function Uj(){return Zo.apply(HE(She,xhe,Ro,Jp,M2,Ul,nL,eL,Cl,UE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k1e(){return Zo.apply(HE(vhe,Ehe,Do,Qp,A2,Zc,iL,tL,Cl,zE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sL(){var t=0,e=1,n,i,s,a,c=Ns,d=!1,f;function u(g){return g==null||isNaN(g=+g)?f:c(s===0?.5:(g=(a(g)-n)*s,d?Math.max(0,Math.min(1,g)):g))}u.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),i=a(e=+e),s=n===i?0:1/(i-n),u):[t,e]},u.clamp=function(g){return arguments.length?(d=!!g,u):d},u.interpolator=function(g){return arguments.length?(c=g,u):c};function o(g){return function(y){var m,l;return arguments.length?([m,l]=y,c=g(m,l),u):[c(0),c(1)]}}return u.range=o(Dd),u.rangeRound=o(W3),u.unknown=function(g){return arguments.length?(f=g,u):f},function(g){return a=g,n=g(t),i=g(e),s=n===i?0:1/(i-n),u}}function $d(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jE(){var t=ju(sL()(Ns));return t.copy=function(){return $d(t,jE())},Pd.apply(t,arguments)}function zj(){var t=CE(sL()).domain([1,10]);return t.copy=function(){return $d(t,zj()).base(t.base())},Pd.apply(t,arguments)}function Hj(){var t=RE(sL());return t.copy=function(){return $d(t,Hj()).constant(t.constant())},Pd.apply(t,arguments)}function VE(){var t=DE(sL());return t.copy=function(){return $d(t,VE()).exponent(t.exponent())},Pd.apply(t,arguments)}function F1e(){return VE.apply(null,arguments).exponent(.5)}function rL(){var t=0,e=.5,n=1,i=1,s,a,c,d,f,u=Ns,o,g=!1,y;function m(b){return isNaN(b=+b)?y:(b=.5+((b=+o(b))-a)*(i*b<i*a?d:f),u(g?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([t,e,n]=b,s=o(t=+t),a=o(e=+e),c=o(n=+n),d=s===a?0:.5/(a-s),f=a===c?0:.5/(c-a),i=a<s?-1:1,m):[t,e,n]},m.clamp=function(b){return arguments.length?(g=!!b,m):g},m.interpolator=function(b){return arguments.length?(u=b,m):u};function l(b){return function(L){var E,S,x;return arguments.length?([E,S,x]=L,u=gE(b,[E,S,x]),m):[u(0),u(.5),u(1)]}}return m.range=l(Dd),m.rangeRound=l(W3),m.unknown=function(b){return arguments.length?(y=b,m):y},function(b){return o=b,s=b(t),a=b(e),c=b(n),d=s===a?0:.5/(a-s),f=a===c?0:.5/(c-a),i=a<s?-1:1,m}}function jj(){var t=ju(rL()(Ns));return t.copy=function(){return $d(t,jj())},Pd.apply(t,arguments)}function Vj(){var t=CE(rL()).domain([.1,1,10]);return t.copy=function(){return $d(t,Vj()).base(t.base())},Pd.apply(t,arguments)}function qj(){var t=RE(rL());return t.copy=function(){return $d(t,qj()).constant(t.constant())},Pd.apply(t,arguments)}function qE(){var t=DE(rL());return t.copy=function(){return $d(t,qE()).exponent(t.exponent())},Pd.apply(t,arguments)}function M1e(){return qE.apply(null,arguments).exponent(.5)}function Zt(t){return function(){return t}}const tN=Math.abs,Ci=Math.atan2,tf=Math.cos,A1e=Math.max,R8=Math.min,Ya=Math.sin,zf=Math.sqrt,Ri=1e-12,K1=Math.PI,K4=K1/2,Gj=2*K1;function O1e(t){return t>1?0:t<-1?K1:Math.acos(t)}function nN(t){return t>=1?K4:t<=-1?-K4:Math.asin(t)}function aL(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new LE(e)}function N1e(t){return t.innerRadius}function C1e(t){return t.outerRadius}function R1e(t){return t.startAngle}function D1e(t){return t.endAngle}function P1e(t){return t&&t.padAngle}function $1e(t,e,n,i,s,a,c,d){var f=n-t,u=i-e,o=c-s,g=d-a,y=g*f-o*u;if(!(y*y<Ri))return y=(o*(e-a)-g*(t-s))/y,[t+y*f,e+y*u]}function vy(t,e,n,i,s,a,c){var d=t-n,f=e-i,u=(c?a:-a)/zf(d*d+f*f),o=u*f,g=-u*d,y=t+o,m=e+g,l=n+o,b=i+g,L=(y+l)/2,E=(m+b)/2,S=l-y,x=b-m,k=S*S+x*x,B=s-a,A=y*b-l*m,M=(x<0?-1:1)*zf(A1e(0,B*B*k-A*A)),C=(A*x-S*M)/k,R=(-A*S-x*M)/k,D=(A*x+S*M)/k,$=(-A*S+x*M)/k,Y=C-L,z=R-E,H=D-L,q=$-E;return Y*Y+z*z>H*H+q*q&&(C=D,R=$),{cx:C,cy:R,x01:-o,y01:-g,x11:C*(s/B-1),y11:R*(s/B-1)}}function U1e(){var t=N1e,e=C1e,n=Zt(0),i=null,s=R1e,a=D1e,c=P1e,d=null,f=aL(u);function u(){var o,g,y=+t.apply(this,arguments),m=+e.apply(this,arguments),l=s.apply(this,arguments)-K4,b=a.apply(this,arguments)-K4,L=tN(b-l),E=b>l;if(d||(d=o=f()),m<y&&(g=m,m=y,y=g),!(m>Ri))d.moveTo(0,0);else if(L>Gj-Ri)d.moveTo(m*tf(l),m*Ya(l)),d.arc(0,0,m,l,b,!E),y>Ri&&(d.moveTo(y*tf(b),y*Ya(b)),d.arc(0,0,y,b,l,E));else{var S=l,x=b,k=l,B=b,A=L,M=L,C=c.apply(this,arguments)/2,R=C>Ri&&(i?+i.apply(this,arguments):zf(y*y+m*m)),D=R8(tN(m-y)/2,+n.apply(this,arguments)),$=D,Y=D,z,H;if(R>Ri){var q=nN(R/y*Ya(C)),W=nN(R/m*Ya(C));(A-=q*2)>Ri?(q*=E?1:-1,k+=q,B-=q):(A=0,k=B=(l+b)/2),(M-=W*2)>Ri?(W*=E?1:-1,S+=W,x-=W):(M=0,S=x=(l+b)/2)}var X=m*tf(S),G=m*Ya(S),le=y*tf(B),pe=y*Ya(B);if(D>Ri){var ie=m*tf(x),Ae=m*Ya(x),fe=y*tf(k),Fe=y*Ya(k),je;if(L<K1)if(je=$1e(X,G,fe,Fe,ie,Ae,le,pe)){var yt=X-je[0],Pt=G-je[1],qt=ie-je[0],_e=Ae-je[1],V=1/Ya(O1e((yt*qt+Pt*_e)/(zf(yt*yt+Pt*Pt)*zf(qt*qt+_e*_e)))/2),j=zf(je[0]*je[0]+je[1]*je[1]);$=R8(D,(y-j)/(V-1)),Y=R8(D,(m-j)/(V+1))}else $=Y=0}M>Ri?Y>Ri?(z=vy(fe,Fe,X,G,m,Y,E),H=vy(ie,Ae,le,pe,m,Y,E),d.moveTo(z.cx+z.x01,z.cy+z.y01),Y<D?d.arc(z.cx,z.cy,Y,Ci(z.y01,z.x01),Ci(H.y01,H.x01),!E):(d.arc(z.cx,z.cy,Y,Ci(z.y01,z.x01),Ci(z.y11,z.x11),!E),d.arc(0,0,m,Ci(z.cy+z.y11,z.cx+z.x11),Ci(H.cy+H.y11,H.cx+H.x11),!E),d.arc(H.cx,H.cy,Y,Ci(H.y11,H.x11),Ci(H.y01,H.x01),!E))):(d.moveTo(X,G),d.arc(0,0,m,S,x,!E)):d.moveTo(X,G),!(y>Ri)||!(A>Ri)?d.lineTo(le,pe):$>Ri?(z=vy(le,pe,ie,Ae,y,-$,E),H=vy(X,G,fe,Fe,y,-$,E),d.lineTo(z.cx+z.x01,z.cy+z.y01),$<D?d.arc(z.cx,z.cy,$,Ci(z.y01,z.x01),Ci(H.y01,H.x01),!E):(d.arc(z.cx,z.cy,$,Ci(z.y01,z.x01),Ci(z.y11,z.x11),!E),d.arc(0,0,y,Ci(z.cy+z.y11,z.cx+z.x11),Ci(H.cy+H.y11,H.cx+H.x11),E),d.arc(H.cx,H.cy,$,Ci(H.y11,H.x11),Ci(H.y01,H.x01),!E))):d.arc(0,0,y,B,k,E)}if(d.closePath(),o)return d=null,o+""||null}return u.centroid=function(){var o=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,g=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-K1/2;return[tf(g)*o,Ya(g)*o]},u.innerRadius=function(o){return arguments.length?(t=typeof o=="function"?o:Zt(+o),u):t},u.outerRadius=function(o){return arguments.length?(e=typeof o=="function"?o:Zt(+o),u):e},u.cornerRadius=function(o){return arguments.length?(n=typeof o=="function"?o:Zt(+o),u):n},u.padRadius=function(o){return arguments.length?(i=o==null?null:typeof o=="function"?o:Zt(+o),u):i},u.startAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Zt(+o),u):s},u.endAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Zt(+o),u):a},u.padAngle=function(o){return arguments.length?(c=typeof o=="function"?o:Zt(+o),u):c},u.context=function(o){return arguments.length?(d=o??null,u):d},u}function Wj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yj(t){this._context=t}Yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function GE(t){return new Yj(t)}function Xj(t){return t[0]}function Kj(t){return t[1]}function Zj(t,e){var n=Zt(!0),i=null,s=GE,a=null,c=aL(d);t=typeof t=="function"?t:t===void 0?Xj:Zt(t),e=typeof e=="function"?e:e===void 0?Kj:Zt(e);function d(f){var u,o=(f=Wj(f)).length,g,y=!1,m;for(i==null&&(a=s(m=c())),u=0;u<=o;++u)!(u<o&&n(g=f[u],u,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(g,u,f),+e(g,u,f));if(m)return a=null,m+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Zt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Zt(!!f),d):n},d.curve=function(f){return arguments.length?(s=f,i!=null&&(a=s(i)),d):s},d.context=function(f){return arguments.length?(f==null?i=a=null:a=s(i=f),d):i},d}function Jj(t,e,n){var i=null,s=Zt(!0),a=null,c=GE,d=null,f=aL(u);t=typeof t=="function"?t:t===void 0?Xj:Zt(+t),e=typeof e=="function"?e:Zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Kj:Zt(+n);function u(g){var y,m,l,b=(g=Wj(g)).length,L,E=!1,S,x=new Array(b),k=new Array(b);for(a==null&&(d=c(S=f())),y=0;y<=b;++y){if(!(y<b&&s(L=g[y],y,g))===E)if(E=!E)m=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),l=y-1;l>=m;--l)d.point(x[l],k[l]);d.lineEnd(),d.areaEnd()}E&&(x[y]=+t(L,y,g),k[y]=+e(L,y,g),d.point(i?+i(L,y,g):x[y],n?+n(L,y,g):k[y]))}if(S)return d=null,S+""||null}function o(){return Zj().defined(s).curve(c).context(a)}return u.x=function(g){return arguments.length?(t=typeof g=="function"?g:Zt(+g),i=null,u):t},u.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Zt(+g),u):t},u.x1=function(g){return arguments.length?(i=g==null?null:typeof g=="function"?g:Zt(+g),u):i},u.y=function(g){return arguments.length?(e=typeof g=="function"?g:Zt(+g),n=null,u):e},u.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Zt(+g),u):e},u.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Zt(+g),u):n},u.lineX0=u.lineY0=function(){return o().x(t).y(e)},u.lineY1=function(){return o().x(t).y(n)},u.lineX1=function(){return o().x(i).y(e)},u.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Zt(!!g),u):s},u.curve=function(g){return arguments.length?(c=g,a!=null&&(d=c(a)),u):c},u.context=function(g){return arguments.length?(g==null?a=d=null:d=c(a=g),u):a},u}const z1e={draw(t,e){const n=zf(e/K1);t.moveTo(n,0),t.arc(0,0,n,0,Gj)}};function H1e(t,e){let n=null,i=aL(s);t=typeof t=="function"?t:Zt(t||z1e),e=typeof e=="function"?e:Zt(e===void 0?64:+e);function s(){let a;if(n||(n=a=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(t=typeof a=="function"?a:Zt(a),s):t},s.size=function(a){return arguments.length?(e=typeof a=="function"?a:Zt(+a),s):e},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function fd(){}function Z4(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oL(t){this._context=t}oL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Z4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Z4(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j1e(t){return new oL(t)}function Qj(t){this._context=t}Qj.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Z4(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function V1e(t){return new Qj(t)}function eV(t){this._context=t}eV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Z4(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function q1e(t){return new eV(t)}function tV(t,e){this._basis=new oL(t),this._beta=e}tV.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i=t[0],s=e[0],a=t[n]-i,c=e[n]-s,d=-1,f;++d<=n;)f=d/n,this._basis.point(this._beta*t[d]+(1-this._beta)*(i+f*a),this._beta*e[d]+(1-this._beta)*(s+f*c));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const G1e=function t(e){function n(i){return e===1?new oL(i):new tV(i,e)}return n.beta=function(i){return t(+i)},n}(.85);function J4(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function WE(t,e){this._context=t,this._k=(1-e)/6}WE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:J4(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:J4(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const W1e=function t(e){function n(i){return new WE(i,e)}return n.tension=function(i){return t(+i)},n}(0);function YE(t,e){this._context=t,this._k=(1-e)/6}YE.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:J4(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Y1e=function t(e){function n(i){return new YE(i,e)}return n.tension=function(i){return t(+i)},n}(0);function XE(t,e){this._context=t,this._k=(1-e)/6}XE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:J4(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const X1e=function t(e){function n(i){return new XE(i,e)}return n.tension=function(i){return t(+i)},n}(0);function KE(t,e,n){var i=t._x1,s=t._y1,a=t._x2,c=t._y2;if(t._l01_a>Ri){var d=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*d-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,s=(s*d-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Ri){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,o=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/o,c=(c*u+t._y1*t._l23_2a-n*t._l12_2a)/o}t._context.bezierCurveTo(i,s,a,c,t._x2,t._y2)}function nV(t,e){this._context=t,this._alpha=e}nV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:KE(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const K1e=function t(e){function n(i){return e?new nV(i,e):new WE(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function iV(t,e){this._context=t,this._alpha=e}iV.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:KE(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Z1e=function t(e){function n(i){return e?new iV(i,e):new YE(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function sV(t,e){this._context=t,this._alpha=e}sV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:KE(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const J1e=function t(e){function n(i){return e?new sV(i,e):new XE(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function rV(t){this._context=t}rV.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Q1e(t){return new rV(t)}function iN(t){return t<0?-1:1}function sN(t,e,n){var i=t._x1-t._x0,s=e-t._x1,a=(t._y1-t._y0)/(i||s<0&&-0),c=(n-t._y1)/(s||i<0&&-0),d=(a*s+c*i)/(i+s);return(iN(a)+iN(c))*Math.min(Math.abs(a),Math.abs(c),.5*Math.abs(d))||0}function rN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function D8(t,e,n){var i=t._x0,s=t._y0,a=t._x1,c=t._y1,d=(a-i)/3;t._context.bezierCurveTo(i+d,s+d*e,a-d,c-d*n,a,c)}function Q4(t){this._context=t}Q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D8(this,this._t0,rN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,D8(this,rN(this,n=sN(this,t,e)),n);break;default:D8(this,this._t0,n=sN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function aV(t){this._context=new oV(t)}(aV.prototype=Object.create(Q4.prototype)).point=function(t,e){Q4.prototype.point.call(this,e,t)};function oV(t){this._context=t}oV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,s,a){this._context.bezierCurveTo(e,t,i,n,a,s)}};function e2e(t){return new Q4(t)}function t2e(t){return new aV(t)}function lV(t){this._context=t}lV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=aN(t),s=aN(e),a=0,c=1;c<n;++a,++c)this._context.bezierCurveTo(i[0][a],s[0][a],i[1][a],s[1][a],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aN(t){var e,n=t.length-1,i,s=new Array(n),a=new Array(n),c=new Array(n);for(s[0]=0,a[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,a[e]=4,c[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,a[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=s[e]/a[e-1],a[e]-=i,c[e]-=i*c[e-1];for(s[n-1]=c[n-1]/a[n-1],e=n-2;e>=0;--e)s[e]=(c[e]-s[e+1])/a[e];for(a[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-s[e+1];return[s,a]}function n2e(t){return new lV(t)}function lL(t,e){this._context=t,this._t=e}lL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function i2e(t){return new lL(t,.5)}function s2e(t){return new lL(t,0)}function r2e(t){return new lL(t,1)}function K0(t,e,n){this.k=t,this.x=e,this.y=n}K0.prototype={constructor:K0,scale:function(t){return t===1?this:new K0(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new K0(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};K0.prototype;function*cV(t,e){if(e==null)for(let n of t)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)i=e(i,++n,t),i!=null&&i!==""&&(i=+i)>=i&&(yield i)}}function ZE(t,e,n){const i=Float64Array.from(cV(t,n));return i.sort(Pl),e.map(s=>vz(i,s))}function JE(t,e){return ZE(t,[.25,.5,.75],e)}function QE(t,e){const n=t.length,i=jre(t,e),s=JE(t,e),a=(s[2]-s[0])/1.34;return 1.06*(Math.min(i,a)||i||Math.abs(s[0])||1)*Math.pow(n,-.2)}function eS(t){const e=t.maxbins||20,n=t.base||10,i=Math.log(n),s=t.divide||[5,2];let a=t.extent[0],c=t.extent[1],d,f,u,o,g,y;const m=t.span||c-a||Math.abs(a)||1;if(t.step)d=t.step;else if(t.steps){for(o=m/e,g=0,y=t.steps.length;g<y&&t.steps[g]<o;++g);d=t.steps[Math.max(0,g-1)]}else{for(f=Math.ceil(Math.log(e)/i),u=t.minstep||0,d=Math.max(u,Math.pow(n,Math.round(Math.log(m)/i)-f));Math.ceil(m/d)>e;)d*=n;for(g=0,y=s.length;g<y;++g)o=d/s[g],o>=u&&m/o<=e&&(d=o)}o=Math.log(d);const l=o>=0?0:~~(-o/i)+1,b=Math.pow(n,-l-1);return(t.nice||t.nice===void 0)&&(o=Math.floor(a/d+b)*d,a=a<o?o-d:o,c=Math.ceil(c/d)*d),{start:a,stop:c===a?a+d:c,step:d}}var Wr=Math.random;function a2e(t){Wr=t}function dV(t,e,n,i){if(!t.length)return[void 0,void 0];const s=Float64Array.from(cV(t,i)),a=s.length,c=e;let d,f,u,o;for(u=0,o=Array(c);u<c;++u){for(d=0,f=0;f<a;++f)d+=s[~~(Wr()*a)];o[u]=d/a}return o.sort(Pl),[mb(o,n/2),mb(o,1-n/2)]}function fV(t,e,n,i){i=i||(y=>y);const s=t.length,a=new Float64Array(s);let c=0,d=1,f=i(t[0]),u=f,o=f+e,g;for(;d<s;++d){if(g=i(t[d]),g>=o){for(u=(f+u)/2;c<d;++c)a[c]=u;o=g+e,f=g}u=g}for(u=(f+u)/2;c<d;++c)a[c]=u;return n?o2e(a,e+e/4):a}function o2e(t,e){const n=t.length;let i=0,s=1,a,c;for(;t[i]===t[s];)++s;for(;s<n;){for(a=s+1;t[s]===t[a];)++a;if(t[s]-t[s-1]<e){for(c=s+(i+a-s-s>>1);c<s;)t[c++]=t[s];for(;c>s;)t[c--]=t[i]}i=s,s=a}return t}function l2e(t){return function(){return t=(1103515245*t+12345)%2147483647,t/2147483647}}function c2e(t,e){e==null&&(e=t,t=0);let n,i,s;const a={min(c){return arguments.length?(n=c||0,s=i-n,a):n},max(c){return arguments.length?(i=c||0,s=i-n,a):i},sample(){return n+Math.floor(s*Wr())},pdf(c){return c===Math.floor(c)&&c>=n&&c<i?1/s:0},cdf(c){const d=Math.floor(c);return d<n?0:d>=i?1:(d-n+1)/s},icdf(c){return c>=0&&c<=1?n-1+Math.floor(c*s):NaN}};return a.min(t).max(e)}const uV=Math.sqrt(2*Math.PI),d2e=Math.SQRT2;let d0=NaN;function cL(t,e){t=t||0,e=e??1;let n=0,i=0,s,a;if(d0===d0)n=d0,d0=NaN;else{do n=Wr()*2-1,i=Wr()*2-1,s=n*n+i*i;while(s===0||s>1);a=Math.sqrt(-2*Math.log(s)/s),n*=a,d0=i*a}return t+n*e}function tS(t,e,n){n=n??1;const i=(t-(e||0))/n;return Math.exp(-.5*i*i)/(n*uV)}function dL(t,e,n){e=e||0,n=n??1;const i=(t-e)/n,s=Math.abs(i);let a;if(s>37)a=0;else{const c=Math.exp(-s*s/2);let d;s<7.07106781186547?(d=.0352624965998911*s+.700383064443688,d=d*s+6.37396220353165,d=d*s+33.912866078383,d=d*s+112.079291497871,d=d*s+221.213596169931,d=d*s+220.206867912376,a=c*d,d=.0883883476483184*s+1.75566716318264,d=d*s+16.064177579207,d=d*s+86.7807322029461,d=d*s+296.564248779674,d=d*s+637.333633378831,d=d*s+793.826512519948,d=d*s+440.413735824752,a=a/d):(d=s+.65,d=s+4/d,d=s+3/d,d=s+2/d,d=s+1/d,a=c/d/2.506628274631)}return i>0?1-a:a}function fL(t,e,n){return t<0||t>1?NaN:(e||0)+(n??1)*d2e*f2e(2*t-1)}function f2e(t){let e=-Math.log((1-t)*(1+t)),n;return e<6.25?(e-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*e,n=128584807152564e-32+n*e,n=11157877678025181e-33+n*e,n=-1333171662854621e-31+n*e,n=20972767875968562e-33+n*e,n=6637638134358324e-30+n*e,n=-4054566272975207e-29+n*e,n=-8151934197605472e-29+n*e,n=26335093153082323e-28+n*e,n=-12975133253453532e-27+n*e,n=-5415412054294628e-26+n*e,n=10512122733215323e-25+n*e,n=-4112633980346984e-24+n*e,n=-29070369957882005e-24+n*e,n=42347877827932404e-23+n*e,n=-13654692000834679e-22+n*e,n=-13882523362786469e-21+n*e,n=.00018673420803405714+n*e,n=-.000740702534166267+n*e,n=-.006033670871430149+n*e,n=.24015818242558962+n*e,n=1.6536545626831027+n*e):e<16?(e=Math.sqrt(e)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*e,n=-27517406297064545e-23+n*e,n=18239629214389228e-24+n*e,n=15027403968909828e-22+n*e,n=-4013867526981546e-21+n*e,n=29234449089955446e-22+n*e,n=12475304481671779e-21+n*e,n=-47318229009055734e-21+n*e,n=6828485145957318e-20+n*e,n=24031110387097894e-21+n*e,n=-.0003550375203628475+n*e,n=.0009532893797373805+n*e,n=-.0016882755560235047+n*e,n=.002491442096107851+n*e,n=-.003751208507569241+n*e,n=.005370914553590064+n*e,n=1.0052589676941592+n*e,n=3.0838856104922208+n*e):Number.isFinite(e)?(e=Math.sqrt(e)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*e,n=15076572693500548e-25+n*e,n=-3789465440126737e-24+n*e,n=761570120807834e-23+n*e,n=-1496002662714924e-23+n*e,n=2914795345090108e-23+n*e,n=-6771199775845234e-23+n*e,n=22900482228026655e-23+n*e,n=-99298272942317e-20+n*e,n=4526062597223154e-21+n*e,n=-1968177810553167e-20+n*e,n=7599527703001776e-20+n*e,n=-.00021503011930044477+n*e,n=-.00013871931833623122+n*e,n=1.0103004648645344+n*e,n=4.849906401408584+n*e):n=1/0,n*t}function nS(t,e){let n,i;const s={mean(a){return arguments.length?(n=a||0,s):n},stdev(a){return arguments.length?(i=a??1,s):i},sample:()=>cL(n,i),pdf:a=>tS(a,n,i),cdf:a=>dL(a,n,i),icdf:a=>fL(a,n,i)};return s.mean(t).stdev(e)}function iS(t,e){const n=nS();let i=0;const s={data(a){return arguments.length?(t=a,i=a?a.length:0,s.bandwidth(e)):t},bandwidth(a){return arguments.length?(e=a,!e&&t&&(e=QE(t)),s):e},sample(){return t[~~(Wr()*i)]+e*n.sample()},pdf(a){let c=0,d=0;for(;d<i;++d)c+=n.pdf((a-t[d])/e);return c/e/i},cdf(a){let c=0,d=0;for(;d<i;++d)c+=n.cdf((a-t[d])/e);return c/i},icdf(){throw Error("KDE icdf not supported.")}};return s.data(t)}function sS(t,e){return t=t||0,e=e??1,Math.exp(t+cL()*e)}function rS(t,e,n){if(t<=0)return 0;e=e||0,n=n??1;const i=(Math.log(t)-e)/n;return Math.exp(-.5*i*i)/(n*uV*t)}function aS(t,e,n){return dL(Math.log(t),e,n)}function oS(t,e,n){return Math.exp(fL(t,e,n))}function hV(t,e){let n,i;const s={mean(a){return arguments.length?(n=a||0,s):n},stdev(a){return arguments.length?(i=a??1,s):i},sample:()=>sS(n,i),pdf:a=>rS(a,n,i),cdf:a=>aS(a,n,i),icdf:a=>oS(a,n,i)};return s.mean(t).stdev(e)}function pV(t,e){let n=0,i;function s(c){const d=[];let f=0,u;for(u=0;u<n;++u)f+=d[u]=c[u]==null?1:+c[u];for(u=0;u<n;++u)d[u]/=f;return d}const a={weights(c){return arguments.length?(i=s(e=c||[]),a):e},distributions(c){return arguments.length?(c?(n=c.length,t=c):(n=0,t=[]),a.weights(e)):t},sample(){const c=Wr();let d=t[n-1],f=i[0],u=0;for(;u<n-1;f+=i[++u])if(c<f){d=t[u];break}return d.sample()},pdf(c){let d=0,f=0;for(;f<n;++f)d+=i[f]*t[f].pdf(c);return d},cdf(c){let d=0,f=0;for(;f<n;++f)d+=i[f]*t[f].cdf(c);return d},icdf(){throw Error("Mixture icdf not supported.")}};return a.distributions(t).weights(e)}function lS(t,e){return e==null&&(e=t??1,t=0),t+(e-t)*Wr()}function cS(t,e,n){return n==null&&(n=e??1,e=0),t>=e&&t<=n?1/(n-e):0}function dS(t,e,n){return n==null&&(n=e??1,e=0),t<e?0:t>n?1:(t-e)/(n-e)}function fS(t,e,n){return n==null&&(n=e??1,e=0),t>=0&&t<=1?e+t*(n-e):NaN}function _V(t,e){let n,i;const s={min(a){return arguments.length?(n=a||0,s):n},max(a){return arguments.length?(i=a??1,s):i},sample:()=>lS(n,i),pdf:a=>cS(a,n,i),cdf:a=>dS(a,n,i),icdf:a=>fS(a,n,i)};return e==null&&(e=t??1,t=0),s.min(t).max(e)}function uS(t,e,n){let i=0,s=0;for(const a of t){const c=n(a);e(a)==null||c==null||isNaN(c)||(i+=(c-i)/++s)}return{coef:[i],predict:()=>i,rSquared:0}}function Q3(t,e,n,i){const s=i-t*t,a=Math.abs(s)<1e-24?0:(n-t*e)/s;return[e-a*t,a]}function uL(t,e,n,i){t=t.filter(m=>{let l=e(m),b=n(m);return l!=null&&(l=+l)>=l&&b!=null&&(b=+b)>=b}),i&&t.sort((m,l)=>e(m)-e(l));const s=t.length,a=new Float64Array(s),c=new Float64Array(s);let d=0,f=0,u=0,o,g,y;for(y of t)a[d]=o=+e(y),c[d]=g=+n(y),++d,f+=(o-f)/d,u+=(g-u)/d;for(d=0;d<s;++d)a[d]-=f,c[d]-=u;return[a,c,f,u]}function e_(t,e,n,i){let s=-1,a,c;for(const d of t)a=e(d),c=n(d),a!=null&&(a=+a)>=a&&c!=null&&(c=+c)>=c&&i(a,c,++s)}function O2(t,e,n,i,s){let a=0,c=0;return e_(t,e,n,(d,f)=>{const u=f-s(d),o=f-i;a+=u*u,c+=o*o}),1-a/c}function hS(t,e,n){let i=0,s=0,a=0,c=0,d=0;e_(t,e,n,(o,g)=>{++d,i+=(o-i)/d,s+=(g-s)/d,a+=(o*g-a)/d,c+=(o*o-c)/d});const f=Q3(i,s,a,c),u=o=>f[0]+f[1]*o;return{coef:f,predict:u,rSquared:O2(t,e,n,s,u)}}function gV(t,e,n){let i=0,s=0,a=0,c=0,d=0;e_(t,e,n,(o,g)=>{++d,o=Math.log(o),i+=(o-i)/d,s+=(g-s)/d,a+=(o*g-a)/d,c+=(o*o-c)/d});const f=Q3(i,s,a,c),u=o=>f[0]+f[1]*Math.log(o);return{coef:f,predict:u,rSquared:O2(t,e,n,s,u)}}function yV(t,e,n){const[i,s,a,c]=uL(t,e,n);let d=0,f=0,u=0,o=0,g=0,y,m,l;e_(t,e,n,(S,x)=>{y=i[g++],m=Math.log(x),l=y*x,d+=(x*m-d)/g,f+=(l-f)/g,u+=(l*m-u)/g,o+=(y*l-o)/g});const[b,L]=Q3(f/c,d/c,u/c,o/c),E=S=>Math.exp(b+L*(S-a));return{coef:[Math.exp(b-L*a),L],predict:E,rSquared:O2(t,e,n,c,E)}}function mV(t,e,n){let i=0,s=0,a=0,c=0,d=0,f=0;e_(t,e,n,(g,y)=>{const m=Math.log(g),l=Math.log(y);++f,i+=(m-i)/f,s+=(l-s)/f,a+=(m*l-a)/f,c+=(m*m-c)/f,d+=(y-d)/f});const u=Q3(i,s,a,c),o=g=>u[0]*Math.pow(g,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:o,rSquared:O2(t,e,n,d,o)}}function pS(t,e,n){const[i,s,a,c]=uL(t,e,n),d=i.length;let f=0,u=0,o=0,g=0,y=0,m,l,b,L;for(m=0;m<d;)l=i[m],b=s[m++],L=l*l,f+=(L-f)/m,u+=(L*l-u)/m,o+=(L*L-o)/m,g+=(l*b-g)/m,y+=(L*b-y)/m;const E=o-f*f,S=f*E-u*u,x=(y*f-g*u)/S,k=(g*E-y*u)/S,B=-x*f,A=M=>(M=M-a,x*M*M+k*M+B+c);return{coef:[B-k*a+x*a*a+c,k-2*x*a,x],predict:A,rSquared:O2(t,e,n,c,A)}}function wV(t,e,n,i){if(i===0)return uS(t,e,n);if(i===1)return hS(t,e,n);if(i===2)return pS(t,e,n);const[s,a,c,d]=uL(t,e,n),f=s.length,u=[],o=[],g=i+1;let y,m,l,b,L;for(y=0;y<g;++y){for(l=0,b=0;l<f;++l)b+=Math.pow(s[l],y)*a[l];for(u.push(b),L=new Float64Array(g),m=0;m<g;++m){for(l=0,b=0;l<f;++l)b+=Math.pow(s[l],y+m);L[m]=b}o.push(L)}o.push(u);const E=h2e(o),S=x=>{x-=c;let k=d+E[0]+E[1]*x+E[2]*x*x;for(y=3;y<g;++y)k+=E[y]*Math.pow(x,y);return k};return{coef:u2e(g,E,-c,d),predict:S,rSquared:O2(t,e,n,d,S)}}function u2e(t,e,n,i){const s=Array(t);let a,c,d,f;for(a=0;a<t;++a)s[a]=0;for(a=t-1;a>=0;--a)for(d=e[a],f=1,s[a]+=d,c=1;c<=a;++c)f*=(a+1-c)/c,s[a-c]+=d*Math.pow(n,c)*f;return s[0]+=i,s}function h2e(t){const e=t.length-1,n=[];let i,s,a,c,d;for(i=0;i<e;++i){for(c=i,s=i+1;s<e;++s)Math.abs(t[i][s])>Math.abs(t[i][c])&&(c=s);for(a=i;a<e+1;++a)d=t[a][i],t[a][i]=t[a][c],t[a][c]=d;for(s=i+1;s<e;++s)for(a=e;a>=i;a--)t[a][s]-=t[a][i]*t[i][s]/t[i][i]}for(s=e-1;s>=0;--s){for(d=0,a=s+1;a<e;++a)d+=t[a][s]*n[a];n[s]=(t[e][s]-d)/t[s][s]}return n}const oN=2,lN=1e-12;function LV(t,e,n,i){const[s,a,c,d]=uL(t,e,n,!0),f=s.length,u=Math.max(2,~~(i*f)),o=new Float64Array(f),g=new Float64Array(f),y=new Float64Array(f).fill(1);for(let m=-1;++m<=oN;){const l=[0,u-1];for(let L=0;L<f;++L){const E=s[L],S=l[0],x=l[1],k=E-s[S]>s[x]-E?S:x;let B=0,A=0,M=0,C=0,R=0;const D=1/Math.abs(s[k]-E||1);for(let z=S;z<=x;++z){const H=s[z],q=a[z],W=p2e(Math.abs(E-H)*D)*y[z],X=H*W;B+=W,A+=X,M+=q*W,C+=q*X,R+=H*X}const[$,Y]=Q3(A/B,M/B,C/B,R/B);o[L]=$+Y*E,g[L]=Math.abs(a[L]-o[L]),_2e(s,L+1,l)}if(m===oN)break;const b=Ez(g);if(Math.abs(b)<lN)break;for(let L=0,E,S;L<f;++L)E=g[L]/(6*b),y[L]=E>=1?lN:(S=1-E*E)*S}return g2e(s,o,c,d)}function p2e(t){return(t=1-t*t*t)*t*t}function _2e(t,e,n){const i=t[e];let s=n[0],a=n[1]+1;if(!(a>=t.length))for(;e>s&&t[a]-i<=i-t[s];)n[0]=++s,n[1]=a,++a}function g2e(t,e,n,i){const s=t.length,a=[];let c=0,d=0,f=[],u;for(;c<s;++c)u=t[c]+n,f[0]===u?f[1]+=(e[c]-f[1])/++d:(d=0,f[1]+=i,f=[u,e[c]],a.push(f));return f[1]+=i,a}const y2e=.5*Math.PI/180;function hL(t,e,n,i){n=n||25,i=Math.max(n,i||200);const s=b=>[b,t(b)],a=e[0],c=e[1],d=c-a,f=d/i,u=[s(a)],o=[];if(n===i){for(let b=1;b<i;++b)u.push(s(a+b/n*d));return u.push(s(c)),u}else{o.push(s(c));for(let b=n;--b>0;)o.push(s(a+b/n*d))}let g=u[0],y=o[o.length-1];const m=1/d,l=m2e(g[1],o);for(;y;){const b=s((g[0]+y[0])/2);b[0]-g[0]>=f&&w2e(g,b,y,m,l)>y2e?o.push(b):(g=y,u.push(y),o.pop()),y=o[o.length-1]}return u}function m2e(t,e){let n=t,i=t;const s=e.length;for(let a=0;a<s;++a){const c=e[a][1];c<n&&(n=c),c>i&&(i=c)}return 1/(i-n)}function w2e(t,e,n,i,s){const a=Math.atan2(s*(n[1]-t[1]),i*(n[0]-t[0])),c=Math.atan2(s*(e[1]-t[1]),i*(e[0]-t[0]));return Math.abs(a-c)}function Ey(t){return t.length}function Zh(t){const e=new Map(t.map((n,i)=>[n,i]));return n=>e.get(n)}function wp({start:t,step:e,stop:n}){return(n-t)/e}function L2e(t,e,n=!1){return n?bV(t,e):eS({maxbins:t,extent:e})}function bV(t,e){const n=(e[1]-e[0])/t,i=e[0],s=e[e.length-1];return console.log(n,i,s),{start:i,stop:s,step:n}}function b2e(t,e,n=!1){if(console.log("hit"),n)return bV(t,e);const s=Uj().domain(e).ticks(t),a=s[0].getTime(),c=s[s.length-1].getTime(),d=(c-a)/s.length;return{start:a,stop:c,step:d}}function T2e(t,e,n=!1){return(t.time?b2e:L2e)(t.bins,e,n)}function v2e(t){let e=[],n=t.start,i=n+t.step;for(;i<=t.stop;)e.push({binStart:n,binEnd:i}),n=i,i+=t.step;return e}function E2e(t,e){const n=S2e(t,e);return i=>[n(i[0]),n(i[1])]}function S2e(t,e,n=Math.floor){const i=[1,e],s=t,a=Q6().domain(s).range(i);return a.clamp(!0),c=>{const d=a(c);return n(d)}}function cN(t,...e){return new Map(Array.from(t.entries()).filter(([n,i])=>!e.includes(n)))}function x2e(t,{start:e,step:n,stop:i},s=a=>`${a}`){const a=wp({start:e,step:n,stop:i}),c=`FLOOR((${t} - ${s(e)}) / ${s(n)})::INT`;return`LEAST(${s(a-1)}, ${c})::INT`}function B2e({start:t,stop:e},n){return(e-t)/n}function I2e(t){return t.replace(/\s+/g," ").trim()}class k2e{constructor(){this.views=[]}remove(e){const n=this.views.findIndex(i=>i==e);n!==-1&&this.views.splice(n,1)}add(e){this.views.findIndex(i=>i==e)===-1&&this.views.push(e)}get passive(){return this.views.filter(e=>!e.isActive)}get active(){const e=this.views.find(n=>n.isActive);if(e)return e}get size(){return this.views.length}forEach(e){this.views.forEach(e)}[Symbol.iterator](){return this.views[Symbol.iterator]()}}class TV{constructor(e){this.isActive=!1,this.linkTogetherWithOtherViews(e),this.onChangeListeners=new Set}linkTogetherWithOtherViews(e){this.falcon=e}onChange(e){return this.onChangeListeners.add(e),()=>this.onChangeListeners.delete(e)}addOnChangeListener(e){return this.onChange(e)}signalOnChange(e){this.onChangeListeners.forEach(n=>{n(e)})}markThisViewActive(){this.falcon.views.forEach(e=>{e.isActive=!1}),this.isActive=!0}}class Ac extends TV{constructor(e){super(e),this.state={total:null,filter:null}}async all(){const e=await this.falcon.db.length(this.falcon.filters.size>0?this.falcon.filters:void 0);return this.state.total=e,this.state.filter=e,this.signalOnChange(this.state),this}async countFromActiveContinuous1D(e){const n=await this.falcon.index.get(this);if(n===void 0)throw Error("Cannot count for undefined index in 0D");if(!e)this.state.filter=n.noFilter.get(0);else{const i=n.filter.get(e[0]),s=n.filter.get(e[1]);this.state.filter=s-i}this.signalOnChange(this.state)}async countFromActiveCategorical1D(e,n){const i=await this.falcon.index.get(this);if(i===void 0)throw Error("Cannot count for undefined index in 0D");if(e===void 0)this.state.filter=i.noFilter.get(0);else{const s=Zh(n);let a=0;for(const c of e){const d=s(c);d!==void 0&&(a+=i.filter.get(d))}this.state.filter=a}this.signalOnChange(this.state)}async attach(){this.falcon.views.add(this),await this.falcon.link()}async detach(){this.falcon.views.remove(this),this.falcon.index.delete(this)}}class ao extends TV{constructor(e,n){super(e),this.dimension=n,this.state={total:null,filter:null,bin:null},this.toPixels=()=>[0,0]}async update(e){this.dimension=e,await this.falcon.link()}async createBins(){var e;if(((e=this.dimension)==null?void 0:e.range)===void 0&&(this.dimension.range=await this.falcon.db.range(this.dimension)),this.dimension.type==="continuous"){const n=this.dimension.binConfig!==void 0;if(n)this.dimension.range=[this.dimension.binConfig.start,this.dimension.binConfig.stop];else if(!n)this.dimension.bins=this.dimension.bins??await this.falcon.db.estimateNumBins(this.dimension,200,15),this.dimension.binConfig=T2e(this.dimension,this.dimension.range,this.dimension.exact??!1);else throw Error("Invalid bin config or bins not specified");const{start:i,stop:s}=this.dimension.binConfig;this.toPixels=E2e([i,s],this.dimension.resolution)}this.dimension.type==="continuous"?this.state.bin=v2e(this.dimension.binConfig):this.state.bin=this.dimension.range}async all(){await this.createBins();const e=await this.falcon.db.histogramView1D(this,this.falcon.filters.size>0?this.falcon.otherFilters(this):void 0);return this.state.total=e.noFilter.data,this.state.filter=e.filter.data,this.signalOnChange(this.state),this}async computeIndex(e=!1){(!this.isActive||e)&&(await this.falcon.views.forEach(async n=>{n instanceof ao&&(!("range"in n.dimension)||n.dimension.type==="continuous"&&!("binConfig"in n.dimension))&&await n.all()}),this.markThisViewActive(),this.falcon.index=this.falcon.db.falconIndexView1D(this,this.falcon.views.passive,this.falcon.passiveFilters))}async activate(){await this.computeIndex()}async select(e,n=!1){if(e)if(this.dimension.type==="continuous"){if(this.lastFilter&&this.lastFilter[0]===e[0]&&this.lastFilter[1]===e[1]&&n===!1)return;this.falcon.filters.set(this.dimension,e);let s=this.toPixels(e);this.isActive&&this.falcon.views.passive.forEach(async a=>{await a.countFromActiveContinuous1D(s)}),this.lastFilter=e}else this.falcon.filters.set(this.dimension,e),this.isActive&&this.falcon.views.passive.forEach(async i=>{await i.countFromActiveCategorical1D(e,this.dimension.range)}),this.lastFilter=e;else if(this.isActive)if(this.dimension.type==="continuous"){if(this.lastFilter===e)return;this.falcon.filters.delete(this.dimension),this.falcon.views.passive.forEach(async s=>{await s.countFromActiveContinuous1D()}),this.lastFilter=e}else this.falcon.filters.delete(this.dimension),this.falcon.views.passive.forEach(async i=>{await i.countFromActiveCategorical1D()}),this.lastFilter=e}async countFromActiveContinuous1D(e){const n=await this.falcon.index.get(this);if(n===void 0)throw Error("Index not defined for 1D passive view");if(!e)this.state.filter=n.noFilter.data;else{const i=n.filter.slice(e[0],null),a=n.filter.slice(e[1],null).sub(i);this.state.filter=a.data}this.signalOnChange(this.state)}async countFromActiveCategorical1D(e,n){const i=await this.falcon.index.get(this);if(i===void 0)throw Error("Index not defined for 1D passive view");if(!e)this.state.filter=i.noFilter.data;else{let s;this.dimension.type==="continuous"?s=rr.allocCounts(wp(this.dimension.binConfig)):s=rr.allocCounts(this.dimension.range.length),s.data.fill(0);const a=Zh(n);for(const c of e){const d=a(c);if(d!==void 0){const f=i.filter.slice(d,null);s.addToItself(f)}}this.state.filter=s.data}this.signalOnChange(this.state)}async attach(){this.falcon.views.add(this),await this.falcon.link()}async detach(){this.falcon.views.remove(this),this.falcon.index.delete(this),this.isActive&&await this.falcon.link()}}class F2e{constructor(e,n){this.table=e,this.nameMap=n}castBins(e){return`${e}`}castTime(e){return`epoch(${e})*1000`}getName(e){var i;let n=((i=this.nameMap)==null?void 0:i.get(e.name))??e.name;return e.type==="continuous"&&e.time&&(n=this.castTime(n)),n}async dimensionExists(e){const n=await this.query(`SELECT EXISTS 
      (SELECT 0 FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = '${this.table}' AND COLUMN_NAME = '${e.name}') as _exists`),{_exists:i}=this.getASValues(n);return i}async tableExists(){const e=await this.query(`SELECT EXISTS 
      (SELECT 0 FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = '${this.table}') as _exists`),{_exists:n}=this.getASValues(e);return n}async entries(e=0,n=1/0,i){const s=i?[...this.filtersToSQLWhereClauses(i).values()].join(" AND "):void 0;return await this.query(`SELECT *
              FROM ${this.table}
              ${s?`WHERE ${s}`:""}
              ${n>=0&&n<1/0?`LIMIT ${n}`:""}
              OFFSET ${e}`)}async estimateNumBins(e,n=200,i=15){if(await this.length()<=1)return 1;if(e.range){const a=await this.query(`SELECT STDDEV(${this.getName(e)}) AS standardDeviation FROM ${this.table}`),{standardDeviation:c}=this.getASValues(a),[d,f]=e.range,u=Qse(d,f,c);return Math.min(u,n)}return i}async length(e){let n="";e&&(n=[...this.filtersToSQLWhereClauses(e).values()].join(" AND "));const i=await this.query(`SELECT count(*) AS _count
       FROM ${this.table}
       ${n?`WHERE ${n}`:""}`),{_count:s}=this.getASValues(i);return s}async range(e){const n=this.getName(e);if(e.type==="continuous"){const i=await this.query(`SELECT  MIN(${n}) AS _min, MAX(${n}) AS _max
        FROM ${this.table}`),{_min:s,_max:a}=this.getASValues(i);return[Number(s),Number(a)]}else{const i=await this.query(`SELECT DISTINCT "${n}" AS _unique FROM ${this.table}`);let s=[];for(const{_unique:a}of i)s.push(a);return s.filter(a=>a!==null)}}async histogramView1D(e,n){let i,s,a;e.dimension.type==="continuous"?(i=wp(e.dimension.binConfig),s=this.binSQL(e.dimension,e.dimension.binConfig),a=o=>o):(i=Ey(e.dimension.range),s=this.binSQLCategorical(e.dimension,e.dimension.range),a=Zh(e.dimension.range));const c=rr.allocCounts(i),d=n&&n.size>0,f=d?rr.allocCounts(i):c,u=await this.query(`SELECT ${s.select}
       AS binIndex, count(*) AS binCount
       FROM ${this.table} 
       WHERE ${s.where} 
       GROUP BY binIndex`);for(const{binIndex:o,binCount:g}of u)c.set(a(o),g);if(d){const o=[...this.filtersToSQLWhereClauses(n).values()].join(" AND "),g=`SELECT ${s.select}
         AS binIndex, count(*) AS binCount
         FROM ${this.table}
         WHERE ${s.where} AND ${o} 
         GROUP BY binIndex`,y=await this.query(g);for(const{binIndex:m,binCount:l}of y)f.set(m,l)}return{filter:f,noFilter:c}}falconIndexView1D(e,n,i){const s=performance.now(),a=this.filtersToSQLWhereClauses(i),c=new Map;if(e.dimension.type==="continuous"){const d=e.dimension.resolution,f=this.binSQLPixel(e.dimension,e.dimension.binConfig,d),u=d+1,o=[];n.forEach(g=>{const y=this.cubeSlice1DContinuous(g,a,f,u);o.push(y),c.set(g,y)}),Promise.all(o).then(()=>{console.info(`Build index: ${performance.now()-s}ms`)})}else{const d=this.binSQLCategorical(e.dimension,e.dimension.range),f=Ey(e.dimension.range),u=Zh(e.dimension.range),o=[];n.forEach(g=>{const y=this.cubeSlice1DCategorical(g,a,d,u,f);o.push(y),c.set(g,y)}),Promise.all(o).then(()=>{console.info(`Build index: ${performance.now()-s}ms`)})}return c}async cubeSlice1DCategorical(e,n,i,s,a){let c,d;const f=new Map(n);e instanceof Ac||e instanceof ao&&f.delete(e.dimension);const u=[...f.values()].join(" AND ");let o="",g=l=>l;const y=`CASE WHEN ${i.where} 
     THEN ${i.select}
     ELSE -1 END AS "keyActive",
     count(*) AS cnt`;if(e instanceof Ac)d=rr.allocCounts(a),c=rr.allocCounts(1,[1]),o=`SELECT ${y}
         FROM ${this.table} 
         ${u?`WHERE ${u}`:""} 
         GROUP BY "keyActive"`;else if(e instanceof ao){let l,b;if(e.dimension.type==="continuous"){const L=e.dimension.binConfig;b=wp(L),l=this.binSQL(e.dimension,e.dimension.binConfig)}else g=Zh(e.dimension.range),b=Ey(e.dimension.range),l=this.binSQLCategorical(e.dimension,e.dimension.range);d=rr.allocCounts(a*b,[a,b]),c=rr.allocCounts(b,[b]),o=`SELECT ${y}, 
       ${l.select} AS key 
       FROM ${this.table} 
       WHERE ${l.where} ${u?`AND ${u}`:""} 
       GROUP BY "keyActive", key`}else throw Error("no 2d view here");const m=await this.query(o);if(e instanceof Ac)for(const{keyActive:l,cnt:b}of m){const L=s(l);L>=0&&d.set(L,b),c.increment([0],b)}else if(e instanceof ao)for(const{keyActive:l,key:b,cnt:L}of m){const E=s(l),S=g(b);E>=0&&d.set(E,S,L),c.increment([S],L)}else throw Error();return{noFilter:c,filter:d}}async cubeSlice1DContinuous(e,n,i,s){let a,c;const d=new Map(n);e instanceof Ac||e instanceof ao&&d.delete(e.dimension);const f=[...d.values()].join(" AND ");let u,o=m=>m;const g=`CASE
     WHEN ${i.where} 
     THEN ${i.select}
     ELSE -1 END AS "keyActive",
     count(*) AS cnt`;if(e instanceof Ac)c=rr.allocCumulative(s),a=rr.allocCounts(1,[1]),u=`SELECT ${g}
         FROM ${this.table} 
         ${f?`WHERE ${f}`:""} 
         GROUP BY "keyActive"`;else if(e instanceof ao){let m,l;if(e.dimension.type==="continuous"){const b=e.dimension.binConfig;m=this.binSQL(e.dimension,b),l=wp(b)}else m=this.binSQLCategorical(e.dimension,e.dimension.range),l=Ey(e.dimension.range),o=Zh(e.dimension.range);c=rr.allocCumulative(s*l,[s,l]),a=rr.allocCounts(l,[l]),u=`SELECT ${g}, 
       ${m.select} AS key 
       FROM ${this.table} 
       WHERE ${m.where} ${f?`AND ${f}`:""} 
       GROUP BY "keyActive", key`}else throw Error("only 0D and 1D views");const y=await this.query(u);if(e instanceof Ac){for(const{keyActive:m,cnt:l}of y)m>=0&&c.set(m+1,l),a.increment([0],l);c.cumulativeSum()}else if(e instanceof ao){for(const{keyActive:m,key:l,cnt:b}of y){const L=o(l);m>=0&&c.set(m+1,L,b),a.increment([L],b)}for(let m=0;m<c.shape[1];m++)c.slice(null,m).cumulativeSum()}else throw Error("only 0D and 1D views");return{filter:c,noFilter:a}}getASValues(e){return e[Symbol.iterator]().next().value}binSQLCategorical(e,n){const i=this.getName(e),s=`"${i}"`,a=dN(i,n);return{select:s,where:a}}binSQL(e,n){const i=this.getName(e),s=x2e(i,n,this.castBins),a=`${i} BETWEEN ${n.start} AND ${n.stop}`;return{select:s,where:a}}filtersToSQLWhereClauses(e){const n=new Map;for(const[i,s]of e){const a=this.getName(i);let c;i.type==="continuous"?c=`${a} BETWEEN ${s[0]} AND ${s[1]}`:c=dN(a,s),n.set(i,c)}return n}binSQLPixel(e,n,i){const s=i!==void 0?B2e(n,i):n.step,a=n.start;return this.binSQL(e,{...n,start:a,step:s})}}function dN(t,e){let n=`"${t}" in (`;return e.forEach(s=>{s!==null&&(n+=`'${s}', `)}),n+=")",e.findIndex(s=>s===null)!==-1&&(n+=` OR "${t}" IS NULL`),n}const M2e=new TextDecoder("utf-8"),e7=t=>M2e.decode(t),A2e=new TextEncoder,_S=t=>A2e.encode(t),[e$e,O2e]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},typeof BigInt<"u"?[BigInt,!0]:[e,!1]})(),[t_,t$e]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[e,!1]})(),[n_,n$e]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[e,!1]})(),N2e=t=>typeof t=="number",vV=t=>typeof t=="boolean",Qn=t=>typeof t=="function",Vs=t=>t!=null&&Object(t)===t,yu=t=>Vs(t)&&Qn(t.then),i_=t=>Vs(t)&&Qn(t[Symbol.iterator]),N2=t=>Vs(t)&&Qn(t[Symbol.asyncIterator]),t7=t=>Vs(t)&&Vs(t.schema),EV=t=>Vs(t)&&"done"in t&&"value"in t,SV=t=>Vs(t)&&Qn(t.stat)&&N2e(t.fd),xV=t=>Vs(t)&&gS(t.body),pL=t=>"_getDOMStream"in t&&"_getNodeStream"in t,C2e=t=>Vs(t)&&Qn(t.abort)&&Qn(t.getWriter)&&!pL(t),gS=t=>Vs(t)&&Qn(t.cancel)&&Qn(t.getReader)&&!pL(t),R2e=t=>Vs(t)&&Qn(t.end)&&Qn(t.write)&&vV(t.writable)&&!pL(t),BV=t=>Vs(t)&&Qn(t.read)&&Qn(t.pipe)&&vV(t.readable)&&!pL(t),D2e=t=>Vs(t)&&Qn(t.clear)&&Qn(t.bytes)&&Qn(t.position)&&Qn(t.setPosition)&&Qn(t.capacity)&&Qn(t.getBufferIdentifier)&&Qn(t.createLong),yS=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function P2e(t){const e=t[0]?[t[0]]:[];let n,i,s,a;for(let c,d,f=0,u=0,o=t.length;++f<o;){if(c=e[u],d=t[f],!c||!d||c.buffer!==d.buffer||d.byteOffset<c.byteOffset){d&&(e[++u]=d);continue}if({byteOffset:n,byteLength:s}=c,{byteOffset:i,byteLength:a}=d,n+s<i||i+a<n){d&&(e[++u]=d);continue}e[u]=new Uint8Array(c.buffer,n,i-n+a)}return e}function fN(t,e,n=0,i=e.byteLength){const s=t.byteLength,a=new Uint8Array(t.buffer,t.byteOffset,s),c=new Uint8Array(e.buffer,e.byteOffset,Math.min(i,s));return a.set(c,n),t}function Po(t,e){const n=P2e(t),i=n.reduce((o,g)=>o+g.byteLength,0);let s,a,c,d=0,f=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,i);for(const o=n.length;++f<o;){if(s=n[f],a=s.subarray(0,Math.min(s.length,u-d)),u<=d+a.length){a.length<s.length?n[f]=s.subarray(a.length):a.length===s.length&&f++,c?fN(c,a,d):c=a;break}fN(c||(c=new Uint8Array(u)),a,d),d+=a.length}return[c||new Uint8Array(0),n.slice(f),i-(c?c.byteLength:0)]}function pn(t,e){let n=EV(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=_S(n)),n instanceof ArrayBuffer?new t(n):n instanceof yS?new t(n):D2e(n)?pn(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const f0=t=>pn(Int32Array,t),Gt=t=>pn(Uint8Array,t),n7=t=>(t.next(),t);function*$2e(t,e){const n=function*(s){yield s},i=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof yS?n(e):i_(e)?e:n(e);return yield*n7(function*(s){let a=null;do a=s.next(yield pn(t,a));while(!a.done)}(i[Symbol.iterator]())),new t}const U2e=t=>$2e(Uint8Array,t);function IV(t,e){return qn(this,arguments,function*(){if(yu(e))return yield xe(yield xe(yield*Kc(fs(IV(t,yield xe(e))))));const i=function(c){return qn(this,arguments,function*(){yield yield xe(yield xe(c))})},s=function(c){return qn(this,arguments,function*(){yield xe(yield*Kc(fs(n7(function*(d){let f=null;do f=d.next(yield f==null?void 0:f.value);while(!f.done)}(c[Symbol.iterator]())))))})},a=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof yS?i(e):i_(e)?s(e):N2(e)?e:i(e);return yield xe(yield*Kc(fs(n7(function(c){return qn(this,arguments,function*(){let d=null;do d=yield xe(c.next(yield yield xe(pn(t,d))));while(!d.done)})}(a[Symbol.asyncIterator]()))))),yield xe(new t)})}const z2e=t=>IV(Uint8Array,t);function mS(t,e,n){if(t!==0){n=n.slice(0,e+1);for(let i=-1;++i<=e;)n[i]+=t}return n}function H2e(t,e){let n=0;const i=t.length;if(i!==e.length)return!1;if(i>0)do if(t[n]!==e[n])return!1;while(++n<i);return!0}const Ar={fromIterable(t){return Sy(j2e(t))},fromAsyncIterable(t){return Sy(V2e(t))},fromDOMStream(t){return Sy(q2e(t))},fromNodeStream(t){return Sy(W2e(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},Sy=t=>(t.next(),t);function*j2e(t){let e,n=!1,i=[],s,a,c,d=0;function f(){return a==="peek"?Po(i,c)[0]:([s,i,d]=Po(i,c),s)}({cmd:a,size:c}=yield null);const u=U2e(t)[Symbol.iterator]();try{do if({done:e,value:s}=Number.isNaN(c-d)?u.next():u.next(c-d),!e&&s.byteLength>0&&(i.push(s),d+=s.byteLength),e||c<=d)do({cmd:a,size:c}=yield f());while(c<d);while(!e)}catch(o){(n=!0)&&typeof u.throw=="function"&&u.throw(o)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function V2e(t){return qn(this,arguments,function*(){let n,i=!1,s=[],a,c,d,f=0;function u(){return c==="peek"?Po(s,d)[0]:([a,s,f]=Po(s,d),a)}({cmd:c,size:d}=yield yield xe(null));const o=z2e(t)[Symbol.asyncIterator]();try{do if({done:n,value:a}=Number.isNaN(d-f)?yield xe(o.next()):yield xe(o.next(d-f)),!n&&a.byteLength>0&&(s.push(a),f+=a.byteLength),n||d<=f)do({cmd:c,size:d}=yield yield xe(u()));while(d<f);while(!n)}catch(g){(i=!0)&&typeof o.throw=="function"&&(yield xe(o.throw(g)))}finally{i===!1&&typeof o.return=="function"&&(yield xe(o.return(new Uint8Array(0))))}return yield xe(null)})}function q2e(t){return qn(this,arguments,function*(){let n=!1,i=!1,s=[],a,c,d,f=0;function u(){return c==="peek"?Po(s,d)[0]:([a,s,f]=Po(s,d),a)}({cmd:c,size:d}=yield yield xe(null));const o=new G2e(t);try{do if({done:n,value:a}=Number.isNaN(d-f)?yield xe(o.read()):yield xe(o.read(d-f)),!n&&a.byteLength>0&&(s.push(Gt(a)),f+=a.byteLength),n||d<=f)do({cmd:c,size:d}=yield yield xe(u()));while(d<f);while(!n)}catch(g){(i=!0)&&(yield xe(o.cancel(g)))}finally{i===!1?yield xe(o.cancel()):t.locked&&o.releaseLock()}return yield xe(null)})}class G2e{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return ge(this,void 0,void 0,function*(){const{reader:n,source:i}=this;n&&(yield n.cancel(e).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(e){return ge(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Gt(n)),n})}}const P8=(t,e)=>{const n=s=>i([e,s]);let i;return[e,n,new Promise(s=>(i=s)&&t.once(e,n))]};function W2e(t){return qn(this,arguments,function*(){const n=[];let i="error",s=!1,a=null,c,d,f=0,u=[],o;function g(){return c==="peek"?Po(u,d)[0]:([o,u,f]=Po(u,d),o)}if({cmd:c,size:d}=yield yield xe(null),t.isTTY)return yield yield xe(new Uint8Array(0)),yield xe(null);try{n[0]=P8(t,"end"),n[1]=P8(t,"error");do{if(n[2]=P8(t,"readable"),[i,a]=yield xe(Promise.race(n.map(m=>m[2]))),i==="error")break;if((s=i==="end")||(Number.isFinite(d-f)?(o=Gt(t.read(d-f)),o.byteLength<d-f&&(o=Gt(t.read()))):o=Gt(t.read()),o.byteLength>0&&(u.push(o),f+=o.byteLength)),s||d<=f)do({cmd:c,size:d}=yield yield xe(g()));while(d<f)}while(!s)}finally{yield xe(y(n,i==="error"?a:null))}return yield xe(null);function y(m,l){return o=u=null,new Promise((b,L)=>{for(const[E,S]of m)t.off(E,S);try{const E=t.destroy;E&&E.call(t,l),l=void 0}catch(E){l=E||l}finally{l!=null?L(l):b()}})}})}var fr;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(fr||(fr={}));var mr;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(mr||(mr={}));var Cs;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(Cs||(Cs={}));var Ql;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(Ql||(Ql={}));var Yt;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(Yt||(Yt={}));var ud;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(ud||(ud={}));var Qt;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(Qt||(Qt={}));var J;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"})(J||(J={}));var Ll;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(Ll||(Ll={}));const Y2e=void 0;function e3(t){if(t===null)return"null";if(t===Y2e)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof t_||t instanceof n_?`[${[...t].map(e=>e3(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,n)=>typeof n=="bigint"?`${n}`:n)}const X2e=Symbol.for("isArrowBigNum");function Da(t,...e){return e.length===0?Object.setPrototypeOf(pn(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}Da.prototype[X2e]=!0;Da.prototype.toJSON=function(){return`"${Qf(this)}"`};Da.prototype.valueOf=function(){return kV(this)};Da.prototype.toString=function(){return Qf(this)};Da.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return kV(this);case"string":return Qf(this);case"default":return i7(this)}return Qf(this)};function _1(...t){return Da.apply(this,t)}function g1(...t){return Da.apply(this,t)}function t3(...t){return Da.apply(this,t)}Object.setPrototypeOf(_1.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(g1.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(t3.prototype,Object.create(Uint32Array.prototype));Object.assign(_1.prototype,Da.prototype,{constructor:_1,signed:!0,TypedArray:Int32Array,BigIntArray:t_});Object.assign(g1.prototype,Da.prototype,{constructor:g1,signed:!1,TypedArray:Uint32Array,BigIntArray:n_});Object.assign(t3.prototype,Da.prototype,{constructor:t3,signed:!0,TypedArray:Uint32Array,BigIntArray:n_});function kV(t){const{buffer:e,byteOffset:n,length:i,signed:s}=t,a=new n_(e,n,i),c=s&&a[a.length-1]&BigInt(1)<<BigInt(63);let d=BigInt(c?1:0),f=BigInt(0);if(c){for(const u of a)d+=~u*(BigInt(1)<<BigInt(32)*f++);d*=BigInt(-1)}else for(const u of a)d+=u*(BigInt(1)<<BigInt(32)*f++);return d}let Qf,i7;O2e?(i7=t=>t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:$8(t),Qf=t=>t.byteLength===8?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:$8(t)):(Qf=$8,i7=Qf);function $8(t){let e="";const n=new Uint32Array(2);let i=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const s=new Uint32Array((i=new Uint16Array(i).reverse()).buffer);let a=-1;const c=i.length-1;do{for(n[0]=i[a=0];a<c;)i[a++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+i[a];i[a]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,e=`${n[0]}${e}`}while(s[0]||s[1]||s[2]||s[3]);return e??"0"}class wS{static new(e,n){switch(n){case!0:return new _1(e);case!1:return new g1(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case t_:return new _1(e)}return e.byteLength===16?new t3(e):new g1(e)}static signed(e){return new _1(e)}static unsigned(e){return new g1(e)}static decimal(e){return new t3(e)}constructor(e,n){return wS.new(e,n)}}var FV,MV,AV,OV,NV,CV,RV,DV,PV,$V,UV,zV,HV,jV,VV,qV,GV,WV,YV;class tt{static isNull(e){return(e==null?void 0:e.typeId)===J.Null}static isInt(e){return(e==null?void 0:e.typeId)===J.Int}static isFloat(e){return(e==null?void 0:e.typeId)===J.Float}static isBinary(e){return(e==null?void 0:e.typeId)===J.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===J.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===J.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===J.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===J.Date}static isTime(e){return(e==null?void 0:e.typeId)===J.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===J.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===J.Interval}static isList(e){return(e==null?void 0:e.typeId)===J.List}static isStruct(e){return(e==null?void 0:e.typeId)===J.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===J.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===J.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===J.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===J.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===J.Dictionary}static isDenseUnion(e){return tt.isUnion(e)&&e.mode===mr.Dense}static isSparseUnion(e){return tt.isUnion(e)&&e.mode===mr.Sparse}get typeId(){return J.NONE}}FV=Symbol.toStringTag;tt[FV]=(t=>(t.children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType"))(tt.prototype);let hd=class extends tt{toString(){return"Null"}get typeId(){return J.Null}};MV=Symbol.toStringTag;hd[MV]=(t=>t[Symbol.toStringTag]="Null")(hd.prototype);class pd extends tt{constructor(e,n){super(),this.isSigned=e,this.bitWidth=n}get typeId(){return J.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?t_:n_}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}AV=Symbol.toStringTag;pd[AV]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(pd.prototype);class n3 extends pd{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(n3.prototype,"ArrayType",{value:Int32Array});class i3 extends tt{constructor(e){super(),this.precision=e}get typeId(){return J.Float}get ArrayType(){switch(this.precision){case Cs.HALF:return Uint16Array;case Cs.SINGLE:return Float32Array;case Cs.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}OV=Symbol.toStringTag;i3[OV]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(i3.prototype);let ew=class extends tt{constructor(){super()}get typeId(){return J.Binary}toString(){return"Binary"}};NV=Symbol.toStringTag;ew[NV]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(ew.prototype);let tw=class extends tt{constructor(){super()}get typeId(){return J.Utf8}toString(){return"Utf8"}};CV=Symbol.toStringTag;tw[CV]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(tw.prototype);let nw=class extends tt{constructor(){super()}get typeId(){return J.Bool}toString(){return"Bool"}};RV=Symbol.toStringTag;nw[RV]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(nw.prototype);let iw=class extends tt{constructor(e,n,i=128){super(),this.scale=e,this.precision=n,this.bitWidth=i}get typeId(){return J.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};DV=Symbol.toStringTag;iw[DV]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(iw.prototype);class sw extends tt{constructor(e){super(),this.unit=e}get typeId(){return J.Date}toString(){return`Date${(this.unit+1)*32}<${Ql[this.unit]}>`}}PV=Symbol.toStringTag;sw[PV]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(sw.prototype);class s3 extends tt{constructor(e,n){super(),this.unit=e,this.bitWidth=n}get typeId(){return J.Time}toString(){return`Time${this.bitWidth}<${Yt[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return t_}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}$V=Symbol.toStringTag;s3[$V]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(s3.prototype);class rw extends tt{constructor(e,n){super(),this.unit=e,this.timezone=n}get typeId(){return J.Timestamp}toString(){return`Timestamp<${Yt[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}UV=Symbol.toStringTag;rw[UV]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(rw.prototype);class aw extends tt{constructor(e){super(),this.unit=e}get typeId(){return J.Interval}toString(){return`Interval<${ud[this.unit]}>`}}zV=Symbol.toStringTag;aw[zV]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(aw.prototype);let ow=class extends tt{constructor(e){super(),this.children=[e]}get typeId(){return J.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};HV=Symbol.toStringTag;ow[HV]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(ow.prototype);class ls extends tt{constructor(e){super(),this.children=e}get typeId(){return J.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}jV=Symbol.toStringTag;ls[jV]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(ls.prototype);class lw extends tt{constructor(e,n,i){super(),this.mode=e,this.children=i,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((s,a,c)=>(s[a]=c)&&s||s,Object.create(null))}get typeId(){return J.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}VV=Symbol.toStringTag;lw[VV]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(lw.prototype);let cw=class extends tt{constructor(e){super(),this.byteWidth=e}get typeId(){return J.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};qV=Symbol.toStringTag;cw[qV]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(cw.prototype);let dw=class extends tt{constructor(e,n){super(),this.listSize=e,this.children=[n]}get typeId(){return J.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};GV=Symbol.toStringTag;dw[GV]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(dw.prototype);class fw extends tt{constructor(e,n=!1){super(),this.children=[e],this.keysSorted=n}get typeId(){return J.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}WV=Symbol.toStringTag;fw[WV]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(fw.prototype);const K2e=(t=>()=>++t)(-1);class Z1 extends tt{constructor(e,n,i,s){super(),this.indices=n,this.dictionary=e,this.isOrdered=s||!1,this.id=i==null?K2e():typeof i=="number"?i:i.low}get typeId(){return J.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}YV=Symbol.toStringTag;Z1[YV]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(Z1.prototype);function bl(t){const e=t;switch(t.typeId){case J.Decimal:return t.bitWidth/32;case J.Timestamp:return 2;case J.Date:return 1+e.unit;case J.Interval:return 1+e.unit;case J.FixedSizeList:return e.listSize;case J.FixedSizeBinary:return e.byteWidth;default:return 1}}class Dt{visitMany(e,...n){return e.map((i,s)=>this.visit(i,...n.map(a=>a[s])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,n=!0){return Z2e(this,e,n)}getVisitFnByTypeId(e,n=!0){return Hh(this,e,n)}visitNull(e,...n){return null}visitBool(e,...n){return null}visitInt(e,...n){return null}visitFloat(e,...n){return null}visitUtf8(e,...n){return null}visitBinary(e,...n){return null}visitFixedSizeBinary(e,...n){return null}visitDate(e,...n){return null}visitTimestamp(e,...n){return null}visitTime(e,...n){return null}visitDecimal(e,...n){return null}visitList(e,...n){return null}visitStruct(e,...n){return null}visitUnion(e,...n){return null}visitDictionary(e,...n){return null}visitInterval(e,...n){return null}visitFixedSizeList(e,...n){return null}visitMap(e,...n){return null}}function Z2e(t,e,n=!0){return typeof e=="number"?Hh(t,e,n):typeof e=="string"&&e in J?Hh(t,J[e],n):e&&e instanceof tt?Hh(t,uN(e),n):e!=null&&e.type&&e.type instanceof tt?Hh(t,uN(e.type),n):Hh(t,J.NONE,n)}function Hh(t,e,n=!0){let i=null;switch(e){case J.Null:i=t.visitNull;break;case J.Bool:i=t.visitBool;break;case J.Int:i=t.visitInt;break;case J.Int8:i=t.visitInt8||t.visitInt;break;case J.Int16:i=t.visitInt16||t.visitInt;break;case J.Int32:i=t.visitInt32||t.visitInt;break;case J.Int64:i=t.visitInt64||t.visitInt;break;case J.Uint8:i=t.visitUint8||t.visitInt;break;case J.Uint16:i=t.visitUint16||t.visitInt;break;case J.Uint32:i=t.visitUint32||t.visitInt;break;case J.Uint64:i=t.visitUint64||t.visitInt;break;case J.Float:i=t.visitFloat;break;case J.Float16:i=t.visitFloat16||t.visitFloat;break;case J.Float32:i=t.visitFloat32||t.visitFloat;break;case J.Float64:i=t.visitFloat64||t.visitFloat;break;case J.Utf8:i=t.visitUtf8;break;case J.Binary:i=t.visitBinary;break;case J.FixedSizeBinary:i=t.visitFixedSizeBinary;break;case J.Date:i=t.visitDate;break;case J.DateDay:i=t.visitDateDay||t.visitDate;break;case J.DateMillisecond:i=t.visitDateMillisecond||t.visitDate;break;case J.Timestamp:i=t.visitTimestamp;break;case J.TimestampSecond:i=t.visitTimestampSecond||t.visitTimestamp;break;case J.TimestampMillisecond:i=t.visitTimestampMillisecond||t.visitTimestamp;break;case J.TimestampMicrosecond:i=t.visitTimestampMicrosecond||t.visitTimestamp;break;case J.TimestampNanosecond:i=t.visitTimestampNanosecond||t.visitTimestamp;break;case J.Time:i=t.visitTime;break;case J.TimeSecond:i=t.visitTimeSecond||t.visitTime;break;case J.TimeMillisecond:i=t.visitTimeMillisecond||t.visitTime;break;case J.TimeMicrosecond:i=t.visitTimeMicrosecond||t.visitTime;break;case J.TimeNanosecond:i=t.visitTimeNanosecond||t.visitTime;break;case J.Decimal:i=t.visitDecimal;break;case J.List:i=t.visitList;break;case J.Struct:i=t.visitStruct;break;case J.Union:i=t.visitUnion;break;case J.DenseUnion:i=t.visitDenseUnion||t.visitUnion;break;case J.SparseUnion:i=t.visitSparseUnion||t.visitUnion;break;case J.Dictionary:i=t.visitDictionary;break;case J.Interval:i=t.visitInterval;break;case J.IntervalDayTime:i=t.visitIntervalDayTime||t.visitInterval;break;case J.IntervalYearMonth:i=t.visitIntervalYearMonth||t.visitInterval;break;case J.FixedSizeList:i=t.visitFixedSizeList;break;case J.Map:i=t.visitMap;break}if(typeof i=="function")return i;if(!n)return()=>null;throw new Error(`Unrecognized type '${J[e]}'`)}function uN(t){switch(t.typeId){case J.Null:return J.Null;case J.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?J.Int8:J.Uint8;case 16:return n?J.Int16:J.Uint16;case 32:return n?J.Int32:J.Uint32;case 64:return n?J.Int64:J.Uint64}return J.Int}case J.Float:switch(t.precision){case Cs.HALF:return J.Float16;case Cs.SINGLE:return J.Float32;case Cs.DOUBLE:return J.Float64}return J.Float;case J.Binary:return J.Binary;case J.Utf8:return J.Utf8;case J.Bool:return J.Bool;case J.Decimal:return J.Decimal;case J.Time:switch(t.unit){case Yt.SECOND:return J.TimeSecond;case Yt.MILLISECOND:return J.TimeMillisecond;case Yt.MICROSECOND:return J.TimeMicrosecond;case Yt.NANOSECOND:return J.TimeNanosecond}return J.Time;case J.Timestamp:switch(t.unit){case Yt.SECOND:return J.TimestampSecond;case Yt.MILLISECOND:return J.TimestampMillisecond;case Yt.MICROSECOND:return J.TimestampMicrosecond;case Yt.NANOSECOND:return J.TimestampNanosecond}return J.Timestamp;case J.Date:switch(t.unit){case Ql.DAY:return J.DateDay;case Ql.MILLISECOND:return J.DateMillisecond}return J.Date;case J.Interval:switch(t.unit){case ud.DAY_TIME:return J.IntervalDayTime;case ud.YEAR_MONTH:return J.IntervalYearMonth}return J.Interval;case J.Map:return J.Map;case J.List:return J.List;case J.Struct:return J.Struct;case J.Union:switch(t.mode){case mr.Dense:return J.DenseUnion;case mr.Sparse:return J.SparseUnion}return J.Union;case J.FixedSizeBinary:return J.FixedSizeBinary;case J.FixedSizeList:return J.FixedSizeList;case J.Dictionary:return J.Dictionary}throw new Error(`Unrecognized type '${J[t.typeId]}'`)}Dt.prototype.visitInt8=null;Dt.prototype.visitInt16=null;Dt.prototype.visitInt32=null;Dt.prototype.visitInt64=null;Dt.prototype.visitUint8=null;Dt.prototype.visitUint16=null;Dt.prototype.visitUint32=null;Dt.prototype.visitUint64=null;Dt.prototype.visitFloat16=null;Dt.prototype.visitFloat32=null;Dt.prototype.visitFloat64=null;Dt.prototype.visitDateDay=null;Dt.prototype.visitDateMillisecond=null;Dt.prototype.visitTimestampSecond=null;Dt.prototype.visitTimestampMillisecond=null;Dt.prototype.visitTimestampMicrosecond=null;Dt.prototype.visitTimestampNanosecond=null;Dt.prototype.visitTimeSecond=null;Dt.prototype.visitTimeMillisecond=null;Dt.prototype.visitTimeMicrosecond=null;Dt.prototype.visitTimeNanosecond=null;Dt.prototype.visitDenseUnion=null;Dt.prototype.visitSparseUnion=null;Dt.prototype.visitIntervalDayTime=null;Dt.prototype.visitIntervalYearMonth=null;const XV=new Float64Array(1),fh=new Uint32Array(XV.buffer);function KV(t){const e=(t&31744)>>10,n=(t&1023)/1024,i=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return i*(n?Number.NaN:1/0);case 0:return i*(n?6103515625e-14*n:0)}return i*Math.pow(2,e-15)*(1+n)}function J2e(t){if(t!==t)return 32256;XV[0]=t;const e=(fh[1]&2147483648)>>16&65535;let n=fh[1]&2146435072,i=0;return n>=1089470464?fh[0]>0?n=31744:(n=(n&2080374784)>>16,i=(fh[1]&1048575)>>10):n<=1056964608?(i=1048576+(fh[1]&1048575),i=1048576+(i<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,i=(fh[1]&1048575)+512>>10),e|n|i&65535}class pt extends Dt{}function bt(t){return(e,n,i)=>{if(e.setValid(n,i!=null))return t(e,n,i)}}const Q2e=(t,e,n)=>{t[e]=Math.trunc(n/864e5)},LS=(t,e,n)=>{t[e]=Math.trunc(n%4294967296),t[e+1]=Math.trunc(n/4294967296)},e0e=(t,e,n)=>{t[e]=Math.trunc(n*1e3%4294967296),t[e+1]=Math.trunc(n*1e3/4294967296)},t0e=(t,e,n)=>{t[e]=Math.trunc(n*1e6%4294967296),t[e+1]=Math.trunc(n*1e6/4294967296)},ZV=(t,e,n,i)=>{if(n+1<e.length){const{[n]:s,[n+1]:a}=e;t.set(i.subarray(0,a-s),s)}},n0e=({offset:t,values:e},n,i)=>{const s=t+n;i?e[s>>3]|=1<<s%8:e[s>>3]&=~(1<<s%8)},oc=({values:t},e,n)=>{t[e]=n},bS=({values:t},e,n)=>{t[e]=n},JV=({values:t},e,n)=>{t[e]=J2e(n)},i0e=(t,e,n)=>{switch(t.type.precision){case Cs.HALF:return JV(t,e,n);case Cs.SINGLE:case Cs.DOUBLE:return bS(t,e,n)}},QV=({values:t},e,n)=>{Q2e(t,e,n.valueOf())},eq=({values:t},e,n)=>{LS(t,e*2,n.valueOf())},s0e=({stride:t,values:e},n,i)=>{e.set(i.subarray(0,t),t*n)},r0e=({values:t,valueOffsets:e},n,i)=>ZV(t,e,n,i),a0e=({values:t,valueOffsets:e},n,i)=>{ZV(t,e,n,_S(i))},o0e=(t,e,n)=>{t.type.unit===Ql.DAY?QV(t,e,n):eq(t,e,n)},tq=({values:t},e,n)=>LS(t,e*2,n/1e3),nq=({values:t},e,n)=>LS(t,e*2,n),iq=({values:t},e,n)=>e0e(t,e*2,n),sq=({values:t},e,n)=>t0e(t,e*2,n),l0e=(t,e,n)=>{switch(t.type.unit){case Yt.SECOND:return tq(t,e,n);case Yt.MILLISECOND:return nq(t,e,n);case Yt.MICROSECOND:return iq(t,e,n);case Yt.NANOSECOND:return sq(t,e,n)}},rq=({values:t},e,n)=>{t[e]=n},aq=({values:t},e,n)=>{t[e]=n},oq=({values:t},e,n)=>{t[e]=n},lq=({values:t},e,n)=>{t[e]=n},c0e=(t,e,n)=>{switch(t.type.unit){case Yt.SECOND:return rq(t,e,n);case Yt.MILLISECOND:return aq(t,e,n);case Yt.MICROSECOND:return oq(t,e,n);case Yt.NANOSECOND:return lq(t,e,n)}},d0e=({values:t,stride:e},n,i)=>{t.set(i.subarray(0,e),e*n)},f0e=(t,e,n)=>{const i=t.children[0],s=t.valueOffsets,a=Yr.getVisitFn(i);if(Array.isArray(n))for(let c=-1,d=s[e],f=s[e+1];d<f;)a(i,d++,n[++c]);else for(let c=-1,d=s[e],f=s[e+1];d<f;)a(i,d++,n.get(++c))},u0e=(t,e,n)=>{const i=t.children[0],{valueOffsets:s}=t,a=Yr.getVisitFn(i);let{[e]:c,[e+1]:d}=s;const f=n instanceof Map?n.entries():Object.entries(n);for(const u of f)if(a(i,c,u),++c>=d)break},h0e=(t,e)=>(n,i,s,a)=>i&&n(i,t,e[a]),p0e=(t,e)=>(n,i,s,a)=>i&&n(i,t,e.get(a)),_0e=(t,e)=>(n,i,s,a)=>i&&n(i,t,e.get(s.name)),g0e=(t,e)=>(n,i,s,a)=>i&&n(i,t,e[s.name]),y0e=(t,e,n)=>{const i=t.type.children.map(a=>Yr.getVisitFn(a.type)),s=n instanceof Map?_0e(e,n):n instanceof en?p0e(e,n):Array.isArray(n)?h0e(e,n):g0e(e,n);t.type.children.forEach((a,c)=>s(i[c],t.children[c],a,c))},m0e=(t,e,n)=>{t.type.mode===mr.Dense?cq(t,e,n):dq(t,e,n)},cq=(t,e,n)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],s=t.children[i];Yr.visit(s,t.valueOffsets[e],n)},dq=(t,e,n)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],s=t.children[i];Yr.visit(s,e,n)},w0e=(t,e,n)=>{var i;(i=t.dictionary)===null||i===void 0||i.set(t.values[e],n)},L0e=(t,e,n)=>{t.type.unit===ud.DAY_TIME?fq(t,e,n):uq(t,e,n)},fq=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},uq=({values:t},e,n)=>{t[e]=n[0]*12+n[1]%12},b0e=(t,e,n)=>{const{stride:i}=t,s=t.children[0],a=Yr.getVisitFn(s);if(Array.isArray(n))for(let c=-1,d=e*i;++c<i;)a(s,d+c,n[c]);else for(let c=-1,d=e*i;++c<i;)a(s,d+c,n.get(c))};pt.prototype.visitBool=bt(n0e);pt.prototype.visitInt=bt(oc);pt.prototype.visitInt8=bt(oc);pt.prototype.visitInt16=bt(oc);pt.prototype.visitInt32=bt(oc);pt.prototype.visitInt64=bt(oc);pt.prototype.visitUint8=bt(oc);pt.prototype.visitUint16=bt(oc);pt.prototype.visitUint32=bt(oc);pt.prototype.visitUint64=bt(oc);pt.prototype.visitFloat=bt(i0e);pt.prototype.visitFloat16=bt(JV);pt.prototype.visitFloat32=bt(bS);pt.prototype.visitFloat64=bt(bS);pt.prototype.visitUtf8=bt(a0e);pt.prototype.visitBinary=bt(r0e);pt.prototype.visitFixedSizeBinary=bt(s0e);pt.prototype.visitDate=bt(o0e);pt.prototype.visitDateDay=bt(QV);pt.prototype.visitDateMillisecond=bt(eq);pt.prototype.visitTimestamp=bt(l0e);pt.prototype.visitTimestampSecond=bt(tq);pt.prototype.visitTimestampMillisecond=bt(nq);pt.prototype.visitTimestampMicrosecond=bt(iq);pt.prototype.visitTimestampNanosecond=bt(sq);pt.prototype.visitTime=bt(c0e);pt.prototype.visitTimeSecond=bt(rq);pt.prototype.visitTimeMillisecond=bt(aq);pt.prototype.visitTimeMicrosecond=bt(oq);pt.prototype.visitTimeNanosecond=bt(lq);pt.prototype.visitDecimal=bt(d0e);pt.prototype.visitList=bt(f0e);pt.prototype.visitStruct=bt(y0e);pt.prototype.visitUnion=bt(m0e);pt.prototype.visitDenseUnion=bt(cq);pt.prototype.visitSparseUnion=bt(dq);pt.prototype.visitDictionary=bt(w0e);pt.prototype.visitInterval=bt(L0e);pt.prototype.visitIntervalDayTime=bt(fq);pt.prototype.visitIntervalYearMonth=bt(uq);pt.prototype.visitFixedSizeList=bt(b0e);pt.prototype.visitMap=bt(u0e);const Yr=new pt,la=Symbol.for("parent"),y1=Symbol.for("rowIndex");class TS{constructor(e,n){return this[la]=e,this[y1]=n,new Proxy(this,new v0e)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[y1],n=this[la],i=n.type.children,s={};for(let a=-1,c=i.length;++a<c;)s[i[a].name]=qs.visit(n.children[a],e);return s}toString(){return`{${[...this].map(([e,n])=>`${e3(e)}: ${e3(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new T0e(this[la],this[y1])}}class T0e{constructor(e,n){this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,qs.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(TS.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[la]:{writable:!0,enumerable:!1,configurable:!1,value:null},[y1]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class v0e{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[la].type.children.map(n=>n.name)}has(e,n){return e[la].type.children.findIndex(i=>i.name===n)!==-1}getOwnPropertyDescriptor(e,n){if(e[la].type.children.findIndex(i=>i.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const i=e[la].type.children.findIndex(s=>s.name===n);if(i!==-1){const s=qs.visit(e[la].children[i],e[y1]);return Reflect.set(e,n,s),s}}set(e,n,i){const s=e[la].type.children.findIndex(a=>a.name===n);return s!==-1?(Yr.visit(e[la].children[s],e[y1],i),Reflect.set(e,n,i)):Reflect.has(e,n)||typeof n=="symbol"?Reflect.set(e,n,i):!1}}class at extends Dt{}function _t(t){return(e,n)=>e.getValid(n)?t(e,n):null}const E0e=(t,e)=>864e5*t[e],vS=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),S0e=(t,e)=>4294967296*(t[e+1]/1e3)+(t[e]>>>0)/1e3,x0e=(t,e)=>4294967296*(t[e+1]/1e6)+(t[e]>>>0)/1e6,hq=t=>new Date(t),B0e=(t,e)=>hq(E0e(t,e)),I0e=(t,e)=>hq(vS(t,e)),k0e=(t,e)=>null,pq=(t,e,n)=>{if(n+1>=e.length)return null;const i=e[n],s=e[n+1];return t.subarray(i,s)},F0e=({offset:t,values:e},n)=>{const i=t+n;return(e[i>>3]&1<<i%8)!==0},_q=({values:t},e)=>B0e(t,e),gq=({values:t},e)=>I0e(t,e*2),Ud=({stride:t,values:e},n)=>e[t*n],M0e=({stride:t,values:e},n)=>KV(e[t*n]),yq=({values:t},e)=>t[e],A0e=({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)),O0e=({values:t,valueOffsets:e},n)=>pq(t,e,n),N0e=({values:t,valueOffsets:e},n)=>{const i=pq(t,e,n);return i!==null?e7(i):null},C0e=({values:t},e)=>t[e],R0e=({type:t,values:e},n)=>t.precision!==Cs.HALF?e[n]:KV(e[n]),D0e=(t,e)=>t.type.unit===Ql.DAY?_q(t,e):gq(t,e),mq=({values:t},e)=>1e3*vS(t,e*2),wq=({values:t},e)=>vS(t,e*2),Lq=({values:t},e)=>S0e(t,e*2),bq=({values:t},e)=>x0e(t,e*2),P0e=(t,e)=>{switch(t.type.unit){case Yt.SECOND:return mq(t,e);case Yt.MILLISECOND:return wq(t,e);case Yt.MICROSECOND:return Lq(t,e);case Yt.NANOSECOND:return bq(t,e)}},Tq=({values:t},e)=>t[e],vq=({values:t},e)=>t[e],Eq=({values:t},e)=>t[e],Sq=({values:t},e)=>t[e],$0e=(t,e)=>{switch(t.type.unit){case Yt.SECOND:return Tq(t,e);case Yt.MILLISECOND:return vq(t,e);case Yt.MICROSECOND:return Eq(t,e);case Yt.NANOSECOND:return Sq(t,e)}},U0e=({values:t,stride:e},n)=>wS.decimal(t.subarray(e*n,e*(n+1))),z0e=(t,e)=>{const{valueOffsets:n,stride:i,children:s}=t,{[e*i]:a,[e*i+1]:c}=n,f=s[0].slice(a,c-a);return new en([f])},H0e=(t,e)=>{const{valueOffsets:n,children:i}=t,{[e]:s,[e+1]:a}=n,c=i[0];return new ES(c.slice(s,a-s))},j0e=(t,e)=>new TS(t,e),V0e=(t,e)=>t.type.mode===mr.Dense?xq(t,e):Bq(t,e),xq=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];return qs.visit(i,t.valueOffsets[e])},Bq=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];return qs.visit(i,e)},q0e=(t,e)=>{var n;return(n=t.dictionary)===null||n===void 0?void 0:n.get(t.values[e])},G0e=(t,e)=>t.type.unit===ud.DAY_TIME?Iq(t,e):kq(t,e),Iq=({values:t},e)=>t.subarray(2*e,2*(e+1)),kq=({values:t},e)=>{const n=t[e],i=new Int32Array(2);return i[0]=Math.trunc(n/12),i[1]=Math.trunc(n%12),i},W0e=(t,e)=>{const{stride:n,children:i}=t,a=i[0].slice(e*n,n);return new en([a])};at.prototype.visitNull=_t(k0e);at.prototype.visitBool=_t(F0e);at.prototype.visitInt=_t(C0e);at.prototype.visitInt8=_t(Ud);at.prototype.visitInt16=_t(Ud);at.prototype.visitInt32=_t(Ud);at.prototype.visitInt64=_t(yq);at.prototype.visitUint8=_t(Ud);at.prototype.visitUint16=_t(Ud);at.prototype.visitUint32=_t(Ud);at.prototype.visitUint64=_t(yq);at.prototype.visitFloat=_t(R0e);at.prototype.visitFloat16=_t(M0e);at.prototype.visitFloat32=_t(Ud);at.prototype.visitFloat64=_t(Ud);at.prototype.visitUtf8=_t(N0e);at.prototype.visitBinary=_t(O0e);at.prototype.visitFixedSizeBinary=_t(A0e);at.prototype.visitDate=_t(D0e);at.prototype.visitDateDay=_t(_q);at.prototype.visitDateMillisecond=_t(gq);at.prototype.visitTimestamp=_t(P0e);at.prototype.visitTimestampSecond=_t(mq);at.prototype.visitTimestampMillisecond=_t(wq);at.prototype.visitTimestampMicrosecond=_t(Lq);at.prototype.visitTimestampNanosecond=_t(bq);at.prototype.visitTime=_t($0e);at.prototype.visitTimeSecond=_t(Tq);at.prototype.visitTimeMillisecond=_t(vq);at.prototype.visitTimeMicrosecond=_t(Eq);at.prototype.visitTimeNanosecond=_t(Sq);at.prototype.visitDecimal=_t(U0e);at.prototype.visitList=_t(z0e);at.prototype.visitStruct=_t(j0e);at.prototype.visitUnion=_t(V0e);at.prototype.visitDenseUnion=_t(xq);at.prototype.visitSparseUnion=_t(Bq);at.prototype.visitDictionary=_t(q0e);at.prototype.visitInterval=_t(G0e);at.prototype.visitIntervalDayTime=_t(Iq);at.prototype.visitIntervalYearMonth=_t(kq);at.prototype.visitFixedSizeList=_t(W0e);at.prototype.visitMap=_t(H0e);const qs=new at,uo=Symbol.for("keys"),m1=Symbol.for("vals");class ES{constructor(e){return this[uo]=new en([e.children[0]]).memoize(),this[m1]=e.children[1],new Proxy(this,new X0e)}[Symbol.iterator](){return new Y0e(this[uo],this[m1])}get size(){return this[uo].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[uo],n=this[m1],i={};for(let s=-1,a=e.length;++s<a;)i[e.get(s)]=qs.visit(n,s);return i}toString(){return`{${[...this].map(([e,n])=>`${e3(e)}: ${e3(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Y0e{constructor(e,n){this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),qs.visit(this.vals,e)]})}}class X0e{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[uo].toArray().map(String)}has(e,n){return e[uo].includes(n)}getOwnPropertyDescriptor(e,n){if(e[uo].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const i=e[uo].indexOf(n);if(i!==-1){const s=qs.visit(Reflect.get(e,m1),i);return Reflect.set(e,n,s),s}}set(e,n,i){const s=e[uo].indexOf(n);return s!==-1?(Yr.visit(Reflect.get(e,m1),s,i),Reflect.set(e,n,i)):Reflect.has(e,n)?Reflect.set(e,n,i):!1}}Object.defineProperties(ES.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[uo]:{writable:!0,enumerable:!1,configurable:!1,value:null},[m1]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let hN;function Fq(t,e,n,i){const{length:s=0}=t;let a=typeof e!="number"?0:e,c=typeof n!="number"?s:n;return a<0&&(a=(a%s+s)%s),c<0&&(c=(c%s+s)%s),c<a&&(hN=a,a=c,c=hN),c>s&&(c=s),i?i(t,a,c):[a,c]}const pN=t=>t!==t;function C2(t){if(typeof t!=="object"||t===null)return pN(t)?pN:n=>n===t;if(t instanceof Date){const n=t.valueOf();return i=>i instanceof Date?i.valueOf()===n:!1}return ArrayBuffer.isView(t)?n=>n?H2e(t,n):!1:t instanceof Map?Z0e(t):Array.isArray(t)?K0e(t):t instanceof en?J0e(t):Q0e(t,!0)}function K0e(t){const e=[];for(let n=-1,i=t.length;++n<i;)e[n]=C2(t[n]);return _L(e)}function Z0e(t){let e=-1;const n=[];for(const i of t.values())n[++e]=C2(i);return _L(n)}function J0e(t){const e=[];for(let n=-1,i=t.length;++n<i;)e[n]=C2(t.get(n));return _L(e)}function Q0e(t,e=!1){const n=Object.keys(t);if(!e&&n.length===0)return()=>!1;const i=[];for(let s=-1,a=n.length;++s<a;)i[s]=C2(t[n[s]]);return _L(i,n)}function _L(t,e){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return epe(t,n);case Map:return _N(t,n,n.keys());case ES:case TS:case Object:case void 0:return _N(t,n,e||Object.keys(n))}return n instanceof en?tpe(t,n):!1}}function epe(t,e){const n=t.length;if(e.length!==n)return!1;for(let i=-1;++i<n;)if(!t[i](e[i]))return!1;return!0}function tpe(t,e){const n=t.length;if(e.length!==n)return!1;for(let i=-1;++i<n;)if(!t[i](e.get(i)))return!1;return!0}function _N(t,e,n){const i=n[Symbol.iterator](),s=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),a=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let c=0;const d=t.length;let f=a.next(),u=i.next(),o=s.next();for(;c<d&&!u.done&&!o.done&&!f.done&&!(u.value!==o.value||!t[c](f.value));++c,u=i.next(),o=s.next(),f=a.next());return c===d&&u.done&&o.done&&f.done?!0:(i.return&&i.return(),s.return&&s.return(),a.return&&a.return(),!1)}function Mq(t,e,n,i){return(n&1<<i)!==0}function npe(t,e,n,i){return(n&1<<i)>>i}function SS(t,e,n){const i=n.byteLength+7&-8;if(t>0||n.byteLength<i){const s=new Uint8Array(i);return s.set(t%8===0?n.subarray(t>>3):uw(new xS(n,t,e,null,Mq)).subarray(0,i)),s}return n}function uw(t){const e=[];let n=0,i=0,s=0;for(const c of t)c&&(s|=1<<i),++i===8&&(e[n++]=s,s=i=0);(n===0||i>0)&&(e[n++]=s);const a=new Uint8Array(e.length+7&-8);return a.set(e),a}class xS{constructor(e,n,i,s,a){this.bytes=e,this.length=i,this.context=s,this.get=a,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function s7(t,e,n){if(n-e<=0)return 0;if(n-e<8){let a=0;for(const c of new xS(t,e,n-e,t,npe))a+=c;return a}const i=n>>3<<3,s=e+(e%8===0?0:8-e%8);return s7(t,e,s)+s7(t,i,n)+ipe(t,s>>3,i-s>>3)}function ipe(t,e,n){let i=0,s=Math.trunc(e);const a=new DataView(t.buffer,t.byteOffset,t.byteLength),c=n===void 0?t.byteLength:s+n;for(;c-s>=4;)i+=U8(a.getUint32(s)),s+=4;for(;c-s>=2;)i+=U8(a.getUint16(s)),s+=2;for(;c-s>=1;)i+=U8(a.getUint8(s)),s+=1;return i}function U8(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const spe=-1;class mn{constructor(e,n,i,s,a,c=[],d){this.type=e,this.children=c,this.dictionary=d,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(s||0,-1));let f;a instanceof mn?(this.stride=a.stride,this.values=a.values,this.typeIds=a.typeIds,this.nullBitmap=a.nullBitmap,this.valueOffsets=a.valueOffsets):(this.stride=bl(e),a&&((f=a[0])&&(this.valueOffsets=f),(f=a[1])&&(this.values=f),(f=a[2])&&(this.nullBitmap=f),(f=a[3])&&(this.typeIds=f))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0;const{valueOffsets:n,values:i,nullBitmap:s,typeIds:a}=this;return n&&(e+=n.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),a&&(e+=a.byteLength),this.children.reduce((c,d)=>c+d.byteLength,e)}get nullCount(){let e=this._nullCount,n;return e<=spe&&(n=this.nullBitmap)&&(this._nullCount=e=this.length-s7(n,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){const n=this.offset+e;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(e,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){const{nullBitmap:f}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:f,_nullCount:0})}const{nullBitmap:i,offset:s}=this,a=s+e>>3,c=(s+e)%8,d=i[a]>>c&1;return n?d===0&&(i[a]|=1<<c,this._nullCount=this.nullCount+1):d===1&&(i[a]&=~(1<<c),this._nullCount=this.nullCount-1),n}clone(e=this.type,n=this.offset,i=this.length,s=this._nullCount,a=this,c=this.children){return new mn(e,n,i,s,a,c,this.dictionary)}slice(e,n){const{stride:i,typeId:s,children:a}=this,c=+(this._nullCount===0)-1,d=s===16?i:1,f=this._sliceBuffers(e,n,i,s);return this.clone(this.type,this.offset+e,n,c,f,a.length===0||this.valueOffsets?a:this._sliceChildren(a,d*e,d*n))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===J.Null)return this.clone(this.type,0,e,0);const{length:n,nullCount:i}=this,s=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);s[n>>3]=(1<<n-(n&-8))-1,i>0&&s.set(SS(this.offset,n,this.nullBitmap),0);const a=this.buffers;return a[Ll.VALIDITY]=s,this.clone(this.type,0,e,i+(e-n),a)}_sliceBuffers(e,n,i,s){let a;const{buffers:c}=this;return(a=c[Ll.TYPE])&&(c[Ll.TYPE]=a.subarray(e,e+n)),(a=c[Ll.OFFSET])&&(c[Ll.OFFSET]=a.subarray(e,e+n+1))||(a=c[Ll.DATA])&&(c[Ll.DATA]=s===6?a:a.subarray(i*e,i*(e+n))),c}_sliceChildren(e,n,i){return e.map(s=>s.slice(n,i))}}mn.prototype.children=Object.freeze([]);class Lp extends Dt{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:n,["offset"]:i=0,["length"]:s=0}=e;return new mn(n,i,s,0)}visitBool(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.nullBitmap),a=pn(n.ArrayType,e.data),{["length"]:c=a.length>>3,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,a,s])}visitInt(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.nullBitmap),a=pn(n.ArrayType,e.data),{["length"]:c=a.length,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,a,s])}visitFloat(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.nullBitmap),a=pn(n.ArrayType,e.data),{["length"]:c=a.length,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,a,s])}visitUtf8(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.data),a=Gt(e.nullBitmap),c=f0(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new mn(n,i,d,f,[c,s,a])}visitBinary(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.data),a=Gt(e.nullBitmap),c=f0(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new mn(n,i,d,f,[c,s,a])}visitFixedSizeBinary(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.nullBitmap),a=pn(n.ArrayType,e.data),{["length"]:c=a.length/bl(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,a,s])}visitDate(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.nullBitmap),a=pn(n.ArrayType,e.data),{["length"]:c=a.length/bl(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,a,s])}visitTimestamp(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.nullBitmap),a=pn(n.ArrayType,e.data),{["length"]:c=a.length/bl(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,a,s])}visitTime(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.nullBitmap),a=pn(n.ArrayType,e.data),{["length"]:c=a.length/bl(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,a,s])}visitDecimal(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.nullBitmap),a=pn(n.ArrayType,e.data),{["length"]:c=a.length/bl(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,a,s])}visitList(e){const{["type"]:n,["offset"]:i=0,["child"]:s}=e,a=Gt(e.nullBitmap),c=f0(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new mn(n,i,d,f,[c,void 0,a],[s])}visitStruct(e){const{["type"]:n,["offset"]:i=0,["children"]:s=[]}=e,a=Gt(e.nullBitmap),{length:c=s.reduce((f,{length:u})=>Math.max(f,u),0),nullCount:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,void 0,a],s)}visitUnion(e){const{["type"]:n,["offset"]:i=0,["children"]:s=[]}=e,a=Gt(e.nullBitmap),c=pn(n.ArrayType,e.typeIds),{["length"]:d=c.length,["nullCount"]:f=e.nullBitmap?-1:0}=e;if(tt.isSparseUnion(n))return new mn(n,i,d,f,[void 0,void 0,a,c],s);const u=f0(e.valueOffsets);return new mn(n,i,d,f,[u,void 0,a,c],s)}visitDictionary(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.nullBitmap),a=pn(n.indices.ArrayType,e.data),{["dictionary"]:c=new en([new Lp().visit({type:n.dictionary})])}=e,{["length"]:d=a.length,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new mn(n,i,d,f,[void 0,a,s],[],c)}visitInterval(e){const{["type"]:n,["offset"]:i=0}=e,s=Gt(e.nullBitmap),a=pn(n.ArrayType,e.data),{["length"]:c=a.length/bl(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,a,s])}visitFixedSizeList(e){const{["type"]:n,["offset"]:i=0,["child"]:s=new Lp().visit({type:n.valueType})}=e,a=Gt(e.nullBitmap),{["length"]:c=s.length/bl(n),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new mn(n,i,c,d,[void 0,void 0,a],[s])}visitMap(e){const{["type"]:n,["offset"]:i=0,["child"]:s=new Lp().visit({type:n.childType})}=e,a=Gt(e.nullBitmap),c=f0(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new mn(n,i,d,f,[c,void 0,a],[s])}}function Ot(t){return new Lp().visit(t)}class gN{constructor(e=0,n){this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Aq(t){return t.reduce((e,n)=>e+n.nullCount,0)}function Oq(t){return t.reduce((e,n,i)=>(e[i+1]=e[i]+n.length,e),new Uint32Array(t.length+1))}function Nq(t,e,n,i){const s=[];for(let a=-1,c=t.length;++a<c;){const d=t[a],f=e[a],{length:u}=d;if(f>=i)break;if(n>=f+u)continue;if(f>=n&&f+u<=i){s.push(d);continue}const o=Math.max(0,n-f),g=Math.min(i-f,u);s.push(d.slice(o,g-o))}return s.length===0&&s.push(t[0].slice(0,0)),s}function BS(t,e,n,i){let s=0,a=0,c=e.length-1;do{if(s>=c-1)return n<e[c]?i(t,s,n-e[s]):null;a=s+Math.trunc((c-s)*.5),n<e[a]?c=a:s=a}while(s<c)}function IS(t,e){return t.getValid(e)}function w1(t){function e(n,i,s){return t(n[i],s)}return function(n){const i=this.data;return BS(i,this._offsets,n,e)}}function Cq(t){let e;function n(i,s,a){return t(i[s],a,e)}return function(i,s){const a=this.data;e=s;const c=BS(a,this._offsets,i,n);return e=void 0,c}}function Rq(t){let e;function n(i,s,a){let c=a,d=0,f=0;for(let u=s-1,o=i.length;++u<o;){const g=i[u];if(~(d=t(g,e,c)))return f+d;c=0,f+=g.length}return-1}return function(i,s){e=i;const a=this.data,c=typeof s!="number"?n(a,0,0):BS(a,this._offsets,s,n);return e=void 0,c}}class ot extends Dt{}function rpe(t,e){return e===null&&t.length>0?0:-1}function ape(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let i=0;for(const s of new xS(n,t.offset+(e||0),t.length,n,Mq)){if(!s)return i;++i}return-1}function Et(t,e,n){if(e===void 0)return-1;if(e===null)return ape(t,n);const i=qs.getVisitFn(t),s=C2(e);for(let a=(n||0)-1,c=t.length;++a<c;)if(s(i(t,a)))return a;return-1}function Dq(t,e,n){const i=qs.getVisitFn(t),s=C2(e);for(let a=(n||0)-1,c=t.length;++a<c;)if(s(i(t,a)))return a;return-1}ot.prototype.visitNull=rpe;ot.prototype.visitBool=Et;ot.prototype.visitInt=Et;ot.prototype.visitInt8=Et;ot.prototype.visitInt16=Et;ot.prototype.visitInt32=Et;ot.prototype.visitInt64=Et;ot.prototype.visitUint8=Et;ot.prototype.visitUint16=Et;ot.prototype.visitUint32=Et;ot.prototype.visitUint64=Et;ot.prototype.visitFloat=Et;ot.prototype.visitFloat16=Et;ot.prototype.visitFloat32=Et;ot.prototype.visitFloat64=Et;ot.prototype.visitUtf8=Et;ot.prototype.visitBinary=Et;ot.prototype.visitFixedSizeBinary=Et;ot.prototype.visitDate=Et;ot.prototype.visitDateDay=Et;ot.prototype.visitDateMillisecond=Et;ot.prototype.visitTimestamp=Et;ot.prototype.visitTimestampSecond=Et;ot.prototype.visitTimestampMillisecond=Et;ot.prototype.visitTimestampMicrosecond=Et;ot.prototype.visitTimestampNanosecond=Et;ot.prototype.visitTime=Et;ot.prototype.visitTimeSecond=Et;ot.prototype.visitTimeMillisecond=Et;ot.prototype.visitTimeMicrosecond=Et;ot.prototype.visitTimeNanosecond=Et;ot.prototype.visitDecimal=Et;ot.prototype.visitList=Et;ot.prototype.visitStruct=Et;ot.prototype.visitUnion=Et;ot.prototype.visitDenseUnion=Dq;ot.prototype.visitSparseUnion=Dq;ot.prototype.visitDictionary=Et;ot.prototype.visitInterval=Et;ot.prototype.visitIntervalDayTime=Et;ot.prototype.visitIntervalYearMonth=Et;ot.prototype.visitFixedSizeList=Et;ot.prototype.visitMap=Et;const hw=new ot;class lt extends Dt{}function gt(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(e.typeId===J.Timestamp||e instanceof pd&&e.bitWidth!==64||e instanceof s3&&e.bitWidth!==64||e instanceof i3&&e.precision!==Cs.HALF))return new gN(t.data.length,i=>{const s=t.data[i];return s.values.subarray(0,s.length)[Symbol.iterator]()});let n=0;return new gN(t.data.length,i=>{const a=t.data[i].length,c=t.slice(n,n+a);return n+=a,new ope(c)})}class ope{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}lt.prototype.visitNull=gt;lt.prototype.visitBool=gt;lt.prototype.visitInt=gt;lt.prototype.visitInt8=gt;lt.prototype.visitInt16=gt;lt.prototype.visitInt32=gt;lt.prototype.visitInt64=gt;lt.prototype.visitUint8=gt;lt.prototype.visitUint16=gt;lt.prototype.visitUint32=gt;lt.prototype.visitUint64=gt;lt.prototype.visitFloat=gt;lt.prototype.visitFloat16=gt;lt.prototype.visitFloat32=gt;lt.prototype.visitFloat64=gt;lt.prototype.visitUtf8=gt;lt.prototype.visitBinary=gt;lt.prototype.visitFixedSizeBinary=gt;lt.prototype.visitDate=gt;lt.prototype.visitDateDay=gt;lt.prototype.visitDateMillisecond=gt;lt.prototype.visitTimestamp=gt;lt.prototype.visitTimestampSecond=gt;lt.prototype.visitTimestampMillisecond=gt;lt.prototype.visitTimestampMicrosecond=gt;lt.prototype.visitTimestampNanosecond=gt;lt.prototype.visitTime=gt;lt.prototype.visitTimeSecond=gt;lt.prototype.visitTimeMillisecond=gt;lt.prototype.visitTimeMicrosecond=gt;lt.prototype.visitTimeNanosecond=gt;lt.prototype.visitDecimal=gt;lt.prototype.visitList=gt;lt.prototype.visitStruct=gt;lt.prototype.visitUnion=gt;lt.prototype.visitDenseUnion=gt;lt.prototype.visitSparseUnion=gt;lt.prototype.visitDictionary=gt;lt.prototype.visitInterval=gt;lt.prototype.visitIntervalDayTime=gt;lt.prototype.visitIntervalYearMonth=gt;lt.prototype.visitFixedSizeList=gt;lt.prototype.visitMap=gt;const kS=new lt,lpe=(t,e)=>t+e;class zd extends Dt{visitNull(e,n){return 0}visitInt(e,n){return e.type.bitWidth/8}visitFloat(e,n){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,n){return 1/8}visitDecimal(e,n){return e.type.bitWidth/8}visitDate(e,n){return(e.type.unit+1)*4}visitTime(e,n){return e.type.bitWidth/8}visitTimestamp(e,n){return e.type.unit===Yt.SECOND?4:8}visitInterval(e,n){return(e.type.unit+1)*4}visitStruct(e,n){return e.children.reduce((i,s)=>i+$o.visit(s,n),0)}visitFixedSizeBinary(e,n){return e.type.byteWidth}visitMap(e,n){return 8+e.children.reduce((i,s)=>i+$o.visit(s,n),0)}visitDictionary(e,n){var i;return e.type.indices.bitWidth/8+(((i=e.dictionary)===null||i===void 0?void 0:i.getByteLength(e.values[n]))||0)}}const cpe=({valueOffsets:t},e)=>8+(t[e+1]-t[e]),dpe=({valueOffsets:t},e)=>8+(t[e+1]-t[e]),fpe=({valueOffsets:t,stride:e,children:n},i)=>{const s=n[0],{[i*e]:a}=t,{[i*e+1]:c}=t,d=$o.getVisitFn(s.type),f=s.slice(a,c-a);let u=8;for(let o=-1,g=c-a;++o<g;)u+=d(f,o);return u},upe=({stride:t,children:e},n)=>{const i=e[0],s=i.slice(n*t,t),a=$o.getVisitFn(i.type);let c=0;for(let d=-1,f=s.length;++d<f;)c+=a(s,d);return c},hpe=(t,e)=>t.type.mode===mr.Dense?Pq(t,e):$q(t,e),Pq=({type:t,children:e,typeIds:n,valueOffsets:i},s)=>{const a=t.typeIdToChildIndex[n[s]];return 8+$o.visit(e[a],i[s])},$q=({children:t},e)=>4+$o.visitMany(t,t.map(()=>e)).reduce(lpe,0);zd.prototype.visitUtf8=cpe;zd.prototype.visitBinary=dpe;zd.prototype.visitList=fpe;zd.prototype.visitFixedSizeList=upe;zd.prototype.visitUnion=hpe;zd.prototype.visitDenseUnion=Pq;zd.prototype.visitSparseUnion=$q;const $o=new zd;var Uq;const zq={},Hq={};class en{constructor(e){var n,i,s;const a=e[0]instanceof en?e.flatMap(d=>d.data):e;if(a.length===0||a.some(d=>!(d instanceof mn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const c=(n=a[0])===null||n===void 0?void 0:n.type;switch(a.length){case 0:this._offsets=[0];break;case 1:{const{get:d,set:f,indexOf:u,byteLength:o}=zq[c.typeId],g=a[0];this.isValid=y=>IS(g,y),this.get=y=>d(g,y),this.set=(y,m)=>f(g,y,m),this.indexOf=y=>u(g,y),this.getByteLength=y=>o(g,y),this._offsets=[0,g.length];break}default:Object.setPrototypeOf(this,Hq[c.typeId]),this._offsets=Oq(a);break}this.data=a,this.type=c,this.stride=bl(c),this.numChildren=(s=(i=c.children)===null||i===void 0?void 0:i.length)!==null&&s!==void 0?s:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,n)=>e+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=Aq(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${J[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,n){}indexOf(e,n){return-1}includes(e,n){return this.indexOf(e,n)>0}getByteLength(e){return 0}[Symbol.iterator](){return kS.visit(this)}concat(...e){return new en(this.data.concat(e.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(e,n){return new en(Fq(this,e,n,({data:i,_offsets:s},a,c)=>Nq(i,s,a,c)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:i,stride:s,ArrayType:a}=this;switch(e.typeId){case J.Int:case J.Float:case J.Decimal:case J.Time:case J.Timestamp:switch(n.length){case 0:return new a;case 1:return n[0].values.subarray(0,i*s);default:return n.reduce((c,{values:d,length:f})=>(c.array.set(d.subarray(0,f*s),c.offset),c.offset+=f*s,c),{array:new a(i*s),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(i=>i.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new en(this.data.map(({children:n})=>n[e])):null}get isMemoized(){return tt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(tt.isDictionary(this.type)){const e=new pw(this.data[0].dictionary),n=this.data.map(i=>{const s=i.clone();return s.dictionary=e,s});return new en(n)}return new pw(this)}unmemoize(){if(tt.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),n=this.data.map(i=>{const s=i.clone();return s.dictionary=e,s});return new en(n)}return this}}Uq=Symbol.toStringTag;en[Uq]=(t=>{t.type=tt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(J).map(n=>J[n]).filter(n=>typeof n=="number"&&n!==J.NONE);for(const n of e){const i=qs.getVisitFnByTypeId(n),s=Yr.getVisitFnByTypeId(n),a=hw.getVisitFnByTypeId(n),c=$o.getVisitFnByTypeId(n);zq[n]={get:i,set:s,indexOf:a,byteLength:c},Hq[n]=Object.create(t,{isValid:{value:w1(IS)},get:{value:w1(qs.getVisitFnByTypeId(n))},set:{value:Cq(Yr.getVisitFnByTypeId(n))},indexOf:{value:Rq(hw.getVisitFnByTypeId(n))},getByteLength:{value:w1($o.getVisitFnByTypeId(n))}})}return"Vector"})(en.prototype);class pw extends en{constructor(e){super(e.data);const n=this.get,i=this.set,s=this.slice,a=new Array(this.length);Object.defineProperty(this,"get",{value(c){const d=a[c];if(d!==void 0)return d;const f=n.call(this,c);return a[c]=f,f}}),Object.defineProperty(this,"set",{value(c,d){i.call(this,c,d),a[c]=d}}),Object.defineProperty(this,"slice",{value:(c,d)=>new pw(s.call(this,c,d))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new en(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class r7{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,n,i,s){return e.prep(8,24),e.writeInt64(s),e.pad(4),e.writeInt32(i),e.writeInt64(n),e.offset()}}const z8=2,ho=4,Fl=4,yn=4,Oc=new Int32Array(2),yN=new Float32Array(Oc.buffer),mN=new Float64Array(Oc.buffer),xy=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let zl=class a7{constructor(e,n){this.low=e|0,this.high=n|0}static create(e,n){return e==0&&n==0?a7.ZERO:new a7(e,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(e){return this.low==e.low&&this.high==e.high}};zl.ZERO=new zl(0,0);var o7;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(o7||(o7={}));let J1=class jq{constructor(e){this.bytes_=e,this.position_=0}static allocate(e){return new jq(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return new zl(this.readInt32(e),this.readInt32(e+4))}readUint64(e){return new zl(this.readUint32(e),this.readUint32(e+4))}readFloat32(e){return Oc[0]=this.readInt32(e),yN[0]}readFloat64(e){return Oc[xy?0:1]=this.readInt32(e),Oc[xy?1:0]=this.readInt32(e+4),mN[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,n.low),this.writeInt32(e+4,n.high)}writeUint64(e,n){this.writeUint32(e,n.low),this.writeUint32(e+4,n.high)}writeFloat32(e,n){yN[0]=n,this.writeInt32(e,Oc[0])}writeFloat64(e,n){mN[0]=n,this.writeInt32(e,Oc[xy?0:1]),this.writeInt32(e+4,Oc[xy?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+ho+Fl)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<Fl;n++)e+=String.fromCharCode(this.readInt8(this.position_+ho+n));return e}__offset(e,n){const i=e-this.readInt32(e);return n<this.readInt16(i)?this.readInt16(i+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const i=this.readInt32(e);let s="",a=0;if(e+=ho,n===o7.UTF8_BYTES)return this.bytes_.subarray(e,e+i);for(;a<i;){let c;const d=this.readUint8(e+a++);if(d<192)c=d;else{const f=this.readUint8(e+a++);if(d<224)c=(d&31)<<6|f&63;else{const u=this.readUint8(e+a++);if(d<240)c=(d&15)<<12|(f&63)<<6|u&63;else{const o=this.readUint8(e+a++);c=(d&7)<<18|(f&63)<<12|(u&63)<<6|o&63}}}c<65536?s+=String.fromCharCode(c):(c-=65536,s+=String.fromCharCode((c>>10)+55296,(c&(1<<10)-1)+56320))}return s}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+ho}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=Fl)throw new Error("FlatBuffers: file identifier must be length "+Fl);for(let n=0;n<Fl;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+ho+n))return!1;return!0}createLong(e,n){return zl.create(e,n)}createScalarList(e,n){const i=[];for(let s=0;s<n;++s)e(s)!==null&&i.push(e(s));return i}createObjList(e,n){const i=[];for(let s=0;s<n;++s){const a=e(s);a!==null&&i.push(a.unpack())}return i}},Vq=class qq{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;e?n=e:n=1024,this.bb=J1.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const i=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<i+e+n;){const s=this.bb.capacity();this.bb=qq.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(i)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,i){(this.force_defaults||n!=i)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,i){(this.force_defaults||n!=i)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,i){(this.force_defaults||n!=i)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,i){(this.force_defaults||!n.equals(i))&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,i){(this.force_defaults||n!=i)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,i){(this.force_defaults||n!=i)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,i){(this.force_defaults||n!=i)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,i){n!=i&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=n<<1,s=J1.allocate(i);return s.setPosition(i-n),s.bytes().set(e.bytes(),i-n),s}addOffset(e){this.prep(ho,0),this.writeInt32(this.offset()-e+ho)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const i=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const s=2;this.addInt16(e-this.object_start);const a=(i+s)*z8;this.addInt16(a);let c=0;const d=this.space;e:for(n=0;n<this.vtables.length;n++){const f=this.bb.capacity()-this.vtables[n];if(a==this.bb.readInt16(f)){for(let u=z8;u<a;u+=z8)if(this.bb.readInt16(d+u)!=this.bb.readInt16(f+u))continue e;c=this.vtables[n];break}}return c?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,c-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,i){const s=i?yn:0;if(n){const a=n;if(this.prep(this.minalign,ho+Fl+s),a.length!=Fl)throw new Error("FlatBuffers: file identifier must be length "+Fl);for(let c=Fl-1;c>=0;c--)this.writeInt8(a.charCodeAt(c))}this.prep(this.minalign,ho+s),this.addOffset(e),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const i=this.bb.capacity()-e,s=i-this.bb.readInt32(i);if(!(this.bb.readInt16(s+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(e,n,i){this.notNested(),this.vector_num_elems=n,this.prep(ho,e*n),this.prep(i,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(!e)return 0;let n;if(e instanceof Uint8Array)n=e;else{n=[];let i=0;for(;i<e.length;){let s;const a=e.charCodeAt(i++);if(a<55296||a>=56320)s=a;else{const c=e.charCodeAt(i++);s=(a<<10)+c+(65536-(55296<<10)-56320)}s<128?n.push(s):(s<2048?n.push(s>>6&31|192):(s<65536?n.push(s>>12&15|224):n.push(s>>18&7|240,s>>12&63|128),n.push(s>>6&63|128)),n.push(s&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let i=0,s=this.space,a=this.bb.bytes();i<n.length;i++)a[s++]=n[i];return this.endVector()}createLong(e,n){return zl.create(e,n)}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let i=0;i<e.length;++i){const s=e[i];if(s!==null)n.push(this.createObjectOffset(s));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e),this.endVector()}};class ei{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsKeyValue(e,n){return(n||new ei).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,n){return e.setPosition(e.position()+yn),(n||new ei).__init(e.readInt32(e.position())+e.position(),e)}key(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,n,i){return ei.startKeyValue(e),ei.addKey(e,n),ei.addValue(e,i),ei.endKeyValue(e)}}var Q1;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(Q1||(Q1={}));var e2;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(e2||(e2={}));var _w;(function(t){t[t.DenseArray=0]="DenseArray"})(_w||(_w={}));class dr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new dr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+yn),(n||new dr).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,n){e.addFieldInt32(0,n,0)}static addIsSigned(e,n){e.addFieldInt8(1,+n,0)}static endInt(e){return e.endObject()}static createInt(e,n,i){return dr.startInt(e),dr.addBitWidth(e,n),dr.addIsSigned(e,i),dr.endInt(e)}}class Ml{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryEncoding(e,n){return(n||new Ml).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,n){return e.setPosition(e.position()+yn),(n||new Ml).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new dr).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):_w.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,n){e.addFieldInt64(0,n,e.createLong(0,0))}static addIndexType(e,n){e.addFieldOffset(1,n,0)}static addIsOrdered(e,n){e.addFieldInt8(2,+n,0)}static addDictionaryKind(e,n){e.addFieldInt16(3,n,_w.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class Hf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBinary(e,n){return(n||new Hf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+yn),(n||new Hf).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return Hf.startBinary(e),Hf.endBinary(e)}}class jf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new jf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+yn),(n||new jf).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return jf.startBool(e),jf.endBool(e)}}var gw;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(gw||(gw={}));let Tm=class jh{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new jh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+yn),(n||new jh).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):gw.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,gw.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,n){return jh.startDate(e),jh.addUnit(e,n),jh.endDate(e)}};class Ss{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDecimal(e,n){return(n||new Ss).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+yn),(n||new Ss).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,n){e.addFieldInt32(0,n,0)}static addScale(e,n){e.addFieldInt32(1,n,0)}static addBitWidth(e,n){e.addFieldInt32(2,n,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,n,i,s){return Ss.startDecimal(e),Ss.addPrecision(e,n),Ss.addScale(e,i),Ss.addBitWidth(e,s),Ss.endDecimal(e)}}var t2;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(t2||(t2={}));class po{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeBinary(e,n){return(n||new po).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+yn),(n||new po).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,n){return po.startFixedSizeBinary(e),po.addByteWidth(e,n),po.endFixedSizeBinary(e)}}class _o{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeList(e,n){return(n||new _o).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+yn),(n||new _o).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,n){return _o.startFixedSizeList(e),_o.addListSize(e,n),_o.endFixedSizeList(e)}}var yw;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(yw||(yw={}));class go{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloatingPoint(e,n){return(n||new go).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,n){return e.setPosition(e.position()+yn),(n||new go).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):yw.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,yw.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,n){return go.startFloatingPoint(e),go.addPrecision(e,n),go.endFloatingPoint(e)}}var mw;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(mw||(mw={}));class yo{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInterval(e,n){return(n||new yo).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,n){return e.setPosition(e.position()+yn),(n||new yo).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):mw.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,mw.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,n){return yo.startInterval(e),yo.addUnit(e,n),yo.endInterval(e)}}class Vf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsList(e,n){return(n||new Vf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+yn),(n||new Vf).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return Vf.startList(e),Vf.endList(e)}}let vm=class Vh{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMap(e,n){return(n||new Vh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+yn),(n||new Vh).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,n){e.addFieldInt8(0,+n,0)}static endMap(e){return e.endObject()}static createMap(e,n){return Vh.startMap(e),Vh.addKeysSorted(e,n),Vh.endMap(e)}};class qf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNull(e,n){return(n||new qf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+yn),(n||new qf).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return qf.startNull(e),qf.endNull(e)}}class Gf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsStruct_(e,n){return(n||new Gf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,n){return e.setPosition(e.position()+yn),(n||new Gf).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Gf.startStruct_(e),Gf.endStruct_(e)}}let Z0=class If{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new If).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+yn),(n||new If).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t2.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,t2.MILLISECOND)}static addBitWidth(e,n){e.addFieldInt32(1,n,32)}static endTime(e){return e.endObject()}static createTime(e,n,i){return If.startTime(e),If.addUnit(e,n),If.addBitWidth(e,i),If.endTime(e)}};class Nr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTimestamp(e,n){return(n||new Nr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,n){return e.setPosition(e.position()+yn),(n||new Nr).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t2.SECOND}timezone(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,t2.SECOND)}static addTimezone(e,n){e.addFieldOffset(1,n,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,n,i){return Nr.startTimestamp(e),Nr.addUnit(e,n),Nr.addTimezone(e,i),Nr.endTimestamp(e)}}var ww;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(ww||(ww={}));let kf=class Ff{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUnion(e,n){return(n||new Ff).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,n){return e.setPosition(e.position()+yn),(n||new Ff).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ww.Sparse}typeIds(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,ww.Sparse)}static addTypeIds(e,n){e.addFieldOffset(1,n,0)}static createTypeIdsVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addInt32(n[i]);return e.endVector()}static startTypeIdsVector(e,n){e.startVector(4,n,4)}static endUnion(e){return e.endObject()}static createUnion(e,n,i){return Ff.startUnion(e),Ff.addMode(e,n),Ff.addTypeIds(e,i),Ff.endUnion(e)}};class Wf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUtf8(e,n){return(n||new Wf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+yn),(n||new Wf).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Wf.startUtf8(e),Wf.endUtf8(e)}}var Mn;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"})(Mn||(Mn={}));let Fr=class Em{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsField(e,n){return(n||new Em).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+yn),(n||new Em).__init(e.readInt32(e.position())+e.position(),e)}name(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Mn.NONE}type(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb_pos+n):null}dictionary(e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Ml).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){const i=this.bb.__offset(this.bb_pos,14);return i?(n||new Em).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const i=this.bb.__offset(this.bb_pos,16);return i?(n||new ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,n){e.addFieldOffset(0,n,0)}static addNullable(e,n){e.addFieldInt8(1,+n,0)}static addTypeType(e,n){e.addFieldInt8(2,n,Mn.NONE)}static addType(e,n){e.addFieldOffset(3,n,0)}static addDictionary(e,n){e.addFieldOffset(4,n,0)}static addChildren(e,n){e.addFieldOffset(5,n,0)}static createChildrenVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startChildrenVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(6,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endField(e){return e.endObject()}},to=class ml{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsSchema(e,n){return(n||new ml).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+yn),(n||new ml).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):e2.Little}fields(e,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new Fr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+e*8):this.bb.createLong(0,0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,n){e.addFieldInt16(0,n,e2.Little)}static addFields(e,n){e.addFieldOffset(1,n,0)}static createFieldsVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startFieldsVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(2,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static addFeatures(e,n){e.addFieldOffset(3,n,0)}static createFeaturesVector(e,n){e.startVector(8,n.length,8);for(let i=n.length-1;i>=0;i--)e.addInt64(n[i]);return e.endVector()}static startFeaturesVector(e,n){e.startVector(8,n,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,n){e.finish(n)}static finishSizePrefixedSchemaBuffer(e,n){e.finish(n,void 0,!0)}static createSchema(e,n,i,s,a){return ml.startSchema(e),ml.addEndianness(e,n),ml.addFields(e,i),ml.addCustomMetadata(e,s),ml.addFeatures(e,a),ml.endSchema(e)}};class ar{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFooter(e,n){return(n||new ar).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,n){return e.setPosition(e.position()+yn),(n||new ar).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Q1.V1}schema(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new to).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(e,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new r7).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,n){const i=this.bb.__offset(this.bb_pos,10);return i?(n||new r7).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,Q1.V1)}static addSchema(e,n){e.addFieldOffset(1,n,0)}static addDictionaries(e,n){e.addFieldOffset(2,n,0)}static startDictionariesVector(e,n){e.startVector(24,n,8)}static addRecordBatches(e,n){e.addFieldOffset(3,n,0)}static startRecordBatchesVector(e,n){e.startVector(24,n,8)}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,n){e.finish(n)}static finishSizePrefixedFooterBuffer(e,n){e.finish(n,void 0,!0)}}class tn{constructor(e=[],n,i){this.fields=e||[],this.metadata=n||new Map,i||(i=c7(e)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,n)=>`${n}: ${e}`).join(", ")} }>`}select(e){const n=new Set(e),i=this.fields.filter(s=>n.has(s.name));return new tn(i,this.metadata)}selectAt(e){const n=e.map(i=>this.fields[i]).filter(Boolean);return new tn(n,this.metadata)}assign(...e){const n=e[0]instanceof tn?e[0]:Array.isArray(e[0])?new tn(e[0]):new tn(e),i=[...this.fields],s=By(By(new Map,this.metadata),n.metadata),a=n.fields.filter(d=>{const f=i.findIndex(u=>u.name===d.name);return~f?(i[f]=d.clone({metadata:By(By(new Map,i[f].metadata),d.metadata)}))&&!1:!0}),c=c7(a,new Map);return new tn([...i,...a],s,new Map([...this.dictionaries,...c]))}}tn.prototype.fields=null;tn.prototype.metadata=null;tn.prototype.dictionaries=null;let Un=class l7{constructor(e,n,i=!1,s){this.name=e,this.type=n,this.nullable=i,this.metadata=s||new Map}static new(...e){let[n,i,s,a]=e;return e[0]&&typeof e[0]=="object"&&({name:n}=e[0],i===void 0&&(i=e[0].type),s===void 0&&(s=e[0].nullable),a===void 0&&(a=e[0].metadata)),new l7(`${n}`,i,s,a)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[n,i,s,a]=e;return!e[0]||typeof e[0]!="object"?[n=this.name,i=this.type,s=this.nullable,a=this.metadata]=e:{name:n=this.name,type:i=this.type,nullable:s=this.nullable,metadata:a=this.metadata}=e[0],l7.new(n,i,s,a)}};Un.prototype.type=null;Un.prototype.name=null;Un.prototype.nullable=null;Un.prototype.metadata=null;function By(t,e){return new Map([...t||new Map,...e||new Map])}function c7(t,e=new Map){for(let n=-1,i=t.length;++n<i;){const a=t[n].type;if(tt.isDictionary(a)){if(!e.has(a.id))e.set(a.id,a.dictionary);else if(e.get(a.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}a.children&&a.children.length>0&&c7(a.children,e)}return e}var wN=zl,ppe=Vq,_pe=J1;class r3{constructor(e,n=fr.V4,i,s){this.schema=e,this.version=n,i&&(this._recordBatches=i),s&&(this._dictionaryBatches=s)}static decode(e){e=new _pe(Gt(e));const n=ar.getRootAsFooter(e),i=tn.decode(n.schema());return new gpe(i,n)}static encode(e){const n=new ppe,i=tn.encode(n,e.schema);ar.startRecordBatchesVector(n,e.numRecordBatches);for(const c of[...e.recordBatches()].slice().reverse())_d.encode(n,c);const s=n.endVector();ar.startDictionariesVector(n,e.numDictionaries);for(const c of[...e.dictionaryBatches()].slice().reverse())_d.encode(n,c);const a=n.endVector();return ar.startFooter(n),ar.addSchema(n,i),ar.addVersion(n,fr.V4),ar.addRecordBatches(n,s),ar.addDictionaries(n,a),ar.finishFooterBuffer(n,ar.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,n=-1,i=this.numRecordBatches;++n<i;)(e=this.getRecordBatch(n))&&(yield e)}*dictionaryBatches(){for(let e,n=-1,i=this.numDictionaries;++n<i;)(e=this.getDictionaryBatch(n))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class gpe extends r3{constructor(e,n){super(e,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const n=this._footer.recordBatches(e);if(n)return _d.decode(n)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const n=this._footer.dictionaries(e);if(n)return _d.decode(n)}return null}}class _d{constructor(e,n,i){this.metaDataLength=e,this.offset=typeof i=="number"?i:i.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(e){return new _d(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,n){const{metaDataLength:i}=n,s=new wN(n.offset,0),a=new wN(n.bodyLength,0);return r7.createBlock(e,s,i,a)}}const Nn=Object.freeze({done:!0,value:void 0});class LN{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class FS{tee(){return this._getDOMStream().tee()}pipe(e,n){return this._getNodeStream().pipe(e,n)}pipeTo(e,n){return this._getDOMStream().pipeTo(e,n)}pipeThrough(e,n){return this._getDOMStream().pipeThrough(e,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class ype extends FS{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return ge(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(Nn);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return Ar.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return Ar.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return ge(this,void 0,void 0,function*(){return yield this.abort(e),Nn})}return(e){return ge(this,void 0,void 0,function*(){return yield this.close(),Nn})}read(e){return ge(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return ge(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,i)=>{this.resolvers.push({resolve:n,reject:i})}):Promise.resolve(Nn)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Sm extends ype{write(e){if((e=Gt(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?e7(this.toUint8Array(!0)):this.toUint8Array(!1).then(e7)}toUint8Array(e=!1){return e?Po(this._values)[0]:(()=>ge(this,void 0,void 0,function*(){var n,i;const s=[];let a=0;try{for(var c=fs(this),d;d=yield c.next(),!d.done;){const f=d.value;s.push(f),a+=f.byteLength}}catch(f){n={error:f}}finally{try{d&&!d.done&&(i=c.return)&&(yield i.call(c))}finally{if(n)throw n.error}}return Po(s,a)[0]}))()}}class Lw{constructor(e){e&&(this.source=new mpe(Ar.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class n2{constructor(e){e instanceof n2?this.source=e.source:e instanceof Sm?this.source=new nf(Ar.fromAsyncIterable(e)):BV(e)?this.source=new nf(Ar.fromNodeStream(e)):gS(e)?this.source=new nf(Ar.fromDOMStream(e)):xV(e)?this.source=new nf(Ar.fromDOMStream(e.body)):i_(e)?this.source=new nf(Ar.fromIterable(e)):yu(e)?this.source=new nf(Ar.fromAsyncIterable(e)):N2(e)&&(this.source=new nf(Ar.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class mpe{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,n="read"){return this.source.next({cmd:n,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||Nn)}return(e){return Object.create(this.source.return&&this.source.return(e)||Nn)}}class nf{constructor(e){this.source=e,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(e){return ge(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return ge(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return ge(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,n="read"){return ge(this,void 0,void 0,function*(){return yield this.source.next({cmd:n,size:e})})}throw(e){return ge(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(e))||Nn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(e){return ge(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(e))||Nn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class bN extends Lw{constructor(e,n){super(),this.position=0,this.buffer=Gt(e),this.size=typeof n>"u"?this.buffer.byteLength:n}readInt32(e){const{buffer:n,byteOffset:i}=this.readAt(e,4);return new DataView(n,i).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:n,size:i,position:s}=this;return n&&s<i?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(i,s+Math.min(i-s,e)),n.subarray(s,this.position)):null}readAt(e,n){const i=this.buffer,s=Math.min(this.size,e+n);return i?i.subarray(e,s):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class bw extends n2{constructor(e,n){super(),this.position=0,this._handle=e,typeof n=="number"?this.size=n:this._pending=(()=>ge(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return ge(this,void 0,void 0,function*(){const{buffer:n,byteOffset:i}=yield this.readAt(e,4);return new DataView(n,i).getInt32(0,!0)})}seek(e){return ge(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return ge(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:i,position:s}=this;if(n&&s<i){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let a=s,c=0,d=0;const f=Math.min(i,a+Math.min(i-a,e)),u=new Uint8Array(Math.max(0,(this.position=f)-a));for(;(a+=d)<f&&(c+=d)<u.byteLength;)({bytesRead:d}=yield n.read(u,c,u.byteLength-c,a));return u}return null})}readAt(e,n){return ge(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:i,size:s}=this;if(i&&e+n<s){const a=Math.min(s,e+n),c=new Uint8Array(a-e);return(yield i.read(c,0,n,e)).buffer}return new Uint8Array(n)})}close(){return ge(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return ge(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return ge(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const wpe=1<<16;function Jh(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const i2=8,MS=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class Gq{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),i=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let s=n[3]*i[3];this.buffer[0]=s&65535;let a=s>>>16;return s=n[2]*i[3],a+=s,s=n[3]*i[2]>>>0,a+=s,this.buffer[0]+=a<<16,this.buffer[1]=a>>>0<s?wpe:0,this.buffer[1]+=a>>>16,this.buffer[1]+=n[1]*i[3]+n[2]*i[2]+n[3]*i[1],this.buffer[1]+=n[0]*i[3]+n[1]*i[2]+n[2]*i[1]+n[3]*i[0]<<16,this}_plus(e){const n=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${Jh(this.buffer[1])} ${Jh(this.buffer[0])}`}}class on extends Gq{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,n=new Uint32Array(2)){return on.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return on.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const i=e.length,s=new on(n);for(let a=0;a<i;){const c=i2<i-a?i2:i-a,d=new on(new Uint32Array([Number.parseInt(e.slice(a,a+c),10),0])),f=new on(new Uint32Array([MS[c],0]));s.times(f),s.plus(d),a+=c}return s}static convertArray(e){const n=new Uint32Array(e.length*2);for(let i=-1,s=e.length;++i<s;)on.from(e[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(e,n){return new on(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new on(new Uint32Array(e.buffer)).plus(n)}}class Es extends Gq{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const n=this.buffer[1]<<0,i=e.buffer[1]<<0;return n<i||n===i&&this.buffer[0]<e.buffer[0]}static from(e,n=new Uint32Array(2)){return Es.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return Es.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const i=e.startsWith("-"),s=e.length,a=new Es(n);for(let c=i?1:0;c<s;){const d=i2<s-c?i2:s-c,f=new Es(new Uint32Array([Number.parseInt(e.slice(c,c+d),10),0])),u=new Es(new Uint32Array([MS[d],0]));a.times(u),a.plus(f),c+=d}return i?a.negate():a}static convertArray(e){const n=new Uint32Array(e.length*2);for(let i=-1,s=e.length;++i<s;)Es.from(e[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(e,n){return new Es(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new Es(new Uint32Array(e.buffer)).plus(n)}}class no{constructor(e){this.buffer=e}high(){return new Es(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Es(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const n=new on(new Uint32Array([this.buffer[3],0])),i=new on(new Uint32Array([this.buffer[2],0])),s=new on(new Uint32Array([this.buffer[1],0])),a=new on(new Uint32Array([this.buffer[0],0])),c=new on(new Uint32Array([e.buffer[3],0])),d=new on(new Uint32Array([e.buffer[2],0])),f=new on(new Uint32Array([e.buffer[1],0])),u=new on(new Uint32Array([e.buffer[0],0]));let o=on.multiply(a,u);this.buffer[0]=o.low();const g=new on(new Uint32Array([o.high(),0]));return o=on.multiply(s,u),g.plus(o),o=on.multiply(a,f),g.plus(o),this.buffer[1]=g.low(),this.buffer[3]=g.lessThan(o)?1:0,this.buffer[2]=g.high(),new on(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(on.multiply(i,u)).plus(on.multiply(s,f)).plus(on.multiply(a,d)),this.buffer[3]+=on.multiply(n,u).plus(on.multiply(i,f)).plus(on.multiply(s,d)).plus(on.multiply(a,c)).low(),this}plus(e){const n=new Uint32Array(4);return n[3]=this.buffer[3]+e.buffer[3]>>>0,n[2]=this.buffer[2]+e.buffer[2]>>>0,n[1]=this.buffer[1]+e.buffer[1]>>>0,n[0]=this.buffer[0]+e.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${Jh(this.buffer[3])} ${Jh(this.buffer[2])} ${Jh(this.buffer[1])} ${Jh(this.buffer[0])}`}static multiply(e,n){return new no(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new no(new Uint32Array(e.buffer)).plus(n)}static from(e,n=new Uint32Array(4)){return no.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(4)){return no.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(4)){const i=e.startsWith("-"),s=e.length,a=new no(n);for(let c=i?1:0;c<s;){const d=i2<s-c?i2:s-c,f=new no(new Uint32Array([Number.parseInt(e.slice(c,c+d),10),0,0,0])),u=new no(new Uint32Array([MS[d],0,0,0]));a.times(u),a.plus(f),c+=d}return i?a.negate():a}static convertArray(e){const n=new Uint32Array(e.length*4);for(let i=-1,s=e.length;++i<s;)no.from(e[i],new Uint32Array(n.buffer,n.byteOffset+4*4*i,4));return n}}class Wq extends Dt{constructor(e,n,i,s){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=n,this.buffers=i,this.dictionaries=s}visit(e){return super.visit(e instanceof Un?e.type:e)}visitNull(e,{length:n}=this.nextFieldNode()){return Ot({type:e,length:n})}visitBool(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitInt(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitFloat(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitUtf8(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitDate(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitTimestamp(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitTime(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitDecimal(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitList(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===mr.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitFixedSizeList(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),child:this.visit(e.children[0])})}visitMap(e,{length:n,nullCount:i}=this.nextFieldNode()){return Ot({type:e,length:n,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,n,i=this.nextBufferRange()){return n>0&&this.readData(e,i)||new Uint8Array(0)}readOffsets(e,n){return this.readData(e,n)}readTypeIds(e,n){return this.readData(e,n)}readData(e,{length:n,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+n)}readDictionary(e){return this.dictionaries.get(e.id)}}class Lpe extends Wq{constructor(e,n,i,s){super(new Uint8Array(0),n,i,s),this.sources=e}readNullBitmap(e,n,{offset:i}=this.nextBufferRange()){return n<=0?new Uint8Array(0):uw(this.sources[i])}readOffsets(e,{offset:n}=this.nextBufferRange()){return pn(Uint8Array,pn(Int32Array,this.sources[n]))}readTypeIds(e,{offset:n}=this.nextBufferRange()){return pn(Uint8Array,pn(e.ArrayType,this.sources[n]))}readData(e,{offset:n}=this.nextBufferRange()){const{sources:i}=this;return tt.isTimestamp(e)||(tt.isInt(e)||tt.isTime(e))&&e.bitWidth===64||tt.isDate(e)&&e.unit===Ql.MILLISECOND?pn(Uint8Array,Es.convertArray(i[n])):tt.isDecimal(e)?pn(Uint8Array,no.convertArray(i[n])):tt.isBinary(e)||tt.isFixedSizeBinary(e)?bpe(i[n]):tt.isBool(e)?uw(i[n]):tt.isUtf8(e)?_S(i[n].join("")):pn(Uint8Array,pn(e.ArrayType,i[n].map(s=>+s)))}}function bpe(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)n[i>>1]=Number.parseInt(e.slice(i,i+2),16);return n}class ct extends Dt{compareSchemas(e,n){return e===n||n instanceof e.constructor&&this.compareManyFields(e.fields,n.fields)}compareManyFields(e,n){return e===n||Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((i,s)=>this.compareFields(i,n[s]))}compareFields(e,n){return e===n||n instanceof e.constructor&&e.name===n.name&&e.nullable===n.nullable&&this.visit(e.type,n.type)}}function Qs(t,e){return e instanceof t.constructor}function s_(t,e){return t===e||Qs(t,e)}function lc(t,e){return t===e||Qs(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function gL(t,e){return t===e||Qs(t,e)&&t.precision===e.precision}function Tpe(t,e){return t===e||Qs(t,e)&&t.byteWidth===e.byteWidth}function AS(t,e){return t===e||Qs(t,e)&&t.unit===e.unit}function r_(t,e){return t===e||Qs(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function a_(t,e){return t===e||Qs(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function vpe(t,e){return t===e||Qs(t,e)&&t.children.length===e.children.length&&gd.compareManyFields(t.children,e.children)}function Epe(t,e){return t===e||Qs(t,e)&&t.children.length===e.children.length&&gd.compareManyFields(t.children,e.children)}function OS(t,e){return t===e||Qs(t,e)&&t.mode===e.mode&&t.typeIds.every((n,i)=>n===e.typeIds[i])&&gd.compareManyFields(t.children,e.children)}function Spe(t,e){return t===e||Qs(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&gd.visit(t.indices,e.indices)&&gd.visit(t.dictionary,e.dictionary)}function NS(t,e){return t===e||Qs(t,e)&&t.unit===e.unit}function xpe(t,e){return t===e||Qs(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&gd.compareManyFields(t.children,e.children)}function Bpe(t,e){return t===e||Qs(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&gd.compareManyFields(t.children,e.children)}ct.prototype.visitNull=s_;ct.prototype.visitBool=s_;ct.prototype.visitInt=lc;ct.prototype.visitInt8=lc;ct.prototype.visitInt16=lc;ct.prototype.visitInt32=lc;ct.prototype.visitInt64=lc;ct.prototype.visitUint8=lc;ct.prototype.visitUint16=lc;ct.prototype.visitUint32=lc;ct.prototype.visitUint64=lc;ct.prototype.visitFloat=gL;ct.prototype.visitFloat16=gL;ct.prototype.visitFloat32=gL;ct.prototype.visitFloat64=gL;ct.prototype.visitUtf8=s_;ct.prototype.visitBinary=s_;ct.prototype.visitFixedSizeBinary=Tpe;ct.prototype.visitDate=AS;ct.prototype.visitDateDay=AS;ct.prototype.visitDateMillisecond=AS;ct.prototype.visitTimestamp=r_;ct.prototype.visitTimestampSecond=r_;ct.prototype.visitTimestampMillisecond=r_;ct.prototype.visitTimestampMicrosecond=r_;ct.prototype.visitTimestampNanosecond=r_;ct.prototype.visitTime=a_;ct.prototype.visitTimeSecond=a_;ct.prototype.visitTimeMillisecond=a_;ct.prototype.visitTimeMicrosecond=a_;ct.prototype.visitTimeNanosecond=a_;ct.prototype.visitDecimal=s_;ct.prototype.visitList=vpe;ct.prototype.visitStruct=Epe;ct.prototype.visitUnion=OS;ct.prototype.visitDenseUnion=OS;ct.prototype.visitSparseUnion=OS;ct.prototype.visitDictionary=Spe;ct.prototype.visitInterval=NS;ct.prototype.visitIntervalDayTime=NS;ct.prototype.visitIntervalYearMonth=NS;ct.prototype.visitFixedSizeList=xpe;ct.prototype.visitMap=Bpe;const gd=new ct;function d7(t,e){return gd.compareSchemas(t,e)}function H8(t,e){return Ipe(t,e.map(n=>n.data.concat()))}function Ipe(t,e){const n=[...t.fields],i=[],s={numBatches:e.reduce((g,y)=>Math.max(g,y.length),0)};let a=0,c=0,d=-1;const f=e.length;let u,o=[];for(;s.numBatches-- >0;){for(c=Number.POSITIVE_INFINITY,d=-1;++d<f;)o[d]=u=e[d].shift(),c=Math.min(c,u?u.length:c);Number.isFinite(c)&&(o=kpe(n,c,o,e,s),c>0&&(i[a++]=Ot({type:new ls(n),length:c,nullCount:0,children:o.slice()})))}return[t=t.assign(n),i.map(g=>new ks(t,g))]}function kpe(t,e,n,i,s){var a;const c=(e+63&-64)>>3;for(let d=-1,f=i.length;++d<f;){const u=n[d],o=u==null?void 0:u.length;if(o>=e)o===e?n[d]=u:(n[d]=u.slice(0,e),s.numBatches=Math.max(s.numBatches,i[d].unshift(u.slice(e,o-e))));else{const g=t[d];t[d]=g.clone({nullable:!0}),n[d]=(a=u==null?void 0:u._changeLengthAndBackfillNullBitmap(e))!==null&&a!==void 0?a:Ot({type:g.type,length:e,nullCount:e,nullBitmap:new Uint8Array(c)})}}return n}var Yq;class rs{constructor(...e){var n,i;if(e.length===0)return this.batches=[],this.schema=new tn([]),this._offsets=[0],this;let s,a;e[0]instanceof tn&&(s=e.shift()),e[e.length-1]instanceof Uint32Array&&(a=e.pop());const c=f=>{if(f){if(f instanceof ks)return[f];if(f instanceof rs)return f.batches;if(f instanceof mn){if(f.type instanceof ls)return[new ks(new tn(f.type.children),f)]}else{if(Array.isArray(f))return f.flatMap(u=>c(u));if(typeof f[Symbol.iterator]=="function")return[...f].flatMap(u=>c(u));if(typeof f=="object"){const u=Object.keys(f),o=u.map(m=>new en([f[m]])),g=new tn(u.map((m,l)=>new Un(String(m),o[l].type))),[,y]=H8(g,o);return y.length===0?[new ks(f)]:y}}}return[]},d=e.flatMap(f=>c(f));if(s=(i=s??((n=d[0])===null||n===void 0?void 0:n.schema))!==null&&i!==void 0?i:new tn([]),!(s instanceof tn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const f of d){if(!(f instanceof ks))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!d7(s,f.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=d,this._offsets=a??Oq(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,n)=>e+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Aq(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,n){}indexOf(e,n){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?kS.visit(new en(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const n=this.schema,i=this.data.concat(e.flatMap(({data:s})=>s));return new rs(n,i.map(s=>new ks(n,s)))}slice(e,n){const i=this.schema;[e,n]=Fq({length:this.numRows},e,n);const s=Nq(this.data,this._offsets,e,n);return new rs(i,s.map(a=>new ks(i,a)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const n=this.data.map(i=>i.children[e]);if(n.length===0){const{type:i}=this.schema.fields[e],s=Ot({type:i,length:0,nullCount:0});n.push(s._changeLengthAndBackfillNullBitmap(this.numRows))}return new en(n)}return null}setChild(e,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(s=>s.name===e),n)}setChildAt(e,n){let i=this.schema,s=[...this.batches];if(e>-1&&e<this.numCols){n||(n=new en([Ot({type:new hd,length:this.numRows})]));const a=i.fields.slice(),c=a[e].clone({type:n.type}),d=this.schema.fields.map((f,u)=>this.getChildAt(u));[a[e],d[e]]=[c,n],[i,s]=H8(i,d)}return new rs(i,s)}select(e){const n=this.schema.fields.reduce((i,s,a)=>i.set(s.name,a),new Map);return this.selectAt(e.map(i=>n.get(i)).filter(i=>i>-1))}selectAt(e){const n=this.schema.selectAt(e),i=this.batches.map(s=>s.selectAt(e));return new rs(n,i)}assign(e){const n=this.schema.fields,[i,s]=e.schema.fields.reduce((d,f,u)=>{const[o,g]=d,y=n.findIndex(m=>m.name===f.name);return~y?g[y]=u:o.push(u),d},[[],[]]),a=this.schema.assign(e.schema),c=[...n.map((d,f)=>[f,s[f]]).map(([d,f])=>f===void 0?this.getChildAt(d):e.getChildAt(f)),...i.map(d=>e.getChildAt(d))].filter(Boolean);return new rs(...H8(a,c))}}Yq=Symbol.toStringTag;rs[Yq]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=w1(IS),t.get=w1(qs.getVisitFn(J.Struct)),t.set=Cq(Yr.getVisitFn(J.Struct)),t.indexOf=Rq(hw.getVisitFn(J.Struct)),t.getByteLength=w1($o.getVisitFn(J.Struct)),"Table"))(rs.prototype);var Xq;let ks=class J0{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof tn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ot({nullCount:0,type:new ls(this.schema.fields),children:this.schema.fields.map(n=>Ot({type:n.type,nullCount:0}))})]=e,!(this.data instanceof mn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=TN(this.schema,this.data.children);break}case 1:{const[n]=e,{fields:i,children:s,length:a}=Object.keys(n).reduce((f,u,o)=>(f.children[o]=n[u],f.length=Math.max(f.length,n[u].length),f.fields[o]=Un.new({name:u,type:n[u].type,nullable:!0}),f),{length:0,fields:new Array,children:new Array}),c=new tn(i),d=Ot({type:new ls(i),length:a,children:s,nullCount:0});[this.schema,this.data]=TN(c,d.children,a);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Kq(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return qs.visit(this.data,e)}set(e,n){return Yr.visit(this.data,e,n)}indexOf(e,n){return hw.visit(this.data,e,n)}getByteLength(e){return $o.visit(this.data,e)}[Symbol.iterator](){return kS.visit(new en([this.data]))}toArray(){return[...this]}concat(...e){return new rs(this.schema,[this,...e])}slice(e,n){const[i]=new en([this.data]).slice(e,n).data;return new J0(this.schema,i)}getChild(e){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new en([this.data.children[e]]):null}setChild(e,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(s=>s.name===e),n)}setChildAt(e,n){let i=this.schema,s=this.data;if(e>-1&&e<this.numCols){n||(n=new en([Ot({type:new hd,length:this.numRows})]));const a=i.fields.slice(),c=s.children.slice(),d=a[e].clone({type:n.type});[a[e],c[e]]=[d,n.data[0]],i=new tn(a,new Map(this.schema.metadata)),s=Ot({type:new ls(a),children:c})}return new J0(i,s)}select(e){const n=this.schema.select(e),i=new ls(n.fields),s=[];for(const a of e){const c=this.schema.fields.findIndex(d=>d.name===a);~c&&(s[c]=this.data.children[c])}return new J0(n,Ot({type:i,length:this.numRows,children:s}))}selectAt(e){const n=this.schema.selectAt(e),i=e.map(a=>this.data.children[a]).filter(Boolean),s=Ot({type:new ls(n.fields),length:this.numRows,children:i});return new J0(n,s)}};Xq=Symbol.toStringTag;ks[Xq]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(ks.prototype);function TN(t,e,n=e.reduce((i,s)=>Math.max(i,s.length),0)){var i;const s=[...t.fields],a=[...e],c=(n+63&-64)>>3;for(const[d,f]of t.fields.entries()){const u=e[d];(!u||u.length!==n)&&(s[d]=f.clone({nullable:!0}),a[d]=(i=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&i!==void 0?i:Ot({type:f.type,length:n,nullCount:n,nullBitmap:new Uint8Array(c)}))}return[t.assign(s),Ot({type:new ls(s),length:n,children:a})]}function Kq(t,e,n=new Map){for(let i=-1,s=t.length;++i<s;){const c=t[i].type,d=e[i];if(tt.isDictionary(c)){if(!n.has(c.id))d.dictionary&&n.set(c.id,d.dictionary);else if(n.get(c.id)!==d.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}c.children&&c.children.length>0&&Kq(c.children,d.children,n)}return n}class CS extends ks{constructor(e){const n=e.fields.map(s=>Ot({type:s.type})),i=Ot({type:new ls(e.fields),nullCount:0,children:n});super(e,i)}}var Tw;(function(t){t[t.BUFFER=0]="BUFFER"})(Tw||(Tw={}));var vw;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})(vw||(vw={}));class Nc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBodyCompression(e,n){return(n||new Nc).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,n){return e.setPosition(e.position()+yn),(n||new Nc).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):vw.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):Tw.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,n){e.addFieldInt8(0,n,vw.LZ4_FRAME)}static addMethod(e,n){e.addFieldInt8(1,n,Tw.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,n,i){return Nc.startBodyCompression(e),Nc.addCodec(e,n),Nc.addMethod(e,i),Nc.endBodyCompression(e)}}let Zq=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,n,i){return e.prep(8,16),e.writeInt64(i),e.writeInt64(n),e.offset()}},Jq=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,n,i){return e.prep(8,16),e.writeInt64(i),e.writeInt64(n),e.offset()}},Tl=class f7{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsRecordBatch(e,n){return(n||new f7).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+yn),(n||new f7).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new Jq).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new Zq).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new Nc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,n){e.addFieldInt64(0,n,e.createLong(0,0))}static addNodes(e,n){e.addFieldOffset(1,n,0)}static startNodesVector(e,n){e.startVector(16,n,8)}static addBuffers(e,n){e.addFieldOffset(2,n,0)}static startBuffersVector(e,n){e.startVector(16,n,8)}static addCompression(e,n){e.addFieldOffset(3,n,0)}static endRecordBatch(e){return e.endObject()}},qh=class u7{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryBatch(e,n){return(n||new u7).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+yn),(n||new u7).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Tl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,e.createLong(0,0))}static addData(e,n){e.addFieldOffset(1,n,0)}static addIsDelta(e,n){e.addFieldInt8(2,+n,0)}static endDictionaryBatch(e){return e.endObject()}};var Ew;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(Ew||(Ew={}));let Ec=class Za{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new Za).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+yn),(n||new Za).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Q1.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Ew.NONE}header(e){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(e,this.bb_pos+n):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,Q1.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,Ew.NONE)}static addHeader(e,n){e.addFieldOffset(2,n,0)}static addBodyLength(e,n){e.addFieldInt64(3,n,e.createLong(0,0))}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)e.addOffset(n[i]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,i,s,a,c){return Za.startMessage(e),Za.addVersion(e,n),Za.addHeaderType(e,i),Za.addHeader(e,s),Za.addBodyLength(e,a),Za.addCustomMetadata(e,c),Za.endMessage(e)}};var Fpe=zl;class Mpe extends Dt{visit(e,n){return e==null||n==null?void 0:super.visit(e,n)}visitNull(e,n){return qf.startNull(n),qf.endNull(n)}visitInt(e,n){return dr.startInt(n),dr.addBitWidth(n,e.bitWidth),dr.addIsSigned(n,e.isSigned),dr.endInt(n)}visitFloat(e,n){return go.startFloatingPoint(n),go.addPrecision(n,e.precision),go.endFloatingPoint(n)}visitBinary(e,n){return Hf.startBinary(n),Hf.endBinary(n)}visitBool(e,n){return jf.startBool(n),jf.endBool(n)}visitUtf8(e,n){return Wf.startUtf8(n),Wf.endUtf8(n)}visitDecimal(e,n){return Ss.startDecimal(n),Ss.addScale(n,e.scale),Ss.addPrecision(n,e.precision),Ss.addBitWidth(n,e.bitWidth),Ss.endDecimal(n)}visitDate(e,n){return Tm.startDate(n),Tm.addUnit(n,e.unit),Tm.endDate(n)}visitTime(e,n){return Z0.startTime(n),Z0.addUnit(n,e.unit),Z0.addBitWidth(n,e.bitWidth),Z0.endTime(n)}visitTimestamp(e,n){const i=e.timezone&&n.createString(e.timezone)||void 0;return Nr.startTimestamp(n),Nr.addUnit(n,e.unit),i!==void 0&&Nr.addTimezone(n,i),Nr.endTimestamp(n)}visitInterval(e,n){return yo.startInterval(n),yo.addUnit(n,e.unit),yo.endInterval(n)}visitList(e,n){return Vf.startList(n),Vf.endList(n)}visitStruct(e,n){return Gf.startStruct_(n),Gf.endStruct_(n)}visitUnion(e,n){kf.startTypeIdsVector(n,e.typeIds.length);const i=kf.createTypeIdsVector(n,e.typeIds);return kf.startUnion(n),kf.addMode(n,e.mode),kf.addTypeIds(n,i),kf.endUnion(n)}visitDictionary(e,n){const i=this.visit(e.indices,n);return Ml.startDictionaryEncoding(n),Ml.addId(n,new Fpe(e.id,0)),Ml.addIsOrdered(n,e.isOrdered),i!==void 0&&Ml.addIndexType(n,i),Ml.endDictionaryEncoding(n)}visitFixedSizeBinary(e,n){return po.startFixedSizeBinary(n),po.addByteWidth(n,e.byteWidth),po.endFixedSizeBinary(n)}visitFixedSizeList(e,n){return _o.startFixedSizeList(n),_o.addListSize(n,e.listSize),_o.endFixedSizeList(n)}visitMap(e,n){return vm.startMap(n),vm.addKeysSorted(n,e.keysSorted),vm.endMap(n)}}const j8=new Mpe;function Ape(t,e=new Map){return new tn(Npe(t,e),xm(t.customMetadata),e)}function Qq(t){return new wr(t.count,eG(t.columns),tG(t.columns))}function Ope(t){return new Uo(Qq(t.data),t.id,t.isDelta)}function Npe(t,e){return(t.fields||[]).filter(Boolean).map(n=>Un.fromJSON(n,e))}function vN(t,e){return(t.children||[]).filter(Boolean).map(n=>Un.fromJSON(n,e))}function eG(t){return(t||[]).reduce((e,n)=>[...e,new Gu(n.count,Cpe(n.VALIDITY)),...eG(n.children)],[])}function tG(t,e=[]){for(let n=-1,i=(t||[]).length;++n<i;){const s=t[n];s.VALIDITY&&e.push(new bo(e.length,s.VALIDITY.length)),s.TYPE&&e.push(new bo(e.length,s.TYPE.length)),s.OFFSET&&e.push(new bo(e.length,s.OFFSET.length)),s.DATA&&e.push(new bo(e.length,s.DATA.length)),e=tG(s.children,e)}return e}function Cpe(t){return(t||[]).reduce((e,n)=>e+ +(n===0),0)}function Rpe(t,e){let n,i,s,a,c,d;return!e||!(a=t.dictionary)?(c=SN(t,vN(t,e)),s=new Un(t.name,c,t.nullable,xm(t.customMetadata))):e.has(n=a.id)?(i=(i=a.indexType)?EN(i):new n3,d=new Z1(e.get(n),i,n,a.isOrdered),s=new Un(t.name,d,t.nullable,xm(t.customMetadata))):(i=(i=a.indexType)?EN(i):new n3,e.set(n,c=SN(t,vN(t,e))),d=new Z1(c,i,n,a.isOrdered),s=new Un(t.name,d,t.nullable,xm(t.customMetadata))),s||null}function xm(t){return new Map(Object.entries(t||{}))}function EN(t){return new pd(t.isSigned,t.bitWidth)}function SN(t,e){const n=t.type.name;switch(n){case"NONE":return new hd;case"null":return new hd;case"binary":return new ew;case"utf8":return new tw;case"bool":return new nw;case"list":return new ow((e||[])[0]);case"struct":return new ls(e||[]);case"struct_":return new ls(e||[])}switch(n){case"int":{const i=t.type;return new pd(i.isSigned,i.bitWidth)}case"floatingpoint":{const i=t.type;return new i3(Cs[i.precision])}case"decimal":{const i=t.type;return new iw(i.scale,i.precision,i.bitWidth)}case"date":{const i=t.type;return new sw(Ql[i.unit])}case"time":{const i=t.type;return new s3(Yt[i.unit],i.bitWidth)}case"timestamp":{const i=t.type;return new rw(Yt[i.unit],i.timezone)}case"interval":{const i=t.type;return new aw(ud[i.unit])}case"union":{const i=t.type;return new lw(mr[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const i=t.type;return new cw(i.byteWidth)}case"fixedsizelist":{const i=t.type;return new dw(i.listSize,(e||[])[0])}case"map":{const i=t.type;return new fw((e||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var mu=zl,Dpe=Vq,Ppe=J1;class cs{constructor(e,n,i,s){this._version=n,this._headerType=i,this.body=new Uint8Array(0),s&&(this._createHeader=()=>s),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,n){const i=new cs(0,fr.V4,n);return i._createHeader=$pe(e,n),i}static decode(e){e=new Ppe(Gt(e));const n=Ec.getRootAsMessage(e),i=n.bodyLength(),s=n.version(),a=n.headerType(),c=new cs(i,s,a);return c._createHeader=Upe(n,a),c}static encode(e){const n=new Dpe;let i=-1;return e.isSchema()?i=tn.encode(n,e.header()):e.isRecordBatch()?i=wr.encode(n,e.header()):e.isDictionaryBatch()&&(i=Uo.encode(n,e.header())),Ec.startMessage(n),Ec.addVersion(n,fr.V4),Ec.addHeader(n,i),Ec.addHeaderType(n,e.headerType),Ec.addBodyLength(n,new mu(e.bodyLength,0)),Ec.finishMessageBuffer(n,Ec.endMessage(n)),n.asUint8Array()}static from(e,n=0){if(e instanceof tn)return new cs(0,fr.V4,Qt.Schema,e);if(e instanceof wr)return new cs(n,fr.V4,Qt.RecordBatch,e);if(e instanceof Uo)return new cs(n,fr.V4,Qt.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Qt.Schema}isRecordBatch(){return this.headerType===Qt.RecordBatch}isDictionaryBatch(){return this.headerType===Qt.DictionaryBatch}}class wr{constructor(e,n,i){this._nodes=n,this._buffers=i,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Uo{constructor(e,n,i=!1){this._data=e,this._isDelta=i,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class bo{constructor(e,n){this.offset=typeof e=="number"?e:e.low,this.length=typeof n=="number"?n:n.low}}class Gu{constructor(e,n){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof n=="number"?n:n.low}}function $pe(t,e){return()=>{switch(e){case Qt.Schema:return tn.fromJSON(t);case Qt.RecordBatch:return wr.fromJSON(t);case Qt.DictionaryBatch:return Uo.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${Qt[e]}, type: ${e} }`)}}function Upe(t,e){return()=>{switch(e){case Qt.Schema:return tn.decode(t.header(new to));case Qt.RecordBatch:return wr.decode(t.header(new Tl),t.version());case Qt.DictionaryBatch:return Uo.decode(t.header(new qh),t.version())}throw new Error(`Unrecognized Message type: { name: ${Qt[e]}, type: ${e} }`)}}Un.encode=Zpe;Un.decode=Xpe;Un.fromJSON=Rpe;tn.encode=Kpe;tn.decode=zpe;tn.fromJSON=Ape;wr.encode=Jpe;wr.decode=Hpe;wr.fromJSON=Qq;Uo.encode=Qpe;Uo.decode=jpe;Uo.fromJSON=Ope;Gu.encode=e3e;Gu.decode=qpe;bo.encode=t3e;bo.decode=Vpe;function zpe(t,e=new Map){const n=Ype(t,e);return new tn(n,Bm(t),e)}function Hpe(t,e=fr.V4){if(t.compression()!==null)throw new Error("Record batch compression not implemented");return new wr(t.length(),Gpe(t),Wpe(t,e))}function jpe(t,e=fr.V4){return new Uo(wr.decode(t.data(),e),t.id(),t.isDelta())}function Vpe(t){return new bo(t.offset(),t.length())}function qpe(t){return new Gu(t.length(),t.nullCount())}function Gpe(t){const e=[];for(let n,i=-1,s=-1,a=t.nodesLength();++i<a;)(n=t.nodes(i))&&(e[++s]=Gu.decode(n));return e}function Wpe(t,e){const n=[];for(let i,s=-1,a=-1,c=t.buffersLength();++s<c;)(i=t.buffers(s))&&(e<fr.V4&&(i.bb_pos+=8*(s+1)),n[++a]=bo.decode(i));return n}function Ype(t,e){const n=[];for(let i,s=-1,a=-1,c=t.fieldsLength();++s<c;)(i=t.fields(s))&&(n[++a]=Un.decode(i,e));return n}function xN(t,e){const n=[];for(let i,s=-1,a=-1,c=t.childrenLength();++s<c;)(i=t.children(s))&&(n[++a]=Un.decode(i,e));return n}function Xpe(t,e){let n,i,s,a,c,d;return!e||!(d=t.dictionary())?(s=IN(t,xN(t,e)),i=new Un(t.name(),s,t.nullable(),Bm(t))):e.has(n=d.id().low)?(a=(a=d.indexType())?BN(a):new n3,c=new Z1(e.get(n),a,n,d.isOrdered()),i=new Un(t.name(),c,t.nullable(),Bm(t))):(a=(a=d.indexType())?BN(a):new n3,e.set(n,s=IN(t,xN(t,e))),c=new Z1(s,a,n,d.isOrdered()),i=new Un(t.name(),c,t.nullable(),Bm(t))),i||null}function Bm(t){const e=new Map;if(t)for(let n,i,s=-1,a=Math.trunc(t.customMetadataLength());++s<a;)(n=t.customMetadata(s))&&(i=n.key())!=null&&e.set(i,n.value());return e}function BN(t){return new pd(t.isSigned(),t.bitWidth())}function IN(t,e){const n=t.typeType();switch(n){case Mn.NONE:return new hd;case Mn.Null:return new hd;case Mn.Binary:return new ew;case Mn.Utf8:return new tw;case Mn.Bool:return new nw;case Mn.List:return new ow((e||[])[0]);case Mn.Struct_:return new ls(e||[])}switch(n){case Mn.Int:{const i=t.type(new dr);return new pd(i.isSigned(),i.bitWidth())}case Mn.FloatingPoint:{const i=t.type(new go);return new i3(i.precision())}case Mn.Decimal:{const i=t.type(new Ss);return new iw(i.scale(),i.precision(),i.bitWidth())}case Mn.Date:{const i=t.type(new Tm);return new sw(i.unit())}case Mn.Time:{const i=t.type(new Z0);return new s3(i.unit(),i.bitWidth())}case Mn.Timestamp:{const i=t.type(new Nr);return new rw(i.unit(),i.timezone())}case Mn.Interval:{const i=t.type(new yo);return new aw(i.unit())}case Mn.Union:{const i=t.type(new kf);return new lw(i.mode(),i.typeIdsArray()||[],e||[])}case Mn.FixedSizeBinary:{const i=t.type(new po);return new cw(i.byteWidth())}case Mn.FixedSizeList:{const i=t.type(new _o);return new dw(i.listSize(),(e||[])[0])}case Mn.Map:{const i=t.type(new vm);return new fw((e||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${Mn[n]}" (${n})`)}function Kpe(t,e){const n=e.fields.map(a=>Un.encode(t,a));to.startFieldsVector(t,n.length);const i=to.createFieldsVector(t,n),s=e.metadata&&e.metadata.size>0?to.createCustomMetadataVector(t,[...e.metadata].map(([a,c])=>{const d=t.createString(`${a}`),f=t.createString(`${c}`);return ei.startKeyValue(t),ei.addKey(t,d),ei.addValue(t,f),ei.endKeyValue(t)})):-1;return to.startSchema(t),to.addFields(t,i),to.addEndianness(t,n3e?e2.Little:e2.Big),s!==-1&&to.addCustomMetadata(t,s),to.endSchema(t)}function Zpe(t,e){let n=-1,i=-1,s=-1;const a=e.type;let c=e.typeId;tt.isDictionary(a)?(c=a.dictionary.typeId,s=j8.visit(a,t),i=j8.visit(a.dictionary,t)):i=j8.visit(a,t);const d=(a.children||[]).map(o=>Un.encode(t,o)),f=Fr.createChildrenVector(t,d),u=e.metadata&&e.metadata.size>0?Fr.createCustomMetadataVector(t,[...e.metadata].map(([o,g])=>{const y=t.createString(`${o}`),m=t.createString(`${g}`);return ei.startKeyValue(t),ei.addKey(t,y),ei.addValue(t,m),ei.endKeyValue(t)})):-1;return e.name&&(n=t.createString(e.name)),Fr.startField(t),Fr.addType(t,i),Fr.addTypeType(t,c),Fr.addChildren(t,f),Fr.addNullable(t,!!e.nullable),n!==-1&&Fr.addName(t,n),s!==-1&&Fr.addDictionary(t,s),u!==-1&&Fr.addCustomMetadata(t,u),Fr.endField(t)}function Jpe(t,e){const n=e.nodes||[],i=e.buffers||[];Tl.startNodesVector(t,n.length);for(const c of n.slice().reverse())Gu.encode(t,c);const s=t.endVector();Tl.startBuffersVector(t,i.length);for(const c of i.slice().reverse())bo.encode(t,c);const a=t.endVector();return Tl.startRecordBatch(t),Tl.addLength(t,new mu(e.length,0)),Tl.addNodes(t,s),Tl.addBuffers(t,a),Tl.endRecordBatch(t)}function Qpe(t,e){const n=wr.encode(t,e.data);return qh.startDictionaryBatch(t),qh.addId(t,new mu(e.id,0)),qh.addIsDelta(t,e.isDelta),qh.addData(t,n),qh.endDictionaryBatch(t)}function e3e(t,e){return Jq.createFieldNode(t,new mu(e.length,0),new mu(e.nullCount,0))}function t3e(t,e){return Zq.createBuffer(t,new mu(e.offset,0),new mu(e.length,0))}const n3e=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})(),RS=t=>`Expected ${Qt[t]} Message in stream, but was null or length 0.`,DS=t=>`Header pointer of flatbuffer-encoded ${Qt[t]} Message is null or length 0.`,nG=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,iG=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class sG{constructor(e){this.source=e instanceof Lw?e:new Lw(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Nn:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(RS(e));return n.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const n=Gt(this.source.read(e));if(n.byteLength<e)throw new Error(iG(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(e=!1){const n=Qt.Schema,i=this.readMessage(n),s=i==null?void 0:i.header();if(e&&!s)throw new Error(DS(n));return s}readMetadataLength(){const e=this.source.read(yL),n=e&&new J1(e),i=(n==null?void 0:n.readInt32(0))||0;return{done:i===0,value:i}}readMetadata(e){const n=this.source.read(e);if(!n)return Nn;if(n.byteLength<e)throw new Error(nG(e,n.byteLength));return{done:!1,value:cs.decode(n)}}}class i3e{constructor(e,n){this.source=e instanceof n2?e:SV(e)?new bw(e,n):new n2(e)}[Symbol.asyncIterator](){return this}next(){return ge(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?Nn:e})}throw(e){return ge(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return ge(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return ge(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(RS(e));return n.value})}readMessageBody(e){return ge(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const n=Gt(yield this.source.read(e));if(n.byteLength<e)throw new Error(iG(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(e=!1){return ge(this,void 0,void 0,function*(){const n=Qt.Schema,i=yield this.readMessage(n),s=i==null?void 0:i.header();if(e&&!s)throw new Error(DS(n));return s})}readMetadataLength(){return ge(this,void 0,void 0,function*(){const e=yield this.source.read(yL),n=e&&new J1(e),i=(n==null?void 0:n.readInt32(0))||0;return{done:i===0,value:i}})}readMetadata(e){return ge(this,void 0,void 0,function*(){const n=yield this.source.read(e);if(!n)return Nn;if(n.byteLength<e)throw new Error(nG(e,n.byteLength));return{done:!1,value:cs.decode(n)}})}}class s3e extends sG{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof LN?e:new LN(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:cs.fromJSON(e.schema,Qt.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const n=e.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:cs.fromJSON(n,Qt.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:cs.fromJSON(n,Qt.RecordBatch)}}return this._body=[],Nn}readMessageBody(e){return n(this._body);function n(i){return(i||[]).reduce((s,a)=>[...s,...a.VALIDITY&&[a.VALIDITY]||[],...a.TYPE&&[a.TYPE]||[],...a.OFFSET&&[a.OFFSET]||[],...a.DATA&&[a.DATA]||[],...n(a.children)],[])}}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(RS(e));return n.value}readSchema(){const e=Qt.Schema,n=this.readMessage(e),i=n==null?void 0:n.header();if(!n||!i)throw new Error(DS(e));return i}}const yL=4,h7="ARROW1",a3=new Uint8Array(h7.length);for(let t=0;t<h7.length;t+=1)a3[t]=h7.codePointAt(t);function PS(t,e=0){for(let n=-1,i=a3.length;++n<i;)if(a3[n]!==t[e+n])return!1;return!0}const o_=a3.length,rG=o_+yL,r3e=o_*2+yL;class Ur extends FS{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const n=this._impl.open(e);return yu(n)?n.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Ar.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Ar.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof Ur?e:t7(e)?c3e(e):SV(e)?u3e(e):yu(e)?(()=>ge(this,void 0,void 0,function*(){return yield Ur.from(yield e)}))():xV(e)||gS(e)||BV(e)||N2(e)?f3e(new n2(e)):d3e(new Lw(e))}static readAll(e){return e instanceof Ur?e.isSync()?kN(e):FN(e):t7(e)||ArrayBuffer.isView(e)||i_(e)||EV(e)?kN(e):FN(e)}}class Sw extends Ur{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return qn(this,arguments,function*(){yield xe(yield*Kc(fs(this[Symbol.iterator]())))})}}class xw extends Ur{constructor(e){super(e),this._impl=e}readAll(){var e,n;return ge(this,void 0,void 0,function*(){const i=new Array;try{for(var s=fs(this),a;a=yield s.next(),!a.done;){const c=a.value;i.push(c)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=s.return)&&(yield n.call(s))}finally{if(e)throw e.error}}return i})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class aG extends Sw{constructor(e){super(e),this._impl=e}}class a3e extends xw{constructor(e){super(e),this._impl=e}}class oG{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,n){const i=this._loadVectors(e,n,this.schema.fields),s=Ot({type:new ls(this.schema.fields),length:e.length,children:i});return new ks(this.schema,s)}_loadDictionaryBatch(e,n){const{id:i,isDelta:s}=e,{dictionaries:a,schema:c}=this,d=a.get(i);if(s||!d){const f=c.dictionaries.get(i),u=this._loadVectors(e.data,n,[f]);return(d&&s?d.concat(new en(u)):new en(u)).memoize()}return d.memoize()}_loadVectors(e,n,i){return new Wq(n,e.nodes,e.buffers,this.dictionaries).visitMany(i)}}class Bw extends oG{constructor(e,n){super(n),this._reader=t7(e)?new s3e(this._handle=e):new sG(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=cG(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):Nn}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):Nn}next(){if(this.closed)return Nn;let e;const{_reader:n}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const i=e.header(),s=n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(i,s)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const i=e.header(),s=n.readMessageBody(e.bodyLength),a=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,a)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new CS(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class Iw extends oG{constructor(e,n){super(n),this._reader=new i3e(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return ge(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return ge(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=cG(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return ge(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):Nn})}return(e){return ge(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):Nn})}next(){return ge(this,void 0,void 0,function*(){if(this.closed)return Nn;let e;const{_reader:n}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const i=e.header(),s=yield n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(i,s)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const i=e.header(),s=yield n.readMessageBody(e.bodyLength),a=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,a)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new CS(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return ge(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class lG extends Bw{constructor(e,n){super(e instanceof bN?e:new bN(e),n)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var n;if(this.closed)return null;this._footer||this.open();const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(i&&this._handle.seek(i.offset)){const s=this._reader.readMessage(Qt.RecordBatch);if(s!=null&&s.isRecordBatch()){const a=s.header(),c=this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(a,c)}}return null}_readDictionaryBatch(e){var n;const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(i&&this._handle.seek(i.offset)){const s=this._reader.readMessage(Qt.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const a=s.header(),c=this._reader.readMessageBody(s.bodyLength),d=this._loadDictionaryBatch(a,c);this.dictionaries.set(a.id,d)}}}_readFooter(){const{_handle:e}=this,n=e.size-rG,i=e.readInt32(n),s=e.readAt(n-i,i);return r3.decode(s)}_readNextMessageAndValidate(e){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(e)}return null}}class o3e extends Iw{constructor(e,...n){const i=typeof n[0]!="number"?n.shift():void 0,s=n[0]instanceof Map?n.shift():void 0;super(e instanceof bw?e:new bw(e,i),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){const n=Object.create(null,{open:{get:()=>super.open}});return ge(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const i of this._footer.dictionaryBatches())i&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,e)})}readRecordBatch(e){var n;return ge(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(i&&(yield this._handle.seek(i.offset))){const s=yield this._reader.readMessage(Qt.RecordBatch);if(s!=null&&s.isRecordBatch()){const a=s.header(),c=yield this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(a,c)}}return null})}_readDictionaryBatch(e){var n;return ge(this,void 0,void 0,function*(){const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(i&&(yield this._handle.seek(i.offset))){const s=yield this._reader.readMessage(Qt.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const a=s.header(),c=yield this._reader.readMessageBody(s.bodyLength),d=this._loadDictionaryBatch(a,c);this.dictionaries.set(a.id,d)}}})}_readFooter(){return ge(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const n=e.size-rG,i=yield e.readInt32(n),s=yield e.readAt(n-i,i);return r3.decode(s)})}_readNextMessageAndValidate(e){return ge(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(e)}return null})}}class l3e extends Bw{constructor(e,n){super(e,n)}_loadVectors(e,n,i){return new Lpe(n,e.nodes,e.buffers,this.dictionaries).visitMany(i)}}function cG(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*kN(t){const e=Ur.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function FN(t){return qn(this,arguments,function*(){const n=yield xe(Ur.from(t));try{if(!(yield xe(n.open({autoDestroy:!1}))).closed)do yield yield xe(n);while(!(yield xe(n.reset().open())).closed)}finally{yield xe(n.cancel())}})}function c3e(t){return new Sw(new l3e(t))}function d3e(t){const e=t.peek(o_+7&-8);return e&&e.byteLength>=4?PS(e)?new aG(new lG(t.read())):new Sw(new Bw(t)):new Sw(new Bw(function*(){}()))}function f3e(t){return ge(this,void 0,void 0,function*(){const e=yield t.peek(o_+7&-8);return e&&e.byteLength>=4?PS(e)?new aG(new lG(yield t.read())):new xw(new Iw(t)):new xw(new Iw(function(){return qn(this,arguments,function*(){})}()))})}function u3e(t){return ge(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),n=new bw(t,e);return e>=r3e&&PS(yield n.readAt(0,o_+7&-8))?new a3e(new o3e(n)):new xw(new Iw(n))})}class Yn extends Dt{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){const n=s=>s.flatMap(a=>Array.isArray(a)?n(a):a instanceof ks?a.data.children:a.data),i=new Yn;return i.visitMany(n(e)),i}visit(e){if(e instanceof en)return this.visitMany(e.data),this;const{type:n}=e;if(!tt.isDictionary(n)){const{length:i,nullCount:s}=e;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");tt.isNull(n)||Ta.call(this,s<=0?new Uint8Array(0):SS(e.offset,i,e.nullBitmap)),this.nodes.push(new Gu(i,s))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ta(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new bo(this._byteLength,e)),this._byteLength+=e,this}function h3e(t){const{type:e,length:n,typeIds:i,valueOffsets:s}=t;if(Ta.call(this,i),e.mode===mr.Sparse)return p7.call(this,t);if(e.mode===mr.Dense){if(t.offset<=0)return Ta.call(this,s),p7.call(this,t);{const a=i.reduce((o,g)=>Math.max(o,g),i[0]),c=new Int32Array(a+1),d=new Int32Array(a+1).fill(-1),f=new Int32Array(n),u=mS(-s[0],n,s);for(let o,g,y=-1;++y<n;)(g=d[o=i[y]])===-1&&(g=d[o]=u[o]),f[y]=u[y]-g,++c[o];Ta.call(this,f);for(let o,g=-1,y=e.children.length;++g<y;)if(o=t.children[g]){const m=e.typeIds[g],l=Math.min(n,c[m]);this.visit(o.slice(d[m],l))}}}return this}function p3e(t){let e;return t.nullCount>=t.length?Ta.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Ta.call(this,SS(t.offset,t.length,e)):Ta.call(this,uw(t.values))}function Hd(t){return Ta.call(this,t.values.subarray(0,t.length*t.stride))}function dG(t){const{length:e,values:n,valueOffsets:i}=t,s=i[0],a=i[e],c=Math.min(a-s,n.byteLength-s);return Ta.call(this,mS(-i[0],e,i)),Ta.call(this,n.subarray(s,s+c)),this}function $S(t){const{length:e,valueOffsets:n}=t;return n&&Ta.call(this,mS(n[0],e,n)),this.visit(t.children[0])}function p7(t){return this.visitMany(t.type.children.map((e,n)=>t.children[n]).filter(Boolean))[0]}Yn.prototype.visitBool=p3e;Yn.prototype.visitInt=Hd;Yn.prototype.visitFloat=Hd;Yn.prototype.visitUtf8=dG;Yn.prototype.visitBinary=dG;Yn.prototype.visitFixedSizeBinary=Hd;Yn.prototype.visitDate=Hd;Yn.prototype.visitTimestamp=Hd;Yn.prototype.visitTime=Hd;Yn.prototype.visitDecimal=Hd;Yn.prototype.visitList=$S;Yn.prototype.visitStruct=p7;Yn.prototype.visitUnion=h3e;Yn.prototype.visitInterval=Hd;Yn.prototype.visitFixedSizeList=$S;Yn.prototype.visitMap=$S;class fG extends FS{constructor(e){super(),this._position=0,this._started=!1,this._sink=new Sm,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Vs(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return yu(e)?e.then(n=>this.writeAll(n)):N2(e)?jS(this,e):HS(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,n=null){return e===this._sink||e instanceof Sm?this._sink=e:(this._sink=new Sm,e&&C2e(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&R2e(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!d7(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(e){let n=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof rs&&!(n=e.schema))return this.finish()&&void 0;if(e instanceof ks&&!(n=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!d7(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}e instanceof ks?e instanceof CS||this._writeRecordBatch(e):e instanceof rs?this.writeAll(e.batches):i_(e)&&this.writeAll(e)}_writeMessage(e,n=8){const i=n-1,s=cs.encode(e),a=s.byteLength,c=this._writeLegacyIpcFormat?4:8,d=a+c+i&~i,f=d-a-c;return e.headerType===Qt.RecordBatch?this._recordBatchBlocks.push(new _d(d,e.bodyLength,this._position)):e.headerType===Qt.DictionaryBatch&&this._dictionaryBlocks.push(new _d(d,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(d-c)),a>0&&this._write(s),this._writePadding(f)}_write(e){if(this._started){const n=Gt(e);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(e){return this._writeMessage(cs.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(a3)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:n,nodes:i,bufferRegions:s,buffers:a}=Yn.assemble(e),c=new wr(e.numRows,i,s),d=cs.from(c,n);return this._writeDictionaries(e)._writeMessage(d)._writeBodyBuffers(a)}_writeDictionaryBatch(e,n,i=!1){this._dictionaryDeltaOffsets.set(n,e.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:s,nodes:a,bufferRegions:c,buffers:d}=Yn.assemble(new en([e])),f=new wr(e.length,a,c),u=new Uo(f,n,i),o=cs.from(u,s);return this._writeMessage(o)._writeBodyBuffers(d)}_writeBodyBuffers(e){let n,i,s;for(let a=-1,c=e.length;++a<c;)(n=e[a])&&(i=n.byteLength)>0&&(this._write(n),(s=(i+7&-8)-i)>0&&this._writePadding(s));return this}_writeDictionaries(e){for(let[n,i]of e.dictionaries){let s=this._dictionaryDeltaOffsets.get(n)||0;if(s===0||(i=i==null?void 0:i.slice(s)).length>0)for(const a of i.data)this._writeDictionaryBatch(a,n,s>0),s+=a.length}return this}}class US extends fG{static writeAll(e,n){const i=new US(n);return yu(e)?e.then(s=>i.writeAll(s)):N2(e)?jS(i,e):HS(i,e)}}class zS extends fG{static writeAll(e){const n=new zS;return yu(e)?e.then(i=>n.writeAll(i)):N2(e)?jS(n,e):HS(n,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){const n=r3.encode(new r3(e,fr.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function HS(t,e){let n=e;e instanceof rs&&(n=e.batches,t.reset(void 0,e.schema));for(const i of n)t.write(i);return t.finish()}function jS(t,e){var n,i,s,a;return ge(this,void 0,void 0,function*(){try{for(n=fs(e);i=yield n.next(),!i.done;){const c=i.value;t.write(c)}}catch(c){s={error:c}}finally{try{i&&!i.done&&(a=n.return)&&(yield a.call(n))}finally{if(s)throw s.error}}return t.finish()})}function _3e(t,e="stream"){return(e==="stream"?US:zS).writeAll(t).toUint8Array(!0)}var g3e=Object.create,uG=Object.defineProperty,y3e=Object.getOwnPropertyDescriptor,m3e=Object.getOwnPropertyNames,w3e=Object.getPrototypeOf,L3e=Object.prototype.hasOwnProperty,b3e=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),T3e=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of m3e(e))!L3e.call(t,s)&&s!==n&&uG(t,s,{get:()=>e[s],enumerable:!(i=y3e(e,s))||i.enumerable});return t},v3e=(t,e,n)=>(n=t!=null?g3e(w3e(t)):{},T3e(e||!t||!t.__esModule?uG(n,"default",{value:t,enumerable:!0}):n,t)),E3e=b3e((t,e)=>{e.exports=Worker}),S3e=(t=>(t[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",t))(S3e||{}),x3e=(t=>(t[t.NONE=0]="NONE",t[t.CONNECT=1]="CONNECT",t[t.DISCONNECT=2]="DISCONNECT",t[t.OPEN=3]="OPEN",t[t.QUERY=4]="QUERY",t[t.INSTANTIATE=5]="INSTANTIATE",t))(x3e||{}),B3e=(t=>(t[t.NONE=0]="NONE",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR",t[t.START=3]="START",t[t.RUN=4]="RUN",t[t.CAPTURE=5]="CAPTURE",t))(B3e||{}),I3e=(t=>(t[t.NONE=0]="NONE",t[t.WEB_WORKER=1]="WEB_WORKER",t[t.NODE_WORKER=2]="NODE_WORKER",t[t.BINDINGS=3]="BINDINGS",t[t.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",t))(I3e||{}),k3e=class{constructor(t=2){this.level=t}log(t){t.level>=this.level&&console.log(t)}},F3e=(t=>(t[t.SUCCESS=0]="SUCCESS",t))(F3e||{}),M3e=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),n=Ur.from(e);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new rs(n)}async send(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.startPendingQuery(this._conn,t);for(;e==null;)e=await this._bindings.pollPendingQuery(this._conn);let n=new hG(this._bindings,this._conn,e),i=await Ur.from(n);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new A3e(this._bindings,this._conn,e)}async insertArrowTable(t,e){let n=_3e(t,"stream");await this.insertArrowFromIPCStream(n,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},hG=class{constructor(t,e,n){this.db=t,this.conn=e,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t;return this._inFlight!=null?(t=await this._inFlight,this._inFlight=null):t=await this.db.fetchQueryResults(this.conn),this._depleted=t.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},A3e=class{constructor(e,n,i){this.bindings=e,this.connectionId=n,this.statementId=i}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let n=await this.bindings.runPrepared(this.connectionId,this.statementId,e),i=Ur.from(n);return console.assert(i.isSync()),console.assert(i.isFile()),new rs(i)}async send(...e){let n=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),i=new hG(this.bindings,this.connectionId,n),s=await Ur.from(i);return console.assert(s.isAsync()),console.assert(s.isStream()),s}},O3e=(t=>(t.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",t.CLOSE_PREPARED="CLOSE_PREPARED",t.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",t.CONNECT="CONNECT",t.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",t.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",t.CREATE_PREPARED="CREATE_PREPARED",t.DISCONNECT="DISCONNECT",t.DROP_FILE="DROP_FILE",t.DROP_FILES="DROP_FILES",t.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",t.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",t.FLUSH_FILES="FLUSH_FILES",t.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",t.GET_TABLE_NAMES="GET_TABLE_NAMES",t.GET_VERSION="GET_VERSION",t.GLOB_FILE_INFOS="GLOB_FILE_INFOS",t.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",t.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",t.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",t.INSTANTIATE="INSTANTIATE",t.OPEN="OPEN",t.PING="PING",t.POLL_PENDING_QUERY="POLL_PENDING_QUERY",t.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",t.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",t.REGISTER_FILE_URL="REGISTER_FILE_URL",t.RESET="RESET",t.RUN_PREPARED="RUN_PREPARED",t.RUN_QUERY="RUN_QUERY",t.SEND_PREPARED="SEND_PREPARED",t.START_PENDING_QUERY="START_PENDING_QUERY",t.TOKENIZE="TOKENIZE",t))(O3e||{}),N3e=(t=>(t.CONNECTION_INFO="CONNECTION_INFO",t.ERROR="ERROR",t.FEATURE_FLAGS="FEATURE_FLAGS",t.FILE_BUFFER="FILE_BUFFER",t.FILE_INFOS="FILE_INFOS",t.FILE_SIZE="FILE_SIZE",t.FILE_STATISTICS="FILE_STATISTICS",t.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",t.LOG="LOG",t.OK="OK",t.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",t.QUERY_PLAN="QUERY_PLAN",t.QUERY_RESULT="QUERY_RESULT",t.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",t.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",t.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",t.REGISTERED_FILE="REGISTERED_FILE",t.SCRIPT_TOKENS="SCRIPT_TOKENS",t.SUCCESS="SUCCESS",t.TABLE_NAMES="TABLE_NAMES",t.VERSION_STRING="VERSION_STRING",t))(N3e||{}),$t=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((n,i)=>{this.promiseResolver=n,this.promiseRejecter=i})}};function Im(t){switch(t.typeId){case J.Binary:return{sqlType:"binary"};case J.Bool:return{sqlType:"bool"};case J.Date:return{sqlType:"date"};case J.DateDay:return{sqlType:"date32[d]"};case J.DateMillisecond:return{sqlType:"date64[ms]"};case J.Decimal:{let e=t;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case J.Float:return{sqlType:"float"};case J.Float16:return{sqlType:"float16"};case J.Float32:return{sqlType:"float32"};case J.Float64:return{sqlType:"float64"};case J.Int:return{sqlType:"int32"};case J.Int16:return{sqlType:"int16"};case J.Int32:return{sqlType:"int32"};case J.Int64:return{sqlType:"int64"};case J.Uint16:return{sqlType:"uint16"};case J.Uint32:return{sqlType:"uint32"};case J.Uint64:return{sqlType:"uint64"};case J.Uint8:return{sqlType:"uint8"};case J.IntervalDayTime:return{sqlType:"interval[dt]"};case J.IntervalYearMonth:return{sqlType:"interval[m]"};case J.List:return{sqlType:"list",valueType:Im(t.valueType)};case J.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case J.Null:return{sqlType:"null"};case J.Utf8:return{sqlType:"utf8"};case J.Struct:return{sqlType:"struct",fields:t.children.map(e=>_7(e.name,e.type))};case J.Map:{let e=t;return{sqlType:"map",keyType:Im(e.keyType),valueType:Im(e.valueType)}}case J.Time:return{sqlType:"time[s]"};case J.TimeMicrosecond:return{sqlType:"time[us]"};case J.TimeMillisecond:return{sqlType:"time[ms]"};case J.TimeNanosecond:return{sqlType:"time[ns]"};case J.TimeSecond:return{sqlType:"time[s]"};case J.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case J.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case J.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case J.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case J.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error(`unsupported arrow type: ${t.toString()}`)}function _7(t,e){let n=Im(e);return n.name=t,n}var C3e=new TextEncoder,R3e=class{constructor(t,e=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(t){this._worker=t,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,n)=>{this._workerShutdownResolver=e})}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let n=this._nextMessageId++;return this._pendingRequests.set(n,t),this._worker.postMessage({messageId:n,type:t.type,data:t.data},e),await t.promise}onMessage(t){let e=t.data;switch(e.type){case"LOG":{this._logger.log(e.data);return}case"INSTANTIATE_PROGRESS":{for(let i of this._onInstantiationProgress)i(e.data);return}}let n=this._pendingRequests.get(e.requestId);if(!n){console.warn(`unassociated response: [${e.requestId}, ${e.type.toString()}]`);return}if(this._pendingRequests.delete(e.requestId),e.type=="ERROR"){let i=new Error(e.data.message);i.name=e.data.name,i.stack=e.data.stack,n.promiseRejecter(i);return}switch(n.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(e.type=="OK"){n.promiseResolver(e.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],e.type=="OK"){n.promiseResolver(e.data);return}break;case"GLOB_FILE_INFOS":if(e.type=="FILE_INFOS"){n.promiseResolver(e.data);return}break;case"GET_VERSION":if(e.type=="VERSION_STRING"){n.promiseResolver(e.data);return}break;case"GET_FEATURE_FLAGS":if(e.type=="FEATURE_FLAGS"){n.promiseResolver(e.data);return}break;case"GET_TABLE_NAMES":if(e.type=="TABLE_NAMES"){n.promiseResolver(e.data);return}break;case"TOKENIZE":if(e.type=="SCRIPT_TOKENS"){n.promiseResolver(e.data);return}break;case"COPY_FILE_TO_BUFFER":if(e.type=="FILE_BUFFER"){n.promiseResolver(e.data);return}break;case"EXPORT_FILE_STATISTICS":if(e.type=="FILE_STATISTICS"){n.promiseResolver(e.data);return}break;case"CONNECT":if(e.type=="CONNECTION_INFO"){n.promiseResolver(e.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(e.type=="QUERY_RESULT"){n.promiseResolver(e.data);return}break;case"SEND_PREPARED":if(e.type=="QUERY_RESULT_HEADER"){n.promiseResolver(e.data);return}break;case"START_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){n.promiseResolver(e.data);return}break;case"POLL_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){n.promiseResolver(e.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],e.type=="SUCCESS"){n.promiseResolver(e.data);return}break;case"FETCH_QUERY_RESULTS":if(e.type=="QUERY_RESULT_CHUNK"){n.promiseResolver(e.data);return}break;case"CREATE_PREPARED":if(e.type=="PREPARED_STATEMENT_ID"){n.promiseResolver(e.data);return}break}n.promiseRejecter(new Error(`unexpected response type: ${e.type.toString()}`))}onError(t){console.error(t),console.error(`error in duckdb worker: ${t.message}`),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`);return}this._pendingRequests.clear()}async reset(){let t=new $t("RESET",null);return await this.postTask(t)}async ping(){let t=new $t("PING",null);await this.postTask(t)}async dropFile(t){let e=new $t("DROP_FILE",t);return await this.postTask(e)}async dropFiles(){let t=new $t("DROP_FILES",null);return await this.postTask(t)}async flushFiles(){let t=new $t("FLUSH_FILES",null);return await this.postTask(t)}async instantiate(t,e=null,n=i=>{}){this._onInstantiationProgress.push(n);let i=new $t("INSTANTIATE",[t,e]);return await this.postTask(i)}async getVersion(){let t=new $t("GET_VERSION",null);return await this.postTask(t)}async getFeatureFlags(){let t=new $t("GET_FEATURE_FLAGS",null);return await this.postTask(t)}async open(t){let e=new $t("OPEN",t);await this.postTask(e)}async tokenize(t){let e=new $t("TOKENIZE",t);return await this.postTask(e)}async connectInternal(){let t=new $t("CONNECT",null);return await this.postTask(t)}async connect(){let t=await this.connectInternal();return new M3e(this,t)}async disconnect(t){let e=new $t("DISCONNECT",t);await this.postTask(e)}async runQuery(t,e){let n=new $t("RUN_QUERY",[t,e]);return await this.postTask(n)}async startPendingQuery(t,e){let n=new $t("START_PENDING_QUERY",[t,e]);return await this.postTask(n)}async pollPendingQuery(t){let e=new $t("POLL_PENDING_QUERY",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new $t("CANCEL_PENDING_QUERY",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new $t("FETCH_QUERY_RESULTS",t);return await this.postTask(e)}async getTableNames(t,e){let n=new $t("GET_TABLE_NAMES",[t,e]);return await this.postTask(n)}async createPrepared(t,e){let n=new $t("CREATE_PREPARED",[t,e]);return await this.postTask(n)}async closePrepared(t,e){let n=new $t("CLOSE_PREPARED",[t,e]);await this.postTask(n)}async runPrepared(t,e,n){let i=new $t("RUN_PREPARED",[t,e,n]);return await this.postTask(i)}async sendPrepared(t,e,n){let i=new $t("SEND_PREPARED",[t,e,n]);return await this.postTask(i)}async globFiles(t){let e=new $t("GLOB_FILE_INFOS",t);return await this.postTask(e)}async registerFileText(t,e){let n=C3e.encode(e);await this.registerFileBuffer(t,n)}async registerFileURL(t,e,n,i){e===void 0&&(e=t);let s=new $t("REGISTER_FILE_URL",[t,e,n,i]);await this.postTask(s)}async registerEmptyFileBuffer(t){let e=new $t("REGISTER_FILE_BUFFER",[t,new Uint8Array]);await this.postTask(e)}async registerFileBuffer(t,e){let n=new $t("REGISTER_FILE_BUFFER",[t,e]);await this.postTask(n,[e.buffer])}async registerFileHandle(t,e,n,i){let s=new $t("REGISTER_FILE_HANDLE",[t,e,n,i]);await this.postTask(s,[])}async collectFileStatistics(t,e){let n=new $t("COLLECT_FILE_STATISTICS",[t,e]);await this.postTask(n,[])}async exportFileStatistics(t){let e=new $t("EXPORT_FILE_STATISTICS",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new $t("COPY_FILE_TO_BUFFER",t);return await this.postTask(e)}async copyFileToPath(t,e){let n=new $t("COPY_FILE_TO_PATH",[t,e]);await this.postTask(n)}async insertArrowFromIPCStream(t,e,n){if(e.length==0)return;let i=new $t("INSERT_ARROW_FROM_IPC_STREAM",[t,e,n]);await this.postTask(i,[e.buffer])}async insertCSVFromPath(t,e,n){if(n.columns!==void 0){let s=[];for(let a in n.columns){let c=n.columns[a];s.push(_7(a,c))}n.columnsFlat=s,delete n.columns}let i=new $t("IMPORT_CSV_FROM_PATH",[t,e,n]);await this.postTask(i)}async insertJSONFromPath(t,e,n){if(n.columns!==void 0){let s=[];for(let a in n.columns){let c=n.columns[a];s.push(_7(a,c))}n.columnsFlat=s,delete n.columns}let i=new $t("IMPORT_JSON_FROM_PATH",[t,e,n]);await this.postTask(i)}},D3e=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),P3e=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),$3e=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),U3e=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),VS={name:"@duckdb/duckdb-wasm",version:"1.25.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^11.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.1","@typescript-eslint/eslint-plugin":"^5.53.0","@typescript-eslint/parser":"^5.49.0",esbuild:"^0.15.12",eslint:"^8.35.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.32.2","fast-glob":"^3.2.12",jasmine:"^4.5.0","jasmine-core":"^4.3.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.1","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.0.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.36","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.8.4",puppeteer:"^19.7.2",rimraf:"^4.3.0",s3rver:"^3.7.1",typedoc:"^0.23.27",typescript:"^4.8.4","wasm-feature-detect":"^1.4.0","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},z3e=VS.name,H3e=VS.version,qS=VS.version.split(".");qS[0];qS[1];qS[2];var j3e=()=>typeof navigator>"u";function V3e(){let t=`https://cdn.jsdelivr.net/npm/${z3e}@${H3e}/dist/`;return{mvp:{mainModule:`${t}duckdb-mvp.wasm`,mainWorker:`${t}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${t}duckdb-eh.wasm`,mainWorker:`${t}duckdb-browser-eh.worker.js`}}}var V8=null,q8=null,G8=null,W8=null,Y8=null;async function q3e(){return V8==null&&(V8=typeof BigInt64Array<"u"),q8==null&&(q8=await P3e()),G8==null&&(G8=await U3e()),W8==null&&(W8=await $3e()),Y8==null&&(Y8=await D3e()),{bigInt64Array:V8,crossOriginIsolated:j3e()||globalThis.crossOriginIsolated||!1,wasmExceptions:q8,wasmSIMD:W8,wasmThreads:G8,wasmBulkMemory:Y8}}async function G3e(t){let e=await q3e();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}var W3e=v3e(E3e());async function Y3e(t){let e=new Request(t),n=await fetch(e),i=URL.createObjectURL(await n.blob());return new W3e.default(i)}function X3e(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}X3e();var K3e=(t=>(t[t.BUFFER=0]="BUFFER",t[t.NODE_FS=1]="NODE_FS",t[t.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",t[t.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",t[t.HTTP=4]="HTTP",t[t.S3=5]="S3",t))(K3e||{});class GS extends F2e{constructor(e,n,i){super(n,i),this.db=e}async query(e){const n=performance.now();e=e.replaceAll("count(*)","count(*)::INT");const i=await this.db.connect(),s=await i.query(e);return i.close(),e=I2e(e),console.info(`%c${e}`,"color: #bbb",`
Rows:`,s.numRows,"Execution time:",performance.now()-n,"ms."),s}castTime(e){return`epoch(${e})*1000`}static async fromParquetFile(e,n="data",i,s=!0){const a=await Z3e(n,`CREATE TABLE '${n}' AS SELECT * FROM parquet_scan('${s?J3e(e):e}')`);return new GS(a,n,i)}}async function Z3e(t,e){const n=V3e(),i=await G3e(n),s=await Y3e(i.mainWorker),a=new k3e,c=new R3e(a,s);await c.instantiate(i.mainModule,i.pthreadWorker);const d=await c.connect();await d.query(e);const f=await d.query(`PRAGMA table_info('${t}')`);return console.table(f.toArray().map(Object.fromEntries)),d.close(),c}function J3e(t){return`${window.location.href}${t}`}var pG={exports:{}};const Q3e=nre(Jse);(function(t,e){(function(i,s){t.exports=s(Q3e)})(tre,function(n){return(()=>{var i={2190:c=>{c.exports=function(f,u,o){if(f.filter)return f.filter(u,o);if(f==null)throw new TypeError;if(typeof u!="function")throw new TypeError;for(var g=[],y=0;y<f.length;y++)if(d.call(f,y)){var m=f[y];u.call(o,m,y,f)&&g.push(m)}return g};var d=Object.prototype.hasOwnProperty},6314:(c,d,f)=>{var u=f(2190);c.exports=function(){return u(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(g){return typeof f.g[g]=="function"})}},7123:(c,d,f)=>{f.r(d),f.d(d,{DbCon:()=>qt,default:()=>_e,Client:()=>L.Client,Processor:()=>L.Processor});var u=f(6729),o=f.n(u),g=f(2003),y=f(9539),m=f.n(y),l=f(2818),b=f(2607),L=f(4221),E=f(9262),S=f(5141),x=f(2033),M={};for(const V in l)["default","DbCon","Client","Processor"].indexOf(V)<0&&(M[V]=()=>l[V]);f.d(d,M);var k=f(4494),M={};for(const V in k)["default","DbCon","Client","Processor"].indexOf(V)<0&&(M[V]=()=>k[V]);f.d(d,M);var B=f(1396),M={};for(const V in B)["default","DbCon","Client","Processor"].indexOf(V)<0&&(M[V]=()=>B[V]);f.d(d,M);var M={};for(const V in b)["default","DbCon","Client","Processor"].indexOf(V)<0&&(M[V]=()=>b[V]);f.d(d,M);var A=f(3962),M={};for(const V in A)["default","DbCon","Client","Processor"].indexOf(V)<0&&(M[V]=()=>A[V]);f.d(d,M);var C=f(8764).Buffer;function R(V,j){var P=Object.keys(V);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(V);j&&(Z=Z.filter(function(Q){return Object.getOwnPropertyDescriptor(V,Q).enumerable})),P.push.apply(P,Z)}return P}function D(V){for(var j=1;j<arguments.length;j++){var P=arguments[j]!=null?arguments[j]:{};j%2?R(Object(P),!0).forEach(function(Z){ie(V,Z,P[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(P)):R(Object(P)).forEach(function(Z){Object.defineProperty(V,Z,Object.getOwnPropertyDescriptor(P,Z))})}return V}function $(V){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(P){return typeof P}:$=function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},$(V)}function Y(V,j){return X(V)||W(V,j)||H(V,j)||z()}function z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H(V,j){if(V){if(typeof V=="string")return q(V,j);var P=Object.prototype.toString.call(V).slice(8,-1);if(P==="Object"&&V.constructor&&(P=V.constructor.name),P==="Map"||P==="Set")return Array.from(V);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return q(V,j)}}function q(V,j){(j==null||j>V.length)&&(j=V.length);for(var P=0,Z=new Array(j);P<j;P++)Z[P]=V[P];return Z}function W(V,j){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(V)))){var P=[],Z=!0,Q=!1,oe=void 0;try{for(var re=V[Symbol.iterator](),ye;!(Z=(ye=re.next()).done)&&(P.push(ye.value),!(j&&P.length===j));Z=!0);}catch(Ee){Q=!0,oe=Ee}finally{try{!Z&&re.return!=null&&re.return()}finally{if(Q)throw oe}}return P}}function X(V){if(Array.isArray(V))return V}function G(V,j){if(!(V instanceof j))throw new TypeError("Cannot call a class as a function")}function le(V,j){for(var P=0;P<j.length;P++){var Z=j[P];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(V,Z.key,Z)}}function pe(V,j,P){return j&&le(V.prototype,j),P&&le(V,P),V}function ie(V,j,P){return j in V?Object.defineProperty(V,j,{value:P,enumerable:!0,configurable:!0,writable:!0}):V[j]=P,V}var Ae=3;function fe(V){return Array.isArray(V)?V:[V]}function Fe(V,j,P){var Z=this;E.XHRConnection.call(this,V,j,P),P.headers["Content-Type"]==="application/vnd.apache.thrift.binary"&&(this.flush=function(){if(Z.url===void 0||Z.url==="")return Z.send_buf;var Q=Z.getXmlHttpRequestObject();Q.responseType="arraybuffer",Q.onreadystatechange=function(){Q.readyState===4&&Q.status===200&&Z.setRecvBuffer(Q.response)},Q.open("POST",Z.url,!0),Object.keys(Z.headers).forEach(function(oe){Q.setRequestHeader(oe,Z.headers[oe])}),Q.send(Z.send_buf)})}m().inherits(Fe,E.XHRConnection),Fe.prototype.getXmlHttpRequestObject=function(){var V=E.XHRConnection.prototype.getXmlHttpRequestObject.call(this);return V.withCredentials=Fe.withCredentials,V};function je(){for(var V=arguments.length,j=new Array(V),P=0;P<V;P++)j[P]=arguments[P];E.TJSONProtocol.apply(this,j)}m().inherits(je,E.TJSONProtocol),je.prototype.writeString=function(V){return V instanceof C||(V=String(V)),E.TJSONProtocol.prototype.writeString.call(this,V)},je.prototype.readI64=function(){var V=E.TJSONProtocol.prototype.readI64.call(this);return V.toNumber(!0)},je.prototype.readBinary=function(){return E.TJSONProtocol.prototype.readString.call(this)};function yt(){for(var V=arguments.length,j=new Array(V),P=0;P<V;P++)j[P]=arguments[P];E.TBinaryProtocol.apply(this,j)}m().inherits(yt,E.TBinaryProtocol),yt.prototype.writeString=function(V){return V instanceof C||(V=String(V)),E.TBinaryProtocol.prototype.writeString.call(this,V)},yt.prototype.readI64=function(){var V=E.TBinaryProtocol.prototype.readI64.call(this);return V.toNumber(!0)},yt.prototype.readBinary=function(){return E.TBinaryProtocol.prototype.readBinary.call(this).toString("base64")};function Pt(V,j){var P=new URL(V),Z=P.protocol,Q=P.hostname,oe=P.port;oe===""&&(oe=Z==="https:"?"443":"80");var re=null;{var ye=new Fe(Q,oe,{transport:E.TBufferedTransport,protocol:j?yt:je,path:"/",headers:{"Content-Type":"application/vnd.apache.thrift.".concat(j?"binary":"json")},https:Z==="https:"});ye.on("error",console.error),re=(0,E.createXHRClient)(L,ye)}return re}var qt=function(){function V(){var j=this;return G(this,V),ie(this,"updateQueryTimes",function(P,Z,Q,oe){j.queryTimes[Z]=oe}),ie(this,"events",new(o())),ie(this,"EVENT_NAMES",{ERROR:"error",METHOD_CALLED:"method-called"}),ie(this,"handleErrors",function(P){return function(){for(var Z=arguments.length,Q=new Array(Z),oe=0;oe<Z;oe++)Q[oe]=arguments[oe];return P.apply(j,Q).catch(function(re){throw j.events.emit(j.EVENT_NAMES.ERROR,re),re})}}),ie(this,"callbackify",function(P,Z){return function(){for(var Q=null,oe=arguments.length,re=new Array(oe),ye=0;ye<oe;ye++)re[ye]=arguments[ye];re.length===Z+1&&(Q=re.pop());var Ee=j[P].apply(j,re);return Q&&Ee.catch(function(Xe){return Q(Xe)}).then(function(Xe){return Q(null,Xe)}),Ee}}),ie(this,"overSingleClient","SINGLE_CLIENT"),ie(this,"overAllClients","ALL_CLIENTS"),ie(this,"wrapThrift",function(P,Z,Q){return function(){if(j._sessionId){for(var oe=arguments.length,re=new Array(oe),ye=0;ye<oe;ye++)re[ye]=arguments[ye];var Ee=Q(re);return j.events.emit(j.EVENT_NAMES.METHOD_CALLED,P),Z===j.overSingleClient?j._client[0][P].apply(j._client[0],[j._sessionId[0]].concat(Ee)):Promise.all(j._client.map(function(Xe,Tn){return Xe[P].apply(Xe,[j._sessionId[Tn]].concat(Ee))}))}else return Promise.reject(new Error("You are not connected to a server. Try running the connect method first."))}}),ie(this,"connect",this.callbackify("connectAsync",0)),ie(this,"disconnectAsync",this.handleErrors(function(){return Promise.all(j._client.map(function(P,Z){return P.disconnect(j._sessionId[Z]).catch(function(Q){if(Q&&!j.isTimeoutError(Q))throw Q})})).then(function(){return j._sessionId=null,j._client=null,j._numConnections=0,j.serverPingTimes=null,j})})),ie(this,"disconnect",this.callbackify("disconnectAsync",0)),ie(this,"getStatusAsync",this.handleErrors(this.wrapThrift("get_status",this.overSingleClient,function(P){return P}))),ie(this,"getStatus",this.callbackify("getStatusAsync",0)),ie(this,"getHardwareInfoAsync",this.handleErrors(this.wrapThrift("get_hardware_info",this.overSingleClient,function(P){return P}))),ie(this,"getHardwareInfo",this.callbackify("getHardwareInfoAsync",0)),ie(this,"getFirstGeoFileInArchiveAsync",this.handleErrors(this.wrapThrift("get_first_geo_file_in_archive",this.overSingleClient,function(P){return P}))),ie(this,"getFilesInArchiveAsync",this.handleErrors(this.wrapThrift("get_all_files_in_archive",this.overSingleClient,function(P){return P}))),ie(this,"getUsersAsync",this.handleErrors(this.wrapThrift("get_users",this.overSingleClient,function(P){return P}))),ie(this,"importTableStatusAsync",this.handleErrors(this.wrapThrift("import_table_status",this.overSingleClient,function(P){return P}))),ie(this,"getRolesAsync",this.handleErrors(this.wrapThrift("get_roles",this.overSingleClient,function(P){return P}))),ie(this,"getDashboardsAsync",this.handleErrors(this.wrapThrift("get_dashboards",this.overSingleClient,function(P){return P}))),ie(this,"getDashboardAsync",this.handleErrors(this.wrapThrift("get_dashboard",this.overSingleClient,function(P){return P}))),ie(this,"createDashboardAsync",this.handleErrors(this.wrapThrift("create_dashboard",this.overAllClients,function(P){return P}))),ie(this,"replaceDashboardAsync",this.handleErrors(this.wrapThrift("replace_dashboard",this.overAllClients,function(P){return P}))),ie(this,"deleteDashboardAsync",this.handleErrors(this.wrapThrift("delete_dashboard",this.overAllClients,function(P){return P}))),ie(this,"deleteDashboardsAsync",this.handleErrors(this.wrapThrift("delete_dashboards",this.overAllClients,function(P){return P}))),ie(this,"shareDashboardAsync",this.handleErrors(this.wrapThrift("share_dashboard",this.overAllClients,function(P){var Z=Y(P,4),Q=Z[0],oe=Z[1],re=Z[2],ye=Z[3];return[Q,oe,re,new b.TDashboardPermissions(ye)]}))),ie(this,"shareDashboardsAsync",this.handleErrors(this.wrapThrift("share_dashboards",this.overAllClients,function(P){var Z=Y(P,3),Q=Z[0],oe=Z[1],re=Z[2];return[Q,oe,new b.TDashboardPermissions(re)]}))),ie(this,"unshareDashboardAsync",this.handleErrors(this.wrapThrift("unshare_dashboard",this.overAllClients,function(P){var Z=Y(P,4),Q=Z[0],oe=Z[1],re=Z[2],ye=Z[3];return[Q,oe,re,new b.TDashboardPermissions(ye)]}))),ie(this,"unshareDashboardsAsync",this.handleErrors(this.wrapThrift("unshare_dashboards",this.overAllClients,function(P){var Z=Y(P,3),Q=Z[0],oe=Z[1],re=Z[2];return[Q,oe,new b.TDashboardPermissions(re)]}))),ie(this,"getDashboardGranteesAsync",this.handleErrors(this.wrapThrift("get_dashboard_grantees",this.overSingleClient,function(P){return P}))),ie(this,"getDbObjectsForGranteeAsync",this.handleErrors(this.wrapThrift("get_db_objects_for_grantee",this.overSingleClient,function(P){return P}))),ie(this,"getDbObjectPrivsAsync",this.handleErrors(this.wrapThrift("get_db_object_privs",this.overSingleClient,function(P){var Z=Y(P,2),Q=Z[0],oe=Z[1];return[Q,b.TDBObjectType[oe]]}))),ie(this,"getAllRolesForUserAsync",this.handleErrors(this.wrapThrift("get_all_roles_for_user",this.overSingleClient,function(P){return P}))),ie(this,"getAllEffectiveRolesForUserAsync",this.handleErrors(this.wrapThrift("get_all_effective_roles_for_user",this.overSingleClient,function(P){return P}))),ie(this,"hasObjectPrivilegesAsync",this.handleErrors(this.wrapThrift("has_object_privilege",this.overSingleClient,function(P){return P}))),ie(this,"hasDbPrivilegesAsync",function(P,Z,Q){return j.hasObjectPrivilegesAsync(P,Z,b.TDBObjectType.DatabaseDBObjectType,new b.TDBObjectPermissions({database_permissions_:new b.TDatabasePermissions(Q)}))}),ie(this,"getSessionInfoAsync",this.handleErrors(this.wrapThrift("get_session_info",this.overSingleClient,function(P){return P}))),ie(this,"createCustomExpressionAsync",this.handleErrors(this.wrapThrift("create_custom_expression",this.overSingleClient,function(P){return P}))),ie(this,"getCustomExpressionsAsync",this.handleErrors(this.wrapThrift("get_custom_expressions",this.overSingleClient,function(P){return P}))),ie(this,"updateCustomExpressionAsync",this.handleErrors(this.wrapThrift("update_custom_expression",this.overSingleClient,function(P){return P}))),ie(this,"deleteCustomExpressionsAsync",this.handleErrors(this.wrapThrift("delete_custom_expressions",this.overSingleClient,function(P){return P}))),ie(this,"detectColumnTypesAsync",this.handleErrors(function(P,Z){var Q=j.wrapThrift("detect_column_types",j.overSingleClient,function(){return[P,x.Dq(Z)]});return Q().then(function(oe){return j.importerRowDesc=oe.row_set.row_desc,oe})})),ie(this,"queryAsync",this.handleErrors(function(P,Z){var Q=!0,oe=!1,re=null,ye=!1,Ee=-1,Xe=(j._nonce++).toString();Z&&(Q=Z.hasOwnProperty("columnarResults")?Z.columnarResults:Q,oe=Z.hasOwnProperty("eliminateNullRows")?Z.eliminateNullRows:oe,re=Z.hasOwnProperty("queryId")?Z.queryId:re,ye=Z.hasOwnProperty("returnTiming")?Z.returnTiming:ye,Ee=Z.hasOwnProperty("limit")?Z.limit:Ee,Xe=Z.hasOwnProperty("logValues")?$(Z.logValues)==="object"?JSON.stringify(Z.logValues):Z.logValues:Xe);var Tn=re in j.queryTimes?j.queryTimes[re]:j.DEFAULT_QUERY_TIME,Cn=0,an={returnTiming:ye,eliminateNullRows:oe,query:P,queryId:re,conId:Cn,estimatedQueryTime:Tn,startTime:Date.now()},nr=-1,Sr=j.wrapThrift("sql_execute",j.overSingleClient,function(he){return he}),xr=function he(){return Sr(P,Q,Xe,Ee,nr).catch(function(Ts){if(Ts.name==="NetworkError"){if(j.removeConnection(0),j._numConnections===0)throw Ts.msg="No remaining database connections",Ts;return he()}throw Ts})};return j.processResults(an,xr())})),ie(this,"query",this.callbackify("queryAsync",2)),ie(this,"queryDFAsync",this.handleErrors(function(P,Z){var Q=0,oe=-1,re=j.wrapThrift("sql_execute_df",j.overSingleClient,function(){return[P,l.TDeviceType.CPU,Q,oe,b.TArrowTransport.WIRE]});return re().then(function(ye){j._logging&&console.log(P,"on Server",0,"- Execution Time:",ye.execution_time_ms,"ms");var Ee=C.from(ye.df_buffer,"base64"),Xe=(0,g.tableFromIPC)(Ee);return Z&&Z.returnTiming&&(Xe={results:Xe,timing:{execution_time_ms:ye.execution_time_ms}}),Xe})})),ie(this,"queryDF",this.callbackify("queryDFAsync",2)),ie(this,"validateQuery",this.handleErrors(function(P){var Z=j.wrapThrift("sql_validate",j.overSingleClient,function(Q){return Q});return Z(P).then(function(Q){var oe=Q.reduce(function(re,ye){return re[ye.col_name]=ye,re},{});return j.convertFromThriftTypes(oe)})})),ie(this,"getTablesAsync",this.handleErrors(function(){var P=j.wrapThrift("get_tables",j.overSingleClient,function(Z){return Z});return P().then(function(Z){return Z.map(function(Q){return{name:Q,label:"obs"}})})})),ie(this,"getTables",this.callbackify("getTablesAsync",0)),ie(this,"getTablesWithMetaAsync",this.handleErrors(function(){var P=j.wrapThrift("get_tables_meta",j.overSingleClient,function(Z){return Z});return P().then(function(Z){return Z.map(function(Q){return{name:Q.table_name,num_cols:Number(Q.num_cols.toString()),col_datum_types:Q.col_types.map(function(oe){return j._datumEnum[oe.type]}),is_view:Q.is_view,is_replicated:Q.is_replicated,shard_count:Number(Q.shard_count.toString()),max_rows:isFinite(Q.max_rows)?Number(Q.max_rows.toString()):-1}})})})),ie(this,"getTablesWithMeta",this.callbackify("getTablesWithMetaAsync",0)),ie(this,"getTablesMetaAsync",this.handleErrors(this.wrapThrift("get_tables_meta",this.overSingleClient,function(P){return P}))),ie(this,"getTablesMeta",this.callbackify("getTablesMetaAsync",0)),ie(this,"getTableEpochByNameAsync",this.handleErrors(this.wrapThrift("get_table_epoch_by_name",this.overSingleClient,function(P){return P}))),ie(this,"getTableEpochByName",this.callbackify("getTableEpochByNameAsync",0)),ie(this,"getTableFunctionNamesAsync",this.handleErrors(this.wrapThrift("get_table_function_names",this.overSingleClient,function(P){return P}))),ie(this,"getTableFunctionNames",this.callbackify("getTableFunctionNamesAsync",0)),ie(this,"getRuntimeTableFunctionNamesAsync",this.handleErrors(this.wrapThrift("get_runtime_table_function_names",this.overSingleClient,function(P){return P}))),ie(this,"getRuntimeTableFunctionNames",this.callbackify("getRuntimeTableFunctionNamesAsync",0)),ie(this,"getTableFunctionDetailsAsync",this.handleErrors(this.wrapThrift("get_table_function_details",this.overSingleClient,function(P){return P}))),ie(this,"getTableFunctionDetails",this.callbackify("getTableFunctionDetailsAsync",0)),ie(this,"getCompletionHintsAsync",this.handleErrors(this.wrapThrift("get_completion_hints",this.overSingleClient,function(P){var Z=Y(P,2),Q=Z[0],oe=Z[1].cursor;return[Q,oe]}))),ie(this,"getCompletionHints",this.callbackify("getCompletionHintsAsync",2)),ie(this,"buildTFileTypeMap",function(){for(var P in b.TFileType)b.TFileType.hasOwnProperty(P)&&(j.TFileTypeMap[b.TFileType[P]]=P)}),ie(this,"buildTImportHeaderRowMap",function(){for(var P in b.TImportHeaderRow)b.TImportHeaderRow.hasOwnProperty(P)&&(j.TImportHeaderRowMap[b.TImportHeaderRow[P]]=P)}),ie(this,"buildTEncodingTypeMap",function(){for(var P in l.TEncodingType)l.TEncodingType.hasOwnProperty(P)&&(j.TEncodingTypeMap[l.TEncodingType[P]]=P)}),ie(this,"buildTRasterPointTypeMap",function(){for(var P in b.TRasterPointType)b.TRasterPointType.hasOwnProperty(P)&&(j.TRasterPointTypeMap[b.TRasterPointType[P]]=P)}),ie(this,"buildTRasterPointTransformMap",function(){for(var P in b.TRasterPointTransform)b.TRasterPointTransform.hasOwnProperty(P)&&(j.TRasterPointTransformMap[b.TRasterPointTransform[P]]=P)}),ie(this,"buildTSourceTypeMap",function(){for(var P in b.TSourceType)b.TSourceType.hasOwnProperty(P)&&(j.TSourceTypeMap[b.TSourceType[P]]=P)}),ie(this,"getFieldsAsync",this.handleErrors(function(P){var Z=j.wrapThrift("get_table_details",j.overSingleClient,function(Q){return Q});return Z(P).then(function(Q){if(Q){var oe=Q.row_desc.reduce(function(re,ye){return re[ye.col_name]=ye,re},{});return D(D({},Q),{},{columns:j.convertFromThriftTypes(oe)})}else throw new Error("Table (".concat(P,") not found"))})})),ie(this,"getFields",this.callbackify("getFieldsAsync",1)),ie(this,"createTableAsync",this.handleErrors(this.wrapThrift("create_table",this.overAllClients,function(P){var Z=Y(P,3),Q=Z[0],oe=Z[1],re=Z[2];return[Q,x.HP(oe,j.importerRowDesc),re]}))),ie(this,"createTable",this.callbackify("createTableAsync",4)),ie(this,"importTableAsync",this.handleErrors(this.wrapThrift("import_table",this.overAllClients,function(P){var Z=Y(P,3),Q=Z[0],oe=Z[1],re=Z[2];return[Q,oe,x.Dq(re)]}))),ie(this,"importTableGeoAsync",this.handleErrors(this.wrapThrift("import_geo_table",this.overAllClients,function(P){var Z=Y(P,4),Q=Z[0],oe=Z[1],re=Z[2],ye=Z[3];return[Q,oe,x.Dq(re),x.HP(ye,j.importerRowDesc),new b.TCreateParams]}))),ie(this,"renderVegaAsync",this.handleErrors(function(P,Z,Q){var oe=null,re=Ae;Q&&(oe=Q.hasOwnProperty("queryId")?Q.queryId:oe,re=Q.hasOwnProperty("compressionLevel")?Q.compressionLevel:re);var ye=oe in j.queryTimes?j.queryTimes[oe]:j.DEFAULT_QUERY_TIME,Ee=(j._nonce++).toString();Q&&(Ee=Q.hasOwnProperty("logValues")?$(Q.logValues)==="object"?JSON.stringify(Q.logValues):Q.logValues:Ee);var Xe=0;j._lastRenderCon=Xe;var Tn={isImage:!0,query:"render: ".concat(Z),queryId:oe,conId:Xe,estimatedQueryTime:ye},Cn=j.wrapThrift("render_vega",j.overSingleClient,function(an){return an});return j.processResults(Tn,Cn(P,Z,re,Ee))})),ie(this,"renderVega",this.callbackify("renderVegaAsync",3)),ie(this,"getResultRowForPixelAsync",this.handleErrors(function(P,Z,Q){var oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2;Z instanceof b.TPixel||(Z=new b.TPixel(Z));var re=!0,ye=(j._nonce++).toString();return j._client[j._lastRenderCon].get_result_row_for_pixel(j._sessionId[j._lastRenderCon],P,Z,Q,re,oe,ye).then(function(Ee){Ee=Array.isArray(Ee)?Ee.pixel_rows:[Ee];for(var Xe={isImage:!1,eliminateNullRows:!1,query:"pixel request",queryId:-2},Tn=(0,S.Z)(j._logging,j.updateQueryTimes),Cn=Ee.length,an=0;an<Cn;an++)Ee[an].row_set=Tn(Xe,j._datumEnum,Ee[an]);return Ee})})),ie(this,"getResultRowForPixel",this.callbackify("getResultRowForPixelAsync",4)),this._useBinaryProtocol=!1,this._host=null,this._user=null,this._password=null,this._port=null,this._dbName=null,this._client=null,this._sessionId=null,this._protocol=null,this._disableAutoReconnect=!1,this._datumEnum={},this.TFileTypeMap={},this.TEncodingTypeMap={},this.TImportHeaderRowMap={},this.TRasterPointTypeMap={},this.TRasterPointTransformMap={},this.TSourceTypeMap={},this._logging=!1,this._platform="heavydb",this._nonce=0,this._balanceStrategy="adaptive",this._numConnections=0,this._lastRenderCon=0,this.queryTimes={},this.serverQueueTimes=null,this.serverPingTimes=null,this.pingCount=null,this.DEFAULT_QUERY_TIME=50,this.NUM_PINGS_PER_SERVER=4,this.importerRowDesc=null,this.invertDatumTypes(),this.buildTFileTypeMap(),this.buildTEncodingTypeMap(),this.buildTImportHeaderRowMap(),this.buildTRasterPointTypeMap(),this.buildTRasterPointTransformMap(),this.buildTSourceTypeMap(),this.processResults=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=arguments.length>1?arguments[1]:void 0;return Z.catch(function(Q){throw j._logging&&P.query&&console.error(P.query,`
`,Q),Q}).then(function(Q){var oe=(0,S.Z)(j._logging,j.updateQueryTimes),re=oe(P,j._datumEnum,Q);return re})},this}return pe(V,[{key:"removeConnection",value:function(P){if(P<0||P>=this.numConnections){var Z={msg:"Remove connection id invalid"};throw Z}this._client.splice(P,1),this._sessionId.splice(P,1),this._numConnections--}},{key:"xhrWithCredentials",value:function(P){Fe.withCredentials=!!P}},{key:"initClients",value:function(){var P=Array.isArray(this._host)&&Array.isArray(this._port)&&Array.isArray(this._dbName);if(!P)throw new Error("Host, port, and dbName must be arrays.");if(this._client=[],this._sessionId=[],this._host[0]){if(!this._port[0])throw new Error("Please enter a port.")}else throw new Error("Please enter a host name.");var Z=this._host.length;if(Z<1)throw new Error("Must have at least one server to connect to.");if(Z!==this._port.length)throw new Error("Array connection parameters must be of equal length.");this._protocol||(this._protocol=this._host.map(function(){return window.location.protocol.replace(":","")}));for(var Q=this.getEndpoints(),oe=[],re=0;re<Z;re++){var ye=Pt(Q[re],this._useBinaryProtocol);oe.push(ye)}return this._client=oe,this._numConnections=this._client.length,this}},{key:"connectAsync",value:function(){var P=this;if(!Array.isArray(this._user)||!Array.isArray(this._password))return Promise.reject("Username and password must be arrays.");if(this._dbName[0])if(this._user[0]){if(!this._password[0])return Promise.reject("Please enter a password.")}else return Promise.reject("Please enter a username.");else return Promise.reject("Please enter a database.");var Z=this._host.length;if(Z<1)return Promise.reject("Must have at least one server to connect to.");if(Z!==this._port.length||Z!==this._user.length||Z!==this._password.length||Z!==this._dbName.length)return Promise.reject("Array connection parameters must be of equal length.");var Q=[];return this.initClients(),Q=this._client,this._client=[],Promise.all(Q.map(function(oe,re){return oe.connect(P._user[re],P._password[re],P._dbName[re]).then(function(ye){return P._client.push(oe),P._sessionId.push(ye),null})})).then(function(){return P})}},{key:"convertFromThriftTypes",value:function(P){var Z=[];for(var Q in P)P.hasOwnProperty(Q)&&Z.push({name:Q,type:this._datumEnum[P[Q].col_type.type],precision:P[Q].col_type.precision,is_array:P[Q].col_type.is_array,is_dict:P[Q].col_type.encoding===l.TEncodingType.DICT});return Z}},{key:"invertDatumTypes",value:function(){var P=l.TDatumType;for(var Z in P)P.hasOwnProperty(Z)&&(this._datumEnum[P[Z]]=Z)}},{key:"importTableAsyncWrapper",value:function(P){return P?this.importTableGeoAsync.bind(this):this.importTableAsync.bind(this)}},{key:"importTable",value:function(P,Z,Q,oe,re,ye){if(re){var Ee=this.callbackify("importTableGeoAsync",4);return Ee(P,Z,Q,oe,ye)}else{var Xe=this.callbackify("importTableAsync",3);return Xe(P,Z,Q,ye)}}},{key:"sessionId",value:function(P){return arguments.length?(this._sessionId=fe(P),this):this._sessionId}},{key:"useBinaryProtocol",value:function(P){return arguments.length?(this._useBinaryProtocol=!!P,this):this._useBinaryProtocol}},{key:"host",value:function(P){return arguments.length?(this._host=fe(P),this):this._host}},{key:"port",value:function(P){return arguments.length?(this._port=fe(P),this):this._port}},{key:"user",value:function(P){return arguments.length?(this._user=fe(P),this):this._user}},{key:"password",value:function(P){return arguments.length?(this._password=fe(P),this):this._password}},{key:"dbName",value:function(P){return arguments.length?(this._dbName=fe(P),this):this._dbName}},{key:"logging",value:function(P){if(typeof P>"u")return this._logging;if(typeof P!="boolean")return"logging can only be set with boolean values";this._logging=P;var Z=P?"enabled":"disabled";return"SQL logging is now ".concat(Z)}},{key:"platform",value:function(P){return arguments.length?(this._platform=P,this):this._platform}},{key:"numConnections",value:function(){return this._numConnections}},{key:"protocol",value:function(P){return arguments.length?(this._protocol=fe(P),this):this._protocol}},{key:"disableAutoReconnect",value:function(P){return arguments.length?(this._disableAutoReconnect=P,this):this._disableAutoReconnect}},{key:"getEndpoints",value:function(){var P=this;return this._host.map(function(Z,Q){return"".concat(P._protocol[Q],"://").concat(Z,":").concat(P._port[Q])})}},{key:"setLicenseKey",value:function(P,Z){var Q=Z.protocol,oe=Z.host,re=Z.port,ye=Array.isArray(this._client)&&this._client[0],Ee=this._sessionId&&this._sessionId[0];if(!ye){var Xe="".concat(Q,"://").concat(oe,":").concat(re);ye=Pt(Xe,this._useBinaryProtocol),Ee=""}return ye.set_license_key(Ee,P,this._nonce++)}},{key:"getLicenseClaims",value:function(P){var Z=P.protocol,Q=P.host,oe=P.port,re=Array.isArray(this._client)&&this._client[0],ye=this._sessionId&&this._sessionId[0];if(!re){var Ee="".concat(Z,"://").concat(Q,":").concat(oe);re=Pt(Ee,this._useBinaryProtocol),ye=""}return re.get_license_claims(ye,this._nonce++)}},{key:"isTimeoutError",value:function(P){return P instanceof b.TDBException&&(String(P.error_msg).indexOf("Session not valid.")!==-1||String(P.error_msg).indexOf("User should re-authenticate.")!==-1)}}]),V}();const _e=qt},2033:(c,d,f)=>{f.d(d,{Dq:()=>o,HP:()=>g,RK:()=>y,kS:()=>m});var u=f(2607),o=function(b){return new u.TCopyParams(b)},g=function(b,L){return b.forEach(function(E,S){L[S].col_name=E.clean_col_name,L[S].col_type.encoding=E.col_type.encoding,L[S].col_type.precision=E.col_type.precision,L[S].col_type.comp_param=E.col_type.comp_param,L[S].col_type.scale=E.col_type.scale,L[S].col_type.type=E.col_type.type}),L};function y(l,b){var L=Math.pow(10,b-3),E=l/L;return E}function m(l){return l.toNumber?!!l.toNumber(!0):!!l}},5141:(c,d,f)=>{f.d(d,{Z:()=>y});var u=f(2033);function o(m,l,b){var L={fields:[],results:[]},E=m.row_desc.length,S=typeof m.columns[0]>"u"?0:m.columns[0].nulls.length;L.fields=m.row_desc.map(function(X){return{name:X.col_name,type:b[X.col_type.type],is_array:X.col_type.is_array}});for(var x=0;x<S;x++){if(l){for(var k=!1,B=0;B<E;B++)if(m.columns[B].nulls[x]){k=!0;break}if(k)continue}for(var A={},M=0;M<E;M++){var C=L.fields[M].name,R=L.fields[M].type,D=L.fields[M].is_array,$=m.columns[M].nulls[x],Y=m.row_desc[M].col_type.precision;if($){A[C]=null;continue}if(D){A[C]=[];for(var z=m.columns[M].data.arr_col[x].nulls.length,H=0;H<z;H++){if(m.columns[M].data.arr_col[x].nulls[H]){A[C].push("NULL");continue}switch(R){case"BOOL":A[C].push((0,u.kS)(m.columns[M].data.arr_col[x].data.int_col[H]));break;case"SMALLINT":case"INT":case"BIGINT":case"TINYINT":A[C].push(m.columns[M].data.arr_col[x].data.int_col[H]);break;case"FLOAT":case"DOUBLE":case"DECIMAL":A[C].push(m.columns[M].data.arr_col[x].data.real_col[H]);break;case"STR":A[C].push(m.columns[M].data.arr_col[x].data.str_col[H]);break;case"TIME":case"TIMESTAMP":case"DATE":var q=(0,u.RK)(m.columns[M].data.int_col[x],Y);A[C].push(q);break;default:throw new Error("Unrecognized array field type: ".concat(R))}}}else switch(R){case"BOOL":A[C]=(0,u.kS)(m.columns[M].data.int_col[x]);break;case"SMALLINT":case"INT":case"BIGINT":case"TINYINT":A[C]=m.columns[M].data.int_col[x];break;case"FLOAT":case"DOUBLE":case"DECIMAL":A[C]=m.columns[M].data.real_col[x];break;case"STR":A[C]=m.columns[M].data.str_col[x];break;case"TIME":case"TIMESTAMP":case"DATE":var W=(0,u.RK)(m.columns[M].data.int_col[x],Y);A[C]=new Date(W);break;case"POINT":case"LINESTRING":case"POLYGON":case"MULTIPOLYGON":A[C]=m.columns[M].data.str_col[x];break;default:throw new Error("Unrecognized field type: ".concat(R))}}L.results.push(A)}return L}function g(m,l,b){var L=m.row_desc.length,E={fields:[],results:[]};E.fields=m.row_desc.map(function(G){return{name:G.col_name,type:b[G.col_type.type],is_array:G.col_type.is_array}}),E.results=[];var S=0;typeof m.rows<"u"&&m.rows!==null&&(S=m.rows.length);for(var x=0;x<S;x++){if(l){for(var k=!1,B=0;B<L;B++)if(m.rows[x].columns[B].is_null){k=!0;break}if(k)continue}for(var A={},M=0;M<L;M++){var C=E.fields[M].name,R=E.fields[M].type,D=E.fields[M].is_array,$=m.row_desc[M].col_type.precision;if(D){if(m.rows[x].cols[M].is_null){A[C]="NULL";continue}A[C]=[];for(var Y=m.rows[x].cols[M].val.arr_val.length,z=0;z<Y;z++){var H=m.rows[x].cols[M].val.arr_val[z];if(H.is_null){A[C].push("NULL");continue}switch(R){case"BOOL":A[C].push((0,u.kS)(H.val.int_val));break;case"SMALLINT":case"INT":case"BIGINT":case"TINYINT":A[C].push(H.val.int_val);break;case"FLOAT":case"DOUBLE":case"DECIMAL":A[C].push(H.val.real_val);break;case"STR":A[C].push(H.val.str_val);break;case"TIME":case"TIMESTAMP":case"DATE":var q=(0,u.RK)(H.val.int_val,$);A[C].push(q);break;default:throw new Error("Unrecognized array field type: ".concat(R))}}}else{var W=m.rows[x].cols[M];if(W.is_null){A[C]="NULL";continue}switch(R){case"BOOL":A[C]=(0,u.kS)(W.val.int_val);break;case"SMALLINT":case"INT":case"BIGINT":case"TINYINT":A[C]=W.val.int_val;break;case"FLOAT":case"DOUBLE":case"DECIMAL":A[C]=W.val.real_val;break;case"STR":A[C]=W.val.str_val;break;case"TIME":case"TIMESTAMP":case"DATE":var X=(0,u.RK)(W.val.int_val,$);A[C]=new Date(X);break;case"POINT":case"LINESTRING":case"POLYGON":case"MULTIPOLYGON":A[C]=W.val.str_val;break;default:throw new Error("Unrecognized field type: ".concat(R))}}}E.results.push(A)}return E}function y(m,l){return function(b,L,E){var S=!1,x=!1,k=null,B=null,A=null,M=null;if(typeof b<"u"&&(S=b.isImage?b.isImage:!1,x=b.eliminateNullRows?b.eliminateNullRows:!1,k=b.query?b.query:null,B=b.queryId?b.queryId:null,A=typeof b.conId>"u"?null:b.conId,M=typeof b.estimatedQueryTime>"u"?null:b.estimatedQueryTime),E.execution_time_ms&&A!==null&&M!==null&&l(A,B,M,E.execution_time_ms),m&&E.execution_time_ms&&console.log(k,"on Server",A,"- Execution Time:",E.execution_time_ms,"ms, Total Time:",E.total_time_ms,"ms, Real Time:",b.startTime?Date.now()-b.startTime:void 0,"ms"),S)return E;var C=null;if(!E.row_set)throw new Error("No result to process");return E.row_set.is_columnar?C=o(E.row_set,x,L):C=g(E.row_set,x,L),C.timing={execution_time_ms:E.execution_time_ms,total_time_ms:E.total_time_ms},b.returnTiming?C:C.results}}},9742:(c,d)=>{d.byteLength=b,d.toByteArray=E,d.fromByteArray=k;for(var f=[],u=[],o=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,m=g.length;y<m;++y)f[y]=g[y],u[g.charCodeAt(y)]=y;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63;function l(B){var A=B.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=B.indexOf("=");M===-1&&(M=A);var C=M===A?0:4-M%4;return[M,C]}function b(B){var A=l(B),M=A[0],C=A[1];return(M+C)*3/4-C}function L(B,A,M){return(A+M)*3/4-M}function E(B){var A,M=l(B),C=M[0],R=M[1],D=new o(L(B,C,R)),$=0,Y=R>0?C-4:C,z;for(z=0;z<Y;z+=4)A=u[B.charCodeAt(z)]<<18|u[B.charCodeAt(z+1)]<<12|u[B.charCodeAt(z+2)]<<6|u[B.charCodeAt(z+3)],D[$++]=A>>16&255,D[$++]=A>>8&255,D[$++]=A&255;return R===2&&(A=u[B.charCodeAt(z)]<<2|u[B.charCodeAt(z+1)]>>4,D[$++]=A&255),R===1&&(A=u[B.charCodeAt(z)]<<10|u[B.charCodeAt(z+1)]<<4|u[B.charCodeAt(z+2)]>>2,D[$++]=A>>8&255,D[$++]=A&255),D}function S(B){return f[B>>18&63]+f[B>>12&63]+f[B>>6&63]+f[B&63]}function x(B,A,M){for(var C,R=[],D=A;D<M;D+=3)C=(B[D]<<16&16711680)+(B[D+1]<<8&65280)+(B[D+2]&255),R.push(S(C));return R.join("")}function k(B){for(var A,M=B.length,C=M%3,R=[],D=16383,$=0,Y=M-C;$<Y;$+=D)R.push(x(B,$,$+D>Y?Y:$+D));return C===1?(A=B[M-1],R.push(f[A>>2]+f[A<<4&63]+"==")):C===2&&(A=(B[M-2]<<8)+B[M-1],R.push(f[A>>10]+f[A>>4&63]+f[A<<2&63]+"=")),R.join("")}},3818:(c,d)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u=typeof window<"u"&&typeof window.document<"u",o=(typeof self>"u"?"undefined":f(self))==="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",g=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,y=function(){return typeof window<"u"&&window.name==="nodejs"||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")};d.isBrowser=u,d.isWebWorker=o,d.isNode=g,d.isJsDom=y},8764:(c,d,f)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const u=f(9742),o=f(645),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=b,d.SlowBuffer=D,d.INSPECT_MAX_BYTES=50;const y=2147483647;d.kMaxLength=y,b.TYPED_ARRAY_SUPPORT=m(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const N=new Uint8Array(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,Uint8Array.prototype),Object.setPrototypeOf(N,F),N.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function l(N){if(N>y)throw new RangeError('The value "'+N+'" is invalid for option "size"');const F=new Uint8Array(N);return Object.setPrototypeOf(F,b.prototype),F}function b(N,F,O){if(typeof N=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(N)}return L(N,F,O)}b.poolSize=8192;function L(N,F,O){if(typeof N=="string")return k(N,F);if(ArrayBuffer.isView(N))return A(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(ci(N,ArrayBuffer)||N&&ci(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ci(N,SharedArrayBuffer)||N&&ci(N.buffer,SharedArrayBuffer)))return M(N,F,O);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U=N.valueOf&&N.valueOf();if(U!=null&&U!==N)return b.from(U,F,O);const K=C(N);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return b.from(N[Symbol.toPrimitive]("string"),F,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}b.from=function(N,F,O){return L(N,F,O)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function E(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function S(N,F,O){return E(N),N<=0?l(N):F!==void 0?typeof O=="string"?l(N).fill(F,O):l(N).fill(F):l(N)}b.alloc=function(N,F,O){return S(N,F,O)};function x(N){return E(N),l(N<0?0:R(N)|0)}b.allocUnsafe=function(N){return x(N)},b.allocUnsafeSlow=function(N){return x(N)};function k(N,F){if((typeof F!="string"||F==="")&&(F="utf8"),!b.isEncoding(F))throw new TypeError("Unknown encoding: "+F);const O=$(N,F)|0;let U=l(O);const K=U.write(N,F);return K!==O&&(U=U.slice(0,K)),U}function B(N){const F=N.length<0?0:R(N.length)|0,O=l(F);for(let U=0;U<F;U+=1)O[U]=N[U]&255;return O}function A(N){if(ci(N,Uint8Array)){const F=new Uint8Array(N);return M(F.buffer,F.byteOffset,F.byteLength)}return B(N)}function M(N,F,O){if(F<0||N.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<F+(O||0))throw new RangeError('"length" is outside of buffer bounds');let U;return F===void 0&&O===void 0?U=new Uint8Array(N):O===void 0?U=new Uint8Array(N,F):U=new Uint8Array(N,F,O),Object.setPrototypeOf(U,b.prototype),U}function C(N){if(b.isBuffer(N)){const F=R(N.length)|0,O=l(F);return O.length===0||N.copy(O,0,0,F),O}if(N.length!==void 0)return typeof N.length!="number"||wc(N.length)?l(0):B(N);if(N.type==="Buffer"&&Array.isArray(N.data))return B(N.data)}function R(N){if(N>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return N|0}function D(N){return+N!=N&&(N=0),b.alloc(+N)}b.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==b.prototype},b.compare=function(F,O){if(ci(F,Uint8Array)&&(F=b.from(F,F.offset,F.byteLength)),ci(O,Uint8Array)&&(O=b.from(O,O.offset,O.byteLength)),!b.isBuffer(F)||!b.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===O)return 0;let U=F.length,K=O.length;for(let te=0,se=Math.min(U,K);te<se;++te)if(F[te]!==O[te]){U=F[te],K=O[te];break}return U<K?-1:K<U?1:0},b.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(F,O){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return b.alloc(0);let U;if(O===void 0)for(O=0,U=0;U<F.length;++U)O+=F[U].length;const K=b.allocUnsafe(O);let te=0;for(U=0;U<F.length;++U){let se=F[U];if(ci(se,Uint8Array))te+se.length>K.length?(b.isBuffer(se)||(se=b.from(se)),se.copy(K,te)):Uint8Array.prototype.set.call(K,se,te);else if(b.isBuffer(se))se.copy(K,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=se.length}return K};function $(N,F){if(b.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||ci(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const O=N.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&O===0)return 0;let K=!1;for(;;)switch(F){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return xr(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return Zi(N).length;default:if(K)return U?-1:xr(N).length;F=(""+F).toLowerCase(),K=!0}}b.byteLength=$;function Y(N,F,O){let U=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,F>>>=0,O<=F))return"";for(N||(N="utf8");;)switch(N){case"hex":return Pt(this,F,O);case"utf8":case"utf-8":return Ae(this,F,O);case"ascii":return je(this,F,O);case"latin1":case"binary":return yt(this,F,O);case"base64":return ie(this,F,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qt(this,F,O);default:if(U)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),U=!0}}b.prototype._isBuffer=!0;function z(N,F,O){const U=N[F];N[F]=N[O],N[O]=U}b.prototype.swap16=function(){const F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<F;O+=2)z(this,O,O+1);return this},b.prototype.swap32=function(){const F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<F;O+=4)z(this,O,O+3),z(this,O+1,O+2);return this},b.prototype.swap64=function(){const F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<F;O+=8)z(this,O,O+7),z(this,O+1,O+6),z(this,O+2,O+5),z(this,O+3,O+4);return this},b.prototype.toString=function(){const F=this.length;return F===0?"":arguments.length===0?Ae(this,0,F):Y.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(F){if(!b.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:b.compare(this,F)===0},b.prototype.inspect=function(){let F="";const O=d.INSPECT_MAX_BYTES;return F=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(F+=" ... "),"<Buffer "+F+">"},g&&(b.prototype[g]=b.prototype.inspect),b.prototype.compare=function(F,O,U,K,te){if(ci(F,Uint8Array)&&(F=b.from(F,F.offset,F.byteLength)),!b.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(O===void 0&&(O=0),U===void 0&&(U=F?F.length:0),K===void 0&&(K=0),te===void 0&&(te=this.length),O<0||U>F.length||K<0||te>this.length)throw new RangeError("out of range index");if(K>=te&&O>=U)return 0;if(K>=te)return-1;if(O>=U)return 1;if(O>>>=0,U>>>=0,K>>>=0,te>>>=0,this===F)return 0;let se=te-K,Oe=U-O;const Ue=Math.min(se,Oe),ze=this.slice(K,te),We=F.slice(O,U);for(let Ye=0;Ye<Ue;++Ye)if(ze[Ye]!==We[Ye]){se=ze[Ye],Oe=We[Ye];break}return se<Oe?-1:Oe<se?1:0};function H(N,F,O,U,K){if(N.length===0)return-1;if(typeof O=="string"?(U=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,wc(O)&&(O=K?0:N.length-1),O<0&&(O=N.length+O),O>=N.length){if(K)return-1;O=N.length-1}else if(O<0)if(K)O=0;else return-1;if(typeof F=="string"&&(F=b.from(F,U)),b.isBuffer(F))return F.length===0?-1:q(N,F,O,U,K);if(typeof F=="number")return F=F&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(N,F,O):Uint8Array.prototype.lastIndexOf.call(N,F,O):q(N,[F],O,U,K);throw new TypeError("val must be string, number or Buffer")}function q(N,F,O,U,K){let te=1,se=N.length,Oe=F.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(N.length<2||F.length<2)return-1;te=2,se/=2,Oe/=2,O/=2}function Ue(We,Ye){return te===1?We[Ye]:We.readUInt16BE(Ye*te)}let ze;if(K){let We=-1;for(ze=O;ze<se;ze++)if(Ue(N,ze)===Ue(F,We===-1?0:ze-We)){if(We===-1&&(We=ze),ze-We+1===Oe)return We*te}else We!==-1&&(ze-=ze-We),We=-1}else for(O+Oe>se&&(O=se-Oe),ze=O;ze>=0;ze--){let We=!0;for(let Ye=0;Ye<Oe;Ye++)if(Ue(N,ze+Ye)!==Ue(F,Ye)){We=!1;break}if(We)return ze}return-1}b.prototype.includes=function(F,O,U){return this.indexOf(F,O,U)!==-1},b.prototype.indexOf=function(F,O,U){return H(this,F,O,U,!0)},b.prototype.lastIndexOf=function(F,O,U){return H(this,F,O,U,!1)};function W(N,F,O,U){O=Number(O)||0;const K=N.length-O;U?(U=Number(U),U>K&&(U=K)):U=K;const te=F.length;U>te/2&&(U=te/2);let se;for(se=0;se<U;++se){const Oe=parseInt(F.substr(se*2,2),16);if(wc(Oe))return se;N[O+se]=Oe}return se}function X(N,F,O,U){return Ga(xr(F,N.length-O),N,O,U)}function G(N,F,O,U){return Ga(he(F),N,O,U)}function le(N,F,O,U){return Ga(Zi(F),N,O,U)}function pe(N,F,O,U){return Ga(Ts(F,N.length-O),N,O,U)}b.prototype.write=function(F,O,U,K){if(O===void 0)K="utf8",U=this.length,O=0;else if(U===void 0&&typeof O=="string")K=O,U=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(U)?(U=U>>>0,K===void 0&&(K="utf8")):(K=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const te=this.length-O;if((U===void 0||U>te)&&(U=te),F.length>0&&(U<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let se=!1;for(;;)switch(K){case"hex":return W(this,F,O,U);case"utf8":case"utf-8":return X(this,F,O,U);case"ascii":case"latin1":case"binary":return G(this,F,O,U);case"base64":return le(this,F,O,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,F,O,U);default:if(se)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),se=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ie(N,F,O){return F===0&&O===N.length?u.fromByteArray(N):u.fromByteArray(N.slice(F,O))}function Ae(N,F,O){O=Math.min(N.length,O);const U=[];let K=F;for(;K<O;){const te=N[K];let se=null,Oe=te>239?4:te>223?3:te>191?2:1;if(K+Oe<=O){let Ue,ze,We,Ye;switch(Oe){case 1:te<128&&(se=te);break;case 2:Ue=N[K+1],(Ue&192)===128&&(Ye=(te&31)<<6|Ue&63,Ye>127&&(se=Ye));break;case 3:Ue=N[K+1],ze=N[K+2],(Ue&192)===128&&(ze&192)===128&&(Ye=(te&15)<<12|(Ue&63)<<6|ze&63,Ye>2047&&(Ye<55296||Ye>57343)&&(se=Ye));break;case 4:Ue=N[K+1],ze=N[K+2],We=N[K+3],(Ue&192)===128&&(ze&192)===128&&(We&192)===128&&(Ye=(te&15)<<18|(Ue&63)<<12|(ze&63)<<6|We&63,Ye>65535&&Ye<1114112&&(se=Ye))}}se===null?(se=65533,Oe=1):se>65535&&(se-=65536,U.push(se>>>10&1023|55296),se=56320|se&1023),U.push(se),K+=Oe}return Fe(U)}const fe=4096;function Fe(N){const F=N.length;if(F<=fe)return String.fromCharCode.apply(String,N);let O="",U=0;for(;U<F;)O+=String.fromCharCode.apply(String,N.slice(U,U+=fe));return O}function je(N,F,O){let U="";O=Math.min(N.length,O);for(let K=F;K<O;++K)U+=String.fromCharCode(N[K]&127);return U}function yt(N,F,O){let U="";O=Math.min(N.length,O);for(let K=F;K<O;++K)U+=String.fromCharCode(N[K]);return U}function Pt(N,F,O){const U=N.length;(!F||F<0)&&(F=0),(!O||O<0||O>U)&&(O=U);let K="";for(let te=F;te<O;++te)K+=Lc[N[te]];return K}function qt(N,F,O){const U=N.slice(F,O);let K="";for(let te=0;te<U.length-1;te+=2)K+=String.fromCharCode(U[te]+U[te+1]*256);return K}b.prototype.slice=function(F,O){const U=this.length;F=~~F,O=O===void 0?U:~~O,F<0?(F+=U,F<0&&(F=0)):F>U&&(F=U),O<0?(O+=U,O<0&&(O=0)):O>U&&(O=U),O<F&&(O=F);const K=this.subarray(F,O);return Object.setPrototypeOf(K,b.prototype),K};function _e(N,F,O){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+F>O)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(F,O,U){F=F>>>0,O=O>>>0,U||_e(F,O,this.length);let K=this[F],te=1,se=0;for(;++se<O&&(te*=256);)K+=this[F+se]*te;return K},b.prototype.readUintBE=b.prototype.readUIntBE=function(F,O,U){F=F>>>0,O=O>>>0,U||_e(F,O,this.length);let K=this[F+--O],te=1;for(;O>0&&(te*=256);)K+=this[F+--O]*te;return K},b.prototype.readUint8=b.prototype.readUInt8=function(F,O){return F=F>>>0,O||_e(F,1,this.length),this[F]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(F,O){return F=F>>>0,O||_e(F,2,this.length),this[F]|this[F+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(F,O){return F=F>>>0,O||_e(F,2,this.length),this[F]<<8|this[F+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(F,O){return F=F>>>0,O||_e(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(F,O){return F=F>>>0,O||_e(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},b.prototype.readBigUInt64LE=ir(function(F){F=F>>>0,Cn(F,"offset");const O=this[F],U=this[F+7];(O===void 0||U===void 0)&&an(F,this.length-8);const K=O+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24,te=this[++F]+this[++F]*2**8+this[++F]*2**16+U*2**24;return BigInt(K)+(BigInt(te)<<BigInt(32))}),b.prototype.readBigUInt64BE=ir(function(F){F=F>>>0,Cn(F,"offset");const O=this[F],U=this[F+7];(O===void 0||U===void 0)&&an(F,this.length-8);const K=O*2**24+this[++F]*2**16+this[++F]*2**8+this[++F],te=this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+U;return(BigInt(K)<<BigInt(32))+BigInt(te)}),b.prototype.readIntLE=function(F,O,U){F=F>>>0,O=O>>>0,U||_e(F,O,this.length);let K=this[F],te=1,se=0;for(;++se<O&&(te*=256);)K+=this[F+se]*te;return te*=128,K>=te&&(K-=Math.pow(2,8*O)),K},b.prototype.readIntBE=function(F,O,U){F=F>>>0,O=O>>>0,U||_e(F,O,this.length);let K=O,te=1,se=this[F+--K];for(;K>0&&(te*=256);)se+=this[F+--K]*te;return te*=128,se>=te&&(se-=Math.pow(2,8*O)),se},b.prototype.readInt8=function(F,O){return F=F>>>0,O||_e(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},b.prototype.readInt16LE=function(F,O){F=F>>>0,O||_e(F,2,this.length);const U=this[F]|this[F+1]<<8;return U&32768?U|4294901760:U},b.prototype.readInt16BE=function(F,O){F=F>>>0,O||_e(F,2,this.length);const U=this[F+1]|this[F]<<8;return U&32768?U|4294901760:U},b.prototype.readInt32LE=function(F,O){return F=F>>>0,O||_e(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},b.prototype.readInt32BE=function(F,O){return F=F>>>0,O||_e(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},b.prototype.readBigInt64LE=ir(function(F){F=F>>>0,Cn(F,"offset");const O=this[F],U=this[F+7];(O===void 0||U===void 0)&&an(F,this.length-8);const K=this[F+4]+this[F+5]*2**8+this[F+6]*2**16+(U<<24);return(BigInt(K)<<BigInt(32))+BigInt(O+this[++F]*256+this[++F]*65536+this[++F]*16777216)}),b.prototype.readBigInt64BE=ir(function(F){F=F>>>0,Cn(F,"offset");const O=this[F],U=this[F+7];(O===void 0||U===void 0)&&an(F,this.length-8);const K=(O<<24)+this[++F]*2**16+this[++F]*2**8+this[++F];return(BigInt(K)<<BigInt(32))+BigInt(this[++F]*16777216+this[++F]*65536+this[++F]*256+U)}),b.prototype.readFloatLE=function(F,O){return F=F>>>0,O||_e(F,4,this.length),o.read(this,F,!0,23,4)},b.prototype.readFloatBE=function(F,O){return F=F>>>0,O||_e(F,4,this.length),o.read(this,F,!1,23,4)},b.prototype.readDoubleLE=function(F,O){return F=F>>>0,O||_e(F,8,this.length),o.read(this,F,!0,52,8)},b.prototype.readDoubleBE=function(F,O){return F=F>>>0,O||_e(F,8,this.length),o.read(this,F,!1,52,8)};function V(N,F,O,U,K,te){if(!b.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>K||F<te)throw new RangeError('"value" argument is out of bounds');if(O+U>N.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(F,O,U,K){if(F=+F,O=O>>>0,U=U>>>0,!K){const Oe=Math.pow(2,8*U)-1;V(this,F,O,U,Oe,0)}let te=1,se=0;for(this[O]=F&255;++se<U&&(te*=256);)this[O+se]=F/te&255;return O+U},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(F,O,U,K){if(F=+F,O=O>>>0,U=U>>>0,!K){const Oe=Math.pow(2,8*U)-1;V(this,F,O,U,Oe,0)}let te=U-1,se=1;for(this[O+te]=F&255;--te>=0&&(se*=256);)this[O+te]=F/se&255;return O+U},b.prototype.writeUint8=b.prototype.writeUInt8=function(F,O,U){return F=+F,O=O>>>0,U||V(this,F,O,1,255,0),this[O]=F&255,O+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(F,O,U){return F=+F,O=O>>>0,U||V(this,F,O,2,65535,0),this[O]=F&255,this[O+1]=F>>>8,O+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(F,O,U){return F=+F,O=O>>>0,U||V(this,F,O,2,65535,0),this[O]=F>>>8,this[O+1]=F&255,O+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(F,O,U){return F=+F,O=O>>>0,U||V(this,F,O,4,4294967295,0),this[O+3]=F>>>24,this[O+2]=F>>>16,this[O+1]=F>>>8,this[O]=F&255,O+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(F,O,U){return F=+F,O=O>>>0,U||V(this,F,O,4,4294967295,0),this[O]=F>>>24,this[O+1]=F>>>16,this[O+2]=F>>>8,this[O+3]=F&255,O+4};function j(N,F,O,U,K){Tn(F,U,K,N,O,7);let te=Number(F&BigInt(4294967295));N[O++]=te,te=te>>8,N[O++]=te,te=te>>8,N[O++]=te,te=te>>8,N[O++]=te;let se=Number(F>>BigInt(32)&BigInt(4294967295));return N[O++]=se,se=se>>8,N[O++]=se,se=se>>8,N[O++]=se,se=se>>8,N[O++]=se,O}function P(N,F,O,U,K){Tn(F,U,K,N,O,7);let te=Number(F&BigInt(4294967295));N[O+7]=te,te=te>>8,N[O+6]=te,te=te>>8,N[O+5]=te,te=te>>8,N[O+4]=te;let se=Number(F>>BigInt(32)&BigInt(4294967295));return N[O+3]=se,se=se>>8,N[O+2]=se,se=se>>8,N[O+1]=se,se=se>>8,N[O]=se,O+8}b.prototype.writeBigUInt64LE=ir(function(F,O=0){return j(this,F,O,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=ir(function(F,O=0){return P(this,F,O,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(F,O,U,K){if(F=+F,O=O>>>0,!K){const Ue=Math.pow(2,8*U-1);V(this,F,O,U,Ue-1,-Ue)}let te=0,se=1,Oe=0;for(this[O]=F&255;++te<U&&(se*=256);)F<0&&Oe===0&&this[O+te-1]!==0&&(Oe=1),this[O+te]=(F/se>>0)-Oe&255;return O+U},b.prototype.writeIntBE=function(F,O,U,K){if(F=+F,O=O>>>0,!K){const Ue=Math.pow(2,8*U-1);V(this,F,O,U,Ue-1,-Ue)}let te=U-1,se=1,Oe=0;for(this[O+te]=F&255;--te>=0&&(se*=256);)F<0&&Oe===0&&this[O+te+1]!==0&&(Oe=1),this[O+te]=(F/se>>0)-Oe&255;return O+U},b.prototype.writeInt8=function(F,O,U){return F=+F,O=O>>>0,U||V(this,F,O,1,127,-128),F<0&&(F=255+F+1),this[O]=F&255,O+1},b.prototype.writeInt16LE=function(F,O,U){return F=+F,O=O>>>0,U||V(this,F,O,2,32767,-32768),this[O]=F&255,this[O+1]=F>>>8,O+2},b.prototype.writeInt16BE=function(F,O,U){return F=+F,O=O>>>0,U||V(this,F,O,2,32767,-32768),this[O]=F>>>8,this[O+1]=F&255,O+2},b.prototype.writeInt32LE=function(F,O,U){return F=+F,O=O>>>0,U||V(this,F,O,4,2147483647,-2147483648),this[O]=F&255,this[O+1]=F>>>8,this[O+2]=F>>>16,this[O+3]=F>>>24,O+4},b.prototype.writeInt32BE=function(F,O,U){return F=+F,O=O>>>0,U||V(this,F,O,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[O]=F>>>24,this[O+1]=F>>>16,this[O+2]=F>>>8,this[O+3]=F&255,O+4},b.prototype.writeBigInt64LE=ir(function(F,O=0){return j(this,F,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=ir(function(F,O=0){return P(this,F,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(N,F,O,U,K,te){if(O+U>N.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function Q(N,F,O,U,K){return F=+F,O=O>>>0,K||Z(N,F,O,4),o.write(N,F,O,U,23,4),O+4}b.prototype.writeFloatLE=function(F,O,U){return Q(this,F,O,!0,U)},b.prototype.writeFloatBE=function(F,O,U){return Q(this,F,O,!1,U)};function oe(N,F,O,U,K){return F=+F,O=O>>>0,K||Z(N,F,O,8),o.write(N,F,O,U,52,8),O+8}b.prototype.writeDoubleLE=function(F,O,U){return oe(this,F,O,!0,U)},b.prototype.writeDoubleBE=function(F,O,U){return oe(this,F,O,!1,U)},b.prototype.copy=function(F,O,U,K){if(!b.isBuffer(F))throw new TypeError("argument should be a Buffer");if(U||(U=0),!K&&K!==0&&(K=this.length),O>=F.length&&(O=F.length),O||(O=0),K>0&&K<U&&(K=U),K===U||F.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),F.length-O<K-U&&(K=F.length-O+U);const te=K-U;return this===F&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(O,U,K):Uint8Array.prototype.set.call(F,this.subarray(U,K),O),te},b.prototype.fill=function(F,O,U,K){if(typeof F=="string"){if(typeof O=="string"?(K=O,O=0,U=this.length):typeof U=="string"&&(K=U,U=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!b.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(F.length===1){const se=F.charCodeAt(0);(K==="utf8"&&se<128||K==="latin1")&&(F=se)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(O<0||this.length<O||this.length<U)throw new RangeError("Out of range index");if(U<=O)return this;O=O>>>0,U=U===void 0?this.length:U>>>0,F||(F=0);let te;if(typeof F=="number")for(te=O;te<U;++te)this[te]=F;else{const se=b.isBuffer(F)?F:b.from(F,K),Oe=se.length;if(Oe===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(te=0;te<U-O;++te)this[te+O]=se[te%Oe]}return this};const re={};function ye(N,F,O){re[N]=class extends O{constructor(){super(),Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(N,F){return`The "${N}" argument must be of type number. Received type ${typeof F}`},TypeError),ye("ERR_OUT_OF_RANGE",function(N,F,O){let U=`The value of "${N}" is out of range.`,K=O;return Number.isInteger(O)&&Math.abs(O)>4294967296?K=Ee(String(O)):typeof O=="bigint"&&(K=String(O),(O>BigInt(2)**BigInt(32)||O<-(BigInt(2)**BigInt(32)))&&(K=Ee(K)),K+="n"),U+=` It must be ${F}. Received ${K}`,U},RangeError);function Ee(N){let F="",O=N.length;const U=N[0]==="-"?1:0;for(;O>=U+4;O-=3)F=`_${N.slice(O-3,O)}${F}`;return`${N.slice(0,O)}${F}`}function Xe(N,F,O){Cn(F,"offset"),(N[F]===void 0||N[F+O]===void 0)&&an(F,N.length-(O+1))}function Tn(N,F,O,U,K,te){if(N>O||N<F){const se=typeof F=="bigint"?"n":"";let Oe;throw te>3?F===0||F===BigInt(0)?Oe=`>= 0${se} and < 2${se} ** ${(te+1)*8}${se}`:Oe=`>= -(2${se} ** ${(te+1)*8-1}${se}) and < 2 ** ${(te+1)*8-1}${se}`:Oe=`>= ${F}${se} and <= ${O}${se}`,new re.ERR_OUT_OF_RANGE("value",Oe,N)}Xe(U,K,te)}function Cn(N,F){if(typeof N!="number")throw new re.ERR_INVALID_ARG_TYPE(F,"number",N)}function an(N,F,O){throw Math.floor(N)!==N?(Cn(N,O),new re.ERR_OUT_OF_RANGE(O||"offset","an integer",N)):F<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE(O||"offset",`>= ${O?1:0} and <= ${F}`,N)}const nr=/[^+/0-9A-Za-z-_]/g;function Sr(N){if(N=N.split("=")[0],N=N.trim().replace(nr,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function xr(N,F){F=F||1/0;let O;const U=N.length;let K=null;const te=[];for(let se=0;se<U;++se){if(O=N.charCodeAt(se),O>55295&&O<57344){if(!K){if(O>56319){(F-=3)>-1&&te.push(239,191,189);continue}else if(se+1===U){(F-=3)>-1&&te.push(239,191,189);continue}K=O;continue}if(O<56320){(F-=3)>-1&&te.push(239,191,189),K=O;continue}O=(K-55296<<10|O-56320)+65536}else K&&(F-=3)>-1&&te.push(239,191,189);if(K=null,O<128){if((F-=1)<0)break;te.push(O)}else if(O<2048){if((F-=2)<0)break;te.push(O>>6|192,O&63|128)}else if(O<65536){if((F-=3)<0)break;te.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((F-=4)<0)break;te.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return te}function he(N){const F=[];for(let O=0;O<N.length;++O)F.push(N.charCodeAt(O)&255);return F}function Ts(N,F){let O,U,K;const te=[];for(let se=0;se<N.length&&!((F-=2)<0);++se)O=N.charCodeAt(se),U=O>>8,K=O%256,te.push(K),te.push(U);return te}function Zi(N){return u.toByteArray(Sr(N))}function Ga(N,F,O,U){let K;for(K=0;K<U&&!(K+O>=F.length||K>=N.length);++K)F[K+O]=N[K];return K}function ci(N,F){return N instanceof F||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===F.name}function wc(N){return N!==N}const Lc=function(){const N="0123456789abcdef",F=new Array(256);for(let O=0;O<16;++O){const U=O*16;for(let K=0;K<16;++K)F[U+K]=N[O]+N[K]}return F}();function ir(N){return typeof BigInt>"u"?bc:N}function bc(){throw new Error("BigInt not supported")}},8769:(c,d,f)=>{var u,o=TypeError,g=Object.getOwnPropertyDescriptor;if(g)try{g({},"")}catch{g=null}var y=function(){throw new o},m=g?function(){try{return arguments.callee,y}catch{try{return g(arguments,"callee").get}catch{return y}}}():y,l=f(1405)(),b=Object.getPrototypeOf||function($){return $.__proto__},L=u,E=u,S=u,x=typeof Uint8Array>"u"?u:b(Uint8Array),k={"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?u:ArrayBuffer,"%ArrayBufferPrototype%":typeof ArrayBuffer>"u"?u:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":l?b([][Symbol.iterator]()):u,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":E,"%AsyncFunctionPrototype%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":S,"%AsyncGeneratorPrototype%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?u:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":typeof DataView>"u"?u:DataView,"%DataViewPrototype%":typeof DataView>"u"?u:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":typeof Float32Array>"u"?u:Float32Array,"%Float32ArrayPrototype%":typeof Float32Array>"u"?u:Float32Array.prototype,"%Float64Array%":typeof Float64Array>"u"?u:Float64Array,"%Float64ArrayPrototype%":typeof Float64Array>"u"?u:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":u,"%GeneratorFunction%":L,"%GeneratorPrototype%":u,"%Int8Array%":typeof Int8Array>"u"?u:Int8Array,"%Int8ArrayPrototype%":typeof Int8Array>"u"?u:Int8Array.prototype,"%Int16Array%":typeof Int16Array>"u"?u:Int16Array,"%Int16ArrayPrototype%":typeof Int16Array>"u"?u:Int8Array.prototype,"%Int32Array%":typeof Int32Array>"u"?u:Int32Array,"%Int32ArrayPrototype%":typeof Int32Array>"u"?u:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?b(b([][Symbol.iterator]())):u,"%JSON%":typeof JSON=="object"?JSON:u,"%JSONParse%":typeof JSON=="object"?JSON.parse:u,"%Map%":typeof Map>"u"?u:Map,"%MapIteratorPrototype%":typeof Map>"u"||!l?u:b(new Map()[Symbol.iterator]()),"%MapPrototype%":typeof Map>"u"?u:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?u:Promise,"%PromisePrototype%":typeof Promise>"u"?u:Promise.prototype,"%PromiseProto_then%":typeof Promise>"u"?u:Promise.prototype.then,"%Promise_all%":typeof Promise>"u"?u:Promise.all,"%Promise_reject%":typeof Promise>"u"?u:Promise.reject,"%Promise_resolve%":typeof Promise>"u"?u:Promise.resolve,"%Proxy%":typeof Proxy>"u"?u:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":typeof Reflect>"u"?u:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":typeof Set>"u"?u:Set,"%SetIteratorPrototype%":typeof Set>"u"||!l?u:b(new Set()[Symbol.iterator]()),"%SetPrototype%":typeof Set>"u"?u:Set.prototype,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer,"%SharedArrayBufferPrototype%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":l?b(""[Symbol.iterator]()):u,"%StringPrototype%":String.prototype,"%Symbol%":l?Symbol:u,"%SymbolPrototype%":l?Symbol.prototype:u,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":m,"%TypedArray%":x,"%TypedArrayPrototype%":x?x.prototype:u,"%TypeError%":o,"%TypeErrorPrototype%":o.prototype,"%Uint8Array%":typeof Uint8Array>"u"?u:Uint8Array,"%Uint8ArrayPrototype%":typeof Uint8Array>"u"?u:Uint8Array.prototype,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray.prototype,"%Uint16Array%":typeof Uint16Array>"u"?u:Uint16Array,"%Uint16ArrayPrototype%":typeof Uint16Array>"u"?u:Uint16Array.prototype,"%Uint32Array%":typeof Uint32Array>"u"?u:Uint32Array,"%Uint32ArrayPrototype%":typeof Uint32Array>"u"?u:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":typeof WeakMap>"u"?u:WeakMap,"%WeakMapPrototype%":typeof WeakMap>"u"?u:WeakMap.prototype,"%WeakSet%":typeof WeakSet>"u"?u:WeakSet,"%WeakSetPrototype%":typeof WeakSet>"u"?u:WeakSet.prototype},B=f(8612),A=B.call(Function.call,String.prototype.replace),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,R=function(Y){var z=[];return A(Y,M,function(H,q,W,X){z[z.length]=W?A(X,C,"$1"):q||H}),z},D=function(Y,z){if(!(Y in k))throw new SyntaxError("intrinsic "+Y+" does not exist!");if(typeof k[Y]>"u"&&!z)throw new o("intrinsic "+Y+" exists, but is not available. Please file an issue!");return k[Y]};c.exports=function(Y,z){if(typeof Y!="string"||Y.length===0)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof z!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');for(var H=R(Y),q=D("%"+(H.length>0?H[0]:"")+"%",z),W=1;W<H.length;W+=1)if(q!=null)if(g&&W+1>=H.length){var X=g(q,H[W]);if(!z&&!(H[W]in q))throw new o("base intrinsic for "+Y+" exists, but the property is not available.");q=X&&"get"in X&&!("originalValue"in X.get)?X.get:q[H[W]]}else q=q[H[W]];return q}},4147:(c,d,f)=>{var u=f(8612),o=f(8769),g=o("%Function.prototype.apply%"),y=o("%Function.prototype.call%"),m=o("%Reflect.apply%",!0)||u.call(y,g),l=o("%Object.defineProperty%",!0);if(l)try{l({},"a",{value:1})}catch{l=null}c.exports=function(){return m(u,y,arguments)};var b=function(){return m(u,g,arguments)};l?l(c.exports,"apply",{value:b}):c.exports.apply=b},8914:(c,d,f)=>{var u=f(8769),o=f(4147),g=o(u("String.prototype.indexOf"));c.exports=function(m,l){var b=u(m,!!l);return typeof b=="function"&&g(m,".prototype.")?o(b):b}},4079:(c,d,f)=>{var u=f(8769),o=u("%Object.getOwnPropertyDescriptor%");if(o)try{o([],"length")}catch{o=null}c.exports=o},6729:c=>{var d=Object.prototype.hasOwnProperty,f="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(f=!1));function o(l,b,L){this.fn=l,this.context=b,this.once=L||!1}function g(l,b,L,E,S){if(typeof L!="function")throw new TypeError("The listener must be a function");var x=new o(L,E||l,S),k=f?f+b:b;return l._events[k]?l._events[k].fn?l._events[k]=[l._events[k],x]:l._events[k].push(x):(l._events[k]=x,l._eventsCount++),l}function y(l,b){--l._eventsCount===0?l._events=new u:delete l._events[b]}function m(){this._events=new u,this._eventsCount=0}m.prototype.eventNames=function(){var b=[],L,E;if(this._eventsCount===0)return b;for(E in L=this._events)d.call(L,E)&&b.push(f?E.slice(1):E);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(L)):b},m.prototype.listeners=function(b){var L=f?f+b:b,E=this._events[L];if(!E)return[];if(E.fn)return[E.fn];for(var S=0,x=E.length,k=new Array(x);S<x;S++)k[S]=E[S].fn;return k},m.prototype.listenerCount=function(b){var L=f?f+b:b,E=this._events[L];return E?E.fn?1:E.length:0},m.prototype.emit=function(b,L,E,S,x,k){var B=f?f+b:b;if(!this._events[B])return!1;var A=this._events[B],M=arguments.length,C,R;if(A.fn){switch(A.once&&this.removeListener(b,A.fn,void 0,!0),M){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,L),!0;case 3:return A.fn.call(A.context,L,E),!0;case 4:return A.fn.call(A.context,L,E,S),!0;case 5:return A.fn.call(A.context,L,E,S,x),!0;case 6:return A.fn.call(A.context,L,E,S,x,k),!0}for(R=1,C=new Array(M-1);R<M;R++)C[R-1]=arguments[R];A.fn.apply(A.context,C)}else{var D=A.length,$;for(R=0;R<D;R++)switch(A[R].once&&this.removeListener(b,A[R].fn,void 0,!0),M){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,L);break;case 3:A[R].fn.call(A[R].context,L,E);break;case 4:A[R].fn.call(A[R].context,L,E,S);break;default:if(!C)for($=1,C=new Array(M-1);$<M;$++)C[$-1]=arguments[$];A[R].fn.apply(A[R].context,C)}}return!0},m.prototype.on=function(b,L,E){return g(this,b,L,E,!1)},m.prototype.once=function(b,L,E){return g(this,b,L,E,!0)},m.prototype.removeListener=function(b,L,E,S){var x=f?f+b:b;if(!this._events[x])return this;if(!L)return y(this,x),this;var k=this._events[x];if(k.fn)k.fn===L&&(!S||k.once)&&(!E||k.context===E)&&y(this,x);else{for(var B=0,A=[],M=k.length;B<M;B++)(k[B].fn!==L||S&&!k[B].once||E&&k[B].context!==E)&&A.push(k[B]);A.length?this._events[x]=A.length===1?A[0]:A:y(this,x)}return this},m.prototype.removeAllListeners=function(b){var L;return b?(L=f?f+b:b,this._events[L]&&y(this,L)):(this._events=new u,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=f,m.EventEmitter=m,c.exports=m},7187:c=>{var d=typeof Reflect=="object"?Reflect:null,f=d&&typeof d.apply=="function"?d.apply:function(D,$,Y){return Function.prototype.apply.call(D,$,Y)},u;d&&typeof d.ownKeys=="function"?u=d.ownKeys:Object.getOwnPropertySymbols?u=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:u=function(D){return Object.getOwnPropertyNames(D)};function o(R){console&&console.warn&&console.warn(R)}var g=Number.isNaN||function(D){return D!==D};function y(){y.init.call(this)}c.exports=y,c.exports.once=C,y.EventEmitter=y,y.prototype._events=void 0,y.prototype._eventsCount=0,y.prototype._maxListeners=void 0;var m=10;function l(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(R){if(typeof R!="number"||R<0||g(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");m=R}}),y.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},y.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||g(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function b(R){return R._maxListeners===void 0?y.defaultMaxListeners:R._maxListeners}y.prototype.getMaxListeners=function(){return b(this)},y.prototype.emit=function(D){for(var $=[],Y=1;Y<arguments.length;Y++)$.push(arguments[Y]);var z=D==="error",H=this._events;if(H!==void 0)z=z&&H.error===void 0;else if(!z)return!1;if(z){var q;if($.length>0&&(q=$[0]),q instanceof Error)throw q;var W=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw W.context=q,W}var X=H[D];if(X===void 0)return!1;if(typeof X=="function")f(X,this,$);else for(var G=X.length,le=B(X,G),Y=0;Y<G;++Y)f(le[Y],this,$);return!0};function L(R,D,$,Y){var z,H,q;if(l($),H=R._events,H===void 0?(H=R._events=Object.create(null),R._eventsCount=0):(H.newListener!==void 0&&(R.emit("newListener",D,$.listener?$.listener:$),H=R._events),q=H[D]),q===void 0)q=H[D]=$,++R._eventsCount;else if(typeof q=="function"?q=H[D]=Y?[$,q]:[q,$]:Y?q.unshift($):q.push($),z=b(R),z>0&&q.length>z&&!q.warned){q.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");W.name="MaxListenersExceededWarning",W.emitter=R,W.type=D,W.count=q.length,o(W)}return R}y.prototype.addListener=function(D,$){return L(this,D,$,!1)},y.prototype.on=y.prototype.addListener,y.prototype.prependListener=function(D,$){return L(this,D,$,!0)};function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(R,D,$){var Y={fired:!1,wrapFn:void 0,target:R,type:D,listener:$},z=E.bind(Y);return z.listener=$,Y.wrapFn=z,z}y.prototype.once=function(D,$){return l($),this.on(D,S(this,D,$)),this},y.prototype.prependOnceListener=function(D,$){return l($),this.prependListener(D,S(this,D,$)),this},y.prototype.removeListener=function(D,$){var Y,z,H,q,W;if(l($),z=this._events,z===void 0)return this;if(Y=z[D],Y===void 0)return this;if(Y===$||Y.listener===$)--this._eventsCount===0?this._events=Object.create(null):(delete z[D],z.removeListener&&this.emit("removeListener",D,Y.listener||$));else if(typeof Y!="function"){for(H=-1,q=Y.length-1;q>=0;q--)if(Y[q]===$||Y[q].listener===$){W=Y[q].listener,H=q;break}if(H<0)return this;H===0?Y.shift():A(Y,H),Y.length===1&&(z[D]=Y[0]),z.removeListener!==void 0&&this.emit("removeListener",D,W||$)}return this},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(D){var $,Y,z;if(Y=this._events,Y===void 0)return this;if(Y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Y[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Y[D]),this;if(arguments.length===0){var H=Object.keys(Y),q;for(z=0;z<H.length;++z)q=H[z],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if($=Y[D],typeof $=="function")this.removeListener(D,$);else if($!==void 0)for(z=$.length-1;z>=0;z--)this.removeListener(D,$[z]);return this};function x(R,D,$){var Y=R._events;if(Y===void 0)return[];var z=Y[D];return z===void 0?[]:typeof z=="function"?$?[z.listener||z]:[z]:$?M(z):B(z,z.length)}y.prototype.listeners=function(D){return x(this,D,!0)},y.prototype.rawListeners=function(D){return x(this,D,!1)},y.listenerCount=function(R,D){return typeof R.listenerCount=="function"?R.listenerCount(D):k.call(R,D)},y.prototype.listenerCount=k;function k(R){var D=this._events;if(D!==void 0){var $=D[R];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}y.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]};function B(R,D){for(var $=new Array(D),Y=0;Y<D;++Y)$[Y]=R[Y];return $}function A(R,D){for(;D+1<R.length;D++)R[D]=R[D+1];R.pop()}function M(R){for(var D=new Array(R.length),$=0;$<D.length;++$)D[$]=R[$].listener||R[$];return D}function C(R,D){return new Promise(function($,Y){function z(){H!==void 0&&R.removeListener("error",H),$([].slice.call(arguments))}var H;D!=="error"&&(H=function(W){R.removeListener(D,z),Y(W)},R.once("error",H)),R.once(D,z)})}},9804:c=>{var d=Object.prototype.hasOwnProperty,f=Object.prototype.toString;c.exports=function(o,g,y){if(f.call(g)!=="[object Function]")throw new TypeError("iterator must be a function");var m=o.length;if(m===+m)for(var l=0;l<m;l++)g.call(y,o[l],l,o);else for(var b in o)d.call(o,b)&&g.call(y,o[b],b,o)}},7648:c=>{var d="Function.prototype.bind called on incompatible ",f=Array.prototype.slice,u=Object.prototype.toString,o="[object Function]";c.exports=function(y){var m=this;if(typeof m!="function"||u.call(m)!==o)throw new TypeError(d+m);for(var l=f.call(arguments,1),b,L=function(){if(this instanceof b){var B=m.apply(this,l.concat(f.call(arguments)));return Object(B)===B?B:this}else return m.apply(y,l.concat(f.call(arguments)))},E=Math.max(0,m.length-l.length),S=[],x=0;x<E;x++)S.push("$"+x);if(b=Function("binder","return function ("+S.join(",")+"){ return binder.apply(this,arguments); }")(L),m.prototype){var k=function(){};k.prototype=m.prototype,b.prototype=new k,k.prototype=null}return b}},8612:(c,d,f)=>{var u=f(7648);c.exports=Function.prototype.bind||u},1405:(c,d,f)=>{var u=f.g.Symbol,o=f(5419);c.exports=function(){return typeof u!="function"||typeof Symbol!="function"||typeof u("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:o()}},5419:c=>{c.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var f={},u=Symbol("test"),o=Object(u);if(typeof u=="string"||Object.prototype.toString.call(u)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var g=42;f[u]=g;for(u in f)return!1;if(typeof Object.keys=="function"&&Object.keys(f).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(f).length!==0)return!1;var y=Object.getOwnPropertySymbols(f);if(y.length!==1||y[0]!==u||!Object.prototype.propertyIsEnumerable.call(f,u))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(f,u);if(m.value!==g||m.enumerable!==!0)return!1}return!0}},645:(c,d)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(f,u,o,g,y){var m,l,b=y*8-g-1,L=(1<<b)-1,E=L>>1,S=-7,x=o?y-1:0,k=o?-1:1,B=f[u+x];for(x+=k,m=B&(1<<-S)-1,B>>=-S,S+=b;S>0;m=m*256+f[u+x],x+=k,S-=8);for(l=m&(1<<-S)-1,m>>=-S,S+=g;S>0;l=l*256+f[u+x],x+=k,S-=8);if(m===0)m=1-E;else{if(m===L)return l?NaN:(B?-1:1)*(1/0);l=l+Math.pow(2,g),m=m-E}return(B?-1:1)*l*Math.pow(2,m-g)},d.write=function(f,u,o,g,y,m){var l,b,L,E=m*8-y-1,S=(1<<E)-1,x=S>>1,k=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=g?0:m-1,A=g?1:-1,M=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(b=isNaN(u)?1:0,l=S):(l=Math.floor(Math.log(u)/Math.LN2),u*(L=Math.pow(2,-l))<1&&(l--,L*=2),l+x>=1?u+=k/L:u+=k*Math.pow(2,1-x),u*L>=2&&(l++,L/=2),l+x>=S?(b=0,l=S):l+x>=1?(b=(u*L-1)*Math.pow(2,y),l=l+x):(b=u*Math.pow(2,x-1)*Math.pow(2,y),l=0));y>=8;f[o+B]=b&255,B+=A,b/=256,y-=8);for(l=l<<y|b,E+=y;E>0;f[o+B]=l&255,B+=A,l/=256,E-=8);f[o+B-A]|=M*128}},5717:c=>{typeof Object.create=="function"?c.exports=function(f,u){u&&(f.super_=u,f.prototype=Object.create(u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}))}:c.exports=function(f,u){if(u){f.super_=u;var o=function(){};o.prototype=u.prototype,f.prototype=new o,f.prototype.constructor=f}}},2584:c=>{var d=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",f=Object.prototype.toString,u=function(m){return d&&m&&typeof m=="object"&&Symbol.toStringTag in m?!1:f.call(m)==="[object Arguments]"},o=function(m){return u(m)?!0:m!==null&&typeof m=="object"&&typeof m.length=="number"&&m.length>=0&&f.call(m)!=="[object Array]"&&f.call(m.callee)==="[object Function]"},g=function(){return u(arguments)}();u.isLegacyArguments=o,c.exports=g?u:o},8662:c=>{var d=Object.prototype.toString,f=Function.prototype.toString,u=/^\s*(?:function)?\*/,o=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",g=Object.getPrototypeOf,y=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch{}},m=y(),l=m?g(m):{};c.exports=function(L){if(typeof L!="function")return!1;if(u.test(f.call(L)))return!0;if(!o){var E=d.call(L);return E==="[object GeneratorFunction]"}return g(L)===l}},5692:(c,d,f)=>{var u=f(9804),o=f(6314),g=f(8914),y=g("Object.prototype.toString"),m=f(1405)(),l=m&&typeof Symbol.toStringTag=="symbol",b=o(),L=g("Array.prototype.indexOf",!0)||function(M,C){for(var R=0;R<M.length;R+=1)if(M[R]===C)return R;return-1},E=g("String.prototype.slice"),S={},x=f(4079),k=Object.getPrototypeOf;l&&x&&k&&u(b,function(A){var M=new f.g[A];if(!(Symbol.toStringTag in M))throw new EvalError("this engine has support for Symbol.toStringTag, but "+A+" does not have the property! Please report this.");var C=k(M),R=x(C,Symbol.toStringTag);if(!R){var D=k(C);R=x(D,Symbol.toStringTag)}S[A]=R.get});var B=function(M){var C=!1;return u(S,function(R,D){if(!C)try{C=R.call(M)===D}catch{}}),C};c.exports=function(M){if(!M||typeof M!="object")return!1;if(!l){var C=E(y(M),8,-1);return L(b,C)>-1}return x?B(M):!1}},6792:(c,d,f)=>{var u=null;typeof WebSocket<"u"?u=WebSocket:typeof MozWebSocket<"u"?u=MozWebSocket:typeof f.g<"u"?u=f.g.WebSocket||f.g.MozWebSocket:typeof window<"u"?u=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(u=self.WebSocket||self.MozWebSocket),c.exports=u},135:(c,d,f)=>{for(var u=f(8764).Buffer,o=4294967296,g=[],y=0;y<256;y++)g[y]=(y>15?"":"0")+y.toString(16);var m=c.exports=function(l,b){l instanceof u?(this.buffer=l,this.offset=b||0):Object.prototype.toString.call(l)=="[object Uint8Array]"?(this.buffer=new u(l),this.offset=b||0):(this.buffer=this.buffer||new u(8),this.offset=0,this.setValue.apply(this,arguments))};m.MAX_INT=Math.pow(2,53),m.MIN_INT=-Math.pow(2,53),m.prototype={constructor:m,_2scomp:function(){for(var l=this.buffer,b=this.offset,L=1,E=b+7;E>=b;E--){var S=(l[E]^255)+L;l[E]=S&255,L=S>>8}},setValue:function(l,b){var L=!1;if(arguments.length==1)if(typeof l=="number"){if(L=l<0,l=Math.abs(l),b=l%o,l=l/o,l>o)throw new RangeError(l+" is outside Int64 range");l=l|0}else if(typeof l=="string")l=(l+"").replace(/^0x/,""),b=l.substr(-8),l=l.length>8?l.substr(0,l.length-8):"",l=parseInt(l,16),b=parseInt(b,16);else throw new Error(l+" must be a Number or String");for(var E=this.buffer,S=this.offset,x=7;x>=0;x--)E[S+x]=b&255,b=x==4?l:b>>>8;L&&this._2scomp()},toNumber:function(l){for(var b=this.buffer,L=this.offset,E=b[L]&128,S=0,x=1,k=7,B=1;k>=0;k--,B*=256){var A=b[L+k];E&&(A=(A^255)+x,x=A>>8,A=A&255),S+=A*B}return!l&&S>=m.MAX_INT?E?-1/0:1/0:E?-S:S},valueOf:function(){return this.toNumber(!1)},toString:function(l){return this.valueOf().toString(l||10)},toOctetString:function(l){for(var b=new Array(8),L=this.buffer,E=this.offset,S=0;S<8;S++)b[S]=g[L[E+S]];return b.join(l||"")},toBuffer:function(l){if(l&&this.offset===0)return this.buffer;var b=new u(8);return this.buffer.copy(b,0,this.offset,this.offset+8),b},copy:function(l,b){this.buffer.copy(l,b||0,this.offset,this.offset+8)},compare:function(l){if((this.buffer[this.offset]&128)!=(l.buffer[l.offset]&128))return l.buffer[l.offset]-this.buffer[this.offset];for(var b=0;b<8;b++)if(this.buffer[this.offset+b]!==l.buffer[l.offset+b])return this.buffer[this.offset+b]-l.buffer[l.offset+b];return 0},equals:function(l){return this.compare(l)===0},inspect:function(){return"[Int64 value:"+this+" octets:"+this.toOctetString(" ")+"]"}}},8486:c=>{/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(d){typeof bootstrap=="function"?bootstrap("promise",d):c.exports=d()})(function(){var d=!1;try{throw new Error}catch(N){d=!!N.stack}var f=W(),u,o=function(){},g=function(){var N={task:void 0,next:null},F=N,O=!1,U=void 0,K=!1,te=[];function se(){for(var We,Ye;N.next;)N=N.next,We=N.task,N.task=void 0,Ye=N.domain,Ye&&(N.domain=void 0,Ye.enter()),Oe(We,Ye);for(;te.length;)We=te.pop(),Oe(We);O=!1}function Oe(We,Ye){try{We()}catch(Tc){if(K)throw Ye&&Ye.exit(),setTimeout(se,0),Ye&&Ye.enter(),Tc;setTimeout(function(){throw Tc},0)}Ye&&Ye.exit()}if(g=function(We){F=F.next={task:We,domain:K&&process.domain,next:null},O||(O=!0,U())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)K=!0,U=function(){process.nextTick(se)};else if(typeof setImmediate=="function")typeof window<"u"?U=setImmediate.bind(window,se):U=function(){setImmediate(se)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel;Ue.port1.onmessage=function(){U=ze,Ue.port1.onmessage=se,se()};var ze=function(){Ue.port2.postMessage(0)};U=function(){setTimeout(se,0),ze()}}else U=function(){setTimeout(se,0)};return g.runAfter=function(We){te.push(We),O||(O=!0,U())},g}(),y=Function.call;function m(N){return function(){return y.apply(N,arguments)}}var l=m(Array.prototype.slice),b=m(Array.prototype.reduce||function(N,F){var O=0,U=this.length;if(arguments.length===1)do{if(O in this){F=this[O++];break}if(++O>=U)throw new TypeError}while(1);for(;O<U;O++)O in this&&(F=N(F,this[O],O));return F}),L=m(Array.prototype.indexOf||function(N){for(var F=0;F<this.length;F++)if(this[F]===N)return F;return-1}),E=m(Array.prototype.map||function(N,F){var O=this,U=[];return b(O,function(K,te,se){U.push(N.call(F,te,se,O))},void 0),U}),S=Object.create||function(N){function F(){}return F.prototype=N,new F},x=Object.defineProperty||function(N,F,O){return N[F]=O.value,N},k=m(Object.prototype.hasOwnProperty),B=Object.keys||function(N){var F=[];for(var O in N)k(N,O)&&F.push(O);return F},A=m(Object.prototype.toString);function M(N){return N===Object(N)}function C(N){return A(N)==="[object StopIteration]"||N instanceof R}var R;typeof ReturnValue<"u"?R=ReturnValue:R=function(N){this.value=N};var D="From previous event:";function $(N,F){if(d&&F.stack&&typeof N=="object"&&N!==null&&N.stack){for(var O=[],U=F;U;U=U.source)U.stack&&(!N.__minimumStackCounter__||N.__minimumStackCounter__>U.stackCounter)&&(x(N,"__minimumStackCounter__",{value:U.stackCounter,configurable:!0}),O.unshift(U.stack));O.unshift(N.stack);var K=O.join(`
`+D+`
`),te=Y(K);x(N,"stack",{value:te,configurable:!0})}}function Y(N){for(var F=N.split(`
`),O=[],U=0;U<F.length;++U){var K=F[U];!q(K)&&!z(K)&&K&&O.push(K)}return O.join(`
`)}function z(N){return N.indexOf("(module.js:")!==-1||N.indexOf("(node.js:")!==-1}function H(N){var F=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(N);if(F)return[F[1],Number(F[2])];var O=/at ([^ ]+):(\d+):(?:\d+)$/.exec(N);if(O)return[O[1],Number(O[2])];var U=/.*@(.+):(\d+)$/.exec(N);if(U)return[U[1],Number(U[2])]}function q(N){var F=H(N);if(!F)return!1;var O=F[0],U=F[1];return O===u&&U>=f&&U<=bc}function W(){if(d)try{throw new Error}catch(U){var N=U.stack.split(`
`),F=N[0].indexOf("@")>0?N[1]:N[2],O=H(F);return O?(u=O[0],O[1]):void 0}}function X(N,F,O){return function(){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(F+" is deprecated, use "+O+" instead.",new Error("").stack),N.apply(N,arguments)}}function G(N){return N instanceof fe?N:Pt(N)?Tn(N):Xe(N)}G.resolve=G,G.nextTick=g,G.longStackSupport=!1;var le=1;typeof process=="object"&&process&&{BROWSER:!0}&&{BROWSER:!0}.Q_DEBUG&&(G.longStackSupport=!0),G.defer=pe;function pe(){var N=[],F=[],O,U=S(pe.prototype),K=S(fe.prototype);if(K.promiseDispatch=function(se,Oe,Ue){var ze=l(arguments);N?(N.push(ze),Oe==="when"&&Ue[1]&&F.push(Ue[1])):G.nextTick(function(){O.promiseDispatch.apply(O,ze)})},K.valueOf=function(){if(N)return K;var se=je(O);return yt(se)&&(O=se),se},K.inspect=function(){return O?O.inspect():{state:"pending"}},G.longStackSupport&&d)try{throw new Error}catch(se){K.stack=se.stack.substring(se.stack.indexOf(`
`)+1),K.stackCounter=le++}function te(se){O=se,G.longStackSupport&&d&&(K.source=se),b(N,function(Oe,Ue){G.nextTick(function(){se.promiseDispatch.apply(se,Ue)})},void 0),N=void 0,F=void 0}return U.promise=K,U.resolve=function(se){O||te(G(se))},U.fulfill=function(se){O||te(Xe(se))},U.reject=function(se){O||te(Ee(se))},U.notify=function(se){O||b(F,function(Oe,Ue){G.nextTick(function(){Ue(se)})},void 0)},U}pe.prototype.makeNodeResolver=function(){var N=this;return function(F,O){F?N.reject(F):arguments.length>2?N.resolve(l(arguments,1)):N.resolve(O)}},G.Promise=ie,G.promise=ie;function ie(N){if(typeof N!="function")throw new TypeError("resolver must be a function.");var F=pe();try{N(F.resolve,F.reject,F.notify)}catch(O){F.reject(O)}return F.promise}ie.race=Ae,ie.all=Zi,ie.reject=Ee,ie.resolve=G,G.passByCopy=function(N){return N},fe.prototype.passByCopy=function(){return this},G.join=function(N,F){return G(N).join(F)},fe.prototype.join=function(N){return G([this,N]).spread(function(F,O){if(F===O)return F;throw new Error("Q can't join: not the same: "+F+" "+O)})},G.race=Ae;function Ae(N){return ie(function(F,O){for(var U=0,K=N.length;U<K;U++)G(N[U]).then(F,O)})}fe.prototype.race=function(){return this.then(G.race)},G.makePromise=fe;function fe(N,F,O){F===void 0&&(F=function(te){return Ee(new Error("Promise does not support operation: "+te))}),O===void 0&&(O=function(){return{state:"unknown"}});var U=S(fe.prototype);if(U.promiseDispatch=function(te,se,Oe){var Ue;try{N[se]?Ue=N[se].apply(U,Oe):Ue=F.call(U,se,Oe)}catch(ze){Ue=Ee(ze)}te&&te(Ue)},U.inspect=O,O){var K=O();K.state==="rejected"&&(U.exception=K.reason),U.valueOf=function(){var te=O();return te.state==="pending"||te.state==="rejected"?U:te.value}}return U}fe.prototype.toString=function(){return"[object Promise]"},fe.prototype.then=function(N,F,O){var U=this,K=pe(),te=!1;function se(ze){try{return typeof N=="function"?N(ze):ze}catch(We){return Ee(We)}}function Oe(ze){if(typeof F=="function"){$(ze,U);try{return F(ze)}catch(We){return Ee(We)}}return Ee(ze)}function Ue(ze){return typeof O=="function"?O(ze):ze}return G.nextTick(function(){U.promiseDispatch(function(ze){te||(te=!0,K.resolve(se(ze)))},"when",[function(ze){te||(te=!0,K.resolve(Oe(ze)))}])}),U.promiseDispatch(void 0,"when",[void 0,function(ze){var We,Ye=!1;try{We=Ue(ze)}catch(Tc){if(Ye=!0,G.onerror)G.onerror(Tc);else throw Tc}Ye||K.notify(We)}]),K.promise},G.tap=function(N,F){return G(N).tap(F)},fe.prototype.tap=function(N){return N=G(N),this.then(function(F){return N.fcall(F).thenResolve(F)})},G.when=Fe;function Fe(N,F,O,U){return G(N).then(F,O,U)}fe.prototype.thenResolve=function(N){return this.then(function(){return N})},G.thenResolve=function(N,F){return G(N).thenResolve(F)},fe.prototype.thenReject=function(N){return this.then(function(){throw N})},G.thenReject=function(N,F){return G(N).thenReject(F)},G.nearer=je;function je(N){if(yt(N)){var F=N.inspect();if(F.state==="fulfilled")return F.value}return N}G.isPromise=yt;function yt(N){return N instanceof fe}G.isPromiseAlike=Pt;function Pt(N){return M(N)&&typeof N.then=="function"}G.isPending=qt;function qt(N){return yt(N)&&N.inspect().state==="pending"}fe.prototype.isPending=function(){return this.inspect().state==="pending"},G.isFulfilled=_e;function _e(N){return!yt(N)||N.inspect().state==="fulfilled"}fe.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},G.isRejected=V;function V(N){return yt(N)&&N.inspect().state==="rejected"}fe.prototype.isRejected=function(){return this.inspect().state==="rejected"};var j=[],P=[],Z=[],Q=!0;function oe(){j.length=0,P.length=0,Q||(Q=!0)}function re(N,F){Q&&(typeof process=="object"&&typeof process.emit=="function"&&G.nextTick.runAfter(function(){L(P,N)!==-1&&(process.emit("unhandledRejection",F,N),Z.push(N))}),P.push(N),F&&typeof F.stack<"u"?j.push(F.stack):j.push("(no stack) "+F))}function ye(N){if(Q){var F=L(P,N);F!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&G.nextTick.runAfter(function(){var O=L(Z,N);O!==-1&&(process.emit("rejectionHandled",j[F],N),Z.splice(O,1))}),P.splice(F,1),j.splice(F,1))}}G.resetUnhandledRejections=oe,G.getUnhandledReasons=function(){return j.slice()},G.stopUnhandledRejectionTracking=function(){oe(),Q=!1},oe(),G.reject=Ee;function Ee(N){var F=fe({when:function(O){return O&&ye(this),O?O(N):this}},function(){return this},function(){return{state:"rejected",reason:N}});return re(F,N),F}G.fulfill=Xe;function Xe(N){return fe({when:function(){return N},get:function(F){return N[F]},set:function(F,O){N[F]=O},delete:function(F){delete N[F]},post:function(F,O){return F==null?N.apply(void 0,O):N[F].apply(N,O)},apply:function(F,O){return N.apply(F,O)},keys:function(){return B(N)}},void 0,function(){return{state:"fulfilled",value:N}})}function Tn(N){var F=pe();return G.nextTick(function(){try{N.then(F.resolve,F.reject,F.notify)}catch(O){F.reject(O)}}),F.promise}G.master=Cn;function Cn(N){return fe({isDef:function(){}},function(O,U){return Ts(N,O,U)},function(){return G(N).inspect()})}G.spread=an;function an(N,F,O){return G(N).spread(F,O)}fe.prototype.spread=function(N,F){return this.all().then(function(O){return N.apply(void 0,O)},F)},G.async=nr;function nr(N){return function(){function F(te,se){var Oe;if(typeof StopIteration>"u"){try{Oe=O[te](se)}catch(Ue){return Ee(Ue)}return Oe.done?G(Oe.value):Fe(Oe.value,U,K)}else{try{Oe=O[te](se)}catch(Ue){return C(Ue)?G(Ue.value):Ee(Ue)}return Fe(Oe,U,K)}}var O=N.apply(this,arguments),U=F.bind(F,"next"),K=F.bind(F,"throw");return U()}}G.spawn=Sr;function Sr(N){G.done(G.async(N)())}G.return=xr;function xr(N){throw new R(N)}G.promised=he;function he(N){return function(){return an([this,Zi(arguments)],function(F,O){return N.apply(F,O)})}}G.dispatch=Ts;function Ts(N,F,O){return G(N).dispatch(F,O)}fe.prototype.dispatch=function(N,F){var O=this,U=pe();return G.nextTick(function(){O.promiseDispatch(U.resolve,N,F)}),U.promise},G.get=function(N,F){return G(N).dispatch("get",[F])},fe.prototype.get=function(N){return this.dispatch("get",[N])},G.set=function(N,F,O){return G(N).dispatch("set",[F,O])},fe.prototype.set=function(N,F){return this.dispatch("set",[N,F])},G.del=G.delete=function(N,F){return G(N).dispatch("delete",[F])},fe.prototype.del=fe.prototype.delete=function(N){return this.dispatch("delete",[N])},G.mapply=G.post=function(N,F,O){return G(N).dispatch("post",[F,O])},fe.prototype.mapply=fe.prototype.post=function(N,F){return this.dispatch("post",[N,F])},G.send=G.mcall=G.invoke=function(N,F){return G(N).dispatch("post",[F,l(arguments,2)])},fe.prototype.send=fe.prototype.mcall=fe.prototype.invoke=function(N){return this.dispatch("post",[N,l(arguments,1)])},G.fapply=function(N,F){return G(N).dispatch("apply",[void 0,F])},fe.prototype.fapply=function(N){return this.dispatch("apply",[void 0,N])},G.try=G.fcall=function(N){return G(N).dispatch("apply",[void 0,l(arguments,1)])},fe.prototype.fcall=function(){return this.dispatch("apply",[void 0,l(arguments)])},G.fbind=function(N){var F=G(N),O=l(arguments,1);return function(){return F.dispatch("apply",[this,O.concat(l(arguments))])}},fe.prototype.fbind=function(){var N=this,F=l(arguments);return function(){return N.dispatch("apply",[this,F.concat(l(arguments))])}},G.keys=function(N){return G(N).dispatch("keys",[])},fe.prototype.keys=function(){return this.dispatch("keys",[])},G.all=Zi;function Zi(N){return Fe(N,function(F){var O=0,U=pe();return b(F,function(K,te,se){var Oe;yt(te)&&(Oe=te.inspect()).state==="fulfilled"?F[se]=Oe.value:(++O,Fe(te,function(Ue){F[se]=Ue,--O===0&&U.resolve(F)},U.reject,function(Ue){U.notify({index:se,value:Ue})}))},void 0),O===0&&U.resolve(F),U.promise})}fe.prototype.all=function(){return Zi(this)},G.any=Ga;function Ga(N){if(N.length===0)return G.resolve();var F=G.defer(),O=0;return b(N,function(U,K,te){var se=N[te];O++,Fe(se,Oe,Ue,ze);function Oe(We){F.resolve(We)}function Ue(We){if(O--,O===0){var Ye=We||new Error(""+We);Ye.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+Ye.message,F.reject(Ye)}}function ze(We){F.notify({index:te,value:We})}},void 0),F.promise}fe.prototype.any=function(){return Ga(this)},G.allResolved=X(ci,"allResolved","allSettled");function ci(N){return Fe(N,function(F){return F=E(F,G),Fe(Zi(E(F,function(O){return Fe(O,o,o)})),function(){return F})})}fe.prototype.allResolved=function(){return ci(this)},G.allSettled=wc;function wc(N){return G(N).allSettled()}fe.prototype.allSettled=function(){return this.then(function(N){return Zi(E(N,function(F){F=G(F);function O(){return F.inspect()}return F.then(O,O)}))})},G.fail=G.catch=function(N,F){return G(N).then(void 0,F)},fe.prototype.fail=fe.prototype.catch=function(N){return this.then(void 0,N)},G.progress=Lc;function Lc(N,F){return G(N).then(void 0,void 0,F)}fe.prototype.progress=function(N){return this.then(void 0,void 0,N)},G.fin=G.finally=function(N,F){return G(N).finally(F)},fe.prototype.fin=fe.prototype.finally=function(N){if(!N||typeof N.apply!="function")throw new Error("Q can't apply finally callback");return N=G(N),this.then(function(F){return N.fcall().then(function(){return F})},function(F){return N.fcall().then(function(){throw F})})},G.done=function(N,F,O,U){return G(N).done(F,O,U)},fe.prototype.done=function(N,F,O){var U=function(te){G.nextTick(function(){if($(te,K),G.onerror)G.onerror(te);else throw te})},K=N||F||O?this.then(N,F,O):this;typeof process=="object"&&process&&process.domain&&(U=process.domain.bind(U)),K.then(void 0,U)},G.timeout=function(N,F,O){return G(N).timeout(F,O)},fe.prototype.timeout=function(N,F){var O=pe(),U=setTimeout(function(){(!F||typeof F=="string")&&(F=new Error(F||"Timed out after "+N+" ms"),F.code="ETIMEDOUT"),O.reject(F)},N);return this.then(function(K){clearTimeout(U),O.resolve(K)},function(K){clearTimeout(U),O.reject(K)},O.notify),O.promise},G.delay=function(N,F){return F===void 0&&(F=N,N=void 0),G(N).delay(F)},fe.prototype.delay=function(N){return this.then(function(F){var O=pe();return setTimeout(function(){O.resolve(F)},N),O.promise})},G.nfapply=function(N,F){return G(N).nfapply(F)},fe.prototype.nfapply=function(N){var F=pe(),O=l(N);return O.push(F.makeNodeResolver()),this.fapply(O).fail(F.reject),F.promise},G.nfcall=function(N){var F=l(arguments,1);return G(N).nfapply(F)},fe.prototype.nfcall=function(){var N=l(arguments),F=pe();return N.push(F.makeNodeResolver()),this.fapply(N).fail(F.reject),F.promise},G.nfbind=G.denodeify=function(N){if(N===void 0)throw new Error("Q can't wrap an undefined function");var F=l(arguments,1);return function(){var O=F.concat(l(arguments)),U=pe();return O.push(U.makeNodeResolver()),G(N).fapply(O).fail(U.reject),U.promise}},fe.prototype.nfbind=fe.prototype.denodeify=function(){var N=l(arguments);return N.unshift(this),G.denodeify.apply(void 0,N)},G.nbind=function(N,F){var O=l(arguments,2);return function(){var U=O.concat(l(arguments)),K=pe();U.push(K.makeNodeResolver());function te(){return N.apply(F,arguments)}return G(te).fapply(U).fail(K.reject),K.promise}},fe.prototype.nbind=function(){var N=l(arguments,0);return N.unshift(this),G.nbind.apply(void 0,N)},G.nmapply=G.npost=function(N,F,O){return G(N).npost(F,O)},fe.prototype.nmapply=fe.prototype.npost=function(N,F){var O=l(F||[]),U=pe();return O.push(U.makeNodeResolver()),this.dispatch("post",[N,O]).fail(U.reject),U.promise},G.nsend=G.nmcall=G.ninvoke=function(N,F){var O=l(arguments,2),U=pe();return O.push(U.makeNodeResolver()),G(N).dispatch("post",[F,O]).fail(U.reject),U.promise},fe.prototype.nsend=fe.prototype.nmcall=fe.prototype.ninvoke=function(N){var F=l(arguments,1),O=pe();return F.push(O.makeNodeResolver()),this.dispatch("post",[N,F]).fail(O.reject),O.promise},G.nodeify=ir;function ir(N,F){return G(N).nodeify(F)}fe.prototype.nodeify=function(N){if(N)this.then(function(F){G.nextTick(function(){N(null,F)})},function(F){G.nextTick(function(){N(F)})});else return this},G.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var bc=W();return G})},7533:(c,d)=>{var f=Math.pow(2,8),u=Math.pow(2,16),o=Math.pow(2,24),g=Math.pow(2,32),y=Math.pow(2,40),m=Math.pow(2,48),l=Math.pow(2,52),b=Math.pow(2,1022);d.readByte=function(L){return L>127?L-256:L},d.readI16=function(L,E){E=E||0;var S=L[E+1];return S+=L[E]<<8,L[E]&128&&(S-=u),S},d.readI32=function(L,E){E=E||0;var S=L[E+3];return S+=L[E+2]<<8,S+=L[E+1]<<16,S+=L[E]*o,L[E]&128&&(S-=g),S},d.writeI16=function(L,E){return L[1]=E&255,E>>=8,L[0]=E&255,L},d.writeI32=function(L,E){return L[3]=E&255,E>>=8,L[2]=E&255,E>>=8,L[1]=E&255,E>>=8,L[0]=E&255,L},d.readDouble=function(L,E){E=E||0;var S=L[E]&128,x=(L[E+1]&240)>>4;x+=(L[E]&127)<<4;var k=L[E+7];switch(k+=L[E+6]<<8,k+=L[E+5]<<16,k+=L[E+4]*o,k+=L[E+3]*g,k+=L[E+2]*y,k+=(L[E+1]&15)*m,x){case 0:x=-1022;break;case 2047:return k?NaN:S?-1/0:1/0;default:k+=l,x-=1023}return S&&(k*=-1),k*Math.pow(2,x-52)},d.writeDouble=function(L,E){var S,x,k;return L[0]=E<0?128:0,E=Math.abs(E),E!==E?(S=0x8000000000000,x=2047):E===1/0?(S=0,x=2047):(x=Math.floor(Math.log(E)/Math.LN2),k=Math.pow(2,-x),E*k<1&&(x--,k*=2),x+1023>=2047?(S=0,x=2047):x+1023>=1?(S=(E*k-1)*l,x+=1023):(S=E*b*l,x=0)),L[1]=x<<4&240,L[0]|=x>>4&127,L[7]=S&255,S=Math.floor(S/f),L[6]=S&255,S=Math.floor(S/f),L[5]=S&255,S=Math.floor(S/f),L[4]=S&255,S>>=8,L[3]=S&255,S>>=8,L[2]=S&255,S>>=8,L[1]|=S&15,L}},4711:(c,d,f)=>{var u=f(8764).Buffer,o=f(1291),g=f(7533),y=f(135),m=f(5406),l=m.Type;c.exports=S;var b=-65536,L=-2147418112,E=255;S.VERSION_MASK=b,S.VERSION_1=L,S.TYPE_MASK=E;function S(x,k,B){this.trans=x,this.strictRead=k!==void 0?k:!1,this.strictWrite=B!==void 0?B:!0,this._seqid=null}S.prototype.flush=function(){return this.trans.flush()},S.prototype.writeMessageBegin=function(x,k,B){this.strictWrite?(this.writeI32(L|k),this.writeString(x),this.writeI32(B)):(this.writeString(x),this.writeByte(k),this.writeI32(B)),this._seqid!==null?o.warning("SeqId already set",{name:x}):(this._seqid=B,this.trans.setCurrSeqId(B))},S.prototype.writeMessageEnd=function(){this._seqid!==null?this._seqid=null:o.warning("No seqid to unset")},S.prototype.writeStructBegin=function(x){},S.prototype.writeStructEnd=function(){},S.prototype.writeFieldBegin=function(x,k,B){this.writeByte(k),this.writeI16(B)},S.prototype.writeFieldEnd=function(){},S.prototype.writeFieldStop=function(){this.writeByte(l.STOP)},S.prototype.writeMapBegin=function(x,k,B){this.writeByte(x),this.writeByte(k),this.writeI32(B)},S.prototype.writeMapEnd=function(){},S.prototype.writeListBegin=function(x,k){this.writeByte(x),this.writeI32(k)},S.prototype.writeListEnd=function(){},S.prototype.writeSetBegin=function(x,k){this.writeByte(x),this.writeI32(k)},S.prototype.writeSetEnd=function(){},S.prototype.writeBool=function(x){x?this.writeByte(1):this.writeByte(0)},S.prototype.writeByte=function(x){this.trans.write(new u([x]))},S.prototype.writeI16=function(x){this.trans.write(g.writeI16(new u(2),x))},S.prototype.writeI32=function(x){this.trans.write(g.writeI32(new u(4),x))},S.prototype.writeI64=function(x){x.buffer?this.trans.write(x.buffer):this.trans.write(new y(x).buffer)},S.prototype.writeDouble=function(x){this.trans.write(g.writeDouble(new u(8),x))},S.prototype.writeStringOrBinary=function(x,k,B){if(typeof B=="string")this.writeI32(u.byteLength(B,k)),this.trans.write(new u(B,k));else if(B instanceof u||Object.prototype.toString.call(B)=="[object Uint8Array]")this.writeI32(B.length),this.trans.write(B);else throw new Error(x+" called without a string/Buffer argument: "+B)},S.prototype.writeString=function(x){this.writeStringOrBinary("writeString","utf8",x)},S.prototype.writeBinary=function(x){this.writeStringOrBinary("writeBinary","binary",x)},S.prototype.readMessageBegin=function(){var x=this.readI32(),k,B,A;if(x<0){var M=x&b;if(M!=L)throw new m.TProtocolException(m.TProtocolExceptionType.BAD_VERSION,"Bad version in readMessageBegin: "+x);k=x&E,B=this.readString(),A=this.readI32()}else{if(this.strictRead)throw new m.TProtocolException(m.TProtocolExceptionType.BAD_VERSION,"No protocol version header");B=this.trans.read(x),k=this.readByte(),A=this.readI32()}return{fname:B,mtype:k,rseqid:A}},S.prototype.readMessageEnd=function(){},S.prototype.readStructBegin=function(){return{fname:""}},S.prototype.readStructEnd=function(){},S.prototype.readFieldBegin=function(){var x=this.readByte();if(x==l.STOP)return{fname:null,ftype:x,fid:0};var k=this.readI16();return{fname:null,ftype:x,fid:k}},S.prototype.readFieldEnd=function(){},S.prototype.readMapBegin=function(){var x=this.readByte(),k=this.readByte(),B=this.readI32();return{ktype:x,vtype:k,size:B}},S.prototype.readMapEnd=function(){},S.prototype.readListBegin=function(){var x=this.readByte(),k=this.readI32();return{etype:x,size:k}},S.prototype.readListEnd=function(){},S.prototype.readSetBegin=function(){var x=this.readByte(),k=this.readI32();return{etype:x,size:k}},S.prototype.readSetEnd=function(){},S.prototype.readBool=function(){var x=this.readByte();return x!==0},S.prototype.readByte=function(){return this.trans.readByte()},S.prototype.readI16=function(){return this.trans.readI16()},S.prototype.readI32=function(){return this.trans.readI32()},S.prototype.readI64=function(){var x=this.trans.read(8);return new y(x)},S.prototype.readDouble=function(){return this.trans.readDouble()},S.prototype.readBinary=function(){var x=this.readI32();if(x===0)return new u(0);if(x<0)throw new m.TProtocolException(m.TProtocolExceptionType.NEGATIVE_SIZE,"Negative binary size");return this.trans.read(x)},S.prototype.readString=function(){var x=this.readI32();if(x===0)return"";if(x<0)throw new m.TProtocolException(m.TProtocolExceptionType.NEGATIVE_SIZE,"Negative string size");return this.trans.readString(x)},S.prototype.getTransport=function(){return this.trans},S.prototype.skip=function(x){switch(x){case l.BOOL:this.readBool();break;case l.BYTE:this.readByte();break;case l.I16:this.readI16();break;case l.I32:this.readI32();break;case l.I64:this.readI64();break;case l.DOUBLE:this.readDouble();break;case l.STRING:this.readString();break;case l.STRUCT:for(this.readStructBegin();;){var k=this.readFieldBegin();if(k.ftype===l.STOP)break;this.skip(k.ftype),this.readFieldEnd()}this.readStructEnd();break;case l.MAP:for(var B=this.readMapBegin(),A=0;A<B.size;++A)this.skip(B.ktype),this.skip(B.vtype);this.readMapEnd();break;case l.SET:for(var M=this.readSetBegin(),C=0;C<M.size;++C)this.skip(M.etype);this.readSetEnd();break;case l.LIST:for(var R=this.readListBegin(),D=0;D<R.size;++D)this.skip(R.etype);this.readListEnd();break;default:throw new Error("Invalid type: "+x)}}},9262:(c,d,f)=>{d.Thrift=f(5406);var u=f(5455);d.WSConnection=u.WSConnection,d.createWSConnection=u.createWSConnection,d.createWSClient=u.createWSClient;var o=f(4050);d.XHRConnection=o.XHRConnection,d.createXHRConnection=o.createXHRConnection,d.createXHRClient=o.createXHRClient,d.Int64=f(135),d.Q=f(8486);var g=f(4184);d.Multiplexer=g.Multiplexer,d.TBufferedTransport=f(8869),d.TFramedTransport=f(7584),d.TWebSocketTransport=f(5764),d.Protocol=f(5086),d.TJSONProtocol=f(5086),d.TBinaryProtocol=f(4711),d.TCompactProtocol=f(9277)},8869:(c,d,f)=>{var u=f(8764).Buffer,o=f(7533),g=f(3590),y=f(5190);c.exports=m;function m(l,b){this.defaultReadBufferSize=1024,this.writeBufferSize=512,this.inBuf=new u(this.defaultReadBufferSize),this.readCursor=0,this.writeCursor=0,this.outBuffers=[],this.outCount=0,this.onFlush=b}m.prototype=new y,m.prototype.reset=function(){this.inBuf=new u(this.defaultReadBufferSize),this.readCursor=0,this.writeCursor=0,this.outBuffers=[],this.outCount=0},m.receiver=function(l,b){var L=new m;return function(E){if(L.writeCursor+E.length>L.inBuf.length){var S=new u(L.writeCursor+E.length);L.inBuf.copy(S,0,0,L.writeCursor),L.inBuf=S}E.copy(L.inBuf,L.writeCursor,0),L.writeCursor+=E.length,l(L,b)}},m.prototype.commitPosition=function(){var l=this.writeCursor-this.readCursor,b=l*2>this.defaultReadBufferSize?l*2:this.defaultReadBufferSize,L=new u(b);l>0&&this.inBuf.copy(L,0,this.readCursor,this.writeCursor),this.readCursor=0,this.writeCursor=l,this.inBuf=L},m.prototype.rollbackPosition=function(){this.readCursor=0},m.prototype.isOpen=function(){return!0},m.prototype.open=function(){},m.prototype.close=function(){},m.prototype.setCurrSeqId=function(l){this._seqid=l},m.prototype.ensureAvailable=function(l){if(this.readCursor+l>this.writeCursor)throw new g},m.prototype.read=function(l){this.ensureAvailable(l);var b=new u(l);return this.inBuf.copy(b,0,this.readCursor,this.readCursor+l),this.readCursor+=l,b},m.prototype.readByte=function(){return this.ensureAvailable(1),o.readByte(this.inBuf[this.readCursor++])},m.prototype.readI16=function(){this.ensureAvailable(2);var l=o.readI16(this.inBuf,this.readCursor);return this.readCursor+=2,l},m.prototype.readI32=function(){this.ensureAvailable(4);var l=o.readI32(this.inBuf,this.readCursor);return this.readCursor+=4,l},m.prototype.readDouble=function(){this.ensureAvailable(8);var l=o.readDouble(this.inBuf,this.readCursor);return this.readCursor+=8,l},m.prototype.readString=function(l){this.ensureAvailable(l);var b=this.inBuf.toString("utf8",this.readCursor,this.readCursor+l);return this.readCursor+=l,b},m.prototype.borrow=function(){var l={buf:this.inBuf,readIndex:this.readCursor,writeIndex:this.writeCursor};return l},m.prototype.consume=function(l){this.readCursor+=l},m.prototype.write=function(l){typeof l=="string"&&(l=new u(l,"utf8")),this.outBuffers.push(l),this.outCount+=l.length},m.prototype.flush=function(){var l=this._seqid;if(this._seqid=null,!(this.outCount<1)){var b=new u(this.outCount),L=0;this.outBuffers.forEach(function(E){E.copy(b,L,0),L+=E.length}),this.onFlush&&this.onFlush(b,l),this.outBuffers=[],this.outCount=0}}},9277:(c,d,f)=>{var u=f(8764).Buffer,o=f(1291),g=f(135),y=f(5406),m=y.Type;c.exports=B;var l=Math.pow(2,8),b=Math.pow(2,24),L=Math.pow(2,32),E=Math.pow(2,40),S=Math.pow(2,48),x=Math.pow(2,52),k=Math.pow(2,1022);function B(A){this.trans=A,this.lastField_=[],this.lastFieldId_=0,this.string_limit_=0,this.string_buf_=null,this.string_buf_size_=0,this.container_limit_=0,this.booleanField_={name:null,hasBoolValue:!1},this.boolValue_={hasBoolValue:!1,boolValue:!1}}B.PROTOCOL_ID=-126,B.VERSION_N=1,B.VERSION_MASK=31,B.TYPE_MASK=-32,B.TYPE_BITS=7,B.TYPE_SHIFT_AMOUNT=5,B.Types={CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12},B.TTypeToCType=[B.Types.CT_STOP,0,B.Types.CT_BOOLEAN_TRUE,B.Types.CT_BYTE,B.Types.CT_DOUBLE,0,B.Types.CT_I16,0,B.Types.CT_I32,0,B.Types.CT_I64,B.Types.CT_BINARY,B.Types.CT_STRUCT,B.Types.CT_MAP,B.Types.CT_SET,B.Types.CT_LIST],B.prototype.getTransport=function(){return this.trans},B.prototype.getCompactType=function(A){return B.TTypeToCType[A]},B.prototype.getTType=function(A){switch(A){case m.STOP:return m.STOP;case B.Types.CT_BOOLEAN_FALSE:case B.Types.CT_BOOLEAN_TRUE:return m.BOOL;case B.Types.CT_BYTE:return m.BYTE;case B.Types.CT_I16:return m.I16;case B.Types.CT_I32:return m.I32;case B.Types.CT_I64:return m.I64;case B.Types.CT_DOUBLE:return m.DOUBLE;case B.Types.CT_BINARY:return m.STRING;case B.Types.CT_LIST:return m.LIST;case B.Types.CT_SET:return m.SET;case B.Types.CT_MAP:return m.MAP;case B.Types.CT_STRUCT:return m.STRUCT;default:throw new y.TProtocolException(y.TProtocolExceptionType.INVALID_DATA,"Unknown type: "+A)}return m.STOP},B.prototype.flush=function(){return this.trans.flush()},B.prototype.writeMessageBegin=function(A,M,C){this.writeByte(B.PROTOCOL_ID),this.writeByte(B.VERSION_N&B.VERSION_MASK|M<<B.TYPE_SHIFT_AMOUNT&B.TYPE_MASK),this.writeVarint32(C),this.writeString(A),this._seqid?o.warning("SeqId already set",{name:A}):(this._seqid=C,this.trans.setCurrSeqId(C))},B.prototype.writeMessageEnd=function(){},B.prototype.writeStructBegin=function(A){this.lastField_.push(this.lastFieldId_),this.lastFieldId_=0},B.prototype.writeStructEnd=function(){this.lastFieldId_=this.lastField_.pop()},B.prototype.writeFieldBegin=function(A,M,C){if(M!=m.BOOL)return this.writeFieldBeginInternal(A,M,C,-1);this.booleanField_.name=A,this.booleanField_.fieldType=M,this.booleanField_.fieldId=C},B.prototype.writeFieldEnd=function(){},B.prototype.writeFieldStop=function(){this.writeByte(B.Types.CT_STOP)},B.prototype.writeMapBegin=function(A,M,C){C===0?this.writeByte(0):(this.writeVarint32(C),this.writeByte(this.getCompactType(A)<<4|this.getCompactType(M)))},B.prototype.writeMapEnd=function(){},B.prototype.writeListBegin=function(A,M){this.writeCollectionBegin(A,M)},B.prototype.writeListEnd=function(){},B.prototype.writeSetBegin=function(A,M){this.writeCollectionBegin(A,M)},B.prototype.writeSetEnd=function(){},B.prototype.writeBool=function(A){this.booleanField_.name!==null?(this.writeFieldBeginInternal(this.booleanField_.name,this.booleanField_.fieldType,this.booleanField_.fieldId,A?B.Types.CT_BOOLEAN_TRUE:B.Types.CT_BOOLEAN_FALSE),this.booleanField_.name=null):this.writeByte(A?B.Types.CT_BOOLEAN_TRUE:B.Types.CT_BOOLEAN_FALSE)},B.prototype.writeByte=function(A){this.trans.write(new u([A]))},B.prototype.writeI16=function(A){this.writeVarint32(this.i32ToZigzag(A))},B.prototype.writeI32=function(A){this.writeVarint32(this.i32ToZigzag(A))},B.prototype.writeI64=function(A){this.writeVarint64(this.i64ToZigzag(A))},B.prototype.writeDouble=function(A){var M=new u(8),C,R,D;M[7]=A<0?128:0,A=Math.abs(A),A!==A?(C=0x8000000000000,R=2047):A===1/0?(C=0,R=2047):(R=Math.floor(Math.log(A)/Math.LN2),D=Math.pow(2,-R),A*D<1&&(R--,D*=2),R+1023>=2047?(C=0,R=2047):R+1023>=1?(C=(A*D-1)*x,R+=1023):(C=A*k*x,R=0)),M[6]=R<<4&240,M[7]|=R>>4&127,M[0]=C&255,C=Math.floor(C/l),M[1]=C&255,C=Math.floor(C/l),M[2]=C&255,C=Math.floor(C/l),M[3]=C&255,C>>=8,M[4]=C&255,C>>=8,M[5]=C&255,C>>=8,M[6]|=C&15,this.trans.write(M)},B.prototype.writeStringOrBinary=function(A,M,C){if(typeof C=="string")this.writeVarint32(u.byteLength(C,M)),this.trans.write(new u(C,M));else if(C instanceof u||Object.prototype.toString.call(C)=="[object Uint8Array]")this.writeVarint32(C.length),this.trans.write(C);else throw new Error(A+" called without a string/Buffer argument: "+C)},B.prototype.writeString=function(A){this.writeStringOrBinary("writeString","utf8",A)},B.prototype.writeBinary=function(A){this.writeStringOrBinary("writeBinary","binary",A)},B.prototype.writeFieldBeginInternal=function(A,M,C,R){var D=R==-1?this.getCompactType(M):R;C>this.lastFieldId_&&C-this.lastFieldId_<=15?this.writeByte(C-this.lastFieldId_<<4|D):(this.writeByte(D),this.writeI16(C)),this.lastFieldId_=C},B.prototype.writeCollectionBegin=function(A,M){M<=14?this.writeByte(M<<4|this.getCompactType(A)):(this.writeByte(240|this.getCompactType(A)),this.writeVarint32(M))},B.prototype.writeVarint32=function(A){for(var M=new u(5),C=0;;)if(A&-128)M[C++]=A&127|128,A=A>>>7;else{M[C++]=A;break}var R=new u(C);M.copy(R,0,0,C),this.trans.write(R)},B.prototype.writeVarint64=function(A){if(typeof A=="number"&&(A=new g(A)),!(A instanceof g))throw new y.TProtocolException(y.TProtocolExceptionType.INVALID_DATA,"Expected Int64 or Number, found: "+A);for(var M=new u(10),C=0,R=A.buffer.readUInt32BE(0,!0),D=A.buffer.readUInt32BE(4,!0),$=0;;)if(!(D&-128)&&R===0){M[C++]=D;break}else M[C++]=D&127|128,$=R<<25,D=D>>>7,R=R>>>7,D=D|$;var Y=new u(C);M.copy(Y,0,0,C),this.trans.write(Y)},B.prototype.i64ToZigzag=function(A){if(typeof A=="string"?A=new g(parseInt(A,10)):typeof A=="number"&&(A=new g(A)),!(A instanceof g))throw new y.TProtocolException(y.TProtocolExceptionType.INVALID_DATA,"Expected Int64 or Number, found: "+A);var M=A.buffer.readUInt32BE(0,!0),C=A.buffer.readUInt32BE(4,!0),R=M>>>31;return M=(M<<1|C>>>31)^(R?4294967295:0),C=C<<1^(R?4294967295:0),new g(M,C)},B.prototype.i32ToZigzag=function(A){return A<<1^(A&2147483648?4294967295:0)},B.prototype.readMessageBegin=function(){var A=this.trans.readByte();if(A!=B.PROTOCOL_ID)throw new y.TProtocolException(y.TProtocolExceptionType.BAD_VERSION,"Bad protocol identifier "+A);var M=this.trans.readByte(),C=M&B.VERSION_MASK;if(C!=B.VERSION_N)throw new y.TProtocolException(y.TProtocolExceptionType.BAD_VERSION,"Bad protocol version "+C);var R=M>>B.TYPE_SHIFT_AMOUNT&B.TYPE_BITS,D=this.readVarint32(),$=this.readString();return{fname:$,mtype:R,rseqid:D}},B.prototype.readMessageEnd=function(){},B.prototype.readStructBegin=function(){return this.lastField_.push(this.lastFieldId_),this.lastFieldId_=0,{fname:""}},B.prototype.readStructEnd=function(){this.lastFieldId_=this.lastField_.pop()},B.prototype.readFieldBegin=function(){var A=0,M=this.trans.readByte(M),C=M&15;if(C==B.Types.CT_STOP)return{fname:null,ftype:y.Type.STOP,fid:0};var R=(M&240)>>>4;R===0?A=this.readI16():A=this.lastFieldId_+R;var D=this.getTType(C);return(C==B.Types.CT_BOOLEAN_TRUE||C==B.Types.CT_BOOLEAN_FALSE)&&(this.boolValue_.hasBoolValue=!0,this.boolValue_.boolValue=C==B.Types.CT_BOOLEAN_TRUE),this.lastFieldId_=A,{fname:null,ftype:D,fid:A}},B.prototype.readFieldEnd=function(){},B.prototype.readMapBegin=function(){var A=this.readVarint32();if(A<0)throw new y.TProtocolException(y.TProtocolExceptionType.NEGATIVE_SIZE,"Negative map size");var M=0;A!==0&&(M=this.trans.readByte());var C=this.getTType((M&240)>>>4),R=this.getTType(M&15);return{ktype:C,vtype:R,size:A}},B.prototype.readMapEnd=function(){},B.prototype.readListBegin=function(){var A=this.trans.readByte(),M=A>>>4&15;if(M==15&&(M=this.readVarint32()),M<0)throw new y.TProtocolException(y.TProtocolExceptionType.NEGATIVE_SIZE,"Negative list size");var C=this.getTType(A&15);return{etype:C,size:M}},B.prototype.readListEnd=function(){},B.prototype.readSetBegin=function(){return this.readListBegin()},B.prototype.readSetEnd=function(){},B.prototype.readBool=function(){var A=!1;if(this.boolValue_.hasBoolValue===!0)A=this.boolValue_.boolValue,this.boolValue_.hasBoolValue=!1;else{var M=this.trans.readByte();M.rsize,A=M.value==B.Types.CT_BOOLEAN_TRUE}return A},B.prototype.readByte=function(){return this.trans.readByte()},B.prototype.readI16=function(){return this.readI32()},B.prototype.readI32=function(){return this.zigzagToI32(this.readVarint32())},B.prototype.readI64=function(){return this.zigzagToI64(this.readVarint64())},B.prototype.readDouble=function(){var A=this.trans.read(8),M=0,C=A[M+7]&128,R=(A[M+6]&240)>>4;R+=(A[M+7]&127)<<4;var D=A[M];switch(D+=A[M+1]<<8,D+=A[M+2]<<16,D+=A[M+3]*b,D+=A[M+4]*L,D+=A[M+5]*E,D+=(A[M+6]&15)*S,R){case 0:R=-1022;break;case 2047:return D?NaN:C?-1/0:1/0;default:D+=x,R-=1023}return C&&(D*=-1),D*Math.pow(2,R-52)},B.prototype.readBinary=function(){var A=this.readVarint32();if(A===0)return new u(0);if(A<0)throw new y.TProtocolException(y.TProtocolExceptionType.NEGATIVE_SIZE,"Negative binary size");return this.trans.read(A)},B.prototype.readString=function(){var A=this.readVarint32();if(A===0)return"";if(A<0)throw new y.TProtocolException(y.TProtocolExceptionType.NEGATIVE_SIZE,"Negative string size");return this.trans.readString(A)},B.prototype.readVarint32=function(){return this.readVarint64().toNumber()},B.prototype.readVarint64=function(){for(var A=0,M=0,C=0,R=0;;){var D=this.trans.readByte();if(A++,R<=25?M=M|(D&127)<<R:25<R&&R<32?(M=M|(D&127)<<R,C=C|(D&127)>>>32-R):C=C|(D&127)<<R-32,R+=7,!(D&128))break;if(A>=10)throw new y.TProtocolException(y.TProtocolExceptionType.INVALID_DATA,"Variable-length int over 10 bytes.")}return new g(C,M)},B.prototype.zigzagToI32=function(A){return A>>>1^-1*(A&1)},B.prototype.zigzagToI64=function(A){var M=A.buffer.readUInt32BE(0,!0),C=A.buffer.readUInt32BE(4,!0),R=new g(M&0,C&1);R._2scomp();var D=R.buffer.readUInt32BE(0,!0),$=R.buffer.readUInt32BE(4,!0),Y=M<<31;return M=M>>>1^D,C=(C>>>1|Y)^$,new g(M,C)},B.prototype.skip=function(A){switch(A){case m.BOOL:this.readBool();break;case m.BYTE:this.readByte();break;case m.I16:this.readI16();break;case m.I32:this.readI32();break;case m.I64:this.readI64();break;case m.DOUBLE:this.readDouble();break;case m.STRING:this.readString();break;case m.STRUCT:for(this.readStructBegin();;){var M=this.readFieldBegin();if(M.ftype===m.STOP)break;this.skip(M.ftype),this.readFieldEnd()}this.readStructEnd();break;case m.MAP:for(var C=this.readMapBegin(),R=0;R<C.size;++R)this.skip(C.ktype),this.skip(C.vtype);this.readMapEnd();break;case m.SET:for(var D=this.readSetBegin(),$=0;$<D.size;++$)this.skip(D.etype);this.readSetEnd();break;case m.LIST:for(var Y=this.readListBegin(),z=0;z<Y.size;++z)this.skip(Y.etype);this.readListEnd();break;default:throw new Error("Invalid type: "+A)}}},6243:c=>{c.exports=d;function d(f,u){f.Client&&(f=f.Client);var o=function(m,l){u.write(m,l)},g=new u.transport(void 0,o),y=new f(g,u.protocol);return g.client=y,u.client=y,y}},7584:(c,d,f)=>{var u=f(8764).Buffer,o=f(7533),g=f(3590),y=f(5190);c.exports=m;function m(l,b){this.inBuf=l||new u(0),this.outBuffers=[],this.outCount=0,this.readPos=0,this.onFlush=b}m.prototype=new y,m.receiver=function(l,b){var L=null;return function(E){for(L&&(E=u.concat([L,E]),L=null);E.length;){if(E.length<4){L=E;return}var S=o.readI32(E,0);if(E.length<4+S){L=E;return}var x=E.slice(4,4+S);L=E.slice(4+S),l(new m(x),b),E=L,L=null}}},m.prototype.commitPosition=function(){},m.prototype.rollbackPosition=function(){},m.prototype.isOpen=function(){return!0},m.prototype.open=function(){},m.prototype.close=function(){},m.prototype.setCurrSeqId=function(l){this._seqid=l},m.prototype.ensureAvailable=function(l){if(this.readPos+l>this.inBuf.length)throw new g},m.prototype.read=function(l){this.ensureAvailable(l);var b=this.readPos+l;if(this.inBuf.length<b)throw new Error("read("+l+") failed - not enough data");var L=this.inBuf.slice(this.readPos,b);return this.readPos=b,L},m.prototype.readByte=function(){return this.ensureAvailable(1),o.readByte(this.inBuf[this.readPos++])},m.prototype.readI16=function(){this.ensureAvailable(2);var l=o.readI16(this.inBuf,this.readPos);return this.readPos+=2,l},m.prototype.readI32=function(){this.ensureAvailable(4);var l=o.readI32(this.inBuf,this.readPos);return this.readPos+=4,l},m.prototype.readDouble=function(){this.ensureAvailable(8);var l=o.readDouble(this.inBuf,this.readPos);return this.readPos+=8,l},m.prototype.readString=function(l){this.ensureAvailable(l);var b=this.inBuf.toString("utf8",this.readPos,this.readPos+l);return this.readPos+=l,b},m.prototype.borrow=function(){return{buf:this.inBuf,readIndex:this.readPos,writeIndex:this.inBuf.length}},m.prototype.consume=function(l){this.readPos+=l},m.prototype.write=function(l,b){typeof l=="string"&&(l=new u(l,b||"utf8")),this.outBuffers.push(l),this.outCount+=l.length},m.prototype.flush=function(){var l=this._seqid;this._seqid=null;var b=new u(this.outCount),L=0;if(this.outBuffers.forEach(function(S){S.copy(b,L,0),L+=S.length}),this.onFlush){var E=new u(b.length+4);o.writeI32(E,b.length),b.copy(E,4,0,b.length),this.onFlush&&this.onFlush(E,l)}this.outBuffers=[],this.outCount=0}},5190:(c,d,f)=>{var u=f(8764).Buffer,o=f(9539),g=f(9277),y=f(4711),m=f(3590);function l(W){Error.call(this),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=W}o.inherits(l,Error),c.exports=$;var b=0,L=1,E=0,S=32/8,x=48/8,k=64/8,B=96/8,A=112/8,M=4095,C=1,R=1073741823;function D(W){var X=f(8869);this.outputBuffer=null;var G=this;this.transport=new X(null,function(le){G.outputBuffer=le}),this.transport.inBuf=W||u.alloc(0),this.transport.writeCursor=this.transport.inBuf.length,this.protocol=new g(this.transport)}D.prototype.readVarint32=function(){return this.protocol.readVarint32()},D.prototype.writeVarint32=function(W){this.protocol.writeVarint32(W)},D.prototype.readString=function(){return this.protocol.readString()},D.prototype.writeString=function(W){this.protocol.writeString(W)},D.prototype.getOutCount=function(){return this.transport.outCount},D.prototype.write=function(W){this.transport.write(W)},D.prototype.toBuffer=function(){return this.transport.flush(),this.outputBuffer},$.SubprotocolId={BINARY:0,JSON:1,COMPACT:2};function $(){this.maxFrameSize=R,this.protocolId=$.SubprotocolId.BINARY,this.rheaders={},this.wheaders={},this.inBuf=u.alloc(0),this.outCount=0,this.flags=null,this.seqid=0,this.shouldWriteHeaders=!0}var Y=function(W,X){if(typeof W!="string"||typeof X!="string")throw new l("Header key and values must be strings")},z=function(W){for(var X=Object.keys($.SubprotocolId),G=0;G<X.length;G++)if(W===$.SubprotocolId[X[G]])return!0;throw new Error(W+" is not a valid protocol id")};$.prototype.setSeqId=function(W){this.seqid=W},$.prototype.getSeqId=function(W){return this.seqid},$.prototype.setFlags=function(W){this.flags=W},$.prototype.getReadHeaders=function(){return this.rheaders},$.prototype.setReadHeader=function(W,X){Y(W,X),this.rheaders[W]=X},$.prototype.clearReadHeaders=function(){this.rheaders={}},$.prototype.getWriteHeaders=function(){return this.wheaders},$.prototype.setWriteHeader=function(W,X){Y(W,X),this.wheaders[W]=X},$.prototype.clearWriteHeaders=function(){this.wheaders={}},$.prototype.setMaxFrameSize=function(W){this.maxFrameSize=W},$.prototype.setProtocolId=function(W){z(W),this.protocolId=W},$.prototype.getProtocolId=function(){return this.protocolId};var H=function(W){var X=W.readInt32BE();return(X&y.VERSION_MASK)===y.VERSION_1},q=function(W){var X=W.readInt8(b),G=W.readInt8(L);return X===g.PROTOCOL_ID&&(G&g.VERSION_MASK)===g.VERSION_N};$.prototype.readHeaders=function(){var W=this.inBuf,X=!1;if(H(W)&&(this.setProtocolId($.SubprotocolId.BINARY),X=!0),q(W)&&(this.setProtocolId($.SubprotocolId.COMPACT),X=!0),X){this.shouldWriteHeaders=!1;return}var G=W.readInt32BE(E);if(G>this.maxFrameSize)throw new l("Frame exceeds maximum frame size");var le=W.readInt16BE(S);if(this.shouldWriteHeaders=le===M,!!this.shouldWriteHeaders){this.setFlags(W.readInt16BE(x)),this.setSeqId(W.readInt32BE(k));var pe=W.readInt16BE(B)*4,ie=A+pe;if(ie>W.length)throw new l("Header size is greater than frame size");var Ae=u.alloc(pe);W.copy(Ae,0,A,ie);var fe=new D(Ae);this.setProtocolId(fe.readVarint32());var Fe=fe.readVarint32();if(Fe>0)throw new l("Transforms are not yet supported");for(;;)try{var je=fe.readVarint32();if(je!==C)break;for(var yt=fe.readVarint32(),Pt=0;Pt<yt;Pt++){var qt=fe.readString(),_e=fe.readString();this.setReadHeader(qt,_e)}}catch(V){if(V instanceof m)break;throw V}return this.read(ie),this.getReadHeaders()}},$.prototype.writeHeaders=function(){if(this.shouldWriteHeaders){var W=this.getWriteHeaders(),X=new D;X.writeVarint32(this.protocolId),X.writeVarint32(0);var G=Object.keys(W);if(G.length>0){X.writeVarint32(C),X.writeVarint32(G.length);for(var le=0;le<G.length;le++){var pe=G[le],ie=W[pe];X.writeString(pe),X.writeString(ie)}}var Ae=X.getOutCount(),fe=(4-Ae%4)%4,Fe=u.alloc(2);Fe.writeInt16BE(Math.floor((Ae+fe)/4));var je=u.alloc(fe);je.fill(0),X.write(je);var yt=X.toBuffer(),Pt=u.alloc(4);Pt.writeInt32BE(10+this.outCount+yt.length);var qt=u.alloc(2);qt.writeInt16BE(M);var _e=u.alloc(2);_e.writeInt16BE(0);var V=u.alloc(4);V.writeInt32BE(this.getSeqId());var j=u.concat([Pt,qt,_e,V,Fe,yt]);this.outBuffers.unshift(j),this.outCount+=j.length}}},3590:(c,d,f)=>{var u=f(9539);c.exports=o;function o(g){Error.call(this),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=g}u.inherits(o,Error)},5197:(c,d,f)=>{var u=f(8764).Buffer,o=f(135),g=c.exports={},y=Math.pow(2,24),m=Math.pow(2,31),l=Math.pow(2,32),b=Math.pow(10,11);g.toDecimalString=function(L){var E=L.buffer,S=L.offset;if(!E[S]&&!(E[S+1]&224)||!~E[S]&&!~(E[S+1]&224))return L.toString();var x=E[S]&128;if(x){for(var k=!1,B=new u(8),A=7;A>=0;--A)B[A]=~E[S+A]+(k?0:1)&255,k|=E[S+A];E=B}var M=E[S+1]+(E[S]<<8),C=E[S+7]+(E[S+6]<<8)+(E[S+5]<<16)+E[S+4]*y+(E[S+3]+(E[S+2]<<8))*l+M*74976710656,R=Math.floor(C/b)+M*2814;return C=("00000000000"+String(C%b)).slice(-11),(x?"-":"")+String(R)+C},g.fromDecimalString=function(L){var E=L.charAt(0)==="-";if(L.length<(E?17:16))return new o(+L);if(L.length>(E?20:19))throw new RangeError("Too many digits for Int64: "+L);var S=+L.slice(E?1:0,-15),x=+L.slice(-15)+S*2764472320,k=Math.floor(x/l)+S*232830;if(x=x%l,k>=m&&!(E&&k==m&&x==0))throw new RangeError("The magnitude is too large for Int64.");return E&&(k=~k,x===0?k=k+1&4294967295:x=~x+1,k=2147483648|k),new o(k,x)}},6502:(c,d,f)=>{var u=f(135);f(5197),c.exports=function(){var o,g,y={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},m,l=function(M){throw new SyntaxError(M)},b=function(M){return M&&M!==g&&l("Expected '"+M+"' instead of '"+g+"'"),g=m.charAt(o),o+=1,g},L=function(){var M,C="";for(g==="-"&&(C="-",b("-"));g>="0"&&g<="9";)C+=g,b();if(g===".")for(C+=".";b()&&g>="0"&&g<="9";)C+=g;if(g==="e"||g==="E")for(C+=g,b(),(g==="-"||g==="+")&&(C+=g,b());g>="0"&&g<="9";)C+=g,b();if(M=+C,!isFinite(M))l("Bad number");else return M>=u.MAX_INT||M<=u.MIN_INT?C:M},E=function(){var M,C,R="",D;if(g==='"')for(;b();){if(g==='"')return b(),R;if(g==="\\")if(b(),g==="u"){for(D=0,C=0;C<4&&(M=parseInt(b(),16),!!isFinite(M));C+=1)D=D*16+M;R+=String.fromCharCode(D)}else if(typeof y[g]=="string")R+=y[g];else break;else R+=g}l("Bad string")},S=function(){for(;g&&g<=" ";)b()},x=function(){switch(g){case"t":return b("t"),b("r"),b("u"),b("e"),!0;case"f":return b("f"),b("a"),b("l"),b("s"),b("e"),!1;case"n":return b("n"),b("u"),b("l"),b("l"),null}l("Unexpected '"+g+"'")},k,B=function(){var M=[];if(g==="["){if(b("["),S(),g==="]")return b("]"),M;for(;g;){if(M.push(k()),S(),g==="]")return b("]"),M;b(","),S()}}l("Bad array")},A=function(){var M,C={};if(g==="{"){if(b("{"),S(),g==="}")return b("}"),C;for(;g;){if(M=E(),S(),b(":"),Object.hasOwnProperty.call(C,M)&&l('Duplicate key "'+M+'"'),C[M]=k(),S(),g==="}")return b("}"),C;b(","),S()}}l("Bad object")};return k=function(){switch(S(),g){case"{":return A();case"[":return B();case'"':return E();case"-":return L();default:return g>="0"&&g<="9"?L():x()}},function(M){var C;return m=M,o=0,g=" ",C=k(),S(),g&&l("Syntax error"),C}}()},5086:(c,d,f)=>{var u=f(8764).Buffer,o=f(135),g=f(5406),y=g.Type;f(9539);var m=f(5197),l=f(6502),b=f(3590);c.exports=L;function L(E){this.tstack=[],this.tpos=[],this.trans=E}L.Type={},L.Type[y.BOOL]='"tf"',L.Type[y.BYTE]='"i8"',L.Type[y.I16]='"i16"',L.Type[y.I32]='"i32"',L.Type[y.I64]='"i64"',L.Type[y.DOUBLE]='"dbl"',L.Type[y.STRUCT]='"rec"',L.Type[y.STRING]='"str"',L.Type[y.MAP]='"map"',L.Type[y.LIST]='"lst"',L.Type[y.SET]='"set"',L.RType={},L.RType.tf=y.BOOL,L.RType.i8=y.BYTE,L.RType.i16=y.I16,L.RType.i32=y.I32,L.RType.i64=y.I64,L.RType.dbl=y.DOUBLE,L.RType.rec=y.STRUCT,L.RType.str=y.STRING,L.RType.map=y.MAP,L.RType.lst=y.LIST,L.RType.set=y.SET,L.Version=1,L.prototype.flush=function(){return this.writeToTransportIfStackIsFlushable(),this.trans.flush()},L.prototype.writeToTransportIfStackIsFlushable=function(){this.tstack.length===1&&this.trans.write(this.tstack.pop())},L.prototype.writeMessageBegin=function(E,S,x){this.tstack.push([L.Version,'"'+E+'"',S,x])},L.prototype.writeMessageEnd=function(){var E=this.tstack.pop();this.wobj=this.tstack.pop(),this.wobj.push(E),this.wbuf="["+this.wobj.join(",")+"]",this.trans.write(this.wbuf)},L.prototype.writeStructBegin=function(E){this.tpos.push(this.tstack.length),this.tstack.push({})},L.prototype.writeStructEnd=function(){var E=this.tpos.pop(),S=this.tstack[E],x="{",k=!0;for(var B in S)k?k=!1:x+=",",x+=B+":"+S[B];x+="}",this.tstack[E]=x,this.writeToTransportIfStackIsFlushable()},L.prototype.writeFieldBegin=function(E,S,x){this.tpos.push(this.tstack.length),this.tstack.push({fieldId:'"'+x+'"',fieldType:L.Type[S]})},L.prototype.writeFieldEnd=function(){var E=this.tstack.pop(),S=this.tstack.pop();":"+E==":[object Object]"?this.tstack[this.tstack.length-1][S.fieldId]="{"+S.fieldType+":"+JSON.stringify(E)+"}":this.tstack[this.tstack.length-1][S.fieldId]="{"+S.fieldType+":"+E+"}",this.tpos.pop(),this.writeToTransportIfStackIsFlushable()},L.prototype.writeFieldStop=function(){},L.prototype.writeMapBegin=function(E,S,x){this.tpos.push(this.tstack.length),this.tstack.push([L.Type[E],L.Type[S],0])},L.prototype.writeMapEnd=function(){var E=this.tpos.pop();if(E!=this.tstack.length){(this.tstack.length-E-1)%2!==0&&this.tstack.push("");var S=(this.tstack.length-E-1)/2;this.tstack[E][this.tstack[E].length-1]=S;for(var x="}",k=!0;this.tstack.length>E+1;){var B=this.tstack.pop(),A=this.tstack.pop();k?k=!1:x=","+x,isNaN(A)||(A='"'+A+'"'),x=A+":"+B+x}x="{"+x,this.tstack[E].push(x),this.tstack[E]="["+this.tstack[E].join(",")+"]",this.writeToTransportIfStackIsFlushable()}},L.prototype.writeListBegin=function(E,S){this.tpos.push(this.tstack.length),this.tstack.push([L.Type[E],S])},L.prototype.writeListEnd=function(){for(var E=this.tpos.pop();this.tstack.length>E+1;){var S=this.tstack[E+1];this.tstack.splice(E+1,1),this.tstack[E].push(S)}this.tstack[E]="["+this.tstack[E].join(",")+"]",this.writeToTransportIfStackIsFlushable()},L.prototype.writeSetBegin=function(E,S){this.tpos.push(this.tstack.length),this.tstack.push([L.Type[E],S])},L.prototype.writeSetEnd=function(){for(var E=this.tpos.pop();this.tstack.length>E+1;){var S=this.tstack[E+1];this.tstack.splice(E+1,1),this.tstack[E].push(S)}this.tstack[E]="["+this.tstack[E].join(",")+"]",this.writeToTransportIfStackIsFlushable()},L.prototype.writeBool=function(E){this.tstack.push(E?1:0)},L.prototype.writeByte=function(E){this.tstack.push(E)},L.prototype.writeI16=function(E){this.tstack.push(E)},L.prototype.writeI32=function(E){this.tstack.push(E)},L.prototype.writeI64=function(E){E instanceof o?this.tstack.push(m.toDecimalString(E)):this.tstack.push(E)},L.prototype.writeDouble=function(E){this.tstack.push(E)},L.prototype.writeString=function(E){if(E===null)this.tstack.push(null);else{if(typeof E=="string")var S=E;else if(E instanceof u)var S=E.toString("utf8");else throw new Error("writeString called without a string/Buffer argument: "+E);for(var x="",k=0;k<S.length;k++){var B=S.charAt(k);B==='"'?x+='\\"':B==="\\"?x+="\\\\":B==="\b"?x+="\\b":B==="\f"?x+="\\f":B===`
`?x+="\\n":B==="\r"?x+="\\r":B==="	"?x+="\\t":x+=B}this.tstack.push('"'+x+'"')}},L.prototype.writeBinary=function(E){if(typeof E=="string")var S=new u(E,"binary");else if(E instanceof u||Object.prototype.toString.call(E)=="[object Uint8Array]")var S=E;else throw new Error("writeBinary called without a string/Buffer argument: "+E);this.tstack.push('"'+S.toString("base64")+'"')},L.prototype.readMessageBegin=function(){this.rstack=[],this.rpos=[];var E=this.trans.borrow();if(E.readIndex>=E.writeIndex)throw new b;var S=E.readIndex;if(E.buf[S]!==91)throw new Error("Malformed JSON input, no opening bracket");S++;for(var x=1,k=!1;S<E.writeIndex;S++){var B=E.buf[S];if(k)B===34?k=!1:B===92&&(S+=1);else if(B===91)x+=1;else if(B===93){if(x-=1,x===0)break}else B===34&&(k=!0)}if(x!==0)throw new b;this.robj=l(E.buf.slice(E.readIndex,S+1).toString()),this.trans.consume(S+1-E.readIndex);var A=this.robj.shift();if(A!=L.Version)throw new Error("Wrong thrift protocol version: "+A);var M={};return M.fname=this.robj.shift(),M.mtype=this.robj.shift(),M.rseqid=this.robj.shift(),this.rstack.push(this.robj.shift()),M},L.prototype.readMessageEnd=function(){},L.prototype.readStructBegin=function(){var E={};return E.fname="",this.rstack[this.rstack.length-1]instanceof Array&&this.rstack.push(this.rstack[this.rstack.length-1].shift()),E},L.prototype.readStructEnd=function(){this.rstack.pop()},L.prototype.readFieldBegin=function(){var E={},S=-1,x=y.STOP;for(var k in this.rstack[this.rstack.length-1])if(k!==null){S=parseInt(k,10),this.rpos.push(this.rstack.length);var B=this.rstack[this.rstack.length-1][S];delete this.rstack[this.rstack.length-1][S],this.rstack.push(B);break}if(S!=-1)for(var A in this.rstack[this.rstack.length-1])L.RType[A]!==null&&(x=L.RType[A],this.rstack[this.rstack.length-1]=this.rstack[this.rstack.length-1][A]);return E.fname="",E.ftype=x,E.fid=S,E},L.prototype.readFieldEnd=function(){for(var E=this.rpos.pop();this.rstack.length>E;)this.rstack.pop()},L.prototype.readMapBegin=function(){var E=this.rstack.pop(),S=E.shift();S instanceof Array&&(this.rstack.push(E),E=S,S=E.shift());var x={};return x.ktype=L.RType[S],x.vtype=L.RType[E.shift()],x.size=E.shift(),this.rpos.push(this.rstack.length),this.rstack.push(E.shift()),x},L.prototype.readMapEnd=function(){this.readFieldEnd()},L.prototype.readListBegin=function(){var E=this.rstack[this.rstack.length-1],S={};return S.etype=L.RType[E.shift()],S.size=E.shift(),this.rpos.push(this.rstack.length),this.rstack.push(E.shift()),S},L.prototype.readListEnd=function(){var E=this.rpos.pop()-2,S=this.rstack;S.pop(),S instanceof Array&&S.length>E&&S[E].length>0&&S.push(S[E].shift())},L.prototype.readSetBegin=function(){return this.readListBegin()},L.prototype.readSetEnd=function(){return this.readListEnd()},L.prototype.readBool=function(){return this.readValue()=="1"},L.prototype.readByte=function(){return this.readI32()},L.prototype.readI16=function(){return this.readI32()},L.prototype.readI32=function(E){return+this.readValue()},L.prototype.readValue=function(E){E===void 0&&(E=this.rstack[this.rstack.length-1]);var S={};if(E instanceof Array)E.length===0?S.value=void 0:S.value=E.shift();else if(!(E instanceof o)&&E instanceof Object){for(var x in E)if(x!==null){this.rstack.push(E[x]),delete E[x],S.value=x;break}}else S.value=E,this.rstack.pop();return S.value},L.prototype.readI64=function(){var E=this.readValue();return typeof E=="string"?m.fromDecimalString(E):new o(E)},L.prototype.readDouble=function(){return this.readI32()},L.prototype.readBinary=function(){return new u(this.readValue(),"base64")},L.prototype.readString=function(){return this.readValue()},L.prototype.getTransport=function(){return this.trans},L.prototype.skip=function(E){switch(E){case y.BOOL:this.readBool();break;case y.BYTE:this.readByte();break;case y.I16:this.readI16();break;case y.I32:this.readI32();break;case y.I64:this.readI64();break;case y.DOUBLE:this.readDouble();break;case y.STRING:this.readString();break;case y.STRUCT:for(this.readStructBegin();;){var S=this.readFieldBegin();if(S.ftype===y.STOP)break;this.skip(S.ftype),this.readFieldEnd()}this.readStructEnd();break;case y.MAP:for(var x=this.readMapBegin(),k=0;k<x.size;++k)this.skip(x.ktype),this.skip(x.vtype);this.readMapEnd();break;case y.SET:for(var B=this.readSetBegin(),A=0;A<B.size;++A)this.skip(B.etype);this.readSetEnd();break;case y.LIST:for(var M=this.readListBegin(),C=0;C<M.size;++C)this.skip(M.etype);this.readListEnd();break;default:throw new Error("Invalid type: "+E)}}},1291:(c,d,f)=>{var u=f(9539),o=function(){},g=console.log,y="error";function m(k){return function(){var B=["thrift: ["+k+"] "].concat(Array.from(arguments));return g(u.format.apply(null,B))}}var l=o,b=o,L=o,E=o,S=o;d.setLogFunc=function(k){g=k};var x=d.setLogLevel=function(k){switch(l=b=L=E=S=o,y=k,y){case"trace":l=m("TRACE");case"debug":b=m("DEBUG");case"error":L=m("ERROR");case"warning":E=m("WARN");case"info":S=m("INFO")}};x(y),d.getLogLevel=function(){return y},d.trace=function(){return l.apply(null,arguments)},d.debug=function(){return b.apply(null,arguments)},d.error=function(){return L.apply(null,arguments)},d.warning=function(){return E.apply(null,arguments)},d.info=function(){return S.apply(null,arguments)}},4184:(c,d,f)=>{var u=f(9539),o=f(5406);d.Multiplexer=y;function g(m,l,b){function L(E,S,x){l.call(this,E,S,x)}return u.inherits(L,l),L.prototype.writeMessageBegin=function(E,S,x){S==o.MessageType.CALL||S==o.MessageType.ONEWAY?(b.seqId2Service[x]=m,L.super_.prototype.writeMessageBegin.call(this,m+":"+E,S,x)):L.super_.prototype.writeMessageBegin.call(this,E,S,x)},L}function y(){this.seqid=0}y.prototype.createClient=function(m,l,b){l.Client&&(l=l.Client);var L=function(B,A){b.write(B,A)},E=new b.transport(void 0,L),S=new g(m,b.protocol,b),x=new l(E,S),k=this;return x.new_seqid=function(){return k.seqid+=1,k.seqid},typeof b.client!="object"&&(b.client={}),b.client[m]=x,x}},5406:(c,d,f)=>{var u=f(9539),o=d.Type={STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,UTF7:11,STRUCT:12,MAP:13,SET:14,LIST:15,UTF8:16,UTF16:17};d.MessageType={CALL:1,REPLY:2,EXCEPTION:3,ONEWAY:4},d.TException=g;function g(E){Error.call(this),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=E}u.inherits(g,Error);var y=d.TApplicationExceptionType={UNKNOWN:0,UNKNOWN_METHOD:1,INVALID_MESSAGE_TYPE:2,WRONG_METHOD_NAME:3,BAD_SEQUENCE_ID:4,MISSING_RESULT:5,INTERNAL_ERROR:6,PROTOCOL_ERROR:7,INVALID_TRANSFORM:8,INVALID_PROTOCOL:9,UNSUPPORTED_CLIENT_TYPE:10};d.TApplicationException=m;function m(E,S){g.call(this),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.type=E||y.UNKNOWN,this.name=this.constructor.name,this.message=S}u.inherits(m,g),m.prototype.read=function(E){for(var S=E.readStructBegin("TApplicationException");S=E.readFieldBegin(),S.ftype!=o.STOP;){switch(S.fid){case 1:S.ftype==o.STRING?(S=E.readString(),this.message=S):S=E.skip(S.ftype);break;case 2:S.ftype==o.I32?(S=E.readI32(),this.type=S):S=E.skip(S.ftype);break;default:S=E.skip(S.ftype);break}E.readFieldEnd()}E.readStructEnd()},m.prototype.write=function(E){E.writeStructBegin("TApplicationException"),this.message&&(E.writeFieldBegin("message",o.STRING,1),E.writeString(this.message),E.writeFieldEnd()),this.code&&(E.writeFieldBegin("type",o.I32,2),E.writeI32(this.code),E.writeFieldEnd()),E.writeFieldStop(),E.writeStructEnd()},d.TProtocolExceptionType={UNKNOWN:0,INVALID_DATA:1,NEGATIVE_SIZE:2,SIZE_LIMIT:3,BAD_VERSION:4,NOT_IMPLEMENTED:5,DEPTH_LIMIT:6},d.TProtocolException=l;function l(E,S){Error.call(this),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.type=E,this.message=S}u.inherits(l,Error),d.objectLength=function(E){return Object.keys(E).length},d.inherits=function(E,S){u.inherits(E,S)};var b,L;b=function(E,S){if(!E)return E;var x;S.shift===void 0?x=S:x=S[0];var k=x,B=E.length,A=[],M,C;for(M=0;M<B;M++)C=E[M],x===null?A.push(C):x===L||x===b?A.push(x(C,S.slice(1))):A.push(new k(C));return A},L=function(E,S){if(!E)return E;var x;S.shift===void 0?x=S:x=S[0];var k=x,B={},A;for(var M in E)E.hasOwnProperty(M)&&(A=E[M],x===null?B[M]=A:x===L||x===b?B[M]=x(A,S.slice(1)):B[M]=new k(A));return B},c.exports.copyMap=L,c.exports.copyList=b},5455:(c,d,f)=>{var u=f(8764).Buffer,o=f(9539),g=f(6792),y=f(7187).EventEmitter,m=f(5406),l=f(8869),b=f(5086),L=f(3590),E=f(6243),S=f(3818);d.WSConnection=x;function x(k,B,A){y.call(this),this.options=A||{},this.host=k,this.port=B,this.secure=this.options.secure||!1,this.transport=this.options.transport||l,this.protocol=this.options.protocol||b,this.path=this.options.path,this.send_pending=[],this.seqId2Service={},this.wsOptions={host:this.host,port:this.port||80,path:this.options.path||"/",headers:this.options.headers||{}};for(var M in this.options.wsOptions)this.wsOptions[M]=this.options.wsOptions[M]}o.inherits(x,y),x.prototype.__reset=function(){this.socket=null,this.send_pending=[]},x.prototype.__onOpen=function(){this.emit("open"),this.send_pending.length>0&&(this.send_pending.forEach(function(k){this.socket.send(k)},this),this.send_pending=[])},x.prototype.__onClose=function(k){this.emit("close"),this.__reset()},x.prototype.__decodeCallback=function(k){var B=new this.protocol(k);try{for(;;){var A=B.readMessageBegin(),M=A.rseqid*-1,C=this.client,R=this.seqId2Service[A.rseqid];R&&(C=this.client[R],delete this.seqId2Service[A.rseqid]),C._reqs[M]=function(D,$){k.commitPosition();var Y=C._reqs[A.rseqid];delete C._reqs[A.rseqid],Y&&Y(D,$)},C["recv_"+A.fname]?C["recv_"+A.fname](B,A.mtype,M):(delete C._reqs[M],this.emit("error",new m.TApplicationException(m.TApplicationExceptionType.WRONG_METHOD_NAME,"Received a response to an unknown RPC function")))}}catch(D){if(D instanceof L)k.rollbackPosition();else throw D}},x.prototype.__onData=function(k){Object.prototype.toString.call(k)==="[object ArrayBuffer]"&&(k=new Uint8Array(k));var B=new u(k);this.transport.receiver(this.__decodeCallback.bind(this))(B)},x.prototype.__onMessage=function(k){this.__onData(k.data)},x.prototype.__onError=function(k){this.emit("error",k),this.socket.close()},x.prototype.isOpen=function(){return this.socket&&this.socket.readyState===this.socket.OPEN},x.prototype.open=function(){this.socket&&this.socket.readyState!==this.socket.CLOSED||(S.isBrowser?this.socket=new g(this.uri()):this.socket=new g(this.uri(),"",this.wsOptions),this.socket.binaryType="arraybuffer",this.socket.onopen=this.__onOpen.bind(this),this.socket.onmessage=this.__onMessage.bind(this),this.socket.onerror=this.__onError.bind(this),this.socket.onclose=this.__onClose.bind(this))},x.prototype.close=function(){this.socket.close()},x.prototype.uri=function(){var k=this.secure?"wss":"ws",B="",A=this.path||"/",M=this.host;return this.port&&(k==="wss"&&this.port!==443||k==="ws"&&this.port!==80)&&(B=":"+this.port),k+"://"+M+B+A},x.prototype.write=function(k){this.isOpen()?this.socket.send(k):this.send_pending.push(k)},d.createWSConnection=function(k,B,A){return new x(k,B,A)},d.createWSClient=E},5764:(c,d,f)=>{var u=f(1291);c.exports=o;function o(g){this.__reset(g)}o.prototype.__reset=function(g){this.url=g,this.socket=null,this.callbacks=[],this.send_pending=[],this.send_buf="",this.recv_buf="",this.rb_wpos=0,this.rb_rpos=0},o.prototype.flush=function(g,y){var m=this;this.isOpen()?(this.socket.send(this.send_buf),this.callbacks.push(function(){var l=y;return function(b){m.setRecvBuffer(b),l()}}())):this.send_pending.push({buf:this.send_buf,cb:y})},o.prototype.__onOpen=function(){var g=this;this.send_pending.length>0&&(this.send_pending.forEach(function(y){g.socket.send(y.buf),g.callbacks.push(function(){var m=y.cb;return function(l){g.setRecvBuffer(l),m()}}())}),this.send_pending=[])},o.prototype.__onClose=function(g){this.__reset(this.url)},o.prototype.__onMessage=function(g){this.callbacks.length&&this.callbacks.shift()(g.data)},o.prototype.__onError=function(g){u.error("websocket: "+g.toString()),this.socket.close()},o.prototype.setRecvBuffer=function(g){this.recv_buf=g,this.recv_buf_sz=this.recv_buf.length,this.wpos=this.recv_buf.length,this.rpos=0},o.prototype.isOpen=function(){return this.socket&&this.socket.readyState==this.socket.OPEN},o.prototype.open=function(){this.socket&&this.socket.readyState!=this.socket.CLOSED||(this.socket=new WebSocket(this.url),this.socket.onopen=this.__onOpen.bind(this),this.socket.onmessage=this.__onMessage.bind(this),this.socket.onerror=this.__onError.bind(this),this.socket.onclose=this.__onClose.bind(this))},o.prototype.close=function(){this.socket.close()},o.prototype.read=function(g){var y=this.wpos-this.rpos;if(y===0)return"";var m=g;y<g&&(m=y);var l=this.read_buf.substr(this.rpos,m);return this.rpos+=m,l},o.prototype.readAll=function(){return this.recv_buf},o.prototype.write=function(g){this.send_buf=g},o.prototype.getSendBuffer=function(){return this.send_buf}},4050:(c,d,f)=>{var u=f(8764).Buffer,o=f(9539),g=f(7187).EventEmitter,y=f(5406),m=f(8869),l=f(5086),b=f(3590),L=f(6243);d.XHRConnection=E;function E(S,x,k){this.options=k||{},this.wpos=0,this.rpos=0,this.useCORS=k&&k.useCORS,this.send_buf="",this.recv_buf="",this.transport=k.transport||m,this.protocol=k.protocol||l,this.headers=k.headers||{},S=S||window.location.host,x=x||window.location.port;var B=k.https?"https://":"http://",A=k.path||"/";x===""&&(x=void 0),!x||x===80||x==="80"?this.url=B+S+A:this.url=B+S+":"+x+A,this.seqId2Service={}}o.inherits(E,g),E.prototype.getXmlHttpRequestObject=function(){try{return new XMLHttpRequest}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}throw"Your browser doesn't support XHR."},E.prototype.flush=function(){var S=this;if(this.url===void 0||this.url==="")return this.send_buf;var x=this.getXmlHttpRequestObject();x.overrideMimeType&&x.overrideMimeType("application/json"),x.onreadystatechange=function(){this.readyState==4&&this.status==200&&S.setRecvBuffer(this.responseText)},x.open("POST",this.url,!0),Object.keys(this.headers).forEach(function(k){x.setRequestHeader(k,S.headers[k])}),x.send(this.send_buf)},E.prototype.setRecvBuffer=function(S){if(this.recv_buf=S,this.recv_buf_sz=this.recv_buf.length,this.wpos=this.recv_buf.length,this.rpos=0,Object.prototype.toString.call(S)=="[object ArrayBuffer]")var x=new Uint8Array(S);var k=new u(x||S);this.transport.receiver(this.__decodeCallback.bind(this))(k)},E.prototype.__decodeCallback=function(S){var x=new this.protocol(S);try{for(;;){var k=x.readMessageBegin(),B=k.rseqid*-1,A=this.client,M=this.seqId2Service[k.rseqid];M&&(A=this.client[M],delete this.seqId2Service[k.rseqid]),A._reqs[B]=function(C,R){S.commitPosition();var D=A._reqs[k.rseqid];delete A._reqs[k.rseqid],D&&D(C,R)},A["recv_"+k.fname]?A["recv_"+k.fname](x,k.mtype,B):(delete A._reqs[B],this.emit("error",new y.TApplicationException(y.TApplicationExceptionType.WRONG_METHOD_NAME,"Received a response to an unknown RPC function")))}}catch(C){if(C instanceof b)S.rollbackPosition();else throw C}},E.prototype.isOpen=function(){return!0},E.prototype.open=function(){},E.prototype.close=function(){},E.prototype.read=function(S){var x=this.wpos-this.rpos;if(x===0)return"";var k=S;x<S&&(k=x);var B=this.read_buf.substr(this.rpos,k);return this.rpos+=k,B},E.prototype.readAll=function(){return this.recv_buf},E.prototype.write=function(S){this.send_buf=S,this.flush()},E.prototype.getSendBuffer=function(){return this.send_buf},d.createXHRConnection=function(S,x,k){return new E(S,x,k)},d.createXHRClient=L},384:c=>{c.exports=function(f){return f&&typeof f=="object"&&typeof f.copy=="function"&&typeof f.fill=="function"&&typeof f.readUInt8=="function"}},5955:(c,d,f)=>{var u=f(2584),o=f(8662),g=f(6430),y=f(5692);function m(he){return he.call.bind(he)}var l=typeof BigInt<"u",b=typeof Symbol<"u",L=m(Object.prototype.toString),E=m(Number.prototype.valueOf),S=m(String.prototype.valueOf),x=m(Boolean.prototype.valueOf);if(l)var k=m(BigInt.prototype.valueOf);if(b)var B=m(Symbol.prototype.valueOf);function A(he,Ts){if(typeof he!="object")return!1;try{return Ts(he),!0}catch{return!1}}d.isArgumentsObject=u,d.isGeneratorFunction=o,d.isTypedArray=y;function M(he){return typeof Promise<"u"&&he instanceof Promise||he!==null&&typeof he=="object"&&typeof he.then=="function"&&typeof he.catch=="function"}d.isPromise=M;function C(he){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(he):y(he)||j(he)}d.isArrayBufferView=C;function R(he){return g(he)==="Uint8Array"}d.isUint8Array=R;function D(he){return g(he)==="Uint8ClampedArray"}d.isUint8ClampedArray=D;function $(he){return g(he)==="Uint16Array"}d.isUint16Array=$;function Y(he){return g(he)==="Uint32Array"}d.isUint32Array=Y;function z(he){return g(he)==="Int8Array"}d.isInt8Array=z;function H(he){return g(he)==="Int16Array"}d.isInt16Array=H;function q(he){return g(he)==="Int32Array"}d.isInt32Array=q;function W(he){return g(he)==="Float32Array"}d.isFloat32Array=W;function X(he){return g(he)==="Float64Array"}d.isFloat64Array=X;function G(he){return g(he)==="BigInt64Array"}d.isBigInt64Array=G;function le(he){return g(he)==="BigUint64Array"}d.isBigUint64Array=le;function pe(he){return L(he)==="[object Map]"}pe.working=typeof Map<"u"&&pe(new Map);function ie(he){return typeof Map>"u"?!1:pe.working?pe(he):he instanceof Map}d.isMap=ie;function Ae(he){return L(he)==="[object Set]"}Ae.working=typeof Set<"u"&&Ae(new Set);function fe(he){return typeof Set>"u"?!1:Ae.working?Ae(he):he instanceof Set}d.isSet=fe;function Fe(he){return L(he)==="[object WeakMap]"}Fe.working=typeof WeakMap<"u"&&Fe(new WeakMap);function je(he){return typeof WeakMap>"u"?!1:Fe.working?Fe(he):he instanceof WeakMap}d.isWeakMap=je;function yt(he){return L(he)==="[object WeakSet]"}yt.working=typeof WeakSet<"u"&&yt(new WeakSet);function Pt(he){return yt(he)}d.isWeakSet=Pt;function qt(he){return L(he)==="[object ArrayBuffer]"}qt.working=typeof ArrayBuffer<"u"&&qt(new ArrayBuffer);function _e(he){return typeof ArrayBuffer>"u"?!1:qt.working?qt(he):he instanceof ArrayBuffer}d.isArrayBuffer=_e;function V(he){return L(he)==="[object DataView]"}V.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&V(new DataView(new ArrayBuffer(1),0,1));function j(he){return typeof DataView>"u"?!1:V.working?V(he):he instanceof DataView}d.isDataView=j;function P(he){return L(he)==="[object SharedArrayBuffer]"}P.working=typeof SharedArrayBuffer<"u"&&P(new SharedArrayBuffer);function Z(he){return typeof SharedArrayBuffer>"u"?!1:P.working?P(he):he instanceof SharedArrayBuffer}d.isSharedArrayBuffer=Z;function Q(he){return L(he)==="[object AsyncFunction]"}d.isAsyncFunction=Q;function oe(he){return L(he)==="[object Map Iterator]"}d.isMapIterator=oe;function re(he){return L(he)==="[object Set Iterator]"}d.isSetIterator=re;function ye(he){return L(he)==="[object Generator]"}d.isGeneratorObject=ye;function Ee(he){return L(he)==="[object WebAssembly.Module]"}d.isWebAssemblyCompiledModule=Ee;function Xe(he){return A(he,E)}d.isNumberObject=Xe;function Tn(he){return A(he,S)}d.isStringObject=Tn;function Cn(he){return A(he,x)}d.isBooleanObject=Cn;function an(he){return l&&A(he,k)}d.isBigIntObject=an;function nr(he){return b&&A(he,B)}d.isSymbolObject=nr;function Sr(he){return Xe(he)||Tn(he)||Cn(he)||an(he)||nr(he)}d.isBoxedPrimitive=Sr;function xr(he){return typeof Uint8Array<"u"&&(_e(he)||Z(he))}d.isAnyArrayBuffer=xr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(he){Object.defineProperty(d,he,{enumerable:!1,value:function(){throw new Error(he+" is not supported in userland")}})})},9539:(c,d,f)=>{var u=Object.getOwnPropertyDescriptors||function(j){for(var P=Object.keys(j),Z={},Q=0;Q<P.length;Q++)Z[P[Q]]=Object.getOwnPropertyDescriptor(j,P[Q]);return Z},o=/%[sdj%]/g;d.format=function(V){if(!z(V)){for(var j=[],P=0;P<arguments.length;P++)j.push(l(arguments[P]));return j.join(" ")}for(var P=1,Z=arguments,Q=Z.length,oe=String(V).replace(o,function(ye){if(ye==="%%")return"%";if(P>=Q)return ye;switch(ye){case"%s":return String(Z[P++]);case"%d":return Number(Z[P++]);case"%j":try{return JSON.stringify(Z[P++])}catch{return"[Circular]"}default:return ye}}),re=Z[P];P<Q;re=Z[++P])D(re)||!X(re)?oe+=" "+re:oe+=" "+l(re);return oe},d.deprecate=function(V,j){if(typeof process<"u"&&process.noDeprecation===!0)return V;if(typeof process>"u")return function(){return d.deprecate(V,j).apply(this,arguments)};var P=!1;function Z(){if(!P){if(process.throwDeprecation)throw new Error(j);process.traceDeprecation?console.trace(j):console.error(j),P=!0}return V.apply(this,arguments)}return Z};var g={},y=/^$/;if({BROWSER:!0}.NODE_DEBUG){var m={BROWSER:!0}.NODE_DEBUG;m=m.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),y=new RegExp("^"+m+"$","i")}d.debuglog=function(V){if(V=V.toUpperCase(),!g[V])if(y.test(V)){var j=process.pid;g[V]=function(){var P=d.format.apply(d,arguments);console.error("%s %d: %s",V,j,P)}}else g[V]=function(){};return g[V]};function l(V,j){var P={seen:[],stylize:L};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),R(j)?P.showHidden=j:j&&d._extend(P,j),q(P.showHidden)&&(P.showHidden=!1),q(P.depth)&&(P.depth=2),q(P.colors)&&(P.colors=!1),q(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=b),S(P,V,P.depth)}d.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function b(V,j){var P=l.styles[j];return P?"\x1B["+l.colors[P][0]+"m"+V+"\x1B["+l.colors[P][1]+"m":V}function L(V,j){return V}function E(V){var j={};return V.forEach(function(P,Z){j[P]=!0}),j}function S(V,j,P){if(V.customInspect&&j&&pe(j.inspect)&&j.inspect!==d.inspect&&!(j.constructor&&j.constructor.prototype===j)){var Z=j.inspect(P,V);return z(Z)||(Z=S(V,Z,P)),Z}var Q=x(V,j);if(Q)return Q;var oe=Object.keys(j),re=E(oe);if(V.showHidden&&(oe=Object.getOwnPropertyNames(j)),le(j)&&(oe.indexOf("message")>=0||oe.indexOf("description")>=0))return k(j);if(oe.length===0){if(pe(j)){var ye=j.name?": "+j.name:"";return V.stylize("[Function"+ye+"]","special")}if(W(j))return V.stylize(RegExp.prototype.toString.call(j),"regexp");if(G(j))return V.stylize(Date.prototype.toString.call(j),"date");if(le(j))return k(j)}var Ee="",Xe=!1,Tn=["{","}"];if(C(j)&&(Xe=!0,Tn=["[","]"]),pe(j)){var Cn=j.name?": "+j.name:"";Ee=" [Function"+Cn+"]"}if(W(j)&&(Ee=" "+RegExp.prototype.toString.call(j)),G(j)&&(Ee=" "+Date.prototype.toUTCString.call(j)),le(j)&&(Ee=" "+k(j)),oe.length===0&&(!Xe||j.length==0))return Tn[0]+Ee+Tn[1];if(P<0)return W(j)?V.stylize(RegExp.prototype.toString.call(j),"regexp"):V.stylize("[Object]","special");V.seen.push(j);var an;return Xe?an=B(V,j,P,re,oe):an=oe.map(function(nr){return A(V,j,P,re,nr,Xe)}),V.seen.pop(),M(an,Ee,Tn)}function x(V,j){if(q(j))return V.stylize("undefined","undefined");if(z(j)){var P="'"+JSON.stringify(j).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return V.stylize(P,"string")}if(Y(j))return V.stylize(""+j,"number");if(R(j))return V.stylize(""+j,"boolean");if(D(j))return V.stylize("null","null")}function k(V){return"["+Error.prototype.toString.call(V)+"]"}function B(V,j,P,Z,Q){for(var oe=[],re=0,ye=j.length;re<ye;++re)yt(j,String(re))?oe.push(A(V,j,P,Z,String(re),!0)):oe.push("");return Q.forEach(function(Ee){Ee.match(/^\d+$/)||oe.push(A(V,j,P,Z,Ee,!0))}),oe}function A(V,j,P,Z,Q,oe){var re,ye,Ee;if(Ee=Object.getOwnPropertyDescriptor(j,Q)||{value:j[Q]},Ee.get?Ee.set?ye=V.stylize("[Getter/Setter]","special"):ye=V.stylize("[Getter]","special"):Ee.set&&(ye=V.stylize("[Setter]","special")),yt(Z,Q)||(re="["+Q+"]"),ye||(V.seen.indexOf(Ee.value)<0?(D(P)?ye=S(V,Ee.value,null):ye=S(V,Ee.value,P-1),ye.indexOf(`
`)>-1&&(oe?ye=ye.split(`
`).map(function(Xe){return"  "+Xe}).join(`
`).substr(2):ye=`
`+ye.split(`
`).map(function(Xe){return"   "+Xe}).join(`
`))):ye=V.stylize("[Circular]","special")),q(re)){if(oe&&Q.match(/^\d+$/))return ye;re=JSON.stringify(""+Q),re.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(re=re.substr(1,re.length-2),re=V.stylize(re,"name")):(re=re.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),re=V.stylize(re,"string"))}return re+": "+ye}function M(V,j,P){var Z=V.reduce(function(Q,oe){return oe.indexOf(`
`)>=0,Q+oe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Z>60?P[0]+(j===""?"":j+`
 `)+" "+V.join(`,
  `)+" "+P[1]:P[0]+j+" "+V.join(", ")+" "+P[1]}d.types=f(5955);function C(V){return Array.isArray(V)}d.isArray=C;function R(V){return typeof V=="boolean"}d.isBoolean=R;function D(V){return V===null}d.isNull=D;function $(V){return V==null}d.isNullOrUndefined=$;function Y(V){return typeof V=="number"}d.isNumber=Y;function z(V){return typeof V=="string"}d.isString=z;function H(V){return typeof V=="symbol"}d.isSymbol=H;function q(V){return V===void 0}d.isUndefined=q;function W(V){return X(V)&&Ae(V)==="[object RegExp]"}d.isRegExp=W,d.types.isRegExp=W;function X(V){return typeof V=="object"&&V!==null}d.isObject=X;function G(V){return X(V)&&Ae(V)==="[object Date]"}d.isDate=G,d.types.isDate=G;function le(V){return X(V)&&(Ae(V)==="[object Error]"||V instanceof Error)}d.isError=le,d.types.isNativeError=le;function pe(V){return typeof V=="function"}d.isFunction=pe;function ie(V){return V===null||typeof V=="boolean"||typeof V=="number"||typeof V=="string"||typeof V=="symbol"||typeof V>"u"}d.isPrimitive=ie,d.isBuffer=f(384);function Ae(V){return Object.prototype.toString.call(V)}function fe(V){return V<10?"0"+V.toString(10):V.toString(10)}var Fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function je(){var V=new Date,j=[fe(V.getHours()),fe(V.getMinutes()),fe(V.getSeconds())].join(":");return[V.getDate(),Fe[V.getMonth()],j].join(" ")}d.log=function(){console.log("%s - %s",je(),d.format.apply(d,arguments))},d.inherits=f(5717),d._extend=function(V,j){if(!j||!X(j))return V;for(var P=Object.keys(j),Z=P.length;Z--;)V[P[Z]]=j[P[Z]];return V};function yt(V,j){return Object.prototype.hasOwnProperty.call(V,j)}var Pt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;d.promisify=function(j){if(typeof j!="function")throw new TypeError('The "original" argument must be of type Function');if(Pt&&j[Pt]){var P=j[Pt];if(typeof P!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(P,Pt,{value:P,enumerable:!1,writable:!1,configurable:!0}),P}function P(){for(var Z,Q,oe=new Promise(function(Ee,Xe){Z=Ee,Q=Xe}),re=[],ye=0;ye<arguments.length;ye++)re.push(arguments[ye]);re.push(function(Ee,Xe){Ee?Q(Ee):Z(Xe)});try{j.apply(this,re)}catch(Ee){Q(Ee)}return oe}return Object.setPrototypeOf(P,Object.getPrototypeOf(j)),Pt&&Object.defineProperty(P,Pt,{value:P,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(P,u(j))},d.promisify.custom=Pt;function qt(V,j){if(!V){var P=new Error("Promise was rejected with a falsy value");P.reason=V,V=P}return j(V)}function _e(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');function j(){for(var P=[],Z=0;Z<arguments.length;Z++)P.push(arguments[Z]);var Q=P.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var oe=this,re=function(){return Q.apply(oe,arguments)};V.apply(this,P).then(function(ye){process.nextTick(re.bind(null,null,ye))},function(ye){process.nextTick(qt.bind(null,ye,re))})}return Object.setPrototypeOf(j,Object.getPrototypeOf(V)),Object.defineProperties(j,u(V)),j}d.callbackify=_e},6430:(c,d,f)=>{var u=f(9804),o=f(6314),g=f(8914),y=g("Object.prototype.toString"),m=f(1405)(),l=m&&typeof Symbol.toStringTag=="symbol",b=o(),L=g("String.prototype.slice"),E={},S=f(4079),x=Object.getPrototypeOf;l&&S&&x&&u(b,function(A){if(typeof f.g[A]=="function"){var M=new f.g[A];if(!(Symbol.toStringTag in M))throw new EvalError("this engine has support for Symbol.toStringTag, but "+A+" does not have the property! Please report this.");var C=x(M),R=S(C,Symbol.toStringTag);if(!R){var D=x(C);R=S(D,Symbol.toStringTag)}E[A]=R.get}});var k=function(M){var C=!1;return u(E,function(R,D){if(!C)try{var $=R.call(M);$===D&&(C=$)}catch{}}),C},B=f(5692);c.exports=function(M){return B(M)?l?k(M):L(y(M),8,-1):!1}},4221:(c,d,f)=>{const o=f(9262).Thrift;f(135),f(2818);const g=f(4494),y=f(3962),m=f(1396),l=f(2607),b=class{constructor(r){this.user=null,this.passwd=null,this.dbname=null,r&&(r.user!==void 0&&r.user!==null&&(this.user=r.user),r.passwd!==void 0&&r.passwd!==null&&(this.passwd=r.passwd),r.dbname!==void 0&&r.dbname!==null&&(this.dbname=r.dbname))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.user=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.passwd=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.dbname=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_connect_args"),this.user!==null&&this.user!==void 0&&(r.writeFieldBegin("user",o.Type.STRING,1),r.writeString(this.user),r.writeFieldEnd()),this.passwd!==null&&this.passwd!==void 0&&(r.writeFieldBegin("passwd",o.Type.STRING,2),r.writeString(this.passwd),r.writeFieldEnd()),this.dbname!==null&&this.dbname!==void 0&&(r.writeFieldBegin("dbname",o.Type.STRING,3),r.writeString(this.dbname),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},L=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRING?this.success=r.readString():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_connect_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},E=class{constructor(r){this.inputToken=null,this.dbname=null,r&&(r.inputToken!==void 0&&r.inputToken!==null&&(this.inputToken=r.inputToken),r.dbname!==void 0&&r.dbname!==null&&(this.dbname=r.dbname))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.inputToken=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.dbname=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_krb5_connect_args"),this.inputToken!==null&&this.inputToken!==void 0&&(r.writeFieldBegin("inputToken",o.Type.STRING,1),r.writeString(this.inputToken),r.writeFieldEnd()),this.dbname!==null&&this.dbname!==void 0&&(r.writeFieldBegin("dbname",o.Type.STRING,2),r.writeString(this.dbname),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},S=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TKrb5Session(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TKrb5Session,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_krb5_connect_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},x=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_disconnect_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},k=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_disconnect_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},B=class{constructor(r){this.session=null,this.dbname=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dbname!==void 0&&r.dbname!==null&&(this.dbname=r.dbname))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.dbname=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_switch_database_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dbname!==null&&this.dbname!==void 0&&(r.writeFieldBegin("dbname",o.Type.STRING,2),r.writeString(this.dbname),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},A=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_switch_database_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},M=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clone_session_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},C=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRING?this.success=r.readString():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clone_session_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},R=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_server_status_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},D=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TServerStatus(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TServerStatus,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_server_status_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},$=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_status_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Y=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TServerStatus])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TServerStatus,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_status_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},z=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_hardware_info_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},H=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TClusterHardwareInfo(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TClusterHardwareInfo,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_hardware_info_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},q=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_tables_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},W=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_tables_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},X=class{constructor(r){this.session=null,this.database_name=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.database_name!==void 0&&r.database_name!==null&&(this.database_name=r.database_name))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.database_name=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_tables_for_database_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.database_name!==null&&this.database_name!==void 0&&(r.writeFieldBegin("database_name",o.Type.STRING,2),r.writeString(this.database_name),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},G=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_tables_for_database_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},le=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_physical_tables_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},pe=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_physical_tables_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ie=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_views_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ae=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_views_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},fe=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_tables_meta_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Fe=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TTableMeta])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TTableMeta,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_tables_meta_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},je=class{constructor(r){this.session=null,this.table_name=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_details_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},yt=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TTableDetails(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TTableDetails,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_details_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Pt=class{constructor(r){this.session=null,this.table_name=null,this.database_name=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.database_name!==void 0&&r.database_name!==null&&(this.database_name=r.database_name))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.database_name=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_details_for_database_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.database_name!==null&&this.database_name!==void 0&&(r.writeFieldBegin("database_name",o.Type.STRING,3),r.writeString(this.database_name),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},qt=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TTableDetails(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TTableDetails,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_details_for_database_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},_e=class{constructor(r){this.session=null,this.table_name=null,this.include_system_columns=!0,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.include_system_columns!==void 0&&r.include_system_columns!==null&&(this.include_system_columns=r.include_system_columns))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:p==o.Type.BOOL?this.include_system_columns=r.readBool():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_internal_table_details_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.include_system_columns!==null&&this.include_system_columns!==void 0&&(r.writeFieldBegin("include_system_columns",o.Type.BOOL,3),r.writeBool(this.include_system_columns),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},V=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TTableDetails(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TTableDetails,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_internal_table_details_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},j=class{constructor(r){this.session=null,this.table_name=null,this.database_name=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.database_name!==void 0&&r.database_name!==null&&(this.database_name=r.database_name))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.database_name=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_internal_table_details_for_database_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.database_name!==null&&this.database_name!==void 0&&(r.writeFieldBegin("database_name",o.Type.STRING,3),r.writeString(this.database_name),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},P=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TTableDetails(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TTableDetails,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_internal_table_details_for_database_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Z=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_users_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Q=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_users_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},oe=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_databases_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},re=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TDBInfo])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TDBInfo,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_databases_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ye=class{constructor(r){}read(r){for(r.readStructBegin();;){const p=r.readFieldBegin().ftype;if(p==o.Type.STOP)break;r.skip(p),r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_version_args"),r.writeFieldStop(),r.writeStructEnd()}},Ee=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRING?this.success=r.readString():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_version_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Xe=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_start_heap_profile_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Tn=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_start_heap_profile_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Cn=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_stop_heap_profile_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},an=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_stop_heap_profile_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},nr=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_heap_profile_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Sr=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRING?this.success=r.readString():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_heap_profile_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},xr=class{constructor(r){this.session=null,this.memory_level=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.memory_level!==void 0&&r.memory_level!==null&&(this.memory_level=r.memory_level))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.memory_level=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_memory_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.memory_level!==null&&this.memory_level!==void 0&&(r.writeFieldBegin("memory_level",o.Type.STRING,2),r.writeString(this.memory_level),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},he=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TNodeMemoryInfo])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TNodeMemoryInfo,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_memory_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ts=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clear_cpu_memory_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Zi=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clear_cpu_memory_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ga=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clear_gpu_memory_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ci=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clear_gpu_memory_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},wc=class{constructor(r){this.parent_session=null,this.leaf_session=null,this.start_time_str=null,this.label=null,this.for_running_query_kernel=null,r&&(r.parent_session!==void 0&&r.parent_session!==null&&(this.parent_session=r.parent_session),r.leaf_session!==void 0&&r.leaf_session!==null&&(this.leaf_session=r.leaf_session),r.start_time_str!==void 0&&r.start_time_str!==null&&(this.start_time_str=r.start_time_str),r.label!==void 0&&r.label!==null&&(this.label=r.label),r.for_running_query_kernel!==void 0&&r.for_running_query_kernel!==null&&(this.for_running_query_kernel=r.for_running_query_kernel))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.parent_session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.leaf_session=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.start_time_str=r.readString():r.skip(p);break;case 4:p==o.Type.STRING?this.label=r.readString():r.skip(p);break;case 5:p==o.Type.BOOL?this.for_running_query_kernel=r.readBool():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_cur_session_args"),this.parent_session!==null&&this.parent_session!==void 0&&(r.writeFieldBegin("parent_session",o.Type.STRING,1),r.writeString(this.parent_session),r.writeFieldEnd()),this.leaf_session!==null&&this.leaf_session!==void 0&&(r.writeFieldBegin("leaf_session",o.Type.STRING,2),r.writeString(this.leaf_session),r.writeFieldEnd()),this.start_time_str!==null&&this.start_time_str!==void 0&&(r.writeFieldBegin("start_time_str",o.Type.STRING,3),r.writeString(this.start_time_str),r.writeFieldEnd()),this.label!==null&&this.label!==void 0&&(r.writeFieldBegin("label",o.Type.STRING,4),r.writeString(this.label),r.writeFieldEnd()),this.for_running_query_kernel!==null&&this.for_running_query_kernel!==void 0&&(r.writeFieldBegin("for_running_query_kernel",o.Type.BOOL,5),r.writeBool(this.for_running_query_kernel),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Lc=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_cur_session_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ir=class{constructor(r){this.parent_session=null,this.leaf_session=null,this.start_time_str=null,this.label=null,this.for_running_query_kernel=null,r&&(r.parent_session!==void 0&&r.parent_session!==null&&(this.parent_session=r.parent_session),r.leaf_session!==void 0&&r.leaf_session!==null&&(this.leaf_session=r.leaf_session),r.start_time_str!==void 0&&r.start_time_str!==null&&(this.start_time_str=r.start_time_str),r.label!==void 0&&r.label!==null&&(this.label=r.label),r.for_running_query_kernel!==void 0&&r.for_running_query_kernel!==null&&(this.for_running_query_kernel=r.for_running_query_kernel))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.parent_session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.leaf_session=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.start_time_str=r.readString():r.skip(p);break;case 4:p==o.Type.STRING?this.label=r.readString():r.skip(p);break;case 5:p==o.Type.BOOL?this.for_running_query_kernel=r.readBool():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_invalidate_cur_session_args"),this.parent_session!==null&&this.parent_session!==void 0&&(r.writeFieldBegin("parent_session",o.Type.STRING,1),r.writeString(this.parent_session),r.writeFieldEnd()),this.leaf_session!==null&&this.leaf_session!==void 0&&(r.writeFieldBegin("leaf_session",o.Type.STRING,2),r.writeString(this.leaf_session),r.writeFieldEnd()),this.start_time_str!==null&&this.start_time_str!==void 0&&(r.writeFieldBegin("start_time_str",o.Type.STRING,3),r.writeString(this.start_time_str),r.writeFieldEnd()),this.label!==null&&this.label!==void 0&&(r.writeFieldBegin("label",o.Type.STRING,4),r.writeString(this.label),r.writeFieldEnd()),this.for_running_query_kernel!==null&&this.for_running_query_kernel!==void 0&&(r.writeFieldBegin("for_running_query_kernel",o.Type.BOOL,5),r.writeBool(this.for_running_query_kernel),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},bc=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_invalidate_cur_session_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},N=class{constructor(r){this.session=null,this.db_id=null,this.table_id=null,this.new_epoch=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.db_id!==void 0&&r.db_id!==null&&(this.db_id=r.db_id),r.table_id!==void 0&&r.table_id!==null&&(this.table_id=r.table_id),r.new_epoch!==void 0&&r.new_epoch!==null&&(this.new_epoch=r.new_epoch))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.db_id=r.readI32():r.skip(p);break;case 3:p==o.Type.I32?this.table_id=r.readI32():r.skip(p);break;case 4:p==o.Type.I32?this.new_epoch=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_table_epoch_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.db_id!==null&&this.db_id!==void 0&&(r.writeFieldBegin("db_id",o.Type.I32,2),r.writeI32(this.db_id),r.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(r.writeFieldBegin("table_id",o.Type.I32,3),r.writeI32(this.table_id),r.writeFieldEnd()),this.new_epoch!==null&&this.new_epoch!==void 0&&(r.writeFieldBegin("new_epoch",o.Type.I32,4),r.writeI32(this.new_epoch),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},F=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_table_epoch_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},O=class{constructor(r){this.session=null,this.table_name=null,this.new_epoch=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.new_epoch!==void 0&&r.new_epoch!==null&&(this.new_epoch=r.new_epoch))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:p==o.Type.I32?this.new_epoch=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_table_epoch_by_name_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.new_epoch!==null&&this.new_epoch!==void 0&&(r.writeFieldBegin("new_epoch",o.Type.I32,3),r.writeI32(this.new_epoch),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},U=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_table_epoch_by_name_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},K=class{constructor(r){this.session=null,this.db_id=null,this.table_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.db_id!==void 0&&r.db_id!==null&&(this.db_id=r.db_id),r.table_id!==void 0&&r.table_id!==null&&(this.table_id=r.table_id))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.db_id=r.readI32():r.skip(p);break;case 3:p==o.Type.I32?this.table_id=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_epoch_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.db_id!==null&&this.db_id!==void 0&&(r.writeFieldBegin("db_id",o.Type.I32,2),r.writeI32(this.db_id),r.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(r.writeFieldBegin("table_id",o.Type.I32,3),r.writeI32(this.table_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},te=class{constructor(r){this.success=null,r&&r.success!==void 0&&r.success!==null&&(this.success=r.success)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.I32?this.success=r.readI32():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_epoch_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.I32,0),r.writeI32(this.success),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},se=class{constructor(r){this.session=null,this.table_name=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_epoch_by_name_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Oe=class{constructor(r){this.success=null,r&&r.success!==void 0&&r.success!==null&&(this.success=r.success)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.I32?this.success=r.readI32():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_epoch_by_name_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.I32,0),r.writeI32(this.success),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ue=class{constructor(r){this.session=null,this.db_id=null,this.table_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.db_id!==void 0&&r.db_id!==null&&(this.db_id=r.db_id),r.table_id!==void 0&&r.table_id!==null&&(this.table_id=r.table_id))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.db_id=r.readI32():r.skip(p);break;case 3:p==o.Type.I32?this.table_id=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_epochs_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.db_id!==null&&this.db_id!==void 0&&(r.writeFieldBegin("db_id",o.Type.I32,2),r.writeI32(this.db_id),r.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(r.writeFieldBegin("table_id",o.Type.I32,3),r.writeI32(this.table_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ze=class{constructor(r){this.success=null,r&&r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TTableEpochInfo]))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TTableEpochInfo,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_table_epochs_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},We=class{constructor(r){this.session=null,this.db_id=null,this.table_epochs=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.db_id!==void 0&&r.db_id!==null&&(this.db_id=r.db_id),r.table_epochs!==void 0&&r.table_epochs!==null&&(this.table_epochs=o.copyList(r.table_epochs,[l.TTableEpochInfo])))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.db_id=r.readI32():r.skip(p);break;case 3:if(p==o.Type.LIST){this.table_epochs=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TTableEpochInfo,I.read(r),this.table_epochs.push(I)}r.readListEnd()}else r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_set_table_epochs_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.db_id!==null&&this.db_id!==void 0&&(r.writeFieldBegin("db_id",o.Type.I32,2),r.writeI32(this.db_id),r.writeFieldEnd()),this.table_epochs!==null&&this.table_epochs!==void 0){r.writeFieldBegin("table_epochs",o.Type.LIST,3),r.writeListBegin(o.Type.STRUCT,this.table_epochs.length);for(let w in this.table_epochs)this.table_epochs.hasOwnProperty(w)&&(w=this.table_epochs[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},Ye=class{constructor(r){}read(r){for(r.readStructBegin();;){const p=r.readFieldBegin().ftype;if(p==o.Type.STOP)break;r.skip(p),r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_table_epochs_result"),r.writeFieldStop(),r.writeStructEnd()}},Tc=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_session_info_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},V_=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TSessionInfo(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TSessionInfo,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_session_info_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},vF=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_queries_info_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},q_=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TQueryInfo])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TQueryInfo,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_queries_info_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},EF=class{constructor(r){this.session=null,this.leaf_info=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.leaf_info!==void 0&&r.leaf_info!==null&&(this.leaf_info=new l.TLeafInfo(r.leaf_info)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRUCT?(this.leaf_info=new l.TLeafInfo,this.leaf_info.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_leaf_info_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.leaf_info!==null&&this.leaf_info!==void 0&&(r.writeFieldBegin("leaf_info",o.Type.STRUCT,2),this.leaf_info.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},G_=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_leaf_info_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},SF=class{constructor(r){this.session=null,this.query=null,this.column_format=null,this.nonce=null,this.first_n=-1,this.at_most_n=-1,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.query!==void 0&&r.query!==null&&(this.query=r.query),r.column_format!==void 0&&r.column_format!==null&&(this.column_format=r.column_format),r.nonce!==void 0&&r.nonce!==null&&(this.nonce=r.nonce),r.first_n!==void 0&&r.first_n!==null&&(this.first_n=r.first_n),r.at_most_n!==void 0&&r.at_most_n!==null&&(this.at_most_n=r.at_most_n))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.query=r.readString():r.skip(p);break;case 3:p==o.Type.BOOL?this.column_format=r.readBool():r.skip(p);break;case 4:p==o.Type.STRING?this.nonce=r.readString():r.skip(p);break;case 5:p==o.Type.I32?this.first_n=r.readI32():r.skip(p);break;case 6:p==o.Type.I32?this.at_most_n=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.query!==null&&this.query!==void 0&&(r.writeFieldBegin("query",o.Type.STRING,2),r.writeString(this.query),r.writeFieldEnd()),this.column_format!==null&&this.column_format!==void 0&&(r.writeFieldBegin("column_format",o.Type.BOOL,3),r.writeBool(this.column_format),r.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(r.writeFieldBegin("nonce",o.Type.STRING,4),r.writeString(this.nonce),r.writeFieldEnd()),this.first_n!==null&&this.first_n!==void 0&&(r.writeFieldBegin("first_n",o.Type.I32,5),r.writeI32(this.first_n),r.writeFieldEnd()),this.at_most_n!==null&&this.at_most_n!==void 0&&(r.writeFieldBegin("at_most_n",o.Type.I32,6),r.writeI32(this.at_most_n),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},W_=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TQueryResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TQueryResult,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},xF=class{constructor(r){this.session=null,this.query=null,this.device_type=null,this.device_id=0,this.first_n=-1,this.transport_method=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.query!==void 0&&r.query!==null&&(this.query=r.query),r.device_type!==void 0&&r.device_type!==null&&(this.device_type=r.device_type),r.device_id!==void 0&&r.device_id!==null&&(this.device_id=r.device_id),r.first_n!==void 0&&r.first_n!==null&&(this.first_n=r.first_n),r.transport_method!==void 0&&r.transport_method!==null&&(this.transport_method=r.transport_method))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.query=r.readString():r.skip(p);break;case 3:p==o.Type.I32?this.device_type=r.readI32():r.skip(p);break;case 4:p==o.Type.I32?this.device_id=r.readI32():r.skip(p);break;case 5:p==o.Type.I32?this.first_n=r.readI32():r.skip(p);break;case 6:p==o.Type.I32?this.transport_method=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_df_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.query!==null&&this.query!==void 0&&(r.writeFieldBegin("query",o.Type.STRING,2),r.writeString(this.query),r.writeFieldEnd()),this.device_type!==null&&this.device_type!==void 0&&(r.writeFieldBegin("device_type",o.Type.I32,3),r.writeI32(this.device_type),r.writeFieldEnd()),this.device_id!==null&&this.device_id!==void 0&&(r.writeFieldBegin("device_id",o.Type.I32,4),r.writeI32(this.device_id),r.writeFieldEnd()),this.first_n!==null&&this.first_n!==void 0&&(r.writeFieldBegin("first_n",o.Type.I32,5),r.writeI32(this.first_n),r.writeFieldEnd()),this.transport_method!==null&&this.transport_method!==void 0&&(r.writeFieldBegin("transport_method",o.Type.I32,6),r.writeI32(this.transport_method),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Y_=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TDataFrame(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TDataFrame,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_df_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},BF=class{constructor(r){this.session=null,this.query=null,this.device_id=0,this.first_n=-1,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.query!==void 0&&r.query!==null&&(this.query=r.query),r.device_id!==void 0&&r.device_id!==null&&(this.device_id=r.device_id),r.first_n!==void 0&&r.first_n!==null&&(this.first_n=r.first_n))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.query=r.readString():r.skip(p);break;case 3:p==o.Type.I32?this.device_id=r.readI32():r.skip(p);break;case 4:p==o.Type.I32?this.first_n=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_gdf_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.query!==null&&this.query!==void 0&&(r.writeFieldBegin("query",o.Type.STRING,2),r.writeString(this.query),r.writeFieldEnd()),this.device_id!==null&&this.device_id!==void 0&&(r.writeFieldBegin("device_id",o.Type.I32,3),r.writeI32(this.device_id),r.writeFieldEnd()),this.first_n!==null&&this.first_n!==void 0&&(r.writeFieldBegin("first_n",o.Type.I32,4),r.writeI32(this.first_n),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},X_=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TDataFrame(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TDataFrame,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_gdf_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},IF=class{constructor(r){this.session=null,this.df=null,this.device_type=null,this.device_id=0,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.df!==void 0&&r.df!==null&&(this.df=new l.TDataFrame(r.df)),r.device_type!==void 0&&r.device_type!==null&&(this.device_type=r.device_type),r.device_id!==void 0&&r.device_id!==null&&(this.device_id=r.device_id))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRUCT?(this.df=new l.TDataFrame,this.df.read(r)):r.skip(p);break;case 3:p==o.Type.I32?this.device_type=r.readI32():r.skip(p);break;case 4:p==o.Type.I32?this.device_id=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_deallocate_df_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.df!==null&&this.df!==void 0&&(r.writeFieldBegin("df",o.Type.STRUCT,2),this.df.write(r),r.writeFieldEnd()),this.device_type!==null&&this.device_type!==void 0&&(r.writeFieldBegin("device_type",o.Type.I32,3),r.writeI32(this.device_type),r.writeFieldEnd()),this.device_id!==null&&this.device_id!==void 0&&(r.writeFieldBegin("device_id",o.Type.I32,4),r.writeI32(this.device_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},K_=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_deallocate_df_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},kF=class{constructor(r){this.query_session=null,this.interrupt_session=null,r&&(r.query_session!==void 0&&r.query_session!==null&&(this.query_session=r.query_session),r.interrupt_session!==void 0&&r.interrupt_session!==null&&(this.interrupt_session=r.interrupt_session))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.query_session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.interrupt_session=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_interrupt_args"),this.query_session!==null&&this.query_session!==void 0&&(r.writeFieldBegin("query_session",o.Type.STRING,1),r.writeString(this.query_session),r.writeFieldEnd()),this.interrupt_session!==null&&this.interrupt_session!==void 0&&(r.writeFieldBegin("interrupt_session",o.Type.STRING,2),r.writeString(this.interrupt_session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Z_=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_interrupt_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},FF=class{constructor(r){this.session=null,this.query=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.query!==void 0&&r.query!==null&&(this.query=r.query))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.query=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_validate_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.query!==null&&this.query!==void 0&&(r.writeFieldBegin("query",o.Type.STRING,2),r.writeString(this.query),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},J_=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TColumnType])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TColumnType,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_sql_validate_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},MF=class{constructor(r){this.session=null,this.sql=null,this.cursor=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.sql!==void 0&&r.sql!==null&&(this.sql=r.sql),r.cursor!==void 0&&r.cursor!==null&&(this.cursor=r.cursor))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.sql=r.readString():r.skip(p);break;case 3:p==o.Type.I32?this.cursor=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_completion_hints_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.sql!==null&&this.sql!==void 0&&(r.writeFieldBegin("sql",o.Type.STRING,2),r.writeString(this.sql),r.writeFieldEnd()),this.cursor!==null&&this.cursor!==void 0&&(r.writeFieldBegin("cursor",o.Type.I32,3),r.writeI32(this.cursor),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Q_=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[g.TCompletionHint])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new g.TCompletionHint,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_completion_hints_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},AF=class{constructor(r){this.session=null,this.mode=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.mode!==void 0&&r.mode!==null&&(this.mode=r.mode))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.mode=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_execution_mode_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.mode!==null&&this.mode!==void 0&&(r.writeFieldBegin("mode",o.Type.I32,2),r.writeI32(this.mode),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},eg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_execution_mode_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},OF=class{constructor(r){this.session=null,this.widget_id=null,this.vega_json=null,this.compression_level=null,this.nonce=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.widget_id!==void 0&&r.widget_id!==null&&(this.widget_id=r.widget_id),r.vega_json!==void 0&&r.vega_json!==null&&(this.vega_json=r.vega_json),r.compression_level!==void 0&&r.compression_level!==null&&(this.compression_level=r.compression_level),r.nonce!==void 0&&r.nonce!==null&&(this.nonce=r.nonce))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I64?this.widget_id=r.readI64():r.skip(p);break;case 3:p==o.Type.STRING?this.vega_json=r.readString():r.skip(p);break;case 4:p==o.Type.I32?this.compression_level=r.readI32():r.skip(p);break;case 5:p==o.Type.STRING?this.nonce=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_render_vega_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.widget_id!==null&&this.widget_id!==void 0&&(r.writeFieldBegin("widget_id",o.Type.I64,2),r.writeI64(this.widget_id),r.writeFieldEnd()),this.vega_json!==null&&this.vega_json!==void 0&&(r.writeFieldBegin("vega_json",o.Type.STRING,3),r.writeString(this.vega_json),r.writeFieldEnd()),this.compression_level!==null&&this.compression_level!==void 0&&(r.writeFieldBegin("compression_level",o.Type.I32,4),r.writeI32(this.compression_level),r.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(r.writeFieldBegin("nonce",o.Type.STRING,5),r.writeString(this.nonce),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},tg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TRenderResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TRenderResult,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_render_vega_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},NF=class{constructor(r){this.session=null,this.widget_id=null,this.pixel=null,this.table_col_names=null,this.column_format=null,this.pixelRadius=null,this.nonce=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.widget_id!==void 0&&r.widget_id!==null&&(this.widget_id=r.widget_id),r.pixel!==void 0&&r.pixel!==null&&(this.pixel=new l.TPixel(r.pixel)),r.table_col_names!==void 0&&r.table_col_names!==null&&(this.table_col_names=o.copyMap(r.table_col_names,[o.copyList,null])),r.column_format!==void 0&&r.column_format!==null&&(this.column_format=r.column_format),r.pixelRadius!==void 0&&r.pixelRadius!==null&&(this.pixelRadius=r.pixelRadius),r.nonce!==void 0&&r.nonce!==null&&(this.nonce=r.nonce))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I64?this.widget_id=r.readI64():r.skip(p);break;case 3:p==o.Type.STRUCT?(this.pixel=new l.TPixel,this.pixel.read(r)):r.skip(p);break;case 4:if(p==o.Type.MAP){this.table_col_names={};const _=r.readMapBegin().size||0;for(let v=0;v<_;++v){let I=null,ee=null;I=r.readString(),ee=[];const qe=r.readListBegin().size||0;for(let vn=0;vn<qe;++vn){let ll=null;ll=r.readString(),ee.push(ll)}r.readListEnd(),this.table_col_names[I]=ee}r.readMapEnd()}else r.skip(p);break;case 5:p==o.Type.BOOL?this.column_format=r.readBool():r.skip(p);break;case 6:p==o.Type.I32?this.pixelRadius=r.readI32():r.skip(p);break;case 7:p==o.Type.STRING?this.nonce=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_result_row_for_pixel_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.widget_id!==null&&this.widget_id!==void 0&&(r.writeFieldBegin("widget_id",o.Type.I64,2),r.writeI64(this.widget_id),r.writeFieldEnd()),this.pixel!==null&&this.pixel!==void 0&&(r.writeFieldBegin("pixel",o.Type.STRUCT,3),this.pixel.write(r),r.writeFieldEnd()),this.table_col_names!==null&&this.table_col_names!==void 0){r.writeFieldBegin("table_col_names",o.Type.MAP,4),r.writeMapBegin(o.Type.STRING,o.Type.LIST,o.objectLength(this.table_col_names));for(let w in this.table_col_names)if(this.table_col_names.hasOwnProperty(w)){let p=this.table_col_names[w];r.writeString(w),r.writeListBegin(o.Type.STRING,p.length);for(let h in p)p.hasOwnProperty(h)&&(h=p[h],r.writeString(h));r.writeListEnd()}r.writeMapEnd(),r.writeFieldEnd()}this.column_format!==null&&this.column_format!==void 0&&(r.writeFieldBegin("column_format",o.Type.BOOL,5),r.writeBool(this.column_format),r.writeFieldEnd()),this.pixelRadius!==null&&this.pixelRadius!==void 0&&(r.writeFieldBegin("pixelRadius",o.Type.I32,6),r.writeI32(this.pixelRadius),r.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(r.writeFieldBegin("nonce",o.Type.STRING,7),r.writeString(this.nonce),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ng=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TPixelTableRowResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TPixelTableRowResult,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_result_row_for_pixel_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},CF=class{constructor(r){this.session=null,this.custom_expression=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.custom_expression!==void 0&&r.custom_expression!==null&&(this.custom_expression=new l.TCustomExpression(r.custom_expression)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRUCT?(this.custom_expression=new l.TCustomExpression,this.custom_expression.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_custom_expression_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.custom_expression!==null&&this.custom_expression!==void 0&&(r.writeFieldBegin("custom_expression",o.Type.STRUCT,2),this.custom_expression.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ig=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.I32?this.success=r.readI32():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_custom_expression_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.I32,0),r.writeI32(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},RF=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_custom_expressions_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},sg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TCustomExpression])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TCustomExpression,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_custom_expressions_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},DF=class{constructor(r){this.session=null,this.id=null,this.expression_json=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.id!==void 0&&r.id!==null&&(this.id=r.id),r.expression_json!==void 0&&r.expression_json!==null&&(this.expression_json=r.expression_json))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.id=r.readI32():r.skip(p);break;case 3:p==o.Type.STRING?this.expression_json=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_update_custom_expression_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.id!==null&&this.id!==void 0&&(r.writeFieldBegin("id",o.Type.I32,2),r.writeI32(this.id),r.writeFieldEnd()),this.expression_json!==null&&this.expression_json!==void 0&&(r.writeFieldBegin("expression_json",o.Type.STRING,3),r.writeString(this.expression_json),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},rg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_update_custom_expression_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},PF=class{constructor(r){this.session=null,this.custom_expression_ids=null,this.do_soft_delete=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.custom_expression_ids!==void 0&&r.custom_expression_ids!==null&&(this.custom_expression_ids=o.copyList(r.custom_expression_ids,[null])),r.do_soft_delete!==void 0&&r.do_soft_delete!==null&&(this.do_soft_delete=r.do_soft_delete))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:if(p==o.Type.LIST){this.custom_expression_ids=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readI32(),this.custom_expression_ids.push(I)}r.readListEnd()}else r.skip(p);break;case 3:p==o.Type.BOOL?this.do_soft_delete=r.readBool():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_delete_custom_expressions_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.custom_expression_ids!==null&&this.custom_expression_ids!==void 0){r.writeFieldBegin("custom_expression_ids",o.Type.LIST,2),r.writeListBegin(o.Type.I32,this.custom_expression_ids.length);for(let w in this.custom_expression_ids)this.custom_expression_ids.hasOwnProperty(w)&&(w=this.custom_expression_ids[w],r.writeI32(w));r.writeListEnd(),r.writeFieldEnd()}this.do_soft_delete!==null&&this.do_soft_delete!==void 0&&(r.writeFieldBegin("do_soft_delete",o.Type.BOOL,3),r.writeBool(this.do_soft_delete),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ag=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_delete_custom_expressions_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},$F=class{constructor(r){this.session=null,this.dashboard_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.dashboard_id=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",o.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},og=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TDashboard(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TDashboard,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_dashboard_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},UF=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_dashboards_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},lg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TDashboard])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TDashboard,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_dashboards_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},zF=class{constructor(r){this.session=null,this.dashboard_name=null,this.dashboard_state=null,this.image_hash=null,this.dashboard_metadata=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_name!==void 0&&r.dashboard_name!==null&&(this.dashboard_name=r.dashboard_name),r.dashboard_state!==void 0&&r.dashboard_state!==null&&(this.dashboard_state=r.dashboard_state),r.image_hash!==void 0&&r.image_hash!==null&&(this.image_hash=r.image_hash),r.dashboard_metadata!==void 0&&r.dashboard_metadata!==null&&(this.dashboard_metadata=r.dashboard_metadata))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.dashboard_name=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.dashboard_state=r.readString():r.skip(p);break;case 4:p==o.Type.STRING?this.image_hash=r.readString():r.skip(p);break;case 5:p==o.Type.STRING?this.dashboard_metadata=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_name!==null&&this.dashboard_name!==void 0&&(r.writeFieldBegin("dashboard_name",o.Type.STRING,2),r.writeString(this.dashboard_name),r.writeFieldEnd()),this.dashboard_state!==null&&this.dashboard_state!==void 0&&(r.writeFieldBegin("dashboard_state",o.Type.STRING,3),r.writeString(this.dashboard_state),r.writeFieldEnd()),this.image_hash!==null&&this.image_hash!==void 0&&(r.writeFieldBegin("image_hash",o.Type.STRING,4),r.writeString(this.image_hash),r.writeFieldEnd()),this.dashboard_metadata!==null&&this.dashboard_metadata!==void 0&&(r.writeFieldBegin("dashboard_metadata",o.Type.STRING,5),r.writeString(this.dashboard_metadata),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},cg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.I32?this.success=r.readI32():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_dashboard_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.I32,0),r.writeI32(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},HF=class{constructor(r){this.session=null,this.dashboard_id=null,this.dashboard_name=null,this.dashboard_owner=null,this.dashboard_state=null,this.image_hash=null,this.dashboard_metadata=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id),r.dashboard_name!==void 0&&r.dashboard_name!==null&&(this.dashboard_name=r.dashboard_name),r.dashboard_owner!==void 0&&r.dashboard_owner!==null&&(this.dashboard_owner=r.dashboard_owner),r.dashboard_state!==void 0&&r.dashboard_state!==null&&(this.dashboard_state=r.dashboard_state),r.image_hash!==void 0&&r.image_hash!==null&&(this.image_hash=r.image_hash),r.dashboard_metadata!==void 0&&r.dashboard_metadata!==null&&(this.dashboard_metadata=r.dashboard_metadata))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.dashboard_id=r.readI32():r.skip(p);break;case 3:p==o.Type.STRING?this.dashboard_name=r.readString():r.skip(p);break;case 4:p==o.Type.STRING?this.dashboard_owner=r.readString():r.skip(p);break;case 5:p==o.Type.STRING?this.dashboard_state=r.readString():r.skip(p);break;case 6:p==o.Type.STRING?this.image_hash=r.readString():r.skip(p);break;case 7:p==o.Type.STRING?this.dashboard_metadata=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_replace_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",o.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),this.dashboard_name!==null&&this.dashboard_name!==void 0&&(r.writeFieldBegin("dashboard_name",o.Type.STRING,3),r.writeString(this.dashboard_name),r.writeFieldEnd()),this.dashboard_owner!==null&&this.dashboard_owner!==void 0&&(r.writeFieldBegin("dashboard_owner",o.Type.STRING,4),r.writeString(this.dashboard_owner),r.writeFieldEnd()),this.dashboard_state!==null&&this.dashboard_state!==void 0&&(r.writeFieldBegin("dashboard_state",o.Type.STRING,5),r.writeString(this.dashboard_state),r.writeFieldEnd()),this.image_hash!==null&&this.image_hash!==void 0&&(r.writeFieldBegin("image_hash",o.Type.STRING,6),r.writeString(this.image_hash),r.writeFieldEnd()),this.dashboard_metadata!==null&&this.dashboard_metadata!==void 0&&(r.writeFieldBegin("dashboard_metadata",o.Type.STRING,7),r.writeString(this.dashboard_metadata),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},dg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_replace_dashboard_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},jF=class{constructor(r){this.session=null,this.dashboard_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.dashboard_id=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_delete_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",o.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},fg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_delete_dashboard_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},VF=class{constructor(r){this.session=null,this.dashboard_ids=null,this.groups=null,this.permissions=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_ids!==void 0&&r.dashboard_ids!==null&&(this.dashboard_ids=o.copyList(r.dashboard_ids,[null])),r.groups!==void 0&&r.groups!==null&&(this.groups=o.copyList(r.groups,[null])),r.permissions!==void 0&&r.permissions!==null&&(this.permissions=new l.TDashboardPermissions(r.permissions)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:if(p==o.Type.LIST){this.dashboard_ids=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readI32(),this.dashboard_ids.push(I)}r.readListEnd()}else r.skip(p);break;case 3:if(p==o.Type.LIST){this.groups=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.groups.push(I)}r.readListEnd()}else r.skip(p);break;case 4:p==o.Type.STRUCT?(this.permissions=new l.TDashboardPermissions,this.permissions.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_share_dashboards_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_ids!==null&&this.dashboard_ids!==void 0){r.writeFieldBegin("dashboard_ids",o.Type.LIST,2),r.writeListBegin(o.Type.I32,this.dashboard_ids.length);for(let w in this.dashboard_ids)this.dashboard_ids.hasOwnProperty(w)&&(w=this.dashboard_ids[w],r.writeI32(w));r.writeListEnd(),r.writeFieldEnd()}if(this.groups!==null&&this.groups!==void 0){r.writeFieldBegin("groups",o.Type.LIST,3),r.writeListBegin(o.Type.STRING,this.groups.length);for(let w in this.groups)this.groups.hasOwnProperty(w)&&(w=this.groups[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.permissions!==null&&this.permissions!==void 0&&(r.writeFieldBegin("permissions",o.Type.STRUCT,4),this.permissions.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ug=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_share_dashboards_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},qF=class{constructor(r){this.session=null,this.dashboard_ids=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_ids!==void 0&&r.dashboard_ids!==null&&(this.dashboard_ids=o.copyList(r.dashboard_ids,[null])))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:if(p==o.Type.LIST){this.dashboard_ids=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readI32(),this.dashboard_ids.push(I)}r.readListEnd()}else r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_delete_dashboards_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_ids!==null&&this.dashboard_ids!==void 0){r.writeFieldBegin("dashboard_ids",o.Type.LIST,2),r.writeListBegin(o.Type.I32,this.dashboard_ids.length);for(let w in this.dashboard_ids)this.dashboard_ids.hasOwnProperty(w)&&(w=this.dashboard_ids[w],r.writeI32(w));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},hg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_delete_dashboards_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},GF=class{constructor(r){this.session=null,this.dashboard_id=null,this.groups=null,this.objects=null,this.permissions=null,this.grant_role=!1,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id),r.groups!==void 0&&r.groups!==null&&(this.groups=o.copyList(r.groups,[null])),r.objects!==void 0&&r.objects!==null&&(this.objects=o.copyList(r.objects,[null])),r.permissions!==void 0&&r.permissions!==null&&(this.permissions=new l.TDashboardPermissions(r.permissions)),r.grant_role!==void 0&&r.grant_role!==null&&(this.grant_role=r.grant_role))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.dashboard_id=r.readI32():r.skip(p);break;case 3:if(p==o.Type.LIST){this.groups=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.groups.push(I)}r.readListEnd()}else r.skip(p);break;case 4:if(p==o.Type.LIST){this.objects=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.objects.push(I)}r.readListEnd()}else r.skip(p);break;case 5:p==o.Type.STRUCT?(this.permissions=new l.TDashboardPermissions,this.permissions.read(r)):r.skip(p);break;case 6:p==o.Type.BOOL?this.grant_role=r.readBool():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_share_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",o.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),this.groups!==null&&this.groups!==void 0){r.writeFieldBegin("groups",o.Type.LIST,3),r.writeListBegin(o.Type.STRING,this.groups.length);for(let w in this.groups)this.groups.hasOwnProperty(w)&&(w=this.groups[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}if(this.objects!==null&&this.objects!==void 0){r.writeFieldBegin("objects",o.Type.LIST,4),r.writeListBegin(o.Type.STRING,this.objects.length);for(let w in this.objects)this.objects.hasOwnProperty(w)&&(w=this.objects[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.permissions!==null&&this.permissions!==void 0&&(r.writeFieldBegin("permissions",o.Type.STRUCT,5),this.permissions.write(r),r.writeFieldEnd()),this.grant_role!==null&&this.grant_role!==void 0&&(r.writeFieldBegin("grant_role",o.Type.BOOL,6),r.writeBool(this.grant_role),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},pg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_share_dashboard_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},WF=class{constructor(r){this.session=null,this.dashboard_id=null,this.groups=null,this.objects=null,this.permissions=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id),r.groups!==void 0&&r.groups!==null&&(this.groups=o.copyList(r.groups,[null])),r.objects!==void 0&&r.objects!==null&&(this.objects=o.copyList(r.objects,[null])),r.permissions!==void 0&&r.permissions!==null&&(this.permissions=new l.TDashboardPermissions(r.permissions)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.dashboard_id=r.readI32():r.skip(p);break;case 3:if(p==o.Type.LIST){this.groups=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.groups.push(I)}r.readListEnd()}else r.skip(p);break;case 4:if(p==o.Type.LIST){this.objects=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.objects.push(I)}r.readListEnd()}else r.skip(p);break;case 5:p==o.Type.STRUCT?(this.permissions=new l.TDashboardPermissions,this.permissions.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_unshare_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",o.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),this.groups!==null&&this.groups!==void 0){r.writeFieldBegin("groups",o.Type.LIST,3),r.writeListBegin(o.Type.STRING,this.groups.length);for(let w in this.groups)this.groups.hasOwnProperty(w)&&(w=this.groups[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}if(this.objects!==null&&this.objects!==void 0){r.writeFieldBegin("objects",o.Type.LIST,4),r.writeListBegin(o.Type.STRING,this.objects.length);for(let w in this.objects)this.objects.hasOwnProperty(w)&&(w=this.objects[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.permissions!==null&&this.permissions!==void 0&&(r.writeFieldBegin("permissions",o.Type.STRUCT,5),this.permissions.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},_g=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_unshare_dashboard_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},YF=class{constructor(r){this.session=null,this.dashboard_ids=null,this.groups=null,this.permissions=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_ids!==void 0&&r.dashboard_ids!==null&&(this.dashboard_ids=o.copyList(r.dashboard_ids,[null])),r.groups!==void 0&&r.groups!==null&&(this.groups=o.copyList(r.groups,[null])),r.permissions!==void 0&&r.permissions!==null&&(this.permissions=new l.TDashboardPermissions(r.permissions)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:if(p==o.Type.LIST){this.dashboard_ids=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readI32(),this.dashboard_ids.push(I)}r.readListEnd()}else r.skip(p);break;case 3:if(p==o.Type.LIST){this.groups=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.groups.push(I)}r.readListEnd()}else r.skip(p);break;case 4:p==o.Type.STRUCT?(this.permissions=new l.TDashboardPermissions,this.permissions.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_unshare_dashboards_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_ids!==null&&this.dashboard_ids!==void 0){r.writeFieldBegin("dashboard_ids",o.Type.LIST,2),r.writeListBegin(o.Type.I32,this.dashboard_ids.length);for(let w in this.dashboard_ids)this.dashboard_ids.hasOwnProperty(w)&&(w=this.dashboard_ids[w],r.writeI32(w));r.writeListEnd(),r.writeFieldEnd()}if(this.groups!==null&&this.groups!==void 0){r.writeFieldBegin("groups",o.Type.LIST,3),r.writeListBegin(o.Type.STRING,this.groups.length);for(let w in this.groups)this.groups.hasOwnProperty(w)&&(w=this.groups[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.permissions!==null&&this.permissions!==void 0&&(r.writeFieldBegin("permissions",o.Type.STRUCT,4),this.permissions.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},gg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_unshare_dashboards_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},XF=class{constructor(r){this.session=null,this.dashboard_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.dashboard_id=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_dashboard_grantees_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",o.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},yg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TDashboardGrantees])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TDashboardGrantees,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_dashboard_grantees_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},KF=class{constructor(r){this.session=null,this.link=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.link!==void 0&&r.link!==null&&(this.link=r.link))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.link=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_link_view_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.link!==null&&this.link!==void 0&&(r.writeFieldBegin("link",o.Type.STRING,2),r.writeString(this.link),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},mg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TFrontendView(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TFrontendView,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_link_view_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ZF=class{constructor(r){this.session=null,this.view_state=null,this.view_metadata=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.view_state!==void 0&&r.view_state!==null&&(this.view_state=r.view_state),r.view_metadata!==void 0&&r.view_metadata!==null&&(this.view_metadata=r.view_metadata))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.view_state=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.view_metadata=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_link_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.view_state!==null&&this.view_state!==void 0&&(r.writeFieldBegin("view_state",o.Type.STRING,2),r.writeString(this.view_state),r.writeFieldEnd()),this.view_metadata!==null&&this.view_metadata!==void 0&&(r.writeFieldBegin("view_metadata",o.Type.STRING,3),r.writeString(this.view_metadata),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},wg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRING?this.success=r.readString():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_link_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},JF=class{constructor(r){this.session=null,this.table_name=null,this.rows=null,this.column_names=[],r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.rows!==void 0&&r.rows!==null&&(this.rows=o.copyList(r.rows,[l.TRow])),r.column_names!==void 0&&r.column_names!==null&&(this.column_names=o.copyList(r.column_names,[null])))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:if(p==o.Type.LIST){this.rows=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TRow,I.read(r),this.rows.push(I)}r.readListEnd()}else r.skip(p);break;case 4:if(p==o.Type.LIST){this.column_names=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.column_names.push(I)}r.readListEnd()}else r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_load_table_binary_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.rows!==null&&this.rows!==void 0){r.writeFieldBegin("rows",o.Type.LIST,3),r.writeListBegin(o.Type.STRUCT,this.rows.length);for(let w in this.rows)this.rows.hasOwnProperty(w)&&(w=this.rows[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.column_names!==null&&this.column_names!==void 0){r.writeFieldBegin("column_names",o.Type.LIST,4),r.writeListBegin(o.Type.STRING,this.column_names.length);for(let w in this.column_names)this.column_names.hasOwnProperty(w)&&(w=this.column_names[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},Lg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_binary_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},QF=class{constructor(r){this.session=null,this.table_name=null,this.cols=null,this.column_names=[],r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.cols!==void 0&&r.cols!==null&&(this.cols=o.copyList(r.cols,[l.TColumn])),r.column_names!==void 0&&r.column_names!==null&&(this.column_names=o.copyList(r.column_names,[null])))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:if(p==o.Type.LIST){this.cols=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TColumn,I.read(r),this.cols.push(I)}r.readListEnd()}else r.skip(p);break;case 4:if(p==o.Type.LIST){this.column_names=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.column_names.push(I)}r.readListEnd()}else r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_load_table_binary_columnar_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.cols!==null&&this.cols!==void 0){r.writeFieldBegin("cols",o.Type.LIST,3),r.writeListBegin(o.Type.STRUCT,this.cols.length);for(let w in this.cols)this.cols.hasOwnProperty(w)&&(w=this.cols[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.column_names!==null&&this.column_names!==void 0){r.writeFieldBegin("column_names",o.Type.LIST,4),r.writeListBegin(o.Type.STRING,this.column_names.length);for(let w in this.column_names)this.column_names.hasOwnProperty(w)&&(w=this.column_names[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},bg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_binary_columnar_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},eM=class{constructor(r){this.session=null,this.table_name=null,this.cols=null,this.column_names=[],this.assign_render_groups=!0,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.cols!==void 0&&r.cols!==null&&(this.cols=o.copyList(r.cols,[l.TColumn])),r.column_names!==void 0&&r.column_names!==null&&(this.column_names=o.copyList(r.column_names,[null])),r.assign_render_groups!==void 0&&r.assign_render_groups!==null&&(this.assign_render_groups=r.assign_render_groups))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:if(p==o.Type.LIST){this.cols=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TColumn,I.read(r),this.cols.push(I)}r.readListEnd()}else r.skip(p);break;case 4:if(p==o.Type.LIST){this.column_names=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.column_names.push(I)}r.readListEnd()}else r.skip(p);break;case 5:p==o.Type.BOOL?this.assign_render_groups=r.readBool():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_load_table_binary_columnar_polys_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.cols!==null&&this.cols!==void 0){r.writeFieldBegin("cols",o.Type.LIST,3),r.writeListBegin(o.Type.STRUCT,this.cols.length);for(let w in this.cols)this.cols.hasOwnProperty(w)&&(w=this.cols[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.column_names!==null&&this.column_names!==void 0){r.writeFieldBegin("column_names",o.Type.LIST,4),r.writeListBegin(o.Type.STRING,this.column_names.length);for(let w in this.column_names)this.column_names.hasOwnProperty(w)&&(w=this.column_names[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.assign_render_groups!==null&&this.assign_render_groups!==void 0&&(r.writeFieldBegin("assign_render_groups",o.Type.BOOL,5),r.writeBool(this.assign_render_groups),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Tg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_binary_columnar_polys_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},tM=class{constructor(r){this.session=null,this.table_name=null,this.arrow_stream=null,this.use_column_names=!1,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.arrow_stream!==void 0&&r.arrow_stream!==null&&(this.arrow_stream=r.arrow_stream),r.use_column_names!==void 0&&r.use_column_names!==null&&(this.use_column_names=r.use_column_names))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.arrow_stream=r.readBinary():r.skip(p);break;case 4:p==o.Type.BOOL?this.use_column_names=r.readBool():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_binary_arrow_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.arrow_stream!==null&&this.arrow_stream!==void 0&&(r.writeFieldBegin("arrow_stream",o.Type.STRING,3),r.writeBinary(this.arrow_stream),r.writeFieldEnd()),this.use_column_names!==null&&this.use_column_names!==void 0&&(r.writeFieldBegin("use_column_names",o.Type.BOOL,4),r.writeBool(this.use_column_names),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},vg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_binary_arrow_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},nM=class{constructor(r){this.session=null,this.table_name=null,this.rows=null,this.column_names=[],r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.rows!==void 0&&r.rows!==null&&(this.rows=o.copyList(r.rows,[l.TStringRow])),r.column_names!==void 0&&r.column_names!==null&&(this.column_names=o.copyList(r.column_names,[null])))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:if(p==o.Type.LIST){this.rows=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TStringRow,I.read(r),this.rows.push(I)}r.readListEnd()}else r.skip(p);break;case 4:if(p==o.Type.LIST){this.column_names=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.column_names.push(I)}r.readListEnd()}else r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_load_table_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.rows!==null&&this.rows!==void 0){r.writeFieldBegin("rows",o.Type.LIST,3),r.writeListBegin(o.Type.STRUCT,this.rows.length);for(let w in this.rows)this.rows.hasOwnProperty(w)&&(w=this.rows[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.column_names!==null&&this.column_names!==void 0){r.writeFieldBegin("column_names",o.Type.LIST,4),r.writeListBegin(o.Type.STRING,this.column_names.length);for(let w in this.column_names)this.column_names.hasOwnProperty(w)&&(w=this.column_names[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},Eg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},iM=class{constructor(r){this.session=null,this.file_name=null,this.copy_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.file_name!==void 0&&r.file_name!==null&&(this.file_name=r.file_name),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new l.TCopyParams(r.copy_params)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.file_name=r.readString():r.skip(p);break;case 3:p==o.Type.STRUCT?(this.copy_params=new l.TCopyParams,this.copy_params.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_detect_column_types_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.file_name!==null&&this.file_name!==void 0&&(r.writeFieldBegin("file_name",o.Type.STRING,2),r.writeString(this.file_name),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",o.Type.STRUCT,3),this.copy_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Sg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TDetectResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TDetectResult,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_detect_column_types_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},sM=class{constructor(r){this.session=null,this.table_name=null,this.row_desc=null,this.create_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.row_desc!==void 0&&r.row_desc!==null&&(this.row_desc=o.copyList(r.row_desc,[l.TColumnType])),r.create_params!==void 0&&r.create_params!==null&&(this.create_params=new l.TCreateParams(r.create_params)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:if(p==o.Type.LIST){this.row_desc=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TColumnType,I.read(r),this.row_desc.push(I)}r.readListEnd()}else r.skip(p);break;case 4:p==o.Type.STRUCT?(this.create_params=new l.TCreateParams,this.create_params.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_create_table_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.row_desc!==null&&this.row_desc!==void 0){r.writeFieldBegin("row_desc",o.Type.LIST,3),r.writeListBegin(o.Type.STRUCT,this.row_desc.length);for(let w in this.row_desc)this.row_desc.hasOwnProperty(w)&&(w=this.row_desc[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.create_params!==null&&this.create_params!==void 0&&(r.writeFieldBegin("create_params",o.Type.STRUCT,4),this.create_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},xg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_table_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},rM=class{constructor(r){this.session=null,this.table_name=null,this.file_name=null,this.copy_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.file_name!==void 0&&r.file_name!==null&&(this.file_name=r.file_name),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new l.TCopyParams(r.copy_params)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.file_name=r.readString():r.skip(p);break;case 4:p==o.Type.STRUCT?(this.copy_params=new l.TCopyParams,this.copy_params.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_import_table_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.file_name!==null&&this.file_name!==void 0&&(r.writeFieldBegin("file_name",o.Type.STRING,3),r.writeString(this.file_name),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",o.Type.STRUCT,4),this.copy_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Bg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_import_table_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},aM=class{constructor(r){this.session=null,this.table_name=null,this.file_name=null,this.copy_params=null,this.row_desc=null,this.create_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.file_name!==void 0&&r.file_name!==null&&(this.file_name=r.file_name),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new l.TCopyParams(r.copy_params)),r.row_desc!==void 0&&r.row_desc!==null&&(this.row_desc=o.copyList(r.row_desc,[l.TColumnType])),r.create_params!==void 0&&r.create_params!==null&&(this.create_params=new l.TCreateParams(r.create_params)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.table_name=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.file_name=r.readString():r.skip(p);break;case 4:p==o.Type.STRUCT?(this.copy_params=new l.TCopyParams,this.copy_params.read(r)):r.skip(p);break;case 5:if(p==o.Type.LIST){this.row_desc=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TColumnType,I.read(r),this.row_desc.push(I)}r.readListEnd()}else r.skip(p);break;case 6:p==o.Type.STRUCT?(this.create_params=new l.TCreateParams,this.create_params.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_import_geo_table_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",o.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.file_name!==null&&this.file_name!==void 0&&(r.writeFieldBegin("file_name",o.Type.STRING,3),r.writeString(this.file_name),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",o.Type.STRUCT,4),this.copy_params.write(r),r.writeFieldEnd()),this.row_desc!==null&&this.row_desc!==void 0){r.writeFieldBegin("row_desc",o.Type.LIST,5),r.writeListBegin(o.Type.STRUCT,this.row_desc.length);for(let w in this.row_desc)this.row_desc.hasOwnProperty(w)&&(w=this.row_desc[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.create_params!==null&&this.create_params!==void 0&&(r.writeFieldBegin("create_params",o.Type.STRUCT,6),this.create_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ig=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_import_geo_table_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},oM=class{constructor(r){this.session=null,this.import_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.import_id!==void 0&&r.import_id!==null&&(this.import_id=r.import_id))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.import_id=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_import_table_status_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.import_id!==null&&this.import_id!==void 0&&(r.writeFieldBegin("import_id",o.Type.STRING,2),r.writeString(this.import_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},kg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TImportStatus(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TImportStatus,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_import_table_status_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},lM=class{constructor(r){this.session=null,this.archive_path=null,this.copy_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.archive_path!==void 0&&r.archive_path!==null&&(this.archive_path=r.archive_path),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new l.TCopyParams(r.copy_params)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.archive_path=r.readString():r.skip(p);break;case 3:p==o.Type.STRUCT?(this.copy_params=new l.TCopyParams,this.copy_params.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_first_geo_file_in_archive_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.archive_path!==null&&this.archive_path!==void 0&&(r.writeFieldBegin("archive_path",o.Type.STRING,2),r.writeString(this.archive_path),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",o.Type.STRUCT,3),this.copy_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Fg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRING?this.success=r.readString():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_first_geo_file_in_archive_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},cM=class{constructor(r){this.session=null,this.archive_path=null,this.copy_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.archive_path!==void 0&&r.archive_path!==null&&(this.archive_path=r.archive_path),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new l.TCopyParams(r.copy_params)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.archive_path=r.readString():r.skip(p);break;case 3:p==o.Type.STRUCT?(this.copy_params=new l.TCopyParams,this.copy_params.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_all_files_in_archive_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.archive_path!==null&&this.archive_path!==void 0&&(r.writeFieldBegin("archive_path",o.Type.STRING,2),r.writeString(this.archive_path),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",o.Type.STRUCT,3),this.copy_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Mg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_all_files_in_archive_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},dM=class{constructor(r){this.session=null,this.file_name=null,this.copy_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.file_name!==void 0&&r.file_name!==null&&(this.file_name=r.file_name),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new l.TCopyParams(r.copy_params)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.file_name=r.readString():r.skip(p);break;case 3:p==o.Type.STRUCT?(this.copy_params=new l.TCopyParams,this.copy_params.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_layers_in_geo_file_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.file_name!==null&&this.file_name!==void 0&&(r.writeFieldBegin("file_name",o.Type.STRING,2),r.writeString(this.file_name),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",o.Type.STRUCT,3),this.copy_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ag=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TGeoFileLayerInfo])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TGeoFileLayerInfo,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_layers_in_geo_file_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},fM=class{constructor(r){this.session=null,this.query=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.query!==void 0&&r.query!==null&&(this.query=r.query))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.query=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_query_get_outer_fragment_count_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.query!==null&&this.query!==void 0&&(r.writeFieldBegin("query",o.Type.STRING,2),r.writeString(this.query),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Og=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.I64?this.success=r.readI64():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_query_get_outer_fragment_count_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.I64,0),r.writeI64(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},uM=class{constructor(r){this.session=null,this.table_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_id!==void 0&&r.table_id!==null&&(this.table_id=r.table_id))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.table_id=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_check_table_consistency_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(r.writeFieldBegin("table_id",o.Type.I32,2),r.writeI32(this.table_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ng=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TTableMeta(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TTableMeta,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_check_table_consistency_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},hM=class{constructor(r){this.leaf_session=null,this.parent_session=null,this.query_ra=null,this.start_time_str=null,this.just_explain=null,this.outer_fragment_indices=null,r&&(r.leaf_session!==void 0&&r.leaf_session!==null&&(this.leaf_session=r.leaf_session),r.parent_session!==void 0&&r.parent_session!==null&&(this.parent_session=r.parent_session),r.query_ra!==void 0&&r.query_ra!==null&&(this.query_ra=r.query_ra),r.start_time_str!==void 0&&r.start_time_str!==null&&(this.start_time_str=r.start_time_str),r.just_explain!==void 0&&r.just_explain!==null&&(this.just_explain=r.just_explain),r.outer_fragment_indices!==void 0&&r.outer_fragment_indices!==null&&(this.outer_fragment_indices=o.copyList(r.outer_fragment_indices,[null])))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.leaf_session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.parent_session=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.query_ra=r.readString():r.skip(p);break;case 4:p==o.Type.STRING?this.start_time_str=r.readString():r.skip(p);break;case 5:p==o.Type.BOOL?this.just_explain=r.readBool():r.skip(p);break;case 6:if(p==o.Type.LIST){this.outer_fragment_indices=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readI64(),this.outer_fragment_indices.push(I)}r.readListEnd()}else r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_start_query_args"),this.leaf_session!==null&&this.leaf_session!==void 0&&(r.writeFieldBegin("leaf_session",o.Type.STRING,1),r.writeString(this.leaf_session),r.writeFieldEnd()),this.parent_session!==null&&this.parent_session!==void 0&&(r.writeFieldBegin("parent_session",o.Type.STRING,2),r.writeString(this.parent_session),r.writeFieldEnd()),this.query_ra!==null&&this.query_ra!==void 0&&(r.writeFieldBegin("query_ra",o.Type.STRING,3),r.writeString(this.query_ra),r.writeFieldEnd()),this.start_time_str!==null&&this.start_time_str!==void 0&&(r.writeFieldBegin("start_time_str",o.Type.STRING,4),r.writeString(this.start_time_str),r.writeFieldEnd()),this.just_explain!==null&&this.just_explain!==void 0&&(r.writeFieldBegin("just_explain",o.Type.BOOL,5),r.writeBool(this.just_explain),r.writeFieldEnd()),this.outer_fragment_indices!==null&&this.outer_fragment_indices!==void 0){r.writeFieldBegin("outer_fragment_indices",o.Type.LIST,6),r.writeListBegin(o.Type.I64,this.outer_fragment_indices.length);for(let w in this.outer_fragment_indices)this.outer_fragment_indices.hasOwnProperty(w)&&(w=this.outer_fragment_indices[w],r.writeI64(w));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},Cg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TPendingQuery(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TPendingQuery,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_start_query_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},pM=class{constructor(r){this.pending_query=null,this.subquery_id=null,this.start_time_str=null,r&&(r.pending_query!==void 0&&r.pending_query!==null&&(this.pending_query=new l.TPendingQuery(r.pending_query)),r.subquery_id!==void 0&&r.subquery_id!==null&&(this.subquery_id=r.subquery_id),r.start_time_str!==void 0&&r.start_time_str!==null&&(this.start_time_str=r.start_time_str))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.pending_query=new l.TPendingQuery,this.pending_query.read(r)):r.skip(p);break;case 2:p==o.Type.I64?this.subquery_id=r.readI64():r.skip(p);break;case 3:p==o.Type.STRING?this.start_time_str=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_execute_query_step_args"),this.pending_query!==null&&this.pending_query!==void 0&&(r.writeFieldBegin("pending_query",o.Type.STRUCT,1),this.pending_query.write(r),r.writeFieldEnd()),this.subquery_id!==null&&this.subquery_id!==void 0&&(r.writeFieldBegin("subquery_id",o.Type.I64,2),r.writeI64(this.subquery_id),r.writeFieldEnd()),this.start_time_str!==null&&this.start_time_str!==void 0&&(r.writeFieldBegin("start_time_str",o.Type.STRING,3),r.writeString(this.start_time_str),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Rg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TStepResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TStepResult,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_execute_query_step_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},_M=class{constructor(r){this.serialized_rows=null,this.row_desc=null,this.query_id=null,this.subquery_id=null,this.is_final_subquery_result=null,r&&(r.serialized_rows!==void 0&&r.serialized_rows!==null&&(this.serialized_rows=new y.TSerializedRows(r.serialized_rows)),r.row_desc!==void 0&&r.row_desc!==null&&(this.row_desc=o.copyList(r.row_desc,[l.TColumnType])),r.query_id!==void 0&&r.query_id!==null&&(this.query_id=r.query_id),r.subquery_id!==void 0&&r.subquery_id!==null&&(this.subquery_id=r.subquery_id),r.is_final_subquery_result!==void 0&&r.is_final_subquery_result!==null&&(this.is_final_subquery_result=r.is_final_subquery_result))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.serialized_rows=new y.TSerializedRows,this.serialized_rows.read(r)):r.skip(p);break;case 2:if(p==o.Type.LIST){this.row_desc=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TColumnType,I.read(r),this.row_desc.push(I)}r.readListEnd()}else r.skip(p);break;case 3:p==o.Type.I64?this.query_id=r.readI64():r.skip(p);break;case 4:p==o.Type.I64?this.subquery_id=r.readI64():r.skip(p);break;case 5:p==o.Type.BOOL?this.is_final_subquery_result=r.readBool():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_broadcast_serialized_rows_args"),this.serialized_rows!==null&&this.serialized_rows!==void 0&&(r.writeFieldBegin("serialized_rows",o.Type.STRUCT,1),this.serialized_rows.write(r),r.writeFieldEnd()),this.row_desc!==null&&this.row_desc!==void 0){r.writeFieldBegin("row_desc",o.Type.LIST,2),r.writeListBegin(o.Type.STRUCT,this.row_desc.length);for(let w in this.row_desc)this.row_desc.hasOwnProperty(w)&&(w=this.row_desc[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.query_id!==null&&this.query_id!==void 0&&(r.writeFieldBegin("query_id",o.Type.I64,3),r.writeI64(this.query_id),r.writeFieldEnd()),this.subquery_id!==null&&this.subquery_id!==void 0&&(r.writeFieldBegin("subquery_id",o.Type.I64,4),r.writeI64(this.subquery_id),r.writeFieldEnd()),this.is_final_subquery_result!==null&&this.is_final_subquery_result!==void 0&&(r.writeFieldBegin("is_final_subquery_result",o.Type.BOOL,5),r.writeBool(this.is_final_subquery_result),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Dg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_broadcast_serialized_rows_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},gM=class{constructor(r){this.session=null,this.widget_id=null,this.node_idx=null,this.vega_json=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.widget_id!==void 0&&r.widget_id!==null&&(this.widget_id=r.widget_id),r.node_idx!==void 0&&r.node_idx!==null&&(this.node_idx=r.node_idx),r.vega_json!==void 0&&r.vega_json!==null&&(this.vega_json=r.vega_json))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I64?this.widget_id=r.readI64():r.skip(p);break;case 3:p==o.Type.I16?this.node_idx=r.readI16():r.skip(p);break;case 4:p==o.Type.STRING?this.vega_json=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_start_render_query_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.widget_id!==null&&this.widget_id!==void 0&&(r.writeFieldBegin("widget_id",o.Type.I64,2),r.writeI64(this.widget_id),r.writeFieldEnd()),this.node_idx!==null&&this.node_idx!==void 0&&(r.writeFieldBegin("node_idx",o.Type.I16,3),r.writeI16(this.node_idx),r.writeFieldEnd()),this.vega_json!==null&&this.vega_json!==void 0&&(r.writeFieldBegin("vega_json",o.Type.STRING,4),r.writeString(this.vega_json),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Pg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TPendingRenderQuery(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TPendingRenderQuery,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_start_render_query_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},yM=class{constructor(r){this.pending_render=null,this.merged_data=null,r&&(r.pending_render!==void 0&&r.pending_render!==null&&(this.pending_render=new l.TPendingRenderQuery(r.pending_render)),r.merged_data!==void 0&&r.merged_data!==null&&(this.merged_data=o.copyMap(r.merged_data,[o.copyMap,o.copyMap,o.copyMap,o.copyList,l.TRenderDatum])))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.pending_render=new l.TPendingRenderQuery,this.pending_render.read(r)):r.skip(p);break;case 2:if(p==o.Type.MAP){this.merged_data={};const _=r.readMapBegin().size||0;for(let v=0;v<_;++v){let I=null,ee=null;I=r.readString(),ee={};const qe=r.readMapBegin().size||0;for(let vn=0;vn<qe;++vn){let ll=null,K5=null;ll=r.readString(),K5={};const tte=r.readMapBegin().size||0;for(let CM=0;CM<tte;++CM){let RM=null,Z5=null;RM=r.readString(),Z5={};const nte=r.readMapBegin().size||0;for(let DM=0;DM<nte;++DM){let PM=null,J5=null;PM=r.readString(),J5=[];const ite=r.readListBegin().size||0;for(let $M=0;$M<ite;++$M){let Q5=null;Q5=new l.TRenderDatum,Q5.read(r),J5.push(Q5)}r.readListEnd(),Z5[PM]=J5}r.readMapEnd(),K5[RM]=Z5}r.readMapEnd(),ee[ll]=K5}r.readMapEnd(),this.merged_data[I]=ee}r.readMapEnd()}else r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_execute_next_render_step_args"),this.pending_render!==null&&this.pending_render!==void 0&&(r.writeFieldBegin("pending_render",o.Type.STRUCT,1),this.pending_render.write(r),r.writeFieldEnd()),this.merged_data!==null&&this.merged_data!==void 0){r.writeFieldBegin("merged_data",o.Type.MAP,2),r.writeMapBegin(o.Type.STRING,o.Type.MAP,o.objectLength(this.merged_data));for(let w in this.merged_data)if(this.merged_data.hasOwnProperty(w)){let p=this.merged_data[w];r.writeString(w),r.writeMapBegin(o.Type.STRING,o.Type.MAP,o.objectLength(p));for(let h in p)if(p.hasOwnProperty(h)){let T=p[h];r.writeString(h),r.writeMapBegin(o.Type.STRING,o.Type.MAP,o.objectLength(T));for(let _ in T)if(T.hasOwnProperty(_)){let v=T[_];r.writeString(_),r.writeMapBegin(o.Type.STRING,o.Type.LIST,o.objectLength(v));for(let I in v)if(v.hasOwnProperty(I)){let ee=v[I];r.writeString(I),r.writeListBegin(o.Type.STRUCT,ee.length);for(let we in ee)ee.hasOwnProperty(we)&&(we=ee[we],we.write(r));r.writeListEnd()}r.writeMapEnd()}r.writeMapEnd()}r.writeMapEnd()}r.writeMapEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},$g=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TRenderStepResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TRenderStepResult,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_execute_next_render_step_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},mM=class{constructor(r){this.session=null,this.insert_data=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.insert_data!==void 0&&r.insert_data!==null&&(this.insert_data=new l.TInsertData(r.insert_data)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRUCT?(this.insert_data=new l.TInsertData,this.insert_data.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_insert_data_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.insert_data!==null&&this.insert_data!==void 0&&(r.writeFieldBegin("insert_data",o.Type.STRUCT,2),this.insert_data.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ug=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_insert_data_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},wM=class{constructor(r){this.session=null,this.insert_chunks=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.insert_chunks!==void 0&&r.insert_chunks!==null&&(this.insert_chunks=new l.TInsertChunks(r.insert_chunks)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRUCT?(this.insert_chunks=new l.TInsertChunks,this.insert_chunks.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_insert_chunks_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.insert_chunks!==null&&this.insert_chunks!==void 0&&(r.writeFieldBegin("insert_chunks",o.Type.STRUCT,2),this.insert_chunks.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},zg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_insert_chunks_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},LM=class{constructor(r){this.session=null,this.table_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_id!==void 0&&r.table_id!==null&&(this.table_id=r.table_id))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.I32?this.table_id=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_checkpoint_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(r.writeFieldBegin("table_id",o.Type.I32,2),r.writeI32(this.table_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Hg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_checkpoint_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},bM=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_roles_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},jg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_roles_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},TM=class{constructor(r){this.session=null,this.roleName=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.roleName!==void 0&&r.roleName!==null&&(this.roleName=r.roleName))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.roleName=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_db_objects_for_grantee_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.roleName!==null&&this.roleName!==void 0&&(r.writeFieldBegin("roleName",o.Type.STRING,2),r.writeString(this.roleName),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Vg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TDBObject])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TDBObject,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_db_objects_for_grantee_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},vM=class{constructor(r){this.session=null,this.objectName=null,this.type=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.objectName!==void 0&&r.objectName!==null&&(this.objectName=r.objectName),r.type!==void 0&&r.type!==null&&(this.type=r.type))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.objectName=r.readString():r.skip(p);break;case 3:p==o.Type.I32?this.type=r.readI32():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_db_object_privs_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.objectName!==null&&this.objectName!==void 0&&(r.writeFieldBegin("objectName",o.Type.STRING,2),r.writeString(this.objectName),r.writeFieldEnd()),this.type!==null&&this.type!==void 0&&(r.writeFieldBegin("type",o.Type.I32,3),r.writeI32(this.type),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},qg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[l.TDBObject])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new l.TDBObject,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_db_object_privs_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},EM=class{constructor(r){this.session=null,this.userName=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.userName!==void 0&&r.userName!==null&&(this.userName=r.userName))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.userName=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_all_roles_for_user_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.userName!==null&&this.userName!==void 0&&(r.writeFieldBegin("userName",o.Type.STRING,2),r.writeString(this.userName),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Gg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_all_roles_for_user_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},SM=class{constructor(r){this.session=null,this.userName=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.userName!==void 0&&r.userName!==null&&(this.userName=r.userName))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.userName=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_all_effective_roles_for_user_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.userName!==null&&this.userName!==void 0&&(r.writeFieldBegin("userName",o.Type.STRING,2),r.writeString(this.userName),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Wg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_all_effective_roles_for_user_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},xM=class{constructor(r){this.session=null,this.granteeName=null,this.roleName=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.granteeName!==void 0&&r.granteeName!==null&&(this.granteeName=r.granteeName),r.roleName!==void 0&&r.roleName!==null&&(this.roleName=r.roleName))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.granteeName=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.roleName=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_has_role_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.granteeName!==null&&this.granteeName!==void 0&&(r.writeFieldBegin("granteeName",o.Type.STRING,2),r.writeString(this.granteeName),r.writeFieldEnd()),this.roleName!==null&&this.roleName!==void 0&&(r.writeFieldBegin("roleName",o.Type.STRING,3),r.writeString(this.roleName),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Yg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.BOOL?this.success=r.readBool():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_has_role_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.BOOL,0),r.writeBool(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},BM=class{constructor(r){this.session=null,this.granteeName=null,this.ObjectName=null,this.objectType=null,this.permissions=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.granteeName!==void 0&&r.granteeName!==null&&(this.granteeName=r.granteeName),r.ObjectName!==void 0&&r.ObjectName!==null&&(this.ObjectName=r.ObjectName),r.objectType!==void 0&&r.objectType!==null&&(this.objectType=r.objectType),r.permissions!==void 0&&r.permissions!==null&&(this.permissions=new l.TDBObjectPermissions(r.permissions)))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.granteeName=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.ObjectName=r.readString():r.skip(p);break;case 4:p==o.Type.I32?this.objectType=r.readI32():r.skip(p);break;case 5:p==o.Type.STRUCT?(this.permissions=new l.TDBObjectPermissions,this.permissions.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_has_object_privilege_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.granteeName!==null&&this.granteeName!==void 0&&(r.writeFieldBegin("granteeName",o.Type.STRING,2),r.writeString(this.granteeName),r.writeFieldEnd()),this.ObjectName!==null&&this.ObjectName!==void 0&&(r.writeFieldBegin("ObjectName",o.Type.STRING,3),r.writeString(this.ObjectName),r.writeFieldEnd()),this.objectType!==null&&this.objectType!==void 0&&(r.writeFieldBegin("objectType",o.Type.I32,4),r.writeI32(this.objectType),r.writeFieldEnd()),this.permissions!==null&&this.permissions!==void 0&&(r.writeFieldBegin("permissions",o.Type.STRUCT,5),this.permissions.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Xg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.BOOL?this.success=r.readBool():r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_has_object_privilege_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.BOOL,0),r.writeBool(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},IM=class{constructor(r){this.session=null,this.key=null,this.nonce="",r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.key!==void 0&&r.key!==null&&(this.key=r.key),r.nonce!==void 0&&r.nonce!==null&&(this.nonce=r.nonce))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.key=r.readString():r.skip(p);break;case 3:p==o.Type.STRING?this.nonce=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_license_key_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.key!==null&&this.key!==void 0&&(r.writeFieldBegin("key",o.Type.STRING,2),r.writeString(this.key),r.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(r.writeFieldBegin("nonce",o.Type.STRING,3),r.writeString(this.nonce),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Kg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TLicenseInfo(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TLicenseInfo,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_license_key_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},kM=class{constructor(r){this.session=null,this.nonce="",r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.nonce!==void 0&&r.nonce!==null&&(this.nonce=r.nonce))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:p==o.Type.STRING?this.nonce=r.readString():r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_license_claims_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(r.writeFieldBegin("nonce",o.Type.STRING,2),r.writeString(this.nonce),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Zg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new l.TLicenseInfo(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:p==o.Type.STRUCT?(this.success=new l.TLicenseInfo,this.success.read(r)):r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_license_claims_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",o.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},FM=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_device_parameters_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Jg=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyMap(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.MAP){this.success={};const _=r.readMapBegin().size||0;for(let v=0;v<_;++v){let I=null,ee=null;I=r.readString(),ee=r.readString(),this.success[I]=ee}r.readMapEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_device_parameters_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.MAP,0),r.writeMapBegin(o.Type.STRING,o.Type.STRING,o.objectLength(this.success));for(let w in this.success)if(this.success.hasOwnProperty(w)){let p=this.success[w];r.writeString(w),r.writeString(p)}r.writeMapEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},MM=class{constructor(r){this.session=null,this.udfs=null,this.udtfs=null,this.device_ir_map=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.udfs!==void 0&&r.udfs!==null&&(this.udfs=o.copyList(r.udfs,[m.TUserDefinedFunction])),r.udtfs!==void 0&&r.udtfs!==null&&(this.udtfs=o.copyList(r.udtfs,[m.TUserDefinedTableFunction])),r.device_ir_map!==void 0&&r.device_ir_map!==null&&(this.device_ir_map=o.copyMap(r.device_ir_map,[null])))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:if(p==o.Type.LIST){this.udfs=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new m.TUserDefinedFunction,I.read(r),this.udfs.push(I)}r.readListEnd()}else r.skip(p);break;case 3:if(p==o.Type.LIST){this.udtfs=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new m.TUserDefinedTableFunction,I.read(r),this.udtfs.push(I)}r.readListEnd()}else r.skip(p);break;case 4:if(p==o.Type.MAP){this.device_ir_map={};const _=r.readMapBegin().size||0;for(let v=0;v<_;++v){let I=null,ee=null;I=r.readString(),ee=r.readString(),this.device_ir_map[I]=ee}r.readMapEnd()}else r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_register_runtime_extension_functions_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.udfs!==null&&this.udfs!==void 0){r.writeFieldBegin("udfs",o.Type.LIST,2),r.writeListBegin(o.Type.STRUCT,this.udfs.length);for(let w in this.udfs)this.udfs.hasOwnProperty(w)&&(w=this.udfs[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.udtfs!==null&&this.udtfs!==void 0){r.writeFieldBegin("udtfs",o.Type.LIST,3),r.writeListBegin(o.Type.STRUCT,this.udtfs.length);for(let w in this.udtfs)this.udtfs.hasOwnProperty(w)&&(w=this.udtfs[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.device_ir_map!==null&&this.device_ir_map!==void 0){r.writeFieldBegin("device_ir_map",o.Type.MAP,4),r.writeMapBegin(o.Type.STRING,o.Type.STRING,o.objectLength(this.device_ir_map));for(let w in this.device_ir_map)if(this.device_ir_map.hasOwnProperty(w)){let p=this.device_ir_map[w];r.writeString(w),r.writeString(p)}r.writeMapEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},Qg=class{constructor(r){if(this.e=null,r instanceof l.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_register_runtime_extension_functions_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},AM=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_function_names_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ey=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_table_function_names_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},OM=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 0:r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_runtime_table_function_names_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ty=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_runtime_table_function_names_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRING,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},NM=class{constructor(r){this.session=null,this.udtf_names=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.udtf_names!==void 0&&r.udtf_names!==null&&(this.udtf_names=o.copyList(r.udtf_names,[null])))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 1:p==o.Type.STRING?this.session=r.readString():r.skip(p);break;case 2:if(p==o.Type.LIST){this.udtf_names=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=r.readString(),this.udtf_names.push(I)}r.readListEnd()}else r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_table_function_details_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",o.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.udtf_names!==null&&this.udtf_names!==void 0){r.writeFieldBegin("udtf_names",o.Type.LIST,2),r.writeListBegin(o.Type.STRING,this.udtf_names.length);for(let w in this.udtf_names)this.udtf_names.hasOwnProperty(w)&&(w=this.udtf_names[w],r.writeString(w));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},ny=class{constructor(r){if(this.success=null,this.e=null,r instanceof l.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=o.copyList(r.success,[m.TUserDefinedTableFunction])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const w=r.readFieldBegin(),p=w.ftype,h=w.fid;if(p==o.Type.STOP)break;switch(h){case 0:if(p==o.Type.LIST){this.success=[];const _=r.readListBegin().size||0;for(let v=0;v<_;++v){let I=null;I=new m.TUserDefinedTableFunction,I.read(r),this.success.push(I)}r.readListEnd()}else r.skip(p);break;case 1:p==o.Type.STRUCT?(this.e=new l.TDBException,this.e.read(r)):r.skip(p);break;default:r.skip(p)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_table_function_details_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",o.Type.LIST,0),r.writeListBegin(o.Type.STRUCT,this.success.length);for(let w in this.success)this.success.hasOwnProperty(w)&&(w=this.success[w],w.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",o.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}};d.Client=class{constructor(w,p){this.output=w,this.pClass=p,this._seqid=0,this._reqs={}}seqid(){return this._seqid}new_seqid(){return this._seqid+=1}connect(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_connect(w,p,h)})}send_connect(w,p,h){const T=new this.pClass(this.output),_={user:w,passwd:p,dbname:h},v=new b(_);try{return T.writeMessageBegin("connect",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_connect(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new L;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("connect failed: unknown result")}krb5_connect(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_krb5_connect(w,p)})}send_krb5_connect(w,p){const h=new this.pClass(this.output),T={inputToken:w,dbname:p},_=new E(T);try{return h.writeMessageBegin("krb5_connect",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_krb5_connect(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new S;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("krb5_connect failed: unknown result")}disconnect(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_disconnect(w)})}send_disconnect(w){const p=new this.pClass(this.output),h={session:w},T=new x(h);try{return p.writeMessageBegin("disconnect",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_disconnect(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new k;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}switch_database(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_switch_database(w,p)})}send_switch_database(w,p){const h=new this.pClass(this.output),T={session:w,dbname:p},_=new B(T);try{return h.writeMessageBegin("switch_database",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_switch_database(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new A;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}clone_session(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_clone_session(w)})}send_clone_session(w){const p=new this.pClass(this.output),h={session:w},T=new M(h);try{return p.writeMessageBegin("clone_session",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_clone_session(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new C;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("clone_session failed: unknown result")}get_server_status(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_server_status(w)})}send_get_server_status(w){const p=new this.pClass(this.output),h={session:w},T=new R(h);try{return p.writeMessageBegin("get_server_status",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_server_status(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new D;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_server_status failed: unknown result")}get_status(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_status(w)})}send_get_status(w){const p=new this.pClass(this.output),h={session:w},T=new $(h);try{return p.writeMessageBegin("get_status",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_status(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Y;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_status failed: unknown result")}get_hardware_info(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_hardware_info(w)})}send_get_hardware_info(w){const p=new this.pClass(this.output),h={session:w},T=new z(h);try{return p.writeMessageBegin("get_hardware_info",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_hardware_info(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new H;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_hardware_info failed: unknown result")}get_tables(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_tables(w)})}send_get_tables(w){const p=new this.pClass(this.output),h={session:w},T=new q(h);try{return p.writeMessageBegin("get_tables",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_tables(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new W;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_tables failed: unknown result")}get_tables_for_database(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_tables_for_database(w,p)})}send_get_tables_for_database(w,p){const h=new this.pClass(this.output),T={session:w,database_name:p},_=new X(T);try{return h.writeMessageBegin("get_tables_for_database",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_tables_for_database(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new G;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_tables_for_database failed: unknown result")}get_physical_tables(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_physical_tables(w)})}send_get_physical_tables(w){const p=new this.pClass(this.output),h={session:w},T=new le(h);try{return p.writeMessageBegin("get_physical_tables",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_physical_tables(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new pe;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_physical_tables failed: unknown result")}get_views(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_views(w)})}send_get_views(w){const p=new this.pClass(this.output),h={session:w},T=new ie(h);try{return p.writeMessageBegin("get_views",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_views(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Ae;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_views failed: unknown result")}get_tables_meta(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_tables_meta(w)})}send_get_tables_meta(w){const p=new this.pClass(this.output),h={session:w},T=new fe(h);try{return p.writeMessageBegin("get_tables_meta",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_tables_meta(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Fe;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_tables_meta failed: unknown result")}get_table_details(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_table_details(w,p)})}send_get_table_details(w,p){const h=new this.pClass(this.output),T={session:w,table_name:p},_=new je(T);try{return h.writeMessageBegin("get_table_details",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_table_details(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new yt;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_table_details failed: unknown result")}get_table_details_for_database(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_get_table_details_for_database(w,p,h)})}send_get_table_details_for_database(w,p,h){const T=new this.pClass(this.output),_={session:w,table_name:p,database_name:h},v=new Pt(_);try{return T.writeMessageBegin("get_table_details_for_database",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_get_table_details_for_database(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new qt;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_table_details_for_database failed: unknown result")}get_internal_table_details(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_get_internal_table_details(w,p,h)})}send_get_internal_table_details(w,p,h){const T=new this.pClass(this.output),_={session:w,table_name:p,include_system_columns:h},v=new _e(_);try{return T.writeMessageBegin("get_internal_table_details",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_get_internal_table_details(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new V;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_internal_table_details failed: unknown result")}get_internal_table_details_for_database(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_get_internal_table_details_for_database(w,p,h)})}send_get_internal_table_details_for_database(w,p,h){const T=new this.pClass(this.output),_={session:w,table_name:p,database_name:h},v=new j(_);try{return T.writeMessageBegin("get_internal_table_details_for_database",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_get_internal_table_details_for_database(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new P;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_internal_table_details_for_database failed: unknown result")}get_users(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_users(w)})}send_get_users(w){const p=new this.pClass(this.output),h={session:w},T=new Z(h);try{return p.writeMessageBegin("get_users",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_users(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Q;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_users failed: unknown result")}get_databases(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_databases(w)})}send_get_databases(w){const p=new this.pClass(this.output),h={session:w},T=new oe(h);try{return p.writeMessageBegin("get_databases",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_databases(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new re;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_databases failed: unknown result")}get_version(){this._seqid=this.new_seqid();const w=this;return new Promise((p,h)=>{w._reqs[w.seqid()]=(T,_)=>T?h(T):p(_),w.send_get_version()})}send_get_version(){const w=new this.pClass(this.output),p=new ye;try{return w.writeMessageBegin("get_version",o.MessageType.CALL,this.seqid()),p.write(w),w.writeMessageEnd(),this.output.flush()}catch(h){throw delete this._reqs[this.seqid()],typeof w.reset=="function"&&w.reset(),h}}recv_get_version(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Ee;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_version failed: unknown result")}start_heap_profile(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_start_heap_profile(w)})}send_start_heap_profile(w){const p=new this.pClass(this.output),h={session:w},T=new Xe(h);try{return p.writeMessageBegin("start_heap_profile",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_start_heap_profile(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Tn;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}stop_heap_profile(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_stop_heap_profile(w)})}send_stop_heap_profile(w){const p=new this.pClass(this.output),h={session:w},T=new Cn(h);try{return p.writeMessageBegin("stop_heap_profile",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_stop_heap_profile(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new an;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}get_heap_profile(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_heap_profile(w)})}send_get_heap_profile(w){const p=new this.pClass(this.output),h={session:w},T=new nr(h);try{return p.writeMessageBegin("get_heap_profile",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_heap_profile(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Sr;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_heap_profile failed: unknown result")}get_memory(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_memory(w,p)})}send_get_memory(w,p){const h=new this.pClass(this.output),T={session:w,memory_level:p},_=new xr(T);try{return h.writeMessageBegin("get_memory",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_memory(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new he;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_memory failed: unknown result")}clear_cpu_memory(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_clear_cpu_memory(w)})}send_clear_cpu_memory(w){const p=new this.pClass(this.output),h={session:w},T=new Ts(h);try{return p.writeMessageBegin("clear_cpu_memory",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_clear_cpu_memory(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Zi;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}clear_gpu_memory(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_clear_gpu_memory(w)})}send_clear_gpu_memory(w){const p=new this.pClass(this.output),h={session:w},T=new Ga(h);try{return p.writeMessageBegin("clear_gpu_memory",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_clear_gpu_memory(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new ci;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}set_cur_session(w,p,h,T,_){this._seqid=this.new_seqid();const v=this;return new Promise((I,ee)=>{v._reqs[v.seqid()]=(we,qe)=>we?ee(we):I(qe),v.send_set_cur_session(w,p,h,T,_)})}send_set_cur_session(w,p,h,T,_){const v=new this.pClass(this.output),I={parent_session:w,leaf_session:p,start_time_str:h,label:T,for_running_query_kernel:_},ee=new wc(I);try{return v.writeMessageBegin("set_cur_session",o.MessageType.CALL,this.seqid()),ee.write(v),v.writeMessageEnd(),this.output.flush()}catch(we){throw delete this._reqs[this.seqid()],typeof v.reset=="function"&&v.reset(),we}}recv_set_cur_session(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Lc;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}invalidate_cur_session(w,p,h,T,_){this._seqid=this.new_seqid();const v=this;return new Promise((I,ee)=>{v._reqs[v.seqid()]=(we,qe)=>we?ee(we):I(qe),v.send_invalidate_cur_session(w,p,h,T,_)})}send_invalidate_cur_session(w,p,h,T,_){const v=new this.pClass(this.output),I={parent_session:w,leaf_session:p,start_time_str:h,label:T,for_running_query_kernel:_},ee=new ir(I);try{return v.writeMessageBegin("invalidate_cur_session",o.MessageType.CALL,this.seqid()),ee.write(v),v.writeMessageEnd(),this.output.flush()}catch(we){throw delete this._reqs[this.seqid()],typeof v.reset=="function"&&v.reset(),we}}recv_invalidate_cur_session(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new bc;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}set_table_epoch(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_set_table_epoch(w,p,h,T)})}send_set_table_epoch(w,p,h,T){const _=new this.pClass(this.output),v={session:w,db_id:p,table_id:h,new_epoch:T},I=new N(v);try{return _.writeMessageBegin("set_table_epoch",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_set_table_epoch(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new F;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}set_table_epoch_by_name(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_set_table_epoch_by_name(w,p,h)})}send_set_table_epoch_by_name(w,p,h){const T=new this.pClass(this.output),_={session:w,table_name:p,new_epoch:h},v=new O(_);try{return T.writeMessageBegin("set_table_epoch_by_name",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_set_table_epoch_by_name(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new U;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}get_table_epoch(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_get_table_epoch(w,p,h)})}send_get_table_epoch(w,p,h){const T=new this.pClass(this.output),_={session:w,db_id:p,table_id:h},v=new K(_);try{return T.writeMessageBegin("get_table_epoch",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_get_table_epoch(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new te;return _.read(w),w.readMessageEnd(),_.success!==null?T(null,_.success):T("get_table_epoch failed: unknown result")}get_table_epoch_by_name(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_table_epoch_by_name(w,p)})}send_get_table_epoch_by_name(w,p){const h=new this.pClass(this.output),T={session:w,table_name:p},_=new se(T);try{return h.writeMessageBegin("get_table_epoch_by_name",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_table_epoch_by_name(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Oe;return _.read(w),w.readMessageEnd(),_.success!==null?T(null,_.success):T("get_table_epoch_by_name failed: unknown result")}get_table_epochs(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_get_table_epochs(w,p,h)})}send_get_table_epochs(w,p,h){const T=new this.pClass(this.output),_={session:w,db_id:p,table_id:h},v=new Ue(_);try{return T.writeMessageBegin("get_table_epochs",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_get_table_epochs(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new ze;return _.read(w),w.readMessageEnd(),_.success!==null?T(null,_.success):T("get_table_epochs failed: unknown result")}set_table_epochs(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_set_table_epochs(w,p,h)})}send_set_table_epochs(w,p,h){const T=new this.pClass(this.output),_={session:w,db_id:p,table_epochs:h},v=new We(_);try{return T.writeMessageBegin("set_table_epochs",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_set_table_epochs(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}new Ye().read(w),w.readMessageEnd(),T(null)}get_session_info(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_session_info(w)})}send_get_session_info(w){const p=new this.pClass(this.output),h={session:w},T=new Tc(h);try{return p.writeMessageBegin("get_session_info",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_session_info(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new V_;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_session_info failed: unknown result")}get_queries_info(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_queries_info(w)})}send_get_queries_info(w){const p=new this.pClass(this.output),h={session:w},T=new vF(h);try{return p.writeMessageBegin("get_queries_info",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_queries_info(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new q_;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_queries_info failed: unknown result")}set_leaf_info(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_set_leaf_info(w,p)})}send_set_leaf_info(w,p){const h=new this.pClass(this.output),T={session:w,leaf_info:p},_=new EF(T);try{return h.writeMessageBegin("set_leaf_info",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_set_leaf_info(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new G_;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}sql_execute(w,p,h,T,_,v){this._seqid=this.new_seqid();const I=this;return new Promise((ee,we)=>{I._reqs[I.seqid()]=(qe,vn)=>qe?we(qe):ee(vn),I.send_sql_execute(w,p,h,T,_,v)})}send_sql_execute(w,p,h,T,_,v){const I=new this.pClass(this.output),ee={session:w,query:p,column_format:h,nonce:T,first_n:_,at_most_n:v},we=new SF(ee);try{return I.writeMessageBegin("sql_execute",o.MessageType.CALL,this.seqid()),we.write(I),I.writeMessageEnd(),this.output.flush()}catch(qe){throw delete this._reqs[this.seqid()],typeof I.reset=="function"&&I.reset(),qe}}recv_sql_execute(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new W_;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("sql_execute failed: unknown result")}sql_execute_df(w,p,h,T,_,v){this._seqid=this.new_seqid();const I=this;return new Promise((ee,we)=>{I._reqs[I.seqid()]=(qe,vn)=>qe?we(qe):ee(vn),I.send_sql_execute_df(w,p,h,T,_,v)})}send_sql_execute_df(w,p,h,T,_,v){const I=new this.pClass(this.output),ee={session:w,query:p,device_type:h,device_id:T,first_n:_,transport_method:v},we=new xF(ee);try{return I.writeMessageBegin("sql_execute_df",o.MessageType.CALL,this.seqid()),we.write(I),I.writeMessageEnd(),this.output.flush()}catch(qe){throw delete this._reqs[this.seqid()],typeof I.reset=="function"&&I.reset(),qe}}recv_sql_execute_df(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Y_;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("sql_execute_df failed: unknown result")}sql_execute_gdf(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_sql_execute_gdf(w,p,h,T)})}send_sql_execute_gdf(w,p,h,T){const _=new this.pClass(this.output),v={session:w,query:p,device_id:h,first_n:T},I=new BF(v);try{return _.writeMessageBegin("sql_execute_gdf",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_sql_execute_gdf(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new X_;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("sql_execute_gdf failed: unknown result")}deallocate_df(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_deallocate_df(w,p,h,T)})}send_deallocate_df(w,p,h,T){const _=new this.pClass(this.output),v={session:w,df:p,device_type:h,device_id:T},I=new IF(v);try{return _.writeMessageBegin("deallocate_df",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_deallocate_df(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new K_;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}interrupt(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_interrupt(w,p)})}send_interrupt(w,p){const h=new this.pClass(this.output),T={query_session:w,interrupt_session:p},_=new kF(T);try{return h.writeMessageBegin("interrupt",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_interrupt(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Z_;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}sql_validate(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_sql_validate(w,p)})}send_sql_validate(w,p){const h=new this.pClass(this.output),T={session:w,query:p},_=new FF(T);try{return h.writeMessageBegin("sql_validate",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_sql_validate(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new J_;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("sql_validate failed: unknown result")}get_completion_hints(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_get_completion_hints(w,p,h)})}send_get_completion_hints(w,p,h){const T=new this.pClass(this.output),_={session:w,sql:p,cursor:h},v=new MF(_);try{return T.writeMessageBegin("get_completion_hints",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_get_completion_hints(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Q_;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_completion_hints failed: unknown result")}set_execution_mode(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_set_execution_mode(w,p)})}send_set_execution_mode(w,p){const h=new this.pClass(this.output),T={session:w,mode:p},_=new AF(T);try{return h.writeMessageBegin("set_execution_mode",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_set_execution_mode(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new eg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}render_vega(w,p,h,T,_){this._seqid=this.new_seqid();const v=this;return new Promise((I,ee)=>{v._reqs[v.seqid()]=(we,qe)=>we?ee(we):I(qe),v.send_render_vega(w,p,h,T,_)})}send_render_vega(w,p,h,T,_){const v=new this.pClass(this.output),I={session:w,widget_id:p,vega_json:h,compression_level:T,nonce:_},ee=new OF(I);try{return v.writeMessageBegin("render_vega",o.MessageType.CALL,this.seqid()),ee.write(v),v.writeMessageEnd(),this.output.flush()}catch(we){throw delete this._reqs[this.seqid()],typeof v.reset=="function"&&v.reset(),we}}recv_render_vega(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new tg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("render_vega failed: unknown result")}get_result_row_for_pixel(w,p,h,T,_,v,I){this._seqid=this.new_seqid();const ee=this;return new Promise((we,qe)=>{ee._reqs[ee.seqid()]=(vn,ll)=>vn?qe(vn):we(ll),ee.send_get_result_row_for_pixel(w,p,h,T,_,v,I)})}send_get_result_row_for_pixel(w,p,h,T,_,v,I){const ee=new this.pClass(this.output),we={session:w,widget_id:p,pixel:h,table_col_names:T,column_format:_,pixelRadius:v,nonce:I},qe=new NF(we);try{return ee.writeMessageBegin("get_result_row_for_pixel",o.MessageType.CALL,this.seqid()),qe.write(ee),ee.writeMessageEnd(),this.output.flush()}catch(vn){throw delete this._reqs[this.seqid()],typeof ee.reset=="function"&&ee.reset(),vn}}recv_get_result_row_for_pixel(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new ng;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_result_row_for_pixel failed: unknown result")}create_custom_expression(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_create_custom_expression(w,p)})}send_create_custom_expression(w,p){const h=new this.pClass(this.output),T={session:w,custom_expression:p},_=new CF(T);try{return h.writeMessageBegin("create_custom_expression",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_create_custom_expression(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new ig;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("create_custom_expression failed: unknown result")}get_custom_expressions(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_custom_expressions(w)})}send_get_custom_expressions(w){const p=new this.pClass(this.output),h={session:w},T=new RF(h);try{return p.writeMessageBegin("get_custom_expressions",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_custom_expressions(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new sg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_custom_expressions failed: unknown result")}update_custom_expression(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_update_custom_expression(w,p,h)})}send_update_custom_expression(w,p,h){const T=new this.pClass(this.output),_={session:w,id:p,expression_json:h},v=new DF(_);try{return T.writeMessageBegin("update_custom_expression",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_update_custom_expression(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new rg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}delete_custom_expressions(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_delete_custom_expressions(w,p,h)})}send_delete_custom_expressions(w,p,h){const T=new this.pClass(this.output),_={session:w,custom_expression_ids:p,do_soft_delete:h},v=new PF(_);try{return T.writeMessageBegin("delete_custom_expressions",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_delete_custom_expressions(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new ag;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}get_dashboard(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_dashboard(w,p)})}send_get_dashboard(w,p){const h=new this.pClass(this.output),T={session:w,dashboard_id:p},_=new $F(T);try{return h.writeMessageBegin("get_dashboard",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_dashboard(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new og;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_dashboard failed: unknown result")}get_dashboards(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_dashboards(w)})}send_get_dashboards(w){const p=new this.pClass(this.output),h={session:w},T=new UF(h);try{return p.writeMessageBegin("get_dashboards",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_dashboards(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new lg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_dashboards failed: unknown result")}create_dashboard(w,p,h,T,_){this._seqid=this.new_seqid();const v=this;return new Promise((I,ee)=>{v._reqs[v.seqid()]=(we,qe)=>we?ee(we):I(qe),v.send_create_dashboard(w,p,h,T,_)})}send_create_dashboard(w,p,h,T,_){const v=new this.pClass(this.output),I={session:w,dashboard_name:p,dashboard_state:h,image_hash:T,dashboard_metadata:_},ee=new zF(I);try{return v.writeMessageBegin("create_dashboard",o.MessageType.CALL,this.seqid()),ee.write(v),v.writeMessageEnd(),this.output.flush()}catch(we){throw delete this._reqs[this.seqid()],typeof v.reset=="function"&&v.reset(),we}}recv_create_dashboard(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new cg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("create_dashboard failed: unknown result")}replace_dashboard(w,p,h,T,_,v,I){this._seqid=this.new_seqid();const ee=this;return new Promise((we,qe)=>{ee._reqs[ee.seqid()]=(vn,ll)=>vn?qe(vn):we(ll),ee.send_replace_dashboard(w,p,h,T,_,v,I)})}send_replace_dashboard(w,p,h,T,_,v,I){const ee=new this.pClass(this.output),we={session:w,dashboard_id:p,dashboard_name:h,dashboard_owner:T,dashboard_state:_,image_hash:v,dashboard_metadata:I},qe=new HF(we);try{return ee.writeMessageBegin("replace_dashboard",o.MessageType.CALL,this.seqid()),qe.write(ee),ee.writeMessageEnd(),this.output.flush()}catch(vn){throw delete this._reqs[this.seqid()],typeof ee.reset=="function"&&ee.reset(),vn}}recv_replace_dashboard(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new dg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}delete_dashboard(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_delete_dashboard(w,p)})}send_delete_dashboard(w,p){const h=new this.pClass(this.output),T={session:w,dashboard_id:p},_=new jF(T);try{return h.writeMessageBegin("delete_dashboard",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_delete_dashboard(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new fg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}share_dashboards(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_share_dashboards(w,p,h,T)})}send_share_dashboards(w,p,h,T){const _=new this.pClass(this.output),v={session:w,dashboard_ids:p,groups:h,permissions:T},I=new VF(v);try{return _.writeMessageBegin("share_dashboards",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_share_dashboards(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new ug;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}delete_dashboards(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_delete_dashboards(w,p)})}send_delete_dashboards(w,p){const h=new this.pClass(this.output),T={session:w,dashboard_ids:p},_=new qF(T);try{return h.writeMessageBegin("delete_dashboards",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_delete_dashboards(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new hg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}share_dashboard(w,p,h,T,_,v){this._seqid=this.new_seqid();const I=this;return new Promise((ee,we)=>{I._reqs[I.seqid()]=(qe,vn)=>qe?we(qe):ee(vn),I.send_share_dashboard(w,p,h,T,_,v)})}send_share_dashboard(w,p,h,T,_,v){const I=new this.pClass(this.output),ee={session:w,dashboard_id:p,groups:h,objects:T,permissions:_,grant_role:v},we=new GF(ee);try{return I.writeMessageBegin("share_dashboard",o.MessageType.CALL,this.seqid()),we.write(I),I.writeMessageEnd(),this.output.flush()}catch(qe){throw delete this._reqs[this.seqid()],typeof I.reset=="function"&&I.reset(),qe}}recv_share_dashboard(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new pg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}unshare_dashboard(w,p,h,T,_){this._seqid=this.new_seqid();const v=this;return new Promise((I,ee)=>{v._reqs[v.seqid()]=(we,qe)=>we?ee(we):I(qe),v.send_unshare_dashboard(w,p,h,T,_)})}send_unshare_dashboard(w,p,h,T,_){const v=new this.pClass(this.output),I={session:w,dashboard_id:p,groups:h,objects:T,permissions:_},ee=new WF(I);try{return v.writeMessageBegin("unshare_dashboard",o.MessageType.CALL,this.seqid()),ee.write(v),v.writeMessageEnd(),this.output.flush()}catch(we){throw delete this._reqs[this.seqid()],typeof v.reset=="function"&&v.reset(),we}}recv_unshare_dashboard(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new _g;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}unshare_dashboards(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_unshare_dashboards(w,p,h,T)})}send_unshare_dashboards(w,p,h,T){const _=new this.pClass(this.output),v={session:w,dashboard_ids:p,groups:h,permissions:T},I=new YF(v);try{return _.writeMessageBegin("unshare_dashboards",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_unshare_dashboards(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new gg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}get_dashboard_grantees(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_dashboard_grantees(w,p)})}send_get_dashboard_grantees(w,p){const h=new this.pClass(this.output),T={session:w,dashboard_id:p},_=new XF(T);try{return h.writeMessageBegin("get_dashboard_grantees",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_dashboard_grantees(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new yg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_dashboard_grantees failed: unknown result")}get_link_view(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_link_view(w,p)})}send_get_link_view(w,p){const h=new this.pClass(this.output),T={session:w,link:p},_=new KF(T);try{return h.writeMessageBegin("get_link_view",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_link_view(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new mg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_link_view failed: unknown result")}create_link(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_create_link(w,p,h)})}send_create_link(w,p,h){const T=new this.pClass(this.output),_={session:w,view_state:p,view_metadata:h},v=new ZF(_);try{return T.writeMessageBegin("create_link",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_create_link(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new wg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("create_link failed: unknown result")}load_table_binary(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_load_table_binary(w,p,h,T)})}send_load_table_binary(w,p,h,T){const _=new this.pClass(this.output),v={session:w,table_name:p,rows:h,column_names:T},I=new JF(v);try{return _.writeMessageBegin("load_table_binary",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_load_table_binary(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Lg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}load_table_binary_columnar(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_load_table_binary_columnar(w,p,h,T)})}send_load_table_binary_columnar(w,p,h,T){const _=new this.pClass(this.output),v={session:w,table_name:p,cols:h,column_names:T},I=new QF(v);try{return _.writeMessageBegin("load_table_binary_columnar",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_load_table_binary_columnar(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new bg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}load_table_binary_columnar_polys(w,p,h,T,_){this._seqid=this.new_seqid();const v=this;return new Promise((I,ee)=>{v._reqs[v.seqid()]=(we,qe)=>we?ee(we):I(qe),v.send_load_table_binary_columnar_polys(w,p,h,T,_)})}send_load_table_binary_columnar_polys(w,p,h,T,_){const v=new this.pClass(this.output),I={session:w,table_name:p,cols:h,column_names:T,assign_render_groups:_},ee=new eM(I);try{return v.writeMessageBegin("load_table_binary_columnar_polys",o.MessageType.CALL,this.seqid()),ee.write(v),v.writeMessageEnd(),this.output.flush()}catch(we){throw delete this._reqs[this.seqid()],typeof v.reset=="function"&&v.reset(),we}}recv_load_table_binary_columnar_polys(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Tg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}load_table_binary_arrow(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_load_table_binary_arrow(w,p,h,T)})}send_load_table_binary_arrow(w,p,h,T){const _=new this.pClass(this.output),v={session:w,table_name:p,arrow_stream:h,use_column_names:T},I=new tM(v);try{return _.writeMessageBegin("load_table_binary_arrow",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_load_table_binary_arrow(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new vg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}load_table(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_load_table(w,p,h,T)})}send_load_table(w,p,h,T){const _=new this.pClass(this.output),v={session:w,table_name:p,rows:h,column_names:T},I=new nM(v);try{return _.writeMessageBegin("load_table",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_load_table(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Eg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}detect_column_types(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_detect_column_types(w,p,h)})}send_detect_column_types(w,p,h){const T=new this.pClass(this.output),_={session:w,file_name:p,copy_params:h},v=new iM(_);try{return T.writeMessageBegin("detect_column_types",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_detect_column_types(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Sg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("detect_column_types failed: unknown result")}create_table(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_create_table(w,p,h,T)})}send_create_table(w,p,h,T){const _=new this.pClass(this.output),v={session:w,table_name:p,row_desc:h,create_params:T},I=new sM(v);try{return _.writeMessageBegin("create_table",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_create_table(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new xg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}import_table(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_import_table(w,p,h,T)})}send_import_table(w,p,h,T){const _=new this.pClass(this.output),v={session:w,table_name:p,file_name:h,copy_params:T},I=new rM(v);try{return _.writeMessageBegin("import_table",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_import_table(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Bg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}import_geo_table(w,p,h,T,_,v){this._seqid=this.new_seqid();const I=this;return new Promise((ee,we)=>{I._reqs[I.seqid()]=(qe,vn)=>qe?we(qe):ee(vn),I.send_import_geo_table(w,p,h,T,_,v)})}send_import_geo_table(w,p,h,T,_,v){const I=new this.pClass(this.output),ee={session:w,table_name:p,file_name:h,copy_params:T,row_desc:_,create_params:v},we=new aM(ee);try{return I.writeMessageBegin("import_geo_table",o.MessageType.CALL,this.seqid()),we.write(I),I.writeMessageEnd(),this.output.flush()}catch(qe){throw delete this._reqs[this.seqid()],typeof I.reset=="function"&&I.reset(),qe}}recv_import_geo_table(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Ig;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}import_table_status(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_import_table_status(w,p)})}send_import_table_status(w,p){const h=new this.pClass(this.output),T={session:w,import_id:p},_=new oM(T);try{return h.writeMessageBegin("import_table_status",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_import_table_status(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new kg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("import_table_status failed: unknown result")}get_first_geo_file_in_archive(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_get_first_geo_file_in_archive(w,p,h)})}send_get_first_geo_file_in_archive(w,p,h){const T=new this.pClass(this.output),_={session:w,archive_path:p,copy_params:h},v=new lM(_);try{return T.writeMessageBegin("get_first_geo_file_in_archive",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_get_first_geo_file_in_archive(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Fg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_first_geo_file_in_archive failed: unknown result")}get_all_files_in_archive(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_get_all_files_in_archive(w,p,h)})}send_get_all_files_in_archive(w,p,h){const T=new this.pClass(this.output),_={session:w,archive_path:p,copy_params:h},v=new cM(_);try{return T.writeMessageBegin("get_all_files_in_archive",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_get_all_files_in_archive(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Mg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_all_files_in_archive failed: unknown result")}get_layers_in_geo_file(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_get_layers_in_geo_file(w,p,h)})}send_get_layers_in_geo_file(w,p,h){const T=new this.pClass(this.output),_={session:w,file_name:p,copy_params:h},v=new dM(_);try{return T.writeMessageBegin("get_layers_in_geo_file",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_get_layers_in_geo_file(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Ag;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_layers_in_geo_file failed: unknown result")}query_get_outer_fragment_count(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_query_get_outer_fragment_count(w,p)})}send_query_get_outer_fragment_count(w,p){const h=new this.pClass(this.output),T={session:w,query:p},_=new fM(T);try{return h.writeMessageBegin("query_get_outer_fragment_count",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_query_get_outer_fragment_count(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Og;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("query_get_outer_fragment_count failed: unknown result")}check_table_consistency(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_check_table_consistency(w,p)})}send_check_table_consistency(w,p){const h=new this.pClass(this.output),T={session:w,table_id:p},_=new uM(T);try{return h.writeMessageBegin("check_table_consistency",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_check_table_consistency(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Ng;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("check_table_consistency failed: unknown result")}start_query(w,p,h,T,_,v){this._seqid=this.new_seqid();const I=this;return new Promise((ee,we)=>{I._reqs[I.seqid()]=(qe,vn)=>qe?we(qe):ee(vn),I.send_start_query(w,p,h,T,_,v)})}send_start_query(w,p,h,T,_,v){const I=new this.pClass(this.output),ee={leaf_session:w,parent_session:p,query_ra:h,start_time_str:T,just_explain:_,outer_fragment_indices:v},we=new hM(ee);try{return I.writeMessageBegin("start_query",o.MessageType.CALL,this.seqid()),we.write(I),I.writeMessageEnd(),this.output.flush()}catch(qe){throw delete this._reqs[this.seqid()],typeof I.reset=="function"&&I.reset(),qe}}recv_start_query(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Cg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("start_query failed: unknown result")}execute_query_step(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_execute_query_step(w,p,h)})}send_execute_query_step(w,p,h){const T=new this.pClass(this.output),_={pending_query:w,subquery_id:p,start_time_str:h},v=new pM(_);try{return T.writeMessageBegin("execute_query_step",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_execute_query_step(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Rg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("execute_query_step failed: unknown result")}broadcast_serialized_rows(w,p,h,T,_){this._seqid=this.new_seqid();const v=this;return new Promise((I,ee)=>{v._reqs[v.seqid()]=(we,qe)=>we?ee(we):I(qe),v.send_broadcast_serialized_rows(w,p,h,T,_)})}send_broadcast_serialized_rows(w,p,h,T,_){const v=new this.pClass(this.output),I={serialized_rows:w,row_desc:p,query_id:h,subquery_id:T,is_final_subquery_result:_},ee=new _M(I);try{return v.writeMessageBegin("broadcast_serialized_rows",o.MessageType.CALL,this.seqid()),ee.write(v),v.writeMessageEnd(),this.output.flush()}catch(we){throw delete this._reqs[this.seqid()],typeof v.reset=="function"&&v.reset(),we}}recv_broadcast_serialized_rows(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Dg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}start_render_query(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_start_render_query(w,p,h,T)})}send_start_render_query(w,p,h,T){const _=new this.pClass(this.output),v={session:w,widget_id:p,node_idx:h,vega_json:T},I=new gM(v);try{return _.writeMessageBegin("start_render_query",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_start_render_query(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Pg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("start_render_query failed: unknown result")}execute_next_render_step(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_execute_next_render_step(w,p)})}send_execute_next_render_step(w,p){const h=new this.pClass(this.output),T={pending_render:w,merged_data:p},_=new yM(T);try{return h.writeMessageBegin("execute_next_render_step",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_execute_next_render_step(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new $g;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("execute_next_render_step failed: unknown result")}insert_data(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_insert_data(w,p)})}send_insert_data(w,p){const h=new this.pClass(this.output),T={session:w,insert_data:p},_=new mM(T);try{return h.writeMessageBegin("insert_data",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_insert_data(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Ug;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}insert_chunks(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_insert_chunks(w,p)})}send_insert_chunks(w,p){const h=new this.pClass(this.output),T={session:w,insert_chunks:p},_=new wM(T);try{return h.writeMessageBegin("insert_chunks",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_insert_chunks(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new zg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}checkpoint(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_checkpoint(w,p)})}send_checkpoint(w,p){const h=new this.pClass(this.output),T={session:w,table_id:p},_=new LM(T);try{return h.writeMessageBegin("checkpoint",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_checkpoint(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Hg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}get_roles(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_roles(w)})}send_get_roles(w){const p=new this.pClass(this.output),h={session:w},T=new bM(h);try{return p.writeMessageBegin("get_roles",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_roles(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new jg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_roles failed: unknown result")}get_db_objects_for_grantee(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_db_objects_for_grantee(w,p)})}send_get_db_objects_for_grantee(w,p){const h=new this.pClass(this.output),T={session:w,roleName:p},_=new TM(T);try{return h.writeMessageBegin("get_db_objects_for_grantee",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_db_objects_for_grantee(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Vg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_db_objects_for_grantee failed: unknown result")}get_db_object_privs(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_get_db_object_privs(w,p,h)})}send_get_db_object_privs(w,p,h){const T=new this.pClass(this.output),_={session:w,objectName:p,type:h},v=new vM(_);try{return T.writeMessageBegin("get_db_object_privs",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_get_db_object_privs(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new qg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_db_object_privs failed: unknown result")}get_all_roles_for_user(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_all_roles_for_user(w,p)})}send_get_all_roles_for_user(w,p){const h=new this.pClass(this.output),T={session:w,userName:p},_=new EM(T);try{return h.writeMessageBegin("get_all_roles_for_user",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_all_roles_for_user(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Gg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_all_roles_for_user failed: unknown result")}get_all_effective_roles_for_user(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_all_effective_roles_for_user(w,p)})}send_get_all_effective_roles_for_user(w,p){const h=new this.pClass(this.output),T={session:w,userName:p},_=new SM(T);try{return h.writeMessageBegin("get_all_effective_roles_for_user",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_all_effective_roles_for_user(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Wg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_all_effective_roles_for_user failed: unknown result")}has_role(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_has_role(w,p,h)})}send_has_role(w,p,h){const T=new this.pClass(this.output),_={session:w,granteeName:p,roleName:h},v=new xM(_);try{return T.writeMessageBegin("has_role",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_has_role(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Yg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("has_role failed: unknown result")}has_object_privilege(w,p,h,T,_){this._seqid=this.new_seqid();const v=this;return new Promise((I,ee)=>{v._reqs[v.seqid()]=(we,qe)=>we?ee(we):I(qe),v.send_has_object_privilege(w,p,h,T,_)})}send_has_object_privilege(w,p,h,T,_){const v=new this.pClass(this.output),I={session:w,granteeName:p,ObjectName:h,objectType:T,permissions:_},ee=new BM(I);try{return v.writeMessageBegin("has_object_privilege",o.MessageType.CALL,this.seqid()),ee.write(v),v.writeMessageEnd(),this.output.flush()}catch(we){throw delete this._reqs[this.seqid()],typeof v.reset=="function"&&v.reset(),we}}recv_has_object_privilege(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Xg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("has_object_privilege failed: unknown result")}set_license_key(w,p,h){this._seqid=this.new_seqid();const T=this;return new Promise((_,v)=>{T._reqs[T.seqid()]=(I,ee)=>I?v(I):_(ee),T.send_set_license_key(w,p,h)})}send_set_license_key(w,p,h){const T=new this.pClass(this.output),_={session:w,key:p,nonce:h},v=new IM(_);try{return T.writeMessageBegin("set_license_key",o.MessageType.CALL,this.seqid()),v.write(T),T.writeMessageEnd(),this.output.flush()}catch(I){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),I}}recv_set_license_key(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Kg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("set_license_key failed: unknown result")}get_license_claims(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_license_claims(w,p)})}send_get_license_claims(w,p){const h=new this.pClass(this.output),T={session:w,nonce:p},_=new kM(T);try{return h.writeMessageBegin("get_license_claims",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_license_claims(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Zg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_license_claims failed: unknown result")}get_device_parameters(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_device_parameters(w)})}send_get_device_parameters(w){const p=new this.pClass(this.output),h={session:w},T=new FM(h);try{return p.writeMessageBegin("get_device_parameters",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_device_parameters(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Jg;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_device_parameters failed: unknown result")}register_runtime_extension_functions(w,p,h,T){this._seqid=this.new_seqid();const _=this;return new Promise((v,I)=>{_._reqs[_.seqid()]=(ee,we)=>ee?I(ee):v(we),_.send_register_runtime_extension_functions(w,p,h,T)})}send_register_runtime_extension_functions(w,p,h,T){const _=new this.pClass(this.output),v={session:w,udfs:p,udtfs:h,device_ir_map:T},I=new MM(v);try{return _.writeMessageBegin("register_runtime_extension_functions",o.MessageType.CALL,this.seqid()),I.write(_),_.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),ee}}recv_register_runtime_extension_functions(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new Qg;if(_.read(w),w.readMessageEnd(),_.e!==null)return T(_.e);T(null)}get_table_function_names(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_table_function_names(w)})}send_get_table_function_names(w){const p=new this.pClass(this.output),h={session:w},T=new AM(h);try{return p.writeMessageBegin("get_table_function_names",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_table_function_names(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new ey;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_table_function_names failed: unknown result")}get_runtime_table_function_names(w){this._seqid=this.new_seqid();const p=this;return new Promise((h,T)=>{p._reqs[p.seqid()]=(_,v)=>_?T(_):h(v),p.send_get_runtime_table_function_names(w)})}send_get_runtime_table_function_names(w){const p=new this.pClass(this.output),h={session:w},T=new OM(h);try{return p.writeMessageBegin("get_runtime_table_function_names",o.MessageType.CALL,this.seqid()),T.write(p),p.writeMessageEnd(),this.output.flush()}catch(_){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),_}}recv_get_runtime_table_function_names(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new ty;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_runtime_table_function_names failed: unknown result")}get_table_function_details(w,p){this._seqid=this.new_seqid();const h=this;return new Promise((T,_)=>{h._reqs[h.seqid()]=(v,I)=>v?_(v):T(I),h.send_get_table_function_details(w,p)})}send_get_table_function_details(w,p){const h=new this.pClass(this.output),T={session:w,udtf_names:p},_=new NM(T);try{return h.writeMessageBegin("get_table_function_details",o.MessageType.CALL,this.seqid()),_.write(h),h.writeMessageEnd(),this.output.flush()}catch(v){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),v}}recv_get_table_function_details(w,p,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],p==o.MessageType.EXCEPTION){const v=new o.TApplicationException;return v.read(w),w.readMessageEnd(),T(v)}const _=new ny;return _.read(w),w.readMessageEnd(),_.e!==null?T(_.e):_.success!==null?T(null,_.success):T("get_table_function_details failed: unknown result")}},d.Processor=class{constructor(w){this._handler=w}process(w,p){const h=w.readMessageBegin();if(this["process_"+h.fname])return this["process_"+h.fname].call(this,h.rseqid,w,p);{w.skip(o.Type.STRUCT),w.readMessageEnd();const T=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN_METHOD,"Unknown function "+h.fname);p.writeMessageBegin(h.fname,o.MessageType.EXCEPTION,h.rseqid),T.write(p),p.writeMessageEnd(),p.flush()}}process_connect(w,p,h){const T=new b;T.read(p),p.readMessageEnd(),this._handler.connect.length===3?Promise.resolve(this._handler.connect.bind(this._handler)(T.user,T.passwd,T.dbname)).then(_=>{const v=new L({success:_});h.writeMessageBegin("connect",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new L(_),h.writeMessageBegin("connect",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("connect",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.connect(T.user,T.passwd,T.dbname,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new L(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("connect",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("connect",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_krb5_connect(w,p,h){const T=new E;T.read(p),p.readMessageEnd(),this._handler.krb5_connect.length===2?Promise.resolve(this._handler.krb5_connect.bind(this._handler)(T.inputToken,T.dbname)).then(_=>{const v=new S({success:_});h.writeMessageBegin("krb5_connect",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new S(_),h.writeMessageBegin("krb5_connect",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("krb5_connect",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.krb5_connect(T.inputToken,T.dbname,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new S(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("krb5_connect",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("krb5_connect",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_disconnect(w,p,h){const T=new x;T.read(p),p.readMessageEnd(),this._handler.disconnect.length===1?Promise.resolve(this._handler.disconnect.bind(this._handler)(T.session)).then(_=>{const v=new k({success:_});h.writeMessageBegin("disconnect",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new k(_),h.writeMessageBegin("disconnect",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("disconnect",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.disconnect(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new k(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("disconnect",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("disconnect",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_switch_database(w,p,h){const T=new B;T.read(p),p.readMessageEnd(),this._handler.switch_database.length===2?Promise.resolve(this._handler.switch_database.bind(this._handler)(T.session,T.dbname)).then(_=>{const v=new A({success:_});h.writeMessageBegin("switch_database",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new A(_),h.writeMessageBegin("switch_database",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("switch_database",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.switch_database(T.session,T.dbname,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new A(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("switch_database",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("switch_database",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_clone_session(w,p,h){const T=new M;T.read(p),p.readMessageEnd(),this._handler.clone_session.length===1?Promise.resolve(this._handler.clone_session.bind(this._handler)(T.session)).then(_=>{const v=new C({success:_});h.writeMessageBegin("clone_session",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new C(_),h.writeMessageBegin("clone_session",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("clone_session",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.clone_session(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new C(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("clone_session",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("clone_session",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_server_status(w,p,h){const T=new R;T.read(p),p.readMessageEnd(),this._handler.get_server_status.length===1?Promise.resolve(this._handler.get_server_status.bind(this._handler)(T.session)).then(_=>{const v=new D({success:_});h.writeMessageBegin("get_server_status",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new D(_),h.writeMessageBegin("get_server_status",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_server_status",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_server_status(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new D(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_server_status",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_server_status",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_status(w,p,h){const T=new $;T.read(p),p.readMessageEnd(),this._handler.get_status.length===1?Promise.resolve(this._handler.get_status.bind(this._handler)(T.session)).then(_=>{const v=new Y({success:_});h.writeMessageBegin("get_status",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Y(_),h.writeMessageBegin("get_status",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_status",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_status(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Y(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_status",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_status",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_hardware_info(w,p,h){const T=new z;T.read(p),p.readMessageEnd(),this._handler.get_hardware_info.length===1?Promise.resolve(this._handler.get_hardware_info.bind(this._handler)(T.session)).then(_=>{const v=new H({success:_});h.writeMessageBegin("get_hardware_info",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new H(_),h.writeMessageBegin("get_hardware_info",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_hardware_info",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_hardware_info(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new H(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_hardware_info",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_hardware_info",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_tables(w,p,h){const T=new q;T.read(p),p.readMessageEnd(),this._handler.get_tables.length===1?Promise.resolve(this._handler.get_tables.bind(this._handler)(T.session)).then(_=>{const v=new W({success:_});h.writeMessageBegin("get_tables",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new W(_),h.writeMessageBegin("get_tables",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_tables",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_tables(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new W(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_tables",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_tables",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_tables_for_database(w,p,h){const T=new X;T.read(p),p.readMessageEnd(),this._handler.get_tables_for_database.length===2?Promise.resolve(this._handler.get_tables_for_database.bind(this._handler)(T.session,T.database_name)).then(_=>{const v=new G({success:_});h.writeMessageBegin("get_tables_for_database",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new G(_),h.writeMessageBegin("get_tables_for_database",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_tables_for_database",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_tables_for_database(T.session,T.database_name,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new G(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_tables_for_database",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_tables_for_database",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_physical_tables(w,p,h){const T=new le;T.read(p),p.readMessageEnd(),this._handler.get_physical_tables.length===1?Promise.resolve(this._handler.get_physical_tables.bind(this._handler)(T.session)).then(_=>{const v=new pe({success:_});h.writeMessageBegin("get_physical_tables",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new pe(_),h.writeMessageBegin("get_physical_tables",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_physical_tables",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_physical_tables(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new pe(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_physical_tables",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_physical_tables",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_views(w,p,h){const T=new ie;T.read(p),p.readMessageEnd(),this._handler.get_views.length===1?Promise.resolve(this._handler.get_views.bind(this._handler)(T.session)).then(_=>{const v=new Ae({success:_});h.writeMessageBegin("get_views",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Ae(_),h.writeMessageBegin("get_views",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_views",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_views(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Ae(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_views",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_views",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_tables_meta(w,p,h){const T=new fe;T.read(p),p.readMessageEnd(),this._handler.get_tables_meta.length===1?Promise.resolve(this._handler.get_tables_meta.bind(this._handler)(T.session)).then(_=>{const v=new Fe({success:_});h.writeMessageBegin("get_tables_meta",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Fe(_),h.writeMessageBegin("get_tables_meta",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_tables_meta",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_tables_meta(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Fe(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_tables_meta",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_tables_meta",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_details(w,p,h){const T=new je;T.read(p),p.readMessageEnd(),this._handler.get_table_details.length===2?Promise.resolve(this._handler.get_table_details.bind(this._handler)(T.session,T.table_name)).then(_=>{const v=new yt({success:_});h.writeMessageBegin("get_table_details",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new yt(_),h.writeMessageBegin("get_table_details",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_details",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_details(T.session,T.table_name,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new yt(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_table_details",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_details",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_details_for_database(w,p,h){const T=new Pt;T.read(p),p.readMessageEnd(),this._handler.get_table_details_for_database.length===3?Promise.resolve(this._handler.get_table_details_for_database.bind(this._handler)(T.session,T.table_name,T.database_name)).then(_=>{const v=new qt({success:_});h.writeMessageBegin("get_table_details_for_database",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new qt(_),h.writeMessageBegin("get_table_details_for_database",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_details_for_database",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_details_for_database(T.session,T.table_name,T.database_name,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new qt(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_table_details_for_database",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_details_for_database",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_internal_table_details(w,p,h){const T=new _e;T.read(p),p.readMessageEnd(),this._handler.get_internal_table_details.length===3?Promise.resolve(this._handler.get_internal_table_details.bind(this._handler)(T.session,T.table_name,T.include_system_columns)).then(_=>{const v=new V({success:_});h.writeMessageBegin("get_internal_table_details",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new V(_),h.writeMessageBegin("get_internal_table_details",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_internal_table_details",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_internal_table_details(T.session,T.table_name,T.include_system_columns,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new V(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_internal_table_details",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_internal_table_details",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_internal_table_details_for_database(w,p,h){const T=new j;T.read(p),p.readMessageEnd(),this._handler.get_internal_table_details_for_database.length===3?Promise.resolve(this._handler.get_internal_table_details_for_database.bind(this._handler)(T.session,T.table_name,T.database_name)).then(_=>{const v=new P({success:_});h.writeMessageBegin("get_internal_table_details_for_database",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new P(_),h.writeMessageBegin("get_internal_table_details_for_database",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_internal_table_details_for_database",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_internal_table_details_for_database(T.session,T.table_name,T.database_name,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new P(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_internal_table_details_for_database",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_internal_table_details_for_database",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_users(w,p,h){const T=new Z;T.read(p),p.readMessageEnd(),this._handler.get_users.length===1?Promise.resolve(this._handler.get_users.bind(this._handler)(T.session)).then(_=>{const v=new Q({success:_});h.writeMessageBegin("get_users",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Q(_),h.writeMessageBegin("get_users",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_users",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_users(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Q(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_users",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_users",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_databases(w,p,h){const T=new oe;T.read(p),p.readMessageEnd(),this._handler.get_databases.length===1?Promise.resolve(this._handler.get_databases.bind(this._handler)(T.session)).then(_=>{const v=new re({success:_});h.writeMessageBegin("get_databases",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new re(_),h.writeMessageBegin("get_databases",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_databases",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_databases(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new re(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_databases",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_databases",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_version(w,p,h){new ye().read(p),p.readMessageEnd(),this._handler.get_version.length===0?Promise.resolve(this._handler.get_version.bind(this._handler)()).then(_=>{const v=new Ee({success:_});h.writeMessageBegin("get_version",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Ee(_),h.writeMessageBegin("get_version",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_version",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_version((_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Ee(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_version",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_version",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_start_heap_profile(w,p,h){const T=new Xe;T.read(p),p.readMessageEnd(),this._handler.start_heap_profile.length===1?Promise.resolve(this._handler.start_heap_profile.bind(this._handler)(T.session)).then(_=>{const v=new Tn({success:_});h.writeMessageBegin("start_heap_profile",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Tn(_),h.writeMessageBegin("start_heap_profile",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("start_heap_profile",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.start_heap_profile(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Tn(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("start_heap_profile",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("start_heap_profile",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_stop_heap_profile(w,p,h){const T=new Cn;T.read(p),p.readMessageEnd(),this._handler.stop_heap_profile.length===1?Promise.resolve(this._handler.stop_heap_profile.bind(this._handler)(T.session)).then(_=>{const v=new an({success:_});h.writeMessageBegin("stop_heap_profile",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new an(_),h.writeMessageBegin("stop_heap_profile",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("stop_heap_profile",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.stop_heap_profile(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new an(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("stop_heap_profile",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("stop_heap_profile",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_heap_profile(w,p,h){const T=new nr;T.read(p),p.readMessageEnd(),this._handler.get_heap_profile.length===1?Promise.resolve(this._handler.get_heap_profile.bind(this._handler)(T.session)).then(_=>{const v=new Sr({success:_});h.writeMessageBegin("get_heap_profile",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Sr(_),h.writeMessageBegin("get_heap_profile",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_heap_profile",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_heap_profile(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Sr(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_heap_profile",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_heap_profile",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_memory(w,p,h){const T=new xr;T.read(p),p.readMessageEnd(),this._handler.get_memory.length===2?Promise.resolve(this._handler.get_memory.bind(this._handler)(T.session,T.memory_level)).then(_=>{const v=new he({success:_});h.writeMessageBegin("get_memory",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new he(_),h.writeMessageBegin("get_memory",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_memory",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_memory(T.session,T.memory_level,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new he(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_memory",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_memory",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_clear_cpu_memory(w,p,h){const T=new Ts;T.read(p),p.readMessageEnd(),this._handler.clear_cpu_memory.length===1?Promise.resolve(this._handler.clear_cpu_memory.bind(this._handler)(T.session)).then(_=>{const v=new Zi({success:_});h.writeMessageBegin("clear_cpu_memory",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Zi(_),h.writeMessageBegin("clear_cpu_memory",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("clear_cpu_memory",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.clear_cpu_memory(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Zi(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("clear_cpu_memory",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("clear_cpu_memory",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_clear_gpu_memory(w,p,h){const T=new Ga;T.read(p),p.readMessageEnd(),this._handler.clear_gpu_memory.length===1?Promise.resolve(this._handler.clear_gpu_memory.bind(this._handler)(T.session)).then(_=>{const v=new ci({success:_});h.writeMessageBegin("clear_gpu_memory",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new ci(_),h.writeMessageBegin("clear_gpu_memory",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("clear_gpu_memory",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.clear_gpu_memory(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new ci(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("clear_gpu_memory",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("clear_gpu_memory",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_set_cur_session(w,p,h){const T=new wc;T.read(p),p.readMessageEnd(),this._handler.set_cur_session.length===5?Promise.resolve(this._handler.set_cur_session.bind(this._handler)(T.parent_session,T.leaf_session,T.start_time_str,T.label,T.for_running_query_kernel)).then(_=>{const v=new Lc({success:_});h.writeMessageBegin("set_cur_session",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Lc(_),h.writeMessageBegin("set_cur_session",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_cur_session",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_cur_session(T.parent_session,T.leaf_session,T.start_time_str,T.label,T.for_running_query_kernel,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Lc(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("set_cur_session",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_cur_session",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_invalidate_cur_session(w,p,h){const T=new ir;T.read(p),p.readMessageEnd(),this._handler.invalidate_cur_session.length===5?Promise.resolve(this._handler.invalidate_cur_session.bind(this._handler)(T.parent_session,T.leaf_session,T.start_time_str,T.label,T.for_running_query_kernel)).then(_=>{const v=new bc({success:_});h.writeMessageBegin("invalidate_cur_session",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new bc(_),h.writeMessageBegin("invalidate_cur_session",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("invalidate_cur_session",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.invalidate_cur_session(T.parent_session,T.leaf_session,T.start_time_str,T.label,T.for_running_query_kernel,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new bc(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("invalidate_cur_session",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("invalidate_cur_session",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_set_table_epoch(w,p,h){const T=new N;T.read(p),p.readMessageEnd(),this._handler.set_table_epoch.length===4?Promise.resolve(this._handler.set_table_epoch.bind(this._handler)(T.session,T.db_id,T.table_id,T.new_epoch)).then(_=>{const v=new F({success:_});h.writeMessageBegin("set_table_epoch",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new F(_),h.writeMessageBegin("set_table_epoch",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_table_epoch",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_table_epoch(T.session,T.db_id,T.table_id,T.new_epoch,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new F(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("set_table_epoch",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_table_epoch",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_set_table_epoch_by_name(w,p,h){const T=new O;T.read(p),p.readMessageEnd(),this._handler.set_table_epoch_by_name.length===3?Promise.resolve(this._handler.set_table_epoch_by_name.bind(this._handler)(T.session,T.table_name,T.new_epoch)).then(_=>{const v=new U({success:_});h.writeMessageBegin("set_table_epoch_by_name",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new U(_),h.writeMessageBegin("set_table_epoch_by_name",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_table_epoch_by_name",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_table_epoch_by_name(T.session,T.table_name,T.new_epoch,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new U(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("set_table_epoch_by_name",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_table_epoch_by_name",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_epoch(w,p,h){const T=new K;T.read(p),p.readMessageEnd(),this._handler.get_table_epoch.length===3?Promise.resolve(this._handler.get_table_epoch.bind(this._handler)(T.session,T.db_id,T.table_id)).then(_=>{const v=new te({success:_});h.writeMessageBegin("get_table_epoch",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_epoch",o.MessageType.EXCEPTION,w),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_epoch(T.session,T.db_id,T.table_id,(_,v)=>{let I;_===null||typeof _>"u"?(I=new te(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_table_epoch",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_epoch",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_epoch_by_name(w,p,h){const T=new se;T.read(p),p.readMessageEnd(),this._handler.get_table_epoch_by_name.length===2?Promise.resolve(this._handler.get_table_epoch_by_name.bind(this._handler)(T.session,T.table_name)).then(_=>{const v=new Oe({success:_});h.writeMessageBegin("get_table_epoch_by_name",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_epoch_by_name",o.MessageType.EXCEPTION,w),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_epoch_by_name(T.session,T.table_name,(_,v)=>{let I;_===null||typeof _>"u"?(I=new Oe(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_table_epoch_by_name",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_epoch_by_name",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_epochs(w,p,h){const T=new Ue;T.read(p),p.readMessageEnd(),this._handler.get_table_epochs.length===3?Promise.resolve(this._handler.get_table_epochs.bind(this._handler)(T.session,T.db_id,T.table_id)).then(_=>{const v=new ze({success:_});h.writeMessageBegin("get_table_epochs",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_epochs",o.MessageType.EXCEPTION,w),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_epochs(T.session,T.db_id,T.table_id,(_,v)=>{let I;_===null||typeof _>"u"?(I=new ze(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_table_epochs",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_epochs",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_set_table_epochs(w,p,h){const T=new We;T.read(p),p.readMessageEnd(),this._handler.set_table_epochs.length===3?Promise.resolve(this._handler.set_table_epochs.bind(this._handler)(T.session,T.db_id,T.table_epochs)).then(_=>{const v=new Ye({success:_});h.writeMessageBegin("set_table_epochs",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_table_epochs",o.MessageType.EXCEPTION,w),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_table_epochs(T.session,T.db_id,T.table_epochs,(_,v)=>{let I;_===null||typeof _>"u"?(I=new Ye(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("set_table_epochs",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_table_epochs",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_session_info(w,p,h){const T=new Tc;T.read(p),p.readMessageEnd(),this._handler.get_session_info.length===1?Promise.resolve(this._handler.get_session_info.bind(this._handler)(T.session)).then(_=>{const v=new V_({success:_});h.writeMessageBegin("get_session_info",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new V_(_),h.writeMessageBegin("get_session_info",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_session_info",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_session_info(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new V_(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_session_info",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_session_info",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_queries_info(w,p,h){const T=new vF;T.read(p),p.readMessageEnd(),this._handler.get_queries_info.length===1?Promise.resolve(this._handler.get_queries_info.bind(this._handler)(T.session)).then(_=>{const v=new q_({success:_});h.writeMessageBegin("get_queries_info",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new q_(_),h.writeMessageBegin("get_queries_info",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_queries_info",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_queries_info(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new q_(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_queries_info",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_queries_info",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_set_leaf_info(w,p,h){const T=new EF;T.read(p),p.readMessageEnd(),this._handler.set_leaf_info.length===2?Promise.resolve(this._handler.set_leaf_info.bind(this._handler)(T.session,T.leaf_info)).then(_=>{const v=new G_({success:_});h.writeMessageBegin("set_leaf_info",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new G_(_),h.writeMessageBegin("set_leaf_info",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_leaf_info",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_leaf_info(T.session,T.leaf_info,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new G_(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("set_leaf_info",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_leaf_info",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_sql_execute(w,p,h){const T=new SF;T.read(p),p.readMessageEnd(),this._handler.sql_execute.length===6?Promise.resolve(this._handler.sql_execute.bind(this._handler)(T.session,T.query,T.column_format,T.nonce,T.first_n,T.at_most_n)).then(_=>{const v=new W_({success:_});h.writeMessageBegin("sql_execute",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new W_(_),h.writeMessageBegin("sql_execute",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("sql_execute",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.sql_execute(T.session,T.query,T.column_format,T.nonce,T.first_n,T.at_most_n,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new W_(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("sql_execute",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("sql_execute",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_sql_execute_df(w,p,h){const T=new xF;T.read(p),p.readMessageEnd(),this._handler.sql_execute_df.length===6?Promise.resolve(this._handler.sql_execute_df.bind(this._handler)(T.session,T.query,T.device_type,T.device_id,T.first_n,T.transport_method)).then(_=>{const v=new Y_({success:_});h.writeMessageBegin("sql_execute_df",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Y_(_),h.writeMessageBegin("sql_execute_df",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("sql_execute_df",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.sql_execute_df(T.session,T.query,T.device_type,T.device_id,T.first_n,T.transport_method,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Y_(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("sql_execute_df",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("sql_execute_df",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_sql_execute_gdf(w,p,h){const T=new BF;T.read(p),p.readMessageEnd(),this._handler.sql_execute_gdf.length===4?Promise.resolve(this._handler.sql_execute_gdf.bind(this._handler)(T.session,T.query,T.device_id,T.first_n)).then(_=>{const v=new X_({success:_});h.writeMessageBegin("sql_execute_gdf",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new X_(_),h.writeMessageBegin("sql_execute_gdf",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("sql_execute_gdf",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.sql_execute_gdf(T.session,T.query,T.device_id,T.first_n,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new X_(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("sql_execute_gdf",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("sql_execute_gdf",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_deallocate_df(w,p,h){const T=new IF;T.read(p),p.readMessageEnd(),this._handler.deallocate_df.length===4?Promise.resolve(this._handler.deallocate_df.bind(this._handler)(T.session,T.df,T.device_type,T.device_id)).then(_=>{const v=new K_({success:_});h.writeMessageBegin("deallocate_df",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new K_(_),h.writeMessageBegin("deallocate_df",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("deallocate_df",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.deallocate_df(T.session,T.df,T.device_type,T.device_id,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new K_(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("deallocate_df",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("deallocate_df",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_interrupt(w,p,h){const T=new kF;T.read(p),p.readMessageEnd(),this._handler.interrupt.length===2?Promise.resolve(this._handler.interrupt.bind(this._handler)(T.query_session,T.interrupt_session)).then(_=>{const v=new Z_({success:_});h.writeMessageBegin("interrupt",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Z_(_),h.writeMessageBegin("interrupt",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("interrupt",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.interrupt(T.query_session,T.interrupt_session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Z_(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("interrupt",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("interrupt",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_sql_validate(w,p,h){const T=new FF;T.read(p),p.readMessageEnd(),this._handler.sql_validate.length===2?Promise.resolve(this._handler.sql_validate.bind(this._handler)(T.session,T.query)).then(_=>{const v=new J_({success:_});h.writeMessageBegin("sql_validate",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new J_(_),h.writeMessageBegin("sql_validate",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("sql_validate",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.sql_validate(T.session,T.query,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new J_(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("sql_validate",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("sql_validate",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_completion_hints(w,p,h){const T=new MF;T.read(p),p.readMessageEnd(),this._handler.get_completion_hints.length===3?Promise.resolve(this._handler.get_completion_hints.bind(this._handler)(T.session,T.sql,T.cursor)).then(_=>{const v=new Q_({success:_});h.writeMessageBegin("get_completion_hints",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Q_(_),h.writeMessageBegin("get_completion_hints",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_completion_hints",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_completion_hints(T.session,T.sql,T.cursor,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Q_(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_completion_hints",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_completion_hints",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_set_execution_mode(w,p,h){const T=new AF;T.read(p),p.readMessageEnd(),this._handler.set_execution_mode.length===2?Promise.resolve(this._handler.set_execution_mode.bind(this._handler)(T.session,T.mode)).then(_=>{const v=new eg({success:_});h.writeMessageBegin("set_execution_mode",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new eg(_),h.writeMessageBegin("set_execution_mode",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_execution_mode",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_execution_mode(T.session,T.mode,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new eg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("set_execution_mode",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_execution_mode",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_render_vega(w,p,h){const T=new OF;T.read(p),p.readMessageEnd(),this._handler.render_vega.length===5?Promise.resolve(this._handler.render_vega.bind(this._handler)(T.session,T.widget_id,T.vega_json,T.compression_level,T.nonce)).then(_=>{const v=new tg({success:_});h.writeMessageBegin("render_vega",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new tg(_),h.writeMessageBegin("render_vega",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("render_vega",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.render_vega(T.session,T.widget_id,T.vega_json,T.compression_level,T.nonce,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new tg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("render_vega",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("render_vega",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_result_row_for_pixel(w,p,h){const T=new NF;T.read(p),p.readMessageEnd(),this._handler.get_result_row_for_pixel.length===7?Promise.resolve(this._handler.get_result_row_for_pixel.bind(this._handler)(T.session,T.widget_id,T.pixel,T.table_col_names,T.column_format,T.pixelRadius,T.nonce)).then(_=>{const v=new ng({success:_});h.writeMessageBegin("get_result_row_for_pixel",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new ng(_),h.writeMessageBegin("get_result_row_for_pixel",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_result_row_for_pixel",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_result_row_for_pixel(T.session,T.widget_id,T.pixel,T.table_col_names,T.column_format,T.pixelRadius,T.nonce,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new ng(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_result_row_for_pixel",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_result_row_for_pixel",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_create_custom_expression(w,p,h){const T=new CF;T.read(p),p.readMessageEnd(),this._handler.create_custom_expression.length===2?Promise.resolve(this._handler.create_custom_expression.bind(this._handler)(T.session,T.custom_expression)).then(_=>{const v=new ig({success:_});h.writeMessageBegin("create_custom_expression",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new ig(_),h.writeMessageBegin("create_custom_expression",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("create_custom_expression",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.create_custom_expression(T.session,T.custom_expression,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new ig(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("create_custom_expression",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("create_custom_expression",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_custom_expressions(w,p,h){const T=new RF;T.read(p),p.readMessageEnd(),this._handler.get_custom_expressions.length===1?Promise.resolve(this._handler.get_custom_expressions.bind(this._handler)(T.session)).then(_=>{const v=new sg({success:_});h.writeMessageBegin("get_custom_expressions",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new sg(_),h.writeMessageBegin("get_custom_expressions",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_custom_expressions",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_custom_expressions(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new sg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_custom_expressions",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_custom_expressions",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_update_custom_expression(w,p,h){const T=new DF;T.read(p),p.readMessageEnd(),this._handler.update_custom_expression.length===3?Promise.resolve(this._handler.update_custom_expression.bind(this._handler)(T.session,T.id,T.expression_json)).then(_=>{const v=new rg({success:_});h.writeMessageBegin("update_custom_expression",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new rg(_),h.writeMessageBegin("update_custom_expression",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("update_custom_expression",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.update_custom_expression(T.session,T.id,T.expression_json,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new rg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("update_custom_expression",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("update_custom_expression",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_delete_custom_expressions(w,p,h){const T=new PF;T.read(p),p.readMessageEnd(),this._handler.delete_custom_expressions.length===3?Promise.resolve(this._handler.delete_custom_expressions.bind(this._handler)(T.session,T.custom_expression_ids,T.do_soft_delete)).then(_=>{const v=new ag({success:_});h.writeMessageBegin("delete_custom_expressions",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new ag(_),h.writeMessageBegin("delete_custom_expressions",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("delete_custom_expressions",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.delete_custom_expressions(T.session,T.custom_expression_ids,T.do_soft_delete,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new ag(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("delete_custom_expressions",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("delete_custom_expressions",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_dashboard(w,p,h){const T=new $F;T.read(p),p.readMessageEnd(),this._handler.get_dashboard.length===2?Promise.resolve(this._handler.get_dashboard.bind(this._handler)(T.session,T.dashboard_id)).then(_=>{const v=new og({success:_});h.writeMessageBegin("get_dashboard",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new og(_),h.writeMessageBegin("get_dashboard",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_dashboard",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_dashboard(T.session,T.dashboard_id,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new og(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_dashboard",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_dashboard",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_dashboards(w,p,h){const T=new UF;T.read(p),p.readMessageEnd(),this._handler.get_dashboards.length===1?Promise.resolve(this._handler.get_dashboards.bind(this._handler)(T.session)).then(_=>{const v=new lg({success:_});h.writeMessageBegin("get_dashboards",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new lg(_),h.writeMessageBegin("get_dashboards",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_dashboards",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_dashboards(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new lg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_dashboards",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_dashboards",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_create_dashboard(w,p,h){const T=new zF;T.read(p),p.readMessageEnd(),this._handler.create_dashboard.length===5?Promise.resolve(this._handler.create_dashboard.bind(this._handler)(T.session,T.dashboard_name,T.dashboard_state,T.image_hash,T.dashboard_metadata)).then(_=>{const v=new cg({success:_});h.writeMessageBegin("create_dashboard",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new cg(_),h.writeMessageBegin("create_dashboard",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("create_dashboard",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.create_dashboard(T.session,T.dashboard_name,T.dashboard_state,T.image_hash,T.dashboard_metadata,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new cg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("create_dashboard",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("create_dashboard",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_replace_dashboard(w,p,h){const T=new HF;T.read(p),p.readMessageEnd(),this._handler.replace_dashboard.length===7?Promise.resolve(this._handler.replace_dashboard.bind(this._handler)(T.session,T.dashboard_id,T.dashboard_name,T.dashboard_owner,T.dashboard_state,T.image_hash,T.dashboard_metadata)).then(_=>{const v=new dg({success:_});h.writeMessageBegin("replace_dashboard",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new dg(_),h.writeMessageBegin("replace_dashboard",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("replace_dashboard",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.replace_dashboard(T.session,T.dashboard_id,T.dashboard_name,T.dashboard_owner,T.dashboard_state,T.image_hash,T.dashboard_metadata,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new dg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("replace_dashboard",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("replace_dashboard",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_delete_dashboard(w,p,h){const T=new jF;T.read(p),p.readMessageEnd(),this._handler.delete_dashboard.length===2?Promise.resolve(this._handler.delete_dashboard.bind(this._handler)(T.session,T.dashboard_id)).then(_=>{const v=new fg({success:_});h.writeMessageBegin("delete_dashboard",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new fg(_),h.writeMessageBegin("delete_dashboard",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("delete_dashboard",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.delete_dashboard(T.session,T.dashboard_id,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new fg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("delete_dashboard",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("delete_dashboard",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_share_dashboards(w,p,h){const T=new VF;T.read(p),p.readMessageEnd(),this._handler.share_dashboards.length===4?Promise.resolve(this._handler.share_dashboards.bind(this._handler)(T.session,T.dashboard_ids,T.groups,T.permissions)).then(_=>{const v=new ug({success:_});h.writeMessageBegin("share_dashboards",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new ug(_),h.writeMessageBegin("share_dashboards",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("share_dashboards",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.share_dashboards(T.session,T.dashboard_ids,T.groups,T.permissions,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new ug(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("share_dashboards",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("share_dashboards",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_delete_dashboards(w,p,h){const T=new qF;T.read(p),p.readMessageEnd(),this._handler.delete_dashboards.length===2?Promise.resolve(this._handler.delete_dashboards.bind(this._handler)(T.session,T.dashboard_ids)).then(_=>{const v=new hg({success:_});h.writeMessageBegin("delete_dashboards",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new hg(_),h.writeMessageBegin("delete_dashboards",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("delete_dashboards",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.delete_dashboards(T.session,T.dashboard_ids,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new hg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("delete_dashboards",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("delete_dashboards",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_share_dashboard(w,p,h){const T=new GF;T.read(p),p.readMessageEnd(),this._handler.share_dashboard.length===6?Promise.resolve(this._handler.share_dashboard.bind(this._handler)(T.session,T.dashboard_id,T.groups,T.objects,T.permissions,T.grant_role)).then(_=>{const v=new pg({success:_});h.writeMessageBegin("share_dashboard",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new pg(_),h.writeMessageBegin("share_dashboard",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("share_dashboard",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.share_dashboard(T.session,T.dashboard_id,T.groups,T.objects,T.permissions,T.grant_role,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new pg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("share_dashboard",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("share_dashboard",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_unshare_dashboard(w,p,h){const T=new WF;T.read(p),p.readMessageEnd(),this._handler.unshare_dashboard.length===5?Promise.resolve(this._handler.unshare_dashboard.bind(this._handler)(T.session,T.dashboard_id,T.groups,T.objects,T.permissions)).then(_=>{const v=new _g({success:_});h.writeMessageBegin("unshare_dashboard",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new _g(_),h.writeMessageBegin("unshare_dashboard",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("unshare_dashboard",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.unshare_dashboard(T.session,T.dashboard_id,T.groups,T.objects,T.permissions,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new _g(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("unshare_dashboard",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("unshare_dashboard",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_unshare_dashboards(w,p,h){const T=new YF;T.read(p),p.readMessageEnd(),this._handler.unshare_dashboards.length===4?Promise.resolve(this._handler.unshare_dashboards.bind(this._handler)(T.session,T.dashboard_ids,T.groups,T.permissions)).then(_=>{const v=new gg({success:_});h.writeMessageBegin("unshare_dashboards",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new gg(_),h.writeMessageBegin("unshare_dashboards",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("unshare_dashboards",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.unshare_dashboards(T.session,T.dashboard_ids,T.groups,T.permissions,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new gg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("unshare_dashboards",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("unshare_dashboards",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_dashboard_grantees(w,p,h){const T=new XF;T.read(p),p.readMessageEnd(),this._handler.get_dashboard_grantees.length===2?Promise.resolve(this._handler.get_dashboard_grantees.bind(this._handler)(T.session,T.dashboard_id)).then(_=>{const v=new yg({success:_});h.writeMessageBegin("get_dashboard_grantees",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new yg(_),h.writeMessageBegin("get_dashboard_grantees",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_dashboard_grantees",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_dashboard_grantees(T.session,T.dashboard_id,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new yg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_dashboard_grantees",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_dashboard_grantees",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_link_view(w,p,h){const T=new KF;T.read(p),p.readMessageEnd(),this._handler.get_link_view.length===2?Promise.resolve(this._handler.get_link_view.bind(this._handler)(T.session,T.link)).then(_=>{const v=new mg({success:_});h.writeMessageBegin("get_link_view",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new mg(_),h.writeMessageBegin("get_link_view",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_link_view",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_link_view(T.session,T.link,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new mg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_link_view",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_link_view",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_create_link(w,p,h){const T=new ZF;T.read(p),p.readMessageEnd(),this._handler.create_link.length===3?Promise.resolve(this._handler.create_link.bind(this._handler)(T.session,T.view_state,T.view_metadata)).then(_=>{const v=new wg({success:_});h.writeMessageBegin("create_link",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new wg(_),h.writeMessageBegin("create_link",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("create_link",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.create_link(T.session,T.view_state,T.view_metadata,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new wg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("create_link",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("create_link",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_load_table_binary(w,p,h){const T=new JF;T.read(p),p.readMessageEnd(),this._handler.load_table_binary.length===4?Promise.resolve(this._handler.load_table_binary.bind(this._handler)(T.session,T.table_name,T.rows,T.column_names)).then(_=>{const v=new Lg({success:_});h.writeMessageBegin("load_table_binary",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Lg(_),h.writeMessageBegin("load_table_binary",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("load_table_binary",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.load_table_binary(T.session,T.table_name,T.rows,T.column_names,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Lg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("load_table_binary",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("load_table_binary",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_load_table_binary_columnar(w,p,h){const T=new QF;T.read(p),p.readMessageEnd(),this._handler.load_table_binary_columnar.length===4?Promise.resolve(this._handler.load_table_binary_columnar.bind(this._handler)(T.session,T.table_name,T.cols,T.column_names)).then(_=>{const v=new bg({success:_});h.writeMessageBegin("load_table_binary_columnar",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new bg(_),h.writeMessageBegin("load_table_binary_columnar",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("load_table_binary_columnar",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.load_table_binary_columnar(T.session,T.table_name,T.cols,T.column_names,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new bg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("load_table_binary_columnar",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("load_table_binary_columnar",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_load_table_binary_columnar_polys(w,p,h){const T=new eM;T.read(p),p.readMessageEnd(),this._handler.load_table_binary_columnar_polys.length===5?Promise.resolve(this._handler.load_table_binary_columnar_polys.bind(this._handler)(T.session,T.table_name,T.cols,T.column_names,T.assign_render_groups)).then(_=>{const v=new Tg({success:_});h.writeMessageBegin("load_table_binary_columnar_polys",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Tg(_),h.writeMessageBegin("load_table_binary_columnar_polys",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("load_table_binary_columnar_polys",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.load_table_binary_columnar_polys(T.session,T.table_name,T.cols,T.column_names,T.assign_render_groups,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Tg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("load_table_binary_columnar_polys",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("load_table_binary_columnar_polys",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_load_table_binary_arrow(w,p,h){const T=new tM;T.read(p),p.readMessageEnd(),this._handler.load_table_binary_arrow.length===4?Promise.resolve(this._handler.load_table_binary_arrow.bind(this._handler)(T.session,T.table_name,T.arrow_stream,T.use_column_names)).then(_=>{const v=new vg({success:_});h.writeMessageBegin("load_table_binary_arrow",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new vg(_),h.writeMessageBegin("load_table_binary_arrow",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("load_table_binary_arrow",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.load_table_binary_arrow(T.session,T.table_name,T.arrow_stream,T.use_column_names,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new vg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("load_table_binary_arrow",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("load_table_binary_arrow",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_load_table(w,p,h){const T=new nM;T.read(p),p.readMessageEnd(),this._handler.load_table.length===4?Promise.resolve(this._handler.load_table.bind(this._handler)(T.session,T.table_name,T.rows,T.column_names)).then(_=>{const v=new Eg({success:_});h.writeMessageBegin("load_table",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Eg(_),h.writeMessageBegin("load_table",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("load_table",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.load_table(T.session,T.table_name,T.rows,T.column_names,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Eg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("load_table",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("load_table",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_detect_column_types(w,p,h){const T=new iM;T.read(p),p.readMessageEnd(),this._handler.detect_column_types.length===3?Promise.resolve(this._handler.detect_column_types.bind(this._handler)(T.session,T.file_name,T.copy_params)).then(_=>{const v=new Sg({success:_});h.writeMessageBegin("detect_column_types",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Sg(_),h.writeMessageBegin("detect_column_types",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("detect_column_types",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.detect_column_types(T.session,T.file_name,T.copy_params,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Sg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("detect_column_types",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("detect_column_types",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_create_table(w,p,h){const T=new sM;T.read(p),p.readMessageEnd(),this._handler.create_table.length===4?Promise.resolve(this._handler.create_table.bind(this._handler)(T.session,T.table_name,T.row_desc,T.create_params)).then(_=>{const v=new xg({success:_});h.writeMessageBegin("create_table",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new xg(_),h.writeMessageBegin("create_table",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("create_table",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.create_table(T.session,T.table_name,T.row_desc,T.create_params,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new xg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("create_table",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("create_table",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_import_table(w,p,h){const T=new rM;T.read(p),p.readMessageEnd(),this._handler.import_table.length===4?Promise.resolve(this._handler.import_table.bind(this._handler)(T.session,T.table_name,T.file_name,T.copy_params)).then(_=>{const v=new Bg({success:_});h.writeMessageBegin("import_table",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Bg(_),h.writeMessageBegin("import_table",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("import_table",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.import_table(T.session,T.table_name,T.file_name,T.copy_params,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Bg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("import_table",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("import_table",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_import_geo_table(w,p,h){const T=new aM;T.read(p),p.readMessageEnd(),this._handler.import_geo_table.length===6?Promise.resolve(this._handler.import_geo_table.bind(this._handler)(T.session,T.table_name,T.file_name,T.copy_params,T.row_desc,T.create_params)).then(_=>{const v=new Ig({success:_});h.writeMessageBegin("import_geo_table",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Ig(_),h.writeMessageBegin("import_geo_table",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("import_geo_table",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.import_geo_table(T.session,T.table_name,T.file_name,T.copy_params,T.row_desc,T.create_params,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Ig(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("import_geo_table",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("import_geo_table",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_import_table_status(w,p,h){const T=new oM;T.read(p),p.readMessageEnd(),this._handler.import_table_status.length===2?Promise.resolve(this._handler.import_table_status.bind(this._handler)(T.session,T.import_id)).then(_=>{const v=new kg({success:_});h.writeMessageBegin("import_table_status",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new kg(_),h.writeMessageBegin("import_table_status",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("import_table_status",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.import_table_status(T.session,T.import_id,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new kg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("import_table_status",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("import_table_status",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_first_geo_file_in_archive(w,p,h){const T=new lM;T.read(p),p.readMessageEnd(),this._handler.get_first_geo_file_in_archive.length===3?Promise.resolve(this._handler.get_first_geo_file_in_archive.bind(this._handler)(T.session,T.archive_path,T.copy_params)).then(_=>{const v=new Fg({success:_});h.writeMessageBegin("get_first_geo_file_in_archive",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Fg(_),h.writeMessageBegin("get_first_geo_file_in_archive",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_first_geo_file_in_archive",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_first_geo_file_in_archive(T.session,T.archive_path,T.copy_params,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Fg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_first_geo_file_in_archive",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_first_geo_file_in_archive",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_all_files_in_archive(w,p,h){const T=new cM;T.read(p),p.readMessageEnd(),this._handler.get_all_files_in_archive.length===3?Promise.resolve(this._handler.get_all_files_in_archive.bind(this._handler)(T.session,T.archive_path,T.copy_params)).then(_=>{const v=new Mg({success:_});h.writeMessageBegin("get_all_files_in_archive",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Mg(_),h.writeMessageBegin("get_all_files_in_archive",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_all_files_in_archive",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_all_files_in_archive(T.session,T.archive_path,T.copy_params,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Mg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_all_files_in_archive",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_all_files_in_archive",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_layers_in_geo_file(w,p,h){const T=new dM;T.read(p),p.readMessageEnd(),this._handler.get_layers_in_geo_file.length===3?Promise.resolve(this._handler.get_layers_in_geo_file.bind(this._handler)(T.session,T.file_name,T.copy_params)).then(_=>{const v=new Ag({success:_});h.writeMessageBegin("get_layers_in_geo_file",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Ag(_),h.writeMessageBegin("get_layers_in_geo_file",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_layers_in_geo_file",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_layers_in_geo_file(T.session,T.file_name,T.copy_params,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Ag(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_layers_in_geo_file",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_layers_in_geo_file",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_query_get_outer_fragment_count(w,p,h){const T=new fM;T.read(p),p.readMessageEnd(),this._handler.query_get_outer_fragment_count.length===2?Promise.resolve(this._handler.query_get_outer_fragment_count.bind(this._handler)(T.session,T.query)).then(_=>{const v=new Og({success:_});h.writeMessageBegin("query_get_outer_fragment_count",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Og(_),h.writeMessageBegin("query_get_outer_fragment_count",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("query_get_outer_fragment_count",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.query_get_outer_fragment_count(T.session,T.query,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Og(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("query_get_outer_fragment_count",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("query_get_outer_fragment_count",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_check_table_consistency(w,p,h){const T=new uM;T.read(p),p.readMessageEnd(),this._handler.check_table_consistency.length===2?Promise.resolve(this._handler.check_table_consistency.bind(this._handler)(T.session,T.table_id)).then(_=>{const v=new Ng({success:_});h.writeMessageBegin("check_table_consistency",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Ng(_),h.writeMessageBegin("check_table_consistency",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("check_table_consistency",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.check_table_consistency(T.session,T.table_id,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Ng(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("check_table_consistency",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("check_table_consistency",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_start_query(w,p,h){const T=new hM;T.read(p),p.readMessageEnd(),this._handler.start_query.length===6?Promise.resolve(this._handler.start_query.bind(this._handler)(T.leaf_session,T.parent_session,T.query_ra,T.start_time_str,T.just_explain,T.outer_fragment_indices)).then(_=>{const v=new Cg({success:_});h.writeMessageBegin("start_query",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Cg(_),h.writeMessageBegin("start_query",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("start_query",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.start_query(T.leaf_session,T.parent_session,T.query_ra,T.start_time_str,T.just_explain,T.outer_fragment_indices,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Cg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("start_query",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("start_query",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_execute_query_step(w,p,h){const T=new pM;T.read(p),p.readMessageEnd(),this._handler.execute_query_step.length===3?Promise.resolve(this._handler.execute_query_step.bind(this._handler)(T.pending_query,T.subquery_id,T.start_time_str)).then(_=>{const v=new Rg({success:_});h.writeMessageBegin("execute_query_step",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Rg(_),h.writeMessageBegin("execute_query_step",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("execute_query_step",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.execute_query_step(T.pending_query,T.subquery_id,T.start_time_str,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Rg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("execute_query_step",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("execute_query_step",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_broadcast_serialized_rows(w,p,h){const T=new _M;T.read(p),p.readMessageEnd(),this._handler.broadcast_serialized_rows.length===5?Promise.resolve(this._handler.broadcast_serialized_rows.bind(this._handler)(T.serialized_rows,T.row_desc,T.query_id,T.subquery_id,T.is_final_subquery_result)).then(_=>{const v=new Dg({success:_});h.writeMessageBegin("broadcast_serialized_rows",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Dg(_),h.writeMessageBegin("broadcast_serialized_rows",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("broadcast_serialized_rows",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.broadcast_serialized_rows(T.serialized_rows,T.row_desc,T.query_id,T.subquery_id,T.is_final_subquery_result,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Dg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("broadcast_serialized_rows",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("broadcast_serialized_rows",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_start_render_query(w,p,h){const T=new gM;T.read(p),p.readMessageEnd(),this._handler.start_render_query.length===4?Promise.resolve(this._handler.start_render_query.bind(this._handler)(T.session,T.widget_id,T.node_idx,T.vega_json)).then(_=>{const v=new Pg({success:_});h.writeMessageBegin("start_render_query",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Pg(_),h.writeMessageBegin("start_render_query",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("start_render_query",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.start_render_query(T.session,T.widget_id,T.node_idx,T.vega_json,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Pg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("start_render_query",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("start_render_query",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_execute_next_render_step(w,p,h){const T=new yM;T.read(p),p.readMessageEnd(),this._handler.execute_next_render_step.length===2?Promise.resolve(this._handler.execute_next_render_step.bind(this._handler)(T.pending_render,T.merged_data)).then(_=>{const v=new $g({success:_});h.writeMessageBegin("execute_next_render_step",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new $g(_),h.writeMessageBegin("execute_next_render_step",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("execute_next_render_step",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.execute_next_render_step(T.pending_render,T.merged_data,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new $g(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("execute_next_render_step",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("execute_next_render_step",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_insert_data(w,p,h){const T=new mM;T.read(p),p.readMessageEnd(),this._handler.insert_data.length===2?Promise.resolve(this._handler.insert_data.bind(this._handler)(T.session,T.insert_data)).then(_=>{const v=new Ug({success:_});h.writeMessageBegin("insert_data",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Ug(_),h.writeMessageBegin("insert_data",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("insert_data",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.insert_data(T.session,T.insert_data,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Ug(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("insert_data",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("insert_data",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_insert_chunks(w,p,h){const T=new wM;T.read(p),p.readMessageEnd(),this._handler.insert_chunks.length===2?Promise.resolve(this._handler.insert_chunks.bind(this._handler)(T.session,T.insert_chunks)).then(_=>{const v=new zg({success:_});h.writeMessageBegin("insert_chunks",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new zg(_),h.writeMessageBegin("insert_chunks",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("insert_chunks",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.insert_chunks(T.session,T.insert_chunks,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new zg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("insert_chunks",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("insert_chunks",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_checkpoint(w,p,h){const T=new LM;T.read(p),p.readMessageEnd(),this._handler.checkpoint.length===2?Promise.resolve(this._handler.checkpoint.bind(this._handler)(T.session,T.table_id)).then(_=>{const v=new Hg({success:_});h.writeMessageBegin("checkpoint",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Hg(_),h.writeMessageBegin("checkpoint",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("checkpoint",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.checkpoint(T.session,T.table_id,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Hg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("checkpoint",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("checkpoint",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_roles(w,p,h){const T=new bM;T.read(p),p.readMessageEnd(),this._handler.get_roles.length===1?Promise.resolve(this._handler.get_roles.bind(this._handler)(T.session)).then(_=>{const v=new jg({success:_});h.writeMessageBegin("get_roles",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new jg(_),h.writeMessageBegin("get_roles",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_roles",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_roles(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new jg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_roles",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_roles",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_db_objects_for_grantee(w,p,h){const T=new TM;T.read(p),p.readMessageEnd(),this._handler.get_db_objects_for_grantee.length===2?Promise.resolve(this._handler.get_db_objects_for_grantee.bind(this._handler)(T.session,T.roleName)).then(_=>{const v=new Vg({success:_});h.writeMessageBegin("get_db_objects_for_grantee",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Vg(_),h.writeMessageBegin("get_db_objects_for_grantee",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_db_objects_for_grantee",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_db_objects_for_grantee(T.session,T.roleName,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Vg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_db_objects_for_grantee",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_db_objects_for_grantee",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_db_object_privs(w,p,h){const T=new vM;T.read(p),p.readMessageEnd(),this._handler.get_db_object_privs.length===3?Promise.resolve(this._handler.get_db_object_privs.bind(this._handler)(T.session,T.objectName,T.type)).then(_=>{const v=new qg({success:_});h.writeMessageBegin("get_db_object_privs",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new qg(_),h.writeMessageBegin("get_db_object_privs",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_db_object_privs",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_db_object_privs(T.session,T.objectName,T.type,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new qg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_db_object_privs",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_db_object_privs",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_all_roles_for_user(w,p,h){const T=new EM;T.read(p),p.readMessageEnd(),this._handler.get_all_roles_for_user.length===2?Promise.resolve(this._handler.get_all_roles_for_user.bind(this._handler)(T.session,T.userName)).then(_=>{const v=new Gg({success:_});h.writeMessageBegin("get_all_roles_for_user",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Gg(_),h.writeMessageBegin("get_all_roles_for_user",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_all_roles_for_user",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_all_roles_for_user(T.session,T.userName,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Gg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_all_roles_for_user",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_all_roles_for_user",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_all_effective_roles_for_user(w,p,h){const T=new SM;T.read(p),p.readMessageEnd(),this._handler.get_all_effective_roles_for_user.length===2?Promise.resolve(this._handler.get_all_effective_roles_for_user.bind(this._handler)(T.session,T.userName)).then(_=>{const v=new Wg({success:_});h.writeMessageBegin("get_all_effective_roles_for_user",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Wg(_),h.writeMessageBegin("get_all_effective_roles_for_user",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_all_effective_roles_for_user",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_all_effective_roles_for_user(T.session,T.userName,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Wg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_all_effective_roles_for_user",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_all_effective_roles_for_user",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_has_role(w,p,h){const T=new xM;T.read(p),p.readMessageEnd(),this._handler.has_role.length===3?Promise.resolve(this._handler.has_role.bind(this._handler)(T.session,T.granteeName,T.roleName)).then(_=>{const v=new Yg({success:_});h.writeMessageBegin("has_role",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Yg(_),h.writeMessageBegin("has_role",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("has_role",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.has_role(T.session,T.granteeName,T.roleName,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Yg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("has_role",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("has_role",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_has_object_privilege(w,p,h){const T=new BM;T.read(p),p.readMessageEnd(),this._handler.has_object_privilege.length===5?Promise.resolve(this._handler.has_object_privilege.bind(this._handler)(T.session,T.granteeName,T.ObjectName,T.objectType,T.permissions)).then(_=>{const v=new Xg({success:_});h.writeMessageBegin("has_object_privilege",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Xg(_),h.writeMessageBegin("has_object_privilege",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("has_object_privilege",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.has_object_privilege(T.session,T.granteeName,T.ObjectName,T.objectType,T.permissions,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Xg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("has_object_privilege",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("has_object_privilege",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_set_license_key(w,p,h){const T=new IM;T.read(p),p.readMessageEnd(),this._handler.set_license_key.length===3?Promise.resolve(this._handler.set_license_key.bind(this._handler)(T.session,T.key,T.nonce)).then(_=>{const v=new Kg({success:_});h.writeMessageBegin("set_license_key",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Kg(_),h.writeMessageBegin("set_license_key",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_license_key",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_license_key(T.session,T.key,T.nonce,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Kg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("set_license_key",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("set_license_key",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_license_claims(w,p,h){const T=new kM;T.read(p),p.readMessageEnd(),this._handler.get_license_claims.length===2?Promise.resolve(this._handler.get_license_claims.bind(this._handler)(T.session,T.nonce)).then(_=>{const v=new Zg({success:_});h.writeMessageBegin("get_license_claims",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Zg(_),h.writeMessageBegin("get_license_claims",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_license_claims",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_license_claims(T.session,T.nonce,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Zg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_license_claims",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_license_claims",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_device_parameters(w,p,h){const T=new FM;T.read(p),p.readMessageEnd(),this._handler.get_device_parameters.length===1?Promise.resolve(this._handler.get_device_parameters.bind(this._handler)(T.session)).then(_=>{const v=new Jg({success:_});h.writeMessageBegin("get_device_parameters",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Jg(_),h.writeMessageBegin("get_device_parameters",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_device_parameters",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_device_parameters(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Jg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_device_parameters",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_device_parameters",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_register_runtime_extension_functions(w,p,h){const T=new MM;T.read(p),p.readMessageEnd(),this._handler.register_runtime_extension_functions.length===4?Promise.resolve(this._handler.register_runtime_extension_functions.bind(this._handler)(T.session,T.udfs,T.udtfs,T.device_ir_map)).then(_=>{const v=new Qg({success:_});h.writeMessageBegin("register_runtime_extension_functions",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new Qg(_),h.writeMessageBegin("register_runtime_extension_functions",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("register_runtime_extension_functions",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.register_runtime_extension_functions(T.session,T.udfs,T.udtfs,T.device_ir_map,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new Qg(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("register_runtime_extension_functions",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("register_runtime_extension_functions",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_function_names(w,p,h){const T=new AM;T.read(p),p.readMessageEnd(),this._handler.get_table_function_names.length===1?Promise.resolve(this._handler.get_table_function_names.bind(this._handler)(T.session)).then(_=>{const v=new ey({success:_});h.writeMessageBegin("get_table_function_names",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new ey(_),h.writeMessageBegin("get_table_function_names",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_function_names",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_function_names(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new ey(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_table_function_names",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_function_names",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_runtime_table_function_names(w,p,h){const T=new OM;T.read(p),p.readMessageEnd(),this._handler.get_runtime_table_function_names.length===1?Promise.resolve(this._handler.get_runtime_table_function_names.bind(this._handler)(T.session)).then(_=>{const v=new ty({success:_});h.writeMessageBegin("get_runtime_table_function_names",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new ty(_),h.writeMessageBegin("get_runtime_table_function_names",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_runtime_table_function_names",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_runtime_table_function_names(T.session,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new ty(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_runtime_table_function_names",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_runtime_table_function_names",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_function_details(w,p,h){const T=new NM;T.read(p),p.readMessageEnd(),this._handler.get_table_function_details.length===2?Promise.resolve(this._handler.get_table_function_details.bind(this._handler)(T.session,T.udtf_names)).then(_=>{const v=new ny({success:_});h.writeMessageBegin("get_table_function_details",o.MessageType.REPLY,w),v.write(h),h.writeMessageEnd(),h.flush()}).catch(_=>{let v;_ instanceof l.TDBException?(v=new ny(_),h.writeMessageBegin("get_table_function_details",o.MessageType.REPLY,w)):(v=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_function_details",o.MessageType.EXCEPTION,w)),v.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_function_details(T.session,T.udtf_names,(_,v)=>{let I;_===null||typeof _>"u"||_ instanceof l.TDBException?(I=new ny(_!==null||typeof _>"u"?_:{success:v}),h.writeMessageBegin("get_table_function_details",o.MessageType.REPLY,w)):(I=new o.TApplicationException(o.TApplicationExceptionType.UNKNOWN,_.message),h.writeMessageBegin("get_table_function_details",o.MessageType.EXCEPTION,w)),I.write(h),h.writeMessageEnd(),h.flush()})}}},2818:(c,d,f)=>{const o=f(9262).Thrift;f(135);const g=c.exports={};g.TDeviceType={CPU:0,GPU:1},g.TDatumType={SMALLINT:0,INT:1,BIGINT:2,FLOAT:3,DECIMAL:4,DOUBLE:5,STR:6,TIME:7,TIMESTAMP:8,DATE:9,BOOL:10,INTERVAL_DAY_TIME:11,INTERVAL_YEAR_MONTH:12,POINT:13,LINESTRING:14,POLYGON:15,MULTIPOLYGON:16,TINYINT:17,GEOMETRY:18,GEOGRAPHY:19},g.TEncodingType={NONE:0,FIXED:1,RL:2,DIFF:3,DICT:4,SPARSE:5,GEOINT:6,DATE_IN_DAYS:7},c.exports.TTypeInfo=class{constructor(y){this.type=null,this.encoding=null,this.nullable=null,this.is_array=null,this.precision=null,this.scale=null,this.comp_param=null,this.size=-1,y&&(y.type!==void 0&&y.type!==null&&(this.type=y.type),y.encoding!==void 0&&y.encoding!==null&&(this.encoding=y.encoding),y.nullable!==void 0&&y.nullable!==null&&(this.nullable=y.nullable),y.is_array!==void 0&&y.is_array!==null&&(this.is_array=y.is_array),y.precision!==void 0&&y.precision!==null&&(this.precision=y.precision),y.scale!==void 0&&y.scale!==null&&(this.scale=y.scale),y.comp_param!==void 0&&y.comp_param!==null&&(this.comp_param=y.comp_param),y.size!==void 0&&y.size!==null&&(this.size=y.size))}read(y){for(y.readStructBegin();;){const m=y.readFieldBegin(),l=m.ftype,b=m.fid;if(l==o.Type.STOP)break;switch(b){case 1:l==o.Type.I32?this.type=y.readI32():y.skip(l);break;case 4:l==o.Type.I32?this.encoding=y.readI32():y.skip(l);break;case 2:l==o.Type.BOOL?this.nullable=y.readBool():y.skip(l);break;case 3:l==o.Type.BOOL?this.is_array=y.readBool():y.skip(l);break;case 5:l==o.Type.I32?this.precision=y.readI32():y.skip(l);break;case 6:l==o.Type.I32?this.scale=y.readI32():y.skip(l);break;case 7:l==o.Type.I32?this.comp_param=y.readI32():y.skip(l);break;case 8:l==o.Type.I32?this.size=y.readI32():y.skip(l);break;default:y.skip(l)}y.readFieldEnd()}y.readStructEnd()}write(y){y.writeStructBegin("TTypeInfo"),this.type!==null&&this.type!==void 0&&(y.writeFieldBegin("type",o.Type.I32,1),y.writeI32(this.type),y.writeFieldEnd()),this.encoding!==null&&this.encoding!==void 0&&(y.writeFieldBegin("encoding",o.Type.I32,4),y.writeI32(this.encoding),y.writeFieldEnd()),this.nullable!==null&&this.nullable!==void 0&&(y.writeFieldBegin("nullable",o.Type.BOOL,2),y.writeBool(this.nullable),y.writeFieldEnd()),this.is_array!==null&&this.is_array!==void 0&&(y.writeFieldBegin("is_array",o.Type.BOOL,3),y.writeBool(this.is_array),y.writeFieldEnd()),this.precision!==null&&this.precision!==void 0&&(y.writeFieldBegin("precision",o.Type.I32,5),y.writeI32(this.precision),y.writeFieldEnd()),this.scale!==null&&this.scale!==void 0&&(y.writeFieldBegin("scale",o.Type.I32,6),y.writeI32(this.scale),y.writeFieldEnd()),this.comp_param!==null&&this.comp_param!==void 0&&(y.writeFieldBegin("comp_param",o.Type.I32,7),y.writeI32(this.comp_param),y.writeFieldEnd()),this.size!==null&&this.size!==void 0&&(y.writeFieldBegin("size",o.Type.I32,8),y.writeI32(this.size),y.writeFieldEnd()),y.writeFieldStop(),y.writeStructEnd()}}},4494:(c,d,f)=>{const o=f(9262).Thrift;f(135);const g=c.exports={};g.TCompletionHintType={COLUMN:0,TABLE:1,VIEW:2,SCHEMA:3,CATALOG:4,REPOSITORY:5,FUNCTION:6,KEYWORD:7},c.exports.TCompletionHint=class{constructor(y){this.type=null,this.hints=null,this.replaced=null,y&&(y.type!==void 0&&y.type!==null&&(this.type=y.type),y.hints!==void 0&&y.hints!==null&&(this.hints=o.copyList(y.hints,[null])),y.replaced!==void 0&&y.replaced!==null&&(this.replaced=y.replaced))}read(y){for(y.readStructBegin();;){const m=y.readFieldBegin(),l=m.ftype,b=m.fid;if(l==o.Type.STOP)break;switch(b){case 1:l==o.Type.I32?this.type=y.readI32():y.skip(l);break;case 2:if(l==o.Type.LIST){this.hints=[];const E=y.readListBegin().size||0;for(let S=0;S<E;++S){let x=null;x=y.readString(),this.hints.push(x)}y.readListEnd()}else y.skip(l);break;case 3:l==o.Type.STRING?this.replaced=y.readString():y.skip(l);break;default:y.skip(l)}y.readFieldEnd()}y.readStructEnd()}write(y){if(y.writeStructBegin("TCompletionHint"),this.type!==null&&this.type!==void 0&&(y.writeFieldBegin("type",o.Type.I32,1),y.writeI32(this.type),y.writeFieldEnd()),this.hints!==null&&this.hints!==void 0){y.writeFieldBegin("hints",o.Type.LIST,2),y.writeListBegin(o.Type.STRING,this.hints.length);for(let m in this.hints)this.hints.hasOwnProperty(m)&&(m=this.hints[m],y.writeString(m));y.writeListEnd(),y.writeFieldEnd()}this.replaced!==null&&this.replaced!==void 0&&(y.writeFieldBegin("replaced",o.Type.STRING,3),y.writeString(this.replaced),y.writeFieldEnd()),y.writeFieldStop(),y.writeStructEnd()}}},1396:(c,d,f)=>{const o=f(9262).Thrift;f(135);const g=c.exports={};g.TExtArgumentType={Int8:0,Int16:1,Int32:2,Int64:3,Float:4,Double:5,Void:6,PInt8:7,PInt16:8,PInt32:9,PInt64:10,PFloat:11,PDouble:12,PBool:13,Bool:14,ArrayInt8:15,ArrayInt16:16,ArrayInt32:17,ArrayInt64:18,ArrayFloat:19,ArrayDouble:20,ArrayBool:21,GeoPoint:22,GeoLineString:23,Cursor:24,GeoPolygon:25,GeoMultiPolygon:26,ColumnInt8:27,ColumnInt16:28,ColumnInt32:29,ColumnInt64:30,ColumnFloat:31,ColumnDouble:32,ColumnBool:33,TextEncodingNone:34,TextEncodingDict:35,ColumnListInt8:36,ColumnListInt16:37,ColumnListInt32:38,ColumnListInt64:39,ColumnListFloat:40,ColumnListDouble:41,ColumnListBool:42,ColumnTextEncodingDict:43,ColumnListTextEncodingDict:44,ColumnTimestamp:45,Timestamp:46},g.TOutputBufferSizeType={kConstant:0,kUserSpecifiedConstantParameter:1,kUserSpecifiedRowMultiplier:2,kTableFunctionSpecifiedParameter:3,kPreFlightParameter:4},c.exports.TUserDefinedFunction=class{constructor(y){this.name=null,this.argTypes=null,this.retType=null,y&&(y.name!==void 0&&y.name!==null&&(this.name=y.name),y.argTypes!==void 0&&y.argTypes!==null&&(this.argTypes=o.copyList(y.argTypes,[null])),y.retType!==void 0&&y.retType!==null&&(this.retType=y.retType))}read(y){for(y.readStructBegin();;){const m=y.readFieldBegin(),l=m.ftype,b=m.fid;if(l==o.Type.STOP)break;switch(b){case 1:l==o.Type.STRING?this.name=y.readString():y.skip(l);break;case 2:if(l==o.Type.LIST){this.argTypes=[];const E=y.readListBegin().size||0;for(let S=0;S<E;++S){let x=null;x=y.readI32(),this.argTypes.push(x)}y.readListEnd()}else y.skip(l);break;case 3:l==o.Type.I32?this.retType=y.readI32():y.skip(l);break;default:y.skip(l)}y.readFieldEnd()}y.readStructEnd()}write(y){if(y.writeStructBegin("TUserDefinedFunction"),this.name!==null&&this.name!==void 0&&(y.writeFieldBegin("name",o.Type.STRING,1),y.writeString(this.name),y.writeFieldEnd()),this.argTypes!==null&&this.argTypes!==void 0){y.writeFieldBegin("argTypes",o.Type.LIST,2),y.writeListBegin(o.Type.I32,this.argTypes.length);for(let m in this.argTypes)this.argTypes.hasOwnProperty(m)&&(m=this.argTypes[m],y.writeI32(m));y.writeListEnd(),y.writeFieldEnd()}this.retType!==null&&this.retType!==void 0&&(y.writeFieldBegin("retType",o.Type.I32,3),y.writeI32(this.retType),y.writeFieldEnd()),y.writeFieldStop(),y.writeStructEnd()}},c.exports.TUserDefinedTableFunction=class{constructor(y){this.name=null,this.sizerType=null,this.sizerArgPos=null,this.inputArgTypes=null,this.outputArgTypes=null,this.sqlArgTypes=null,this.annotations=null,y&&(y.name!==void 0&&y.name!==null&&(this.name=y.name),y.sizerType!==void 0&&y.sizerType!==null&&(this.sizerType=y.sizerType),y.sizerArgPos!==void 0&&y.sizerArgPos!==null&&(this.sizerArgPos=y.sizerArgPos),y.inputArgTypes!==void 0&&y.inputArgTypes!==null&&(this.inputArgTypes=o.copyList(y.inputArgTypes,[null])),y.outputArgTypes!==void 0&&y.outputArgTypes!==null&&(this.outputArgTypes=o.copyList(y.outputArgTypes,[null])),y.sqlArgTypes!==void 0&&y.sqlArgTypes!==null&&(this.sqlArgTypes=o.copyList(y.sqlArgTypes,[null])),y.annotations!==void 0&&y.annotations!==null&&(this.annotations=o.copyList(y.annotations,[o.copyMap,null])))}read(y){for(y.readStructBegin();;){const m=y.readFieldBegin(),l=m.ftype,b=m.fid;if(l==o.Type.STOP)break;switch(b){case 1:l==o.Type.STRING?this.name=y.readString():y.skip(l);break;case 2:l==o.Type.I32?this.sizerType=y.readI32():y.skip(l);break;case 3:l==o.Type.I32?this.sizerArgPos=y.readI32():y.skip(l);break;case 4:if(l==o.Type.LIST){this.inputArgTypes=[];const E=y.readListBegin().size||0;for(let S=0;S<E;++S){let x=null;x=y.readI32(),this.inputArgTypes.push(x)}y.readListEnd()}else y.skip(l);break;case 5:if(l==o.Type.LIST){this.outputArgTypes=[];const E=y.readListBegin().size||0;for(let S=0;S<E;++S){let x=null;x=y.readI32(),this.outputArgTypes.push(x)}y.readListEnd()}else y.skip(l);break;case 6:if(l==o.Type.LIST){this.sqlArgTypes=[];const E=y.readListBegin().size||0;for(let S=0;S<E;++S){let x=null;x=y.readI32(),this.sqlArgTypes.push(x)}y.readListEnd()}else y.skip(l);break;case 7:if(l==o.Type.LIST){this.annotations=[];const E=y.readListBegin().size||0;for(let S=0;S<E;++S){let x=null;x={};const B=y.readMapBegin().size||0;for(let A=0;A<B;++A){let M=null,C=null;M=y.readString(),C=y.readString(),x[M]=C}y.readMapEnd(),this.annotations.push(x)}y.readListEnd()}else y.skip(l);break;default:y.skip(l)}y.readFieldEnd()}y.readStructEnd()}write(y){if(y.writeStructBegin("TUserDefinedTableFunction"),this.name!==null&&this.name!==void 0&&(y.writeFieldBegin("name",o.Type.STRING,1),y.writeString(this.name),y.writeFieldEnd()),this.sizerType!==null&&this.sizerType!==void 0&&(y.writeFieldBegin("sizerType",o.Type.I32,2),y.writeI32(this.sizerType),y.writeFieldEnd()),this.sizerArgPos!==null&&this.sizerArgPos!==void 0&&(y.writeFieldBegin("sizerArgPos",o.Type.I32,3),y.writeI32(this.sizerArgPos),y.writeFieldEnd()),this.inputArgTypes!==null&&this.inputArgTypes!==void 0){y.writeFieldBegin("inputArgTypes",o.Type.LIST,4),y.writeListBegin(o.Type.I32,this.inputArgTypes.length);for(let m in this.inputArgTypes)this.inputArgTypes.hasOwnProperty(m)&&(m=this.inputArgTypes[m],y.writeI32(m));y.writeListEnd(),y.writeFieldEnd()}if(this.outputArgTypes!==null&&this.outputArgTypes!==void 0){y.writeFieldBegin("outputArgTypes",o.Type.LIST,5),y.writeListBegin(o.Type.I32,this.outputArgTypes.length);for(let m in this.outputArgTypes)this.outputArgTypes.hasOwnProperty(m)&&(m=this.outputArgTypes[m],y.writeI32(m));y.writeListEnd(),y.writeFieldEnd()}if(this.sqlArgTypes!==null&&this.sqlArgTypes!==void 0){y.writeFieldBegin("sqlArgTypes",o.Type.LIST,6),y.writeListBegin(o.Type.I32,this.sqlArgTypes.length);for(let m in this.sqlArgTypes)this.sqlArgTypes.hasOwnProperty(m)&&(m=this.sqlArgTypes[m],y.writeI32(m));y.writeListEnd(),y.writeFieldEnd()}if(this.annotations!==null&&this.annotations!==void 0){y.writeFieldBegin("annotations",o.Type.LIST,7),y.writeListBegin(o.Type.MAP,this.annotations.length);for(let m in this.annotations)if(this.annotations.hasOwnProperty(m)){m=this.annotations[m],y.writeMapBegin(o.Type.STRING,o.Type.STRING,o.objectLength(m));for(let l in m)if(m.hasOwnProperty(l)){let b=m[l];y.writeString(l),y.writeString(b)}y.writeMapEnd()}y.writeListEnd(),y.writeFieldEnd()}y.writeFieldStop(),y.writeStructEnd()}}},2607:(c,d,f)=>{const o=f(9262).Thrift;f(135);const g=f(2818);f(4494);const y=f(3962);f(1396);const m=c.exports={};m.TExecuteMode={GPU:1,CPU:2},m.TSourceType={DELIMITED_FILE:0,GEO_FILE:1,PARQUET_FILE:2,RASTER_FILE:3,ODBC:4},m.TPartitionDetail={DEFAULT:0,REPLICATED:1,SHARDED:2,OTHER:3},m.TGeoFileLayerContents={EMPTY:0,GEO:1,NON_GEO:2,UNSUPPORTED_GEO:3},m.TImportHeaderRow={AUTODETECT:0,NO_HEADER:1,HAS_HEADER:2},m.TRole={SERVER:0,AGGREGATOR:1,LEAF:2,STRING_DICTIONARY:3},m.TTableType={DEFAULT:0,TEMPORARY:1,FOREIGN:2,VIEW:3},m.TTableRefreshUpdateType={ALL:0,APPEND:1},m.TTableRefreshTimingType={MANUAL:0,SCHEDULED:1},m.TTableRefreshIntervalType={NONE:0,HOUR:1,DAY:2},m.TMergeType={UNION:0,REDUCE:1},m.TRasterPointType={NONE:0,AUTO:1,SMALLINT:2,INT:3,FLOAT:4,DOUBLE:5,POINT:6},m.TRasterPointTransform={NONE:0,AUTO:1,FILE:2,WORLD:3},m.TQueryType={UNKNOWN:0,READ:1,WRITE:2,SCHEMA_READ:3,SCHEMA_WRITE:4},m.TArrowTransport={SHARED_MEMORY:0,WIRE:1},m.TExpressionRangeType={INVALID:0,INTEGER:1,FLOAT:2,DOUBLE:3},m.TDBObjectType={AbstractDBObjectType:0,DatabaseDBObjectType:1,TableDBObjectType:2,DashboardDBObjectType:3,ViewDBObjectType:4,ServerDBObjectType:5},m.TDataSourceType={TABLE:0},c.exports.TDatumVal=class{constructor(l){this.int_val=null,this.real_val=null,this.str_val=null,this.arr_val=null,l&&(l.int_val!==void 0&&l.int_val!==null&&(this.int_val=l.int_val),l.real_val!==void 0&&l.real_val!==null&&(this.real_val=l.real_val),l.str_val!==void 0&&l.str_val!==null&&(this.str_val=l.str_val),l.arr_val!==void 0&&l.arr_val!==null&&(this.arr_val=o.copyList(l.arr_val,[null])))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I64?this.int_val=l.readI64():l.skip(L);break;case 2:L==o.Type.DOUBLE?this.real_val=l.readDouble():l.skip(L);break;case 3:L==o.Type.STRING?this.str_val=l.readString():l.skip(L);break;case 4:if(L==o.Type.LIST){this.arr_val=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TDatum,B.read(l),this.arr_val.push(B)}l.readListEnd()}else l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TDatumVal"),this.int_val!==null&&this.int_val!==void 0&&(l.writeFieldBegin("int_val",o.Type.I64,1),l.writeI64(this.int_val),l.writeFieldEnd()),this.real_val!==null&&this.real_val!==void 0&&(l.writeFieldBegin("real_val",o.Type.DOUBLE,2),l.writeDouble(this.real_val),l.writeFieldEnd()),this.str_val!==null&&this.str_val!==void 0&&(l.writeFieldBegin("str_val",o.Type.STRING,3),l.writeString(this.str_val),l.writeFieldEnd()),this.arr_val!==null&&this.arr_val!==void 0){l.writeFieldBegin("arr_val",o.Type.LIST,4),l.writeListBegin(o.Type.STRUCT,this.arr_val.length);for(let b in this.arr_val)this.arr_val.hasOwnProperty(b)&&(b=this.arr_val[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDatum=class{constructor(l){this.val=null,this.is_null=null,l&&(l.val!==void 0&&l.val!==null&&(this.val=new m.TDatumVal(l.val)),l.is_null!==void 0&&l.is_null!==null&&(this.is_null=l.is_null))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRUCT?(this.val=new m.TDatumVal,this.val.read(l)):l.skip(L);break;case 2:L==o.Type.BOOL?this.is_null=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDatum"),this.val!==null&&this.val!==void 0&&(l.writeFieldBegin("val",o.Type.STRUCT,1),this.val.write(l),l.writeFieldEnd()),this.is_null!==null&&this.is_null!==void 0&&(l.writeFieldBegin("is_null",o.Type.BOOL,2),l.writeBool(this.is_null),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TStringValue=class{constructor(l){this.str_val=null,this.is_null=null,l&&(l.str_val!==void 0&&l.str_val!==null&&(this.str_val=l.str_val),l.is_null!==void 0&&l.is_null!==null&&(this.is_null=l.is_null))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.str_val=l.readString():l.skip(L);break;case 2:L==o.Type.BOOL?this.is_null=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TStringValue"),this.str_val!==null&&this.str_val!==void 0&&(l.writeFieldBegin("str_val",o.Type.STRING,1),l.writeString(this.str_val),l.writeFieldEnd()),this.is_null!==null&&this.is_null!==void 0&&(l.writeFieldBegin("is_null",o.Type.BOOL,2),l.writeBool(this.is_null),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TColumnType=class{constructor(l){this.col_name=null,this.col_type=null,this.is_reserved_keyword=null,this.src_name=null,this.is_system=null,this.is_physical=null,this.col_id=null,this.default_value=null,l&&(l.col_name!==void 0&&l.col_name!==null&&(this.col_name=l.col_name),l.col_type!==void 0&&l.col_type!==null&&(this.col_type=new g.TTypeInfo(l.col_type)),l.is_reserved_keyword!==void 0&&l.is_reserved_keyword!==null&&(this.is_reserved_keyword=l.is_reserved_keyword),l.src_name!==void 0&&l.src_name!==null&&(this.src_name=l.src_name),l.is_system!==void 0&&l.is_system!==null&&(this.is_system=l.is_system),l.is_physical!==void 0&&l.is_physical!==null&&(this.is_physical=l.is_physical),l.col_id!==void 0&&l.col_id!==null&&(this.col_id=l.col_id),l.default_value!==void 0&&l.default_value!==null&&(this.default_value=l.default_value))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.col_name=l.readString():l.skip(L);break;case 2:L==o.Type.STRUCT?(this.col_type=new g.TTypeInfo,this.col_type.read(l)):l.skip(L);break;case 3:L==o.Type.BOOL?this.is_reserved_keyword=l.readBool():l.skip(L);break;case 4:L==o.Type.STRING?this.src_name=l.readString():l.skip(L);break;case 5:L==o.Type.BOOL?this.is_system=l.readBool():l.skip(L);break;case 6:L==o.Type.BOOL?this.is_physical=l.readBool():l.skip(L);break;case 7:L==o.Type.I64?this.col_id=l.readI64():l.skip(L);break;case 8:L==o.Type.STRING?this.default_value=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TColumnType"),this.col_name!==null&&this.col_name!==void 0&&(l.writeFieldBegin("col_name",o.Type.STRING,1),l.writeString(this.col_name),l.writeFieldEnd()),this.col_type!==null&&this.col_type!==void 0&&(l.writeFieldBegin("col_type",o.Type.STRUCT,2),this.col_type.write(l),l.writeFieldEnd()),this.is_reserved_keyword!==null&&this.is_reserved_keyword!==void 0&&(l.writeFieldBegin("is_reserved_keyword",o.Type.BOOL,3),l.writeBool(this.is_reserved_keyword),l.writeFieldEnd()),this.src_name!==null&&this.src_name!==void 0&&(l.writeFieldBegin("src_name",o.Type.STRING,4),l.writeString(this.src_name),l.writeFieldEnd()),this.is_system!==null&&this.is_system!==void 0&&(l.writeFieldBegin("is_system",o.Type.BOOL,5),l.writeBool(this.is_system),l.writeFieldEnd()),this.is_physical!==null&&this.is_physical!==void 0&&(l.writeFieldBegin("is_physical",o.Type.BOOL,6),l.writeBool(this.is_physical),l.writeFieldEnd()),this.col_id!==null&&this.col_id!==void 0&&(l.writeFieldBegin("col_id",o.Type.I64,7),l.writeI64(this.col_id),l.writeFieldEnd()),this.default_value!==null&&this.default_value!==void 0&&(l.writeFieldBegin("default_value",o.Type.STRING,8),l.writeString(this.default_value),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TRow=class{constructor(l){this.cols=null,l&&l.cols!==void 0&&l.cols!==null&&(this.cols=o.copyList(l.cols,[m.TDatum]))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:if(L==o.Type.LIST){this.cols=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TDatum,B.read(l),this.cols.push(B)}l.readListEnd()}else l.skip(L);break;case 0:l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TRow"),this.cols!==null&&this.cols!==void 0){l.writeFieldBegin("cols",o.Type.LIST,1),l.writeListBegin(o.Type.STRUCT,this.cols.length);for(let b in this.cols)this.cols.hasOwnProperty(b)&&(b=this.cols[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TColumnData=class{constructor(l){this.int_col=null,this.real_col=null,this.str_col=null,this.arr_col=null,l&&(l.int_col!==void 0&&l.int_col!==null&&(this.int_col=o.copyList(l.int_col,[null])),l.real_col!==void 0&&l.real_col!==null&&(this.real_col=o.copyList(l.real_col,[null])),l.str_col!==void 0&&l.str_col!==null&&(this.str_col=o.copyList(l.str_col,[null])),l.arr_col!==void 0&&l.arr_col!==null&&(this.arr_col=o.copyList(l.arr_col,[null])))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:if(L==o.Type.LIST){this.int_col=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readI64(),this.int_col.push(B)}l.readListEnd()}else l.skip(L);break;case 2:if(L==o.Type.LIST){this.real_col=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readDouble(),this.real_col.push(B)}l.readListEnd()}else l.skip(L);break;case 3:if(L==o.Type.LIST){this.str_col=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readString(),this.str_col.push(B)}l.readListEnd()}else l.skip(L);break;case 4:if(L==o.Type.LIST){this.arr_col=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TColumn,B.read(l),this.arr_col.push(B)}l.readListEnd()}else l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TColumnData"),this.int_col!==null&&this.int_col!==void 0){l.writeFieldBegin("int_col",o.Type.LIST,1),l.writeListBegin(o.Type.I64,this.int_col.length);for(let b in this.int_col)this.int_col.hasOwnProperty(b)&&(b=this.int_col[b],l.writeI64(b));l.writeListEnd(),l.writeFieldEnd()}if(this.real_col!==null&&this.real_col!==void 0){l.writeFieldBegin("real_col",o.Type.LIST,2),l.writeListBegin(o.Type.DOUBLE,this.real_col.length);for(let b in this.real_col)this.real_col.hasOwnProperty(b)&&(b=this.real_col[b],l.writeDouble(b));l.writeListEnd(),l.writeFieldEnd()}if(this.str_col!==null&&this.str_col!==void 0){l.writeFieldBegin("str_col",o.Type.LIST,3),l.writeListBegin(o.Type.STRING,this.str_col.length);for(let b in this.str_col)this.str_col.hasOwnProperty(b)&&(b=this.str_col[b],l.writeString(b));l.writeListEnd(),l.writeFieldEnd()}if(this.arr_col!==null&&this.arr_col!==void 0){l.writeFieldBegin("arr_col",o.Type.LIST,4),l.writeListBegin(o.Type.STRUCT,this.arr_col.length);for(let b in this.arr_col)this.arr_col.hasOwnProperty(b)&&(b=this.arr_col[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TColumn=class{constructor(l){this.data=null,this.nulls=null,l&&(l.data!==void 0&&l.data!==null&&(this.data=new m.TColumnData(l.data)),l.nulls!==void 0&&l.nulls!==null&&(this.nulls=o.copyList(l.nulls,[null])))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRUCT?(this.data=new m.TColumnData,this.data.read(l)):l.skip(L);break;case 2:if(L==o.Type.LIST){this.nulls=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readBool(),this.nulls.push(B)}l.readListEnd()}else l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TColumn"),this.data!==null&&this.data!==void 0&&(l.writeFieldBegin("data",o.Type.STRUCT,1),this.data.write(l),l.writeFieldEnd()),this.nulls!==null&&this.nulls!==void 0){l.writeFieldBegin("nulls",o.Type.LIST,2),l.writeListBegin(o.Type.BOOL,this.nulls.length);for(let b in this.nulls)this.nulls.hasOwnProperty(b)&&(b=this.nulls[b],l.writeBool(b));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TStringRow=class{constructor(l){this.cols=null,l&&l.cols!==void 0&&l.cols!==null&&(this.cols=o.copyList(l.cols,[m.TStringValue]))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:if(L==o.Type.LIST){this.cols=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TStringValue,B.read(l),this.cols.push(B)}l.readListEnd()}else l.skip(L);break;case 0:l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TStringRow"),this.cols!==null&&this.cols!==void 0){l.writeFieldBegin("cols",o.Type.LIST,1),l.writeListBegin(o.Type.STRUCT,this.cols.length);for(let b in this.cols)this.cols.hasOwnProperty(b)&&(b=this.cols[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TKrb5Session=class{constructor(l){this.sessionId=null,this.krbToken=null,l&&(l.sessionId!==void 0&&l.sessionId!==null&&(this.sessionId=l.sessionId),l.krbToken!==void 0&&l.krbToken!==null&&(this.krbToken=l.krbToken))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.sessionId=l.readString():l.skip(L);break;case 2:L==o.Type.STRING?this.krbToken=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TKrb5Session"),this.sessionId!==null&&this.sessionId!==void 0&&(l.writeFieldBegin("sessionId",o.Type.STRING,1),l.writeString(this.sessionId),l.writeFieldEnd()),this.krbToken!==null&&this.krbToken!==void 0&&(l.writeFieldBegin("krbToken",o.Type.STRING,2),l.writeString(this.krbToken),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TStepResult=class{constructor(l){this.serialized_rows=null,this.execution_finished=null,this.merge_type=null,this.sharded=null,this.row_desc=null,this.node_id=null,l&&(l.serialized_rows!==void 0&&l.serialized_rows!==null&&(this.serialized_rows=new y.TSerializedRows(l.serialized_rows)),l.execution_finished!==void 0&&l.execution_finished!==null&&(this.execution_finished=l.execution_finished),l.merge_type!==void 0&&l.merge_type!==null&&(this.merge_type=l.merge_type),l.sharded!==void 0&&l.sharded!==null&&(this.sharded=l.sharded),l.row_desc!==void 0&&l.row_desc!==null&&(this.row_desc=o.copyList(l.row_desc,[m.TColumnType])),l.node_id!==void 0&&l.node_id!==null&&(this.node_id=l.node_id))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRUCT?(this.serialized_rows=new y.TSerializedRows,this.serialized_rows.read(l)):l.skip(L);break;case 2:L==o.Type.BOOL?this.execution_finished=l.readBool():l.skip(L);break;case 3:L==o.Type.I32?this.merge_type=l.readI32():l.skip(L);break;case 4:L==o.Type.BOOL?this.sharded=l.readBool():l.skip(L);break;case 5:if(L==o.Type.LIST){this.row_desc=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TColumnType,B.read(l),this.row_desc.push(B)}l.readListEnd()}else l.skip(L);break;case 6:L==o.Type.I32?this.node_id=l.readI32():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TStepResult"),this.serialized_rows!==null&&this.serialized_rows!==void 0&&(l.writeFieldBegin("serialized_rows",o.Type.STRUCT,1),this.serialized_rows.write(l),l.writeFieldEnd()),this.execution_finished!==null&&this.execution_finished!==void 0&&(l.writeFieldBegin("execution_finished",o.Type.BOOL,2),l.writeBool(this.execution_finished),l.writeFieldEnd()),this.merge_type!==null&&this.merge_type!==void 0&&(l.writeFieldBegin("merge_type",o.Type.I32,3),l.writeI32(this.merge_type),l.writeFieldEnd()),this.sharded!==null&&this.sharded!==void 0&&(l.writeFieldBegin("sharded",o.Type.BOOL,4),l.writeBool(this.sharded),l.writeFieldEnd()),this.row_desc!==null&&this.row_desc!==void 0){l.writeFieldBegin("row_desc",o.Type.LIST,5),l.writeListBegin(o.Type.STRUCT,this.row_desc.length);for(let b in this.row_desc)this.row_desc.hasOwnProperty(b)&&(b=this.row_desc[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}this.node_id!==null&&this.node_id!==void 0&&(l.writeFieldBegin("node_id",o.Type.I32,6),l.writeI32(this.node_id),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TRowSet=class{constructor(l){this.row_desc=null,this.rows=null,this.columns=null,this.is_columnar=null,l&&(l.row_desc!==void 0&&l.row_desc!==null&&(this.row_desc=o.copyList(l.row_desc,[m.TColumnType])),l.rows!==void 0&&l.rows!==null&&(this.rows=o.copyList(l.rows,[m.TRow])),l.columns!==void 0&&l.columns!==null&&(this.columns=o.copyList(l.columns,[m.TColumn])),l.is_columnar!==void 0&&l.is_columnar!==null&&(this.is_columnar=l.is_columnar))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:if(L==o.Type.LIST){this.row_desc=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TColumnType,B.read(l),this.row_desc.push(B)}l.readListEnd()}else l.skip(L);break;case 2:if(L==o.Type.LIST){this.rows=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TRow,B.read(l),this.rows.push(B)}l.readListEnd()}else l.skip(L);break;case 3:if(L==o.Type.LIST){this.columns=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TColumn,B.read(l),this.columns.push(B)}l.readListEnd()}else l.skip(L);break;case 4:L==o.Type.BOOL?this.is_columnar=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TRowSet"),this.row_desc!==null&&this.row_desc!==void 0){l.writeFieldBegin("row_desc",o.Type.LIST,1),l.writeListBegin(o.Type.STRUCT,this.row_desc.length);for(let b in this.row_desc)this.row_desc.hasOwnProperty(b)&&(b=this.row_desc[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}if(this.rows!==null&&this.rows!==void 0){l.writeFieldBegin("rows",o.Type.LIST,2),l.writeListBegin(o.Type.STRUCT,this.rows.length);for(let b in this.rows)this.rows.hasOwnProperty(b)&&(b=this.rows[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}if(this.columns!==null&&this.columns!==void 0){l.writeFieldBegin("columns",o.Type.LIST,3),l.writeListBegin(o.Type.STRUCT,this.columns.length);for(let b in this.columns)this.columns.hasOwnProperty(b)&&(b=this.columns[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}this.is_columnar!==null&&this.is_columnar!==void 0&&(l.writeFieldBegin("is_columnar",o.Type.BOOL,4),l.writeBool(this.is_columnar),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TQueryResult=class{constructor(l){this.row_set=null,this.execution_time_ms=null,this.total_time_ms=null,this.nonce=null,this.debug=null,this.success=!0,this.query_type=0,l&&(l.row_set!==void 0&&l.row_set!==null&&(this.row_set=new m.TRowSet(l.row_set)),l.execution_time_ms!==void 0&&l.execution_time_ms!==null&&(this.execution_time_ms=l.execution_time_ms),l.total_time_ms!==void 0&&l.total_time_ms!==null&&(this.total_time_ms=l.total_time_ms),l.nonce!==void 0&&l.nonce!==null&&(this.nonce=l.nonce),l.debug!==void 0&&l.debug!==null&&(this.debug=l.debug),l.success!==void 0&&l.success!==null&&(this.success=l.success),l.query_type!==void 0&&l.query_type!==null&&(this.query_type=l.query_type))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRUCT?(this.row_set=new m.TRowSet,this.row_set.read(l)):l.skip(L);break;case 2:L==o.Type.I64?this.execution_time_ms=l.readI64():l.skip(L);break;case 3:L==o.Type.I64?this.total_time_ms=l.readI64():l.skip(L);break;case 4:L==o.Type.STRING?this.nonce=l.readString():l.skip(L);break;case 5:L==o.Type.STRING?this.debug=l.readString():l.skip(L);break;case 6:L==o.Type.BOOL?this.success=l.readBool():l.skip(L);break;case 7:L==o.Type.I32?this.query_type=l.readI32():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TQueryResult"),this.row_set!==null&&this.row_set!==void 0&&(l.writeFieldBegin("row_set",o.Type.STRUCT,1),this.row_set.write(l),l.writeFieldEnd()),this.execution_time_ms!==null&&this.execution_time_ms!==void 0&&(l.writeFieldBegin("execution_time_ms",o.Type.I64,2),l.writeI64(this.execution_time_ms),l.writeFieldEnd()),this.total_time_ms!==null&&this.total_time_ms!==void 0&&(l.writeFieldBegin("total_time_ms",o.Type.I64,3),l.writeI64(this.total_time_ms),l.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(l.writeFieldBegin("nonce",o.Type.STRING,4),l.writeString(this.nonce),l.writeFieldEnd()),this.debug!==null&&this.debug!==void 0&&(l.writeFieldBegin("debug",o.Type.STRING,5),l.writeString(this.debug),l.writeFieldEnd()),this.success!==null&&this.success!==void 0&&(l.writeFieldBegin("success",o.Type.BOOL,6),l.writeBool(this.success),l.writeFieldEnd()),this.query_type!==null&&this.query_type!==void 0&&(l.writeFieldBegin("query_type",o.Type.I32,7),l.writeI32(this.query_type),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDataFrame=class{constructor(l){this.sm_handle=null,this.sm_size=null,this.df_handle=null,this.df_size=null,this.execution_time_ms=null,this.arrow_conversion_time_ms=null,this.df_buffer=null,l&&(l.sm_handle!==void 0&&l.sm_handle!==null&&(this.sm_handle=l.sm_handle),l.sm_size!==void 0&&l.sm_size!==null&&(this.sm_size=l.sm_size),l.df_handle!==void 0&&l.df_handle!==null&&(this.df_handle=l.df_handle),l.df_size!==void 0&&l.df_size!==null&&(this.df_size=l.df_size),l.execution_time_ms!==void 0&&l.execution_time_ms!==null&&(this.execution_time_ms=l.execution_time_ms),l.arrow_conversion_time_ms!==void 0&&l.arrow_conversion_time_ms!==null&&(this.arrow_conversion_time_ms=l.arrow_conversion_time_ms),l.df_buffer!==void 0&&l.df_buffer!==null&&(this.df_buffer=l.df_buffer))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.sm_handle=l.readBinary():l.skip(L);break;case 2:L==o.Type.I64?this.sm_size=l.readI64():l.skip(L);break;case 3:L==o.Type.STRING?this.df_handle=l.readBinary():l.skip(L);break;case 4:L==o.Type.I64?this.df_size=l.readI64():l.skip(L);break;case 5:L==o.Type.I64?this.execution_time_ms=l.readI64():l.skip(L);break;case 6:L==o.Type.I64?this.arrow_conversion_time_ms=l.readI64():l.skip(L);break;case 7:L==o.Type.STRING?this.df_buffer=l.readBinary():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDataFrame"),this.sm_handle!==null&&this.sm_handle!==void 0&&(l.writeFieldBegin("sm_handle",o.Type.STRING,1),l.writeBinary(this.sm_handle),l.writeFieldEnd()),this.sm_size!==null&&this.sm_size!==void 0&&(l.writeFieldBegin("sm_size",o.Type.I64,2),l.writeI64(this.sm_size),l.writeFieldEnd()),this.df_handle!==null&&this.df_handle!==void 0&&(l.writeFieldBegin("df_handle",o.Type.STRING,3),l.writeBinary(this.df_handle),l.writeFieldEnd()),this.df_size!==null&&this.df_size!==void 0&&(l.writeFieldBegin("df_size",o.Type.I64,4),l.writeI64(this.df_size),l.writeFieldEnd()),this.execution_time_ms!==null&&this.execution_time_ms!==void 0&&(l.writeFieldBegin("execution_time_ms",o.Type.I64,5),l.writeI64(this.execution_time_ms),l.writeFieldEnd()),this.arrow_conversion_time_ms!==null&&this.arrow_conversion_time_ms!==void 0&&(l.writeFieldBegin("arrow_conversion_time_ms",o.Type.I64,6),l.writeI64(this.arrow_conversion_time_ms),l.writeFieldEnd()),this.df_buffer!==null&&this.df_buffer!==void 0&&(l.writeFieldBegin("df_buffer",o.Type.STRING,7),l.writeBinary(this.df_buffer),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDBInfo=class{constructor(l){this.db_name=null,this.db_owner=null,l&&(l.db_name!==void 0&&l.db_name!==null&&(this.db_name=l.db_name),l.db_owner!==void 0&&l.db_owner!==null&&(this.db_owner=l.db_owner))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.db_name=l.readString():l.skip(L);break;case 2:L==o.Type.STRING?this.db_owner=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDBInfo"),this.db_name!==null&&this.db_name!==void 0&&(l.writeFieldBegin("db_name",o.Type.STRING,1),l.writeString(this.db_name),l.writeFieldEnd()),this.db_owner!==null&&this.db_owner!==void 0&&(l.writeFieldBegin("db_owner",o.Type.STRING,2),l.writeString(this.db_owner),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDBException=class extends o.TException{constructor(l){super(l),this.name="TDBException",this.error_msg=null,l&&l.error_msg!==void 0&&l.error_msg!==null&&(this.error_msg=l.error_msg)}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.error_msg=l.readString():l.skip(L);break;case 0:l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDBException"),this.error_msg!==null&&this.error_msg!==void 0&&(l.writeFieldBegin("error_msg",o.Type.STRING,1),l.writeString(this.error_msg),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TCopyParams=class{constructor(l){this.delimiter=null,this.null_str=null,this.has_header=0,this.quoted=null,this.quote=null,this.escape=null,this.line_delim=null,this.array_delim=null,this.array_begin=null,this.array_end=null,this.threads=null,this.source_type=0,this.s3_access_key=null,this.s3_secret_key=null,this.s3_region=null,this.geo_coords_encoding=6,this.geo_coords_comp_param=32,this.geo_coords_type=18,this.geo_coords_srid=4326,this.sanitize_column_names=!0,this.geo_layer_name=null,this.s3_endpoint=null,this.geo_assign_render_groups=!0,this.geo_explode_collections=!1,this.source_srid=0,this.s3_session_token=null,this.raster_point_type=1,this.raster_import_bands=null,this.raster_scanlines_per_thread=null,this.raster_point_transform=1,this.raster_point_compute_angle=!1,this.raster_import_dimensions=null,this.odbc_dsn=null,this.odbc_connection_string=null,this.odbc_sql_select=null,this.odbc_sql_order_by=null,this.odbc_username=null,this.odbc_password=null,this.odbc_credential_string=null,this.add_metadata_columns=null,l&&(l.delimiter!==void 0&&l.delimiter!==null&&(this.delimiter=l.delimiter),l.null_str!==void 0&&l.null_str!==null&&(this.null_str=l.null_str),l.has_header!==void 0&&l.has_header!==null&&(this.has_header=l.has_header),l.quoted!==void 0&&l.quoted!==null&&(this.quoted=l.quoted),l.quote!==void 0&&l.quote!==null&&(this.quote=l.quote),l.escape!==void 0&&l.escape!==null&&(this.escape=l.escape),l.line_delim!==void 0&&l.line_delim!==null&&(this.line_delim=l.line_delim),l.array_delim!==void 0&&l.array_delim!==null&&(this.array_delim=l.array_delim),l.array_begin!==void 0&&l.array_begin!==null&&(this.array_begin=l.array_begin),l.array_end!==void 0&&l.array_end!==null&&(this.array_end=l.array_end),l.threads!==void 0&&l.threads!==null&&(this.threads=l.threads),l.source_type!==void 0&&l.source_type!==null&&(this.source_type=l.source_type),l.s3_access_key!==void 0&&l.s3_access_key!==null&&(this.s3_access_key=l.s3_access_key),l.s3_secret_key!==void 0&&l.s3_secret_key!==null&&(this.s3_secret_key=l.s3_secret_key),l.s3_region!==void 0&&l.s3_region!==null&&(this.s3_region=l.s3_region),l.geo_coords_encoding!==void 0&&l.geo_coords_encoding!==null&&(this.geo_coords_encoding=l.geo_coords_encoding),l.geo_coords_comp_param!==void 0&&l.geo_coords_comp_param!==null&&(this.geo_coords_comp_param=l.geo_coords_comp_param),l.geo_coords_type!==void 0&&l.geo_coords_type!==null&&(this.geo_coords_type=l.geo_coords_type),l.geo_coords_srid!==void 0&&l.geo_coords_srid!==null&&(this.geo_coords_srid=l.geo_coords_srid),l.sanitize_column_names!==void 0&&l.sanitize_column_names!==null&&(this.sanitize_column_names=l.sanitize_column_names),l.geo_layer_name!==void 0&&l.geo_layer_name!==null&&(this.geo_layer_name=l.geo_layer_name),l.s3_endpoint!==void 0&&l.s3_endpoint!==null&&(this.s3_endpoint=l.s3_endpoint),l.geo_assign_render_groups!==void 0&&l.geo_assign_render_groups!==null&&(this.geo_assign_render_groups=l.geo_assign_render_groups),l.geo_explode_collections!==void 0&&l.geo_explode_collections!==null&&(this.geo_explode_collections=l.geo_explode_collections),l.source_srid!==void 0&&l.source_srid!==null&&(this.source_srid=l.source_srid),l.s3_session_token!==void 0&&l.s3_session_token!==null&&(this.s3_session_token=l.s3_session_token),l.raster_point_type!==void 0&&l.raster_point_type!==null&&(this.raster_point_type=l.raster_point_type),l.raster_import_bands!==void 0&&l.raster_import_bands!==null&&(this.raster_import_bands=l.raster_import_bands),l.raster_scanlines_per_thread!==void 0&&l.raster_scanlines_per_thread!==null&&(this.raster_scanlines_per_thread=l.raster_scanlines_per_thread),l.raster_point_transform!==void 0&&l.raster_point_transform!==null&&(this.raster_point_transform=l.raster_point_transform),l.raster_point_compute_angle!==void 0&&l.raster_point_compute_angle!==null&&(this.raster_point_compute_angle=l.raster_point_compute_angle),l.raster_import_dimensions!==void 0&&l.raster_import_dimensions!==null&&(this.raster_import_dimensions=l.raster_import_dimensions),l.odbc_dsn!==void 0&&l.odbc_dsn!==null&&(this.odbc_dsn=l.odbc_dsn),l.odbc_connection_string!==void 0&&l.odbc_connection_string!==null&&(this.odbc_connection_string=l.odbc_connection_string),l.odbc_sql_select!==void 0&&l.odbc_sql_select!==null&&(this.odbc_sql_select=l.odbc_sql_select),l.odbc_sql_order_by!==void 0&&l.odbc_sql_order_by!==null&&(this.odbc_sql_order_by=l.odbc_sql_order_by),l.odbc_username!==void 0&&l.odbc_username!==null&&(this.odbc_username=l.odbc_username),l.odbc_password!==void 0&&l.odbc_password!==null&&(this.odbc_password=l.odbc_password),l.odbc_credential_string!==void 0&&l.odbc_credential_string!==null&&(this.odbc_credential_string=l.odbc_credential_string),l.add_metadata_columns!==void 0&&l.add_metadata_columns!==null&&(this.add_metadata_columns=l.add_metadata_columns))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.delimiter=l.readString():l.skip(L);break;case 2:L==o.Type.STRING?this.null_str=l.readString():l.skip(L);break;case 3:L==o.Type.I32?this.has_header=l.readI32():l.skip(L);break;case 4:L==o.Type.BOOL?this.quoted=l.readBool():l.skip(L);break;case 5:L==o.Type.STRING?this.quote=l.readString():l.skip(L);break;case 6:L==o.Type.STRING?this.escape=l.readString():l.skip(L);break;case 7:L==o.Type.STRING?this.line_delim=l.readString():l.skip(L);break;case 8:L==o.Type.STRING?this.array_delim=l.readString():l.skip(L);break;case 9:L==o.Type.STRING?this.array_begin=l.readString():l.skip(L);break;case 10:L==o.Type.STRING?this.array_end=l.readString():l.skip(L);break;case 11:L==o.Type.I32?this.threads=l.readI32():l.skip(L);break;case 12:L==o.Type.I32?this.source_type=l.readI32():l.skip(L);break;case 13:L==o.Type.STRING?this.s3_access_key=l.readString():l.skip(L);break;case 14:L==o.Type.STRING?this.s3_secret_key=l.readString():l.skip(L);break;case 15:L==o.Type.STRING?this.s3_region=l.readString():l.skip(L);break;case 16:L==o.Type.I32?this.geo_coords_encoding=l.readI32():l.skip(L);break;case 17:L==o.Type.I32?this.geo_coords_comp_param=l.readI32():l.skip(L);break;case 18:L==o.Type.I32?this.geo_coords_type=l.readI32():l.skip(L);break;case 19:L==o.Type.I32?this.geo_coords_srid=l.readI32():l.skip(L);break;case 20:L==o.Type.BOOL?this.sanitize_column_names=l.readBool():l.skip(L);break;case 21:L==o.Type.STRING?this.geo_layer_name=l.readString():l.skip(L);break;case 22:L==o.Type.STRING?this.s3_endpoint=l.readString():l.skip(L);break;case 23:L==o.Type.BOOL?this.geo_assign_render_groups=l.readBool():l.skip(L);break;case 24:L==o.Type.BOOL?this.geo_explode_collections=l.readBool():l.skip(L);break;case 25:L==o.Type.I32?this.source_srid=l.readI32():l.skip(L);break;case 26:L==o.Type.STRING?this.s3_session_token=l.readString():l.skip(L);break;case 27:L==o.Type.I32?this.raster_point_type=l.readI32():l.skip(L);break;case 28:L==o.Type.STRING?this.raster_import_bands=l.readString():l.skip(L);break;case 29:L==o.Type.I32?this.raster_scanlines_per_thread=l.readI32():l.skip(L);break;case 30:L==o.Type.I32?this.raster_point_transform=l.readI32():l.skip(L);break;case 31:L==o.Type.BOOL?this.raster_point_compute_angle=l.readBool():l.skip(L);break;case 32:L==o.Type.STRING?this.raster_import_dimensions=l.readString():l.skip(L);break;case 33:L==o.Type.STRING?this.odbc_dsn=l.readString():l.skip(L);break;case 34:L==o.Type.STRING?this.odbc_connection_string=l.readString():l.skip(L);break;case 35:L==o.Type.STRING?this.odbc_sql_select=l.readString():l.skip(L);break;case 36:L==o.Type.STRING?this.odbc_sql_order_by=l.readString():l.skip(L);break;case 37:L==o.Type.STRING?this.odbc_username=l.readString():l.skip(L);break;case 38:L==o.Type.STRING?this.odbc_password=l.readString():l.skip(L);break;case 39:L==o.Type.STRING?this.odbc_credential_string=l.readString():l.skip(L);break;case 40:L==o.Type.STRING?this.add_metadata_columns=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TCopyParams"),this.delimiter!==null&&this.delimiter!==void 0&&(l.writeFieldBegin("delimiter",o.Type.STRING,1),l.writeString(this.delimiter),l.writeFieldEnd()),this.null_str!==null&&this.null_str!==void 0&&(l.writeFieldBegin("null_str",o.Type.STRING,2),l.writeString(this.null_str),l.writeFieldEnd()),this.has_header!==null&&this.has_header!==void 0&&(l.writeFieldBegin("has_header",o.Type.I32,3),l.writeI32(this.has_header),l.writeFieldEnd()),this.quoted!==null&&this.quoted!==void 0&&(l.writeFieldBegin("quoted",o.Type.BOOL,4),l.writeBool(this.quoted),l.writeFieldEnd()),this.quote!==null&&this.quote!==void 0&&(l.writeFieldBegin("quote",o.Type.STRING,5),l.writeString(this.quote),l.writeFieldEnd()),this.escape!==null&&this.escape!==void 0&&(l.writeFieldBegin("escape",o.Type.STRING,6),l.writeString(this.escape),l.writeFieldEnd()),this.line_delim!==null&&this.line_delim!==void 0&&(l.writeFieldBegin("line_delim",o.Type.STRING,7),l.writeString(this.line_delim),l.writeFieldEnd()),this.array_delim!==null&&this.array_delim!==void 0&&(l.writeFieldBegin("array_delim",o.Type.STRING,8),l.writeString(this.array_delim),l.writeFieldEnd()),this.array_begin!==null&&this.array_begin!==void 0&&(l.writeFieldBegin("array_begin",o.Type.STRING,9),l.writeString(this.array_begin),l.writeFieldEnd()),this.array_end!==null&&this.array_end!==void 0&&(l.writeFieldBegin("array_end",o.Type.STRING,10),l.writeString(this.array_end),l.writeFieldEnd()),this.threads!==null&&this.threads!==void 0&&(l.writeFieldBegin("threads",o.Type.I32,11),l.writeI32(this.threads),l.writeFieldEnd()),this.source_type!==null&&this.source_type!==void 0&&(l.writeFieldBegin("source_type",o.Type.I32,12),l.writeI32(this.source_type),l.writeFieldEnd()),this.s3_access_key!==null&&this.s3_access_key!==void 0&&(l.writeFieldBegin("s3_access_key",o.Type.STRING,13),l.writeString(this.s3_access_key),l.writeFieldEnd()),this.s3_secret_key!==null&&this.s3_secret_key!==void 0&&(l.writeFieldBegin("s3_secret_key",o.Type.STRING,14),l.writeString(this.s3_secret_key),l.writeFieldEnd()),this.s3_region!==null&&this.s3_region!==void 0&&(l.writeFieldBegin("s3_region",o.Type.STRING,15),l.writeString(this.s3_region),l.writeFieldEnd()),this.geo_coords_encoding!==null&&this.geo_coords_encoding!==void 0&&(l.writeFieldBegin("geo_coords_encoding",o.Type.I32,16),l.writeI32(this.geo_coords_encoding),l.writeFieldEnd()),this.geo_coords_comp_param!==null&&this.geo_coords_comp_param!==void 0&&(l.writeFieldBegin("geo_coords_comp_param",o.Type.I32,17),l.writeI32(this.geo_coords_comp_param),l.writeFieldEnd()),this.geo_coords_type!==null&&this.geo_coords_type!==void 0&&(l.writeFieldBegin("geo_coords_type",o.Type.I32,18),l.writeI32(this.geo_coords_type),l.writeFieldEnd()),this.geo_coords_srid!==null&&this.geo_coords_srid!==void 0&&(l.writeFieldBegin("geo_coords_srid",o.Type.I32,19),l.writeI32(this.geo_coords_srid),l.writeFieldEnd()),this.sanitize_column_names!==null&&this.sanitize_column_names!==void 0&&(l.writeFieldBegin("sanitize_column_names",o.Type.BOOL,20),l.writeBool(this.sanitize_column_names),l.writeFieldEnd()),this.geo_layer_name!==null&&this.geo_layer_name!==void 0&&(l.writeFieldBegin("geo_layer_name",o.Type.STRING,21),l.writeString(this.geo_layer_name),l.writeFieldEnd()),this.s3_endpoint!==null&&this.s3_endpoint!==void 0&&(l.writeFieldBegin("s3_endpoint",o.Type.STRING,22),l.writeString(this.s3_endpoint),l.writeFieldEnd()),this.geo_assign_render_groups!==null&&this.geo_assign_render_groups!==void 0&&(l.writeFieldBegin("geo_assign_render_groups",o.Type.BOOL,23),l.writeBool(this.geo_assign_render_groups),l.writeFieldEnd()),this.geo_explode_collections!==null&&this.geo_explode_collections!==void 0&&(l.writeFieldBegin("geo_explode_collections",o.Type.BOOL,24),l.writeBool(this.geo_explode_collections),l.writeFieldEnd()),this.source_srid!==null&&this.source_srid!==void 0&&(l.writeFieldBegin("source_srid",o.Type.I32,25),l.writeI32(this.source_srid),l.writeFieldEnd()),this.s3_session_token!==null&&this.s3_session_token!==void 0&&(l.writeFieldBegin("s3_session_token",o.Type.STRING,26),l.writeString(this.s3_session_token),l.writeFieldEnd()),this.raster_point_type!==null&&this.raster_point_type!==void 0&&(l.writeFieldBegin("raster_point_type",o.Type.I32,27),l.writeI32(this.raster_point_type),l.writeFieldEnd()),this.raster_import_bands!==null&&this.raster_import_bands!==void 0&&(l.writeFieldBegin("raster_import_bands",o.Type.STRING,28),l.writeString(this.raster_import_bands),l.writeFieldEnd()),this.raster_scanlines_per_thread!==null&&this.raster_scanlines_per_thread!==void 0&&(l.writeFieldBegin("raster_scanlines_per_thread",o.Type.I32,29),l.writeI32(this.raster_scanlines_per_thread),l.writeFieldEnd()),this.raster_point_transform!==null&&this.raster_point_transform!==void 0&&(l.writeFieldBegin("raster_point_transform",o.Type.I32,30),l.writeI32(this.raster_point_transform),l.writeFieldEnd()),this.raster_point_compute_angle!==null&&this.raster_point_compute_angle!==void 0&&(l.writeFieldBegin("raster_point_compute_angle",o.Type.BOOL,31),l.writeBool(this.raster_point_compute_angle),l.writeFieldEnd()),this.raster_import_dimensions!==null&&this.raster_import_dimensions!==void 0&&(l.writeFieldBegin("raster_import_dimensions",o.Type.STRING,32),l.writeString(this.raster_import_dimensions),l.writeFieldEnd()),this.odbc_dsn!==null&&this.odbc_dsn!==void 0&&(l.writeFieldBegin("odbc_dsn",o.Type.STRING,33),l.writeString(this.odbc_dsn),l.writeFieldEnd()),this.odbc_connection_string!==null&&this.odbc_connection_string!==void 0&&(l.writeFieldBegin("odbc_connection_string",o.Type.STRING,34),l.writeString(this.odbc_connection_string),l.writeFieldEnd()),this.odbc_sql_select!==null&&this.odbc_sql_select!==void 0&&(l.writeFieldBegin("odbc_sql_select",o.Type.STRING,35),l.writeString(this.odbc_sql_select),l.writeFieldEnd()),this.odbc_sql_order_by!==null&&this.odbc_sql_order_by!==void 0&&(l.writeFieldBegin("odbc_sql_order_by",o.Type.STRING,36),l.writeString(this.odbc_sql_order_by),l.writeFieldEnd()),this.odbc_username!==null&&this.odbc_username!==void 0&&(l.writeFieldBegin("odbc_username",o.Type.STRING,37),l.writeString(this.odbc_username),l.writeFieldEnd()),this.odbc_password!==null&&this.odbc_password!==void 0&&(l.writeFieldBegin("odbc_password",o.Type.STRING,38),l.writeString(this.odbc_password),l.writeFieldEnd()),this.odbc_credential_string!==null&&this.odbc_credential_string!==void 0&&(l.writeFieldBegin("odbc_credential_string",o.Type.STRING,39),l.writeString(this.odbc_credential_string),l.writeFieldEnd()),this.add_metadata_columns!==null&&this.add_metadata_columns!==void 0&&(l.writeFieldBegin("add_metadata_columns",o.Type.STRING,40),l.writeString(this.add_metadata_columns),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TCreateParams=class{constructor(l){this.is_replicated=null,l&&l.is_replicated!==void 0&&l.is_replicated!==null&&(this.is_replicated=l.is_replicated)}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.BOOL?this.is_replicated=l.readBool():l.skip(L);break;case 0:l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TCreateParams"),this.is_replicated!==null&&this.is_replicated!==void 0&&(l.writeFieldBegin("is_replicated",o.Type.BOOL,1),l.writeBool(this.is_replicated),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDetectResult=class{constructor(l){this.row_set=null,this.copy_params=null,l&&(l.row_set!==void 0&&l.row_set!==null&&(this.row_set=new m.TRowSet(l.row_set)),l.copy_params!==void 0&&l.copy_params!==null&&(this.copy_params=new m.TCopyParams(l.copy_params)))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRUCT?(this.row_set=new m.TRowSet,this.row_set.read(l)):l.skip(L);break;case 2:L==o.Type.STRUCT?(this.copy_params=new m.TCopyParams,this.copy_params.read(l)):l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDetectResult"),this.row_set!==null&&this.row_set!==void 0&&(l.writeFieldBegin("row_set",o.Type.STRUCT,1),this.row_set.write(l),l.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(l.writeFieldBegin("copy_params",o.Type.STRUCT,2),this.copy_params.write(l),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TImportStatus=class{constructor(l){this.elapsed=null,this.rows_completed=null,this.rows_estimated=null,this.rows_rejected=null,l&&(l.elapsed!==void 0&&l.elapsed!==null&&(this.elapsed=l.elapsed),l.rows_completed!==void 0&&l.rows_completed!==null&&(this.rows_completed=l.rows_completed),l.rows_estimated!==void 0&&l.rows_estimated!==null&&(this.rows_estimated=l.rows_estimated),l.rows_rejected!==void 0&&l.rows_rejected!==null&&(this.rows_rejected=l.rows_rejected))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I64?this.elapsed=l.readI64():l.skip(L);break;case 2:L==o.Type.I64?this.rows_completed=l.readI64():l.skip(L);break;case 3:L==o.Type.I64?this.rows_estimated=l.readI64():l.skip(L);break;case 4:L==o.Type.I64?this.rows_rejected=l.readI64():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TImportStatus"),this.elapsed!==null&&this.elapsed!==void 0&&(l.writeFieldBegin("elapsed",o.Type.I64,1),l.writeI64(this.elapsed),l.writeFieldEnd()),this.rows_completed!==null&&this.rows_completed!==void 0&&(l.writeFieldBegin("rows_completed",o.Type.I64,2),l.writeI64(this.rows_completed),l.writeFieldEnd()),this.rows_estimated!==null&&this.rows_estimated!==void 0&&(l.writeFieldBegin("rows_estimated",o.Type.I64,3),l.writeI64(this.rows_estimated),l.writeFieldEnd()),this.rows_rejected!==null&&this.rows_rejected!==void 0&&(l.writeFieldBegin("rows_rejected",o.Type.I64,4),l.writeI64(this.rows_rejected),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TFrontendView=class{constructor(l){this.view_name=null,this.view_state=null,this.image_hash=null,this.update_time=null,this.view_metadata=null,l&&(l.view_name!==void 0&&l.view_name!==null&&(this.view_name=l.view_name),l.view_state!==void 0&&l.view_state!==null&&(this.view_state=l.view_state),l.image_hash!==void 0&&l.image_hash!==null&&(this.image_hash=l.image_hash),l.update_time!==void 0&&l.update_time!==null&&(this.update_time=l.update_time),l.view_metadata!==void 0&&l.view_metadata!==null&&(this.view_metadata=l.view_metadata))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.view_name=l.readString():l.skip(L);break;case 2:L==o.Type.STRING?this.view_state=l.readString():l.skip(L);break;case 3:L==o.Type.STRING?this.image_hash=l.readString():l.skip(L);break;case 4:L==o.Type.STRING?this.update_time=l.readString():l.skip(L);break;case 5:L==o.Type.STRING?this.view_metadata=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TFrontendView"),this.view_name!==null&&this.view_name!==void 0&&(l.writeFieldBegin("view_name",o.Type.STRING,1),l.writeString(this.view_name),l.writeFieldEnd()),this.view_state!==null&&this.view_state!==void 0&&(l.writeFieldBegin("view_state",o.Type.STRING,2),l.writeString(this.view_state),l.writeFieldEnd()),this.image_hash!==null&&this.image_hash!==void 0&&(l.writeFieldBegin("image_hash",o.Type.STRING,3),l.writeString(this.image_hash),l.writeFieldEnd()),this.update_time!==null&&this.update_time!==void 0&&(l.writeFieldBegin("update_time",o.Type.STRING,4),l.writeString(this.update_time),l.writeFieldEnd()),this.view_metadata!==null&&this.view_metadata!==void 0&&(l.writeFieldBegin("view_metadata",o.Type.STRING,5),l.writeString(this.view_metadata),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TServerStatus=class{constructor(l){this.read_only=null,this.version=null,this.rendering_enabled=null,this.start_time=null,this.edition=null,this.host_name=null,this.poly_rendering_enabled=null,this.role=null,this.renderer_status_json=null,l&&(l.read_only!==void 0&&l.read_only!==null&&(this.read_only=l.read_only),l.version!==void 0&&l.version!==null&&(this.version=l.version),l.rendering_enabled!==void 0&&l.rendering_enabled!==null&&(this.rendering_enabled=l.rendering_enabled),l.start_time!==void 0&&l.start_time!==null&&(this.start_time=l.start_time),l.edition!==void 0&&l.edition!==null&&(this.edition=l.edition),l.host_name!==void 0&&l.host_name!==null&&(this.host_name=l.host_name),l.poly_rendering_enabled!==void 0&&l.poly_rendering_enabled!==null&&(this.poly_rendering_enabled=l.poly_rendering_enabled),l.role!==void 0&&l.role!==null&&(this.role=l.role),l.renderer_status_json!==void 0&&l.renderer_status_json!==null&&(this.renderer_status_json=l.renderer_status_json))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.BOOL?this.read_only=l.readBool():l.skip(L);break;case 2:L==o.Type.STRING?this.version=l.readString():l.skip(L);break;case 3:L==o.Type.BOOL?this.rendering_enabled=l.readBool():l.skip(L);break;case 4:L==o.Type.I64?this.start_time=l.readI64():l.skip(L);break;case 5:L==o.Type.STRING?this.edition=l.readString():l.skip(L);break;case 6:L==o.Type.STRING?this.host_name=l.readString():l.skip(L);break;case 7:L==o.Type.BOOL?this.poly_rendering_enabled=l.readBool():l.skip(L);break;case 8:L==o.Type.I32?this.role=l.readI32():l.skip(L);break;case 9:L==o.Type.STRING?this.renderer_status_json=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TServerStatus"),this.read_only!==null&&this.read_only!==void 0&&(l.writeFieldBegin("read_only",o.Type.BOOL,1),l.writeBool(this.read_only),l.writeFieldEnd()),this.version!==null&&this.version!==void 0&&(l.writeFieldBegin("version",o.Type.STRING,2),l.writeString(this.version),l.writeFieldEnd()),this.rendering_enabled!==null&&this.rendering_enabled!==void 0&&(l.writeFieldBegin("rendering_enabled",o.Type.BOOL,3),l.writeBool(this.rendering_enabled),l.writeFieldEnd()),this.start_time!==null&&this.start_time!==void 0&&(l.writeFieldBegin("start_time",o.Type.I64,4),l.writeI64(this.start_time),l.writeFieldEnd()),this.edition!==null&&this.edition!==void 0&&(l.writeFieldBegin("edition",o.Type.STRING,5),l.writeString(this.edition),l.writeFieldEnd()),this.host_name!==null&&this.host_name!==void 0&&(l.writeFieldBegin("host_name",o.Type.STRING,6),l.writeString(this.host_name),l.writeFieldEnd()),this.poly_rendering_enabled!==null&&this.poly_rendering_enabled!==void 0&&(l.writeFieldBegin("poly_rendering_enabled",o.Type.BOOL,7),l.writeBool(this.poly_rendering_enabled),l.writeFieldEnd()),this.role!==null&&this.role!==void 0&&(l.writeFieldBegin("role",o.Type.I32,8),l.writeI32(this.role),l.writeFieldEnd()),this.renderer_status_json!==null&&this.renderer_status_json!==void 0&&(l.writeFieldBegin("renderer_status_json",o.Type.STRING,9),l.writeString(this.renderer_status_json),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TPixel=class{constructor(l){this.x=null,this.y=null,l&&(l.x!==void 0&&l.x!==null&&(this.x=l.x),l.y!==void 0&&l.y!==null&&(this.y=l.y))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I64?this.x=l.readI64():l.skip(L);break;case 2:L==o.Type.I64?this.y=l.readI64():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TPixel"),this.x!==null&&this.x!==void 0&&(l.writeFieldBegin("x",o.Type.I64,1),l.writeI64(this.x),l.writeFieldEnd()),this.y!==null&&this.y!==void 0&&(l.writeFieldBegin("y",o.Type.I64,2),l.writeI64(this.y),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TPixelTableRowResult=class{constructor(l){this.pixel=null,this.vega_table_name=null,this.table_id=null,this.row_id=null,this.row_set=null,this.nonce=null,l&&(l.pixel!==void 0&&l.pixel!==null&&(this.pixel=new m.TPixel(l.pixel)),l.vega_table_name!==void 0&&l.vega_table_name!==null&&(this.vega_table_name=l.vega_table_name),l.table_id!==void 0&&l.table_id!==null&&(this.table_id=o.copyList(l.table_id,[null])),l.row_id!==void 0&&l.row_id!==null&&(this.row_id=o.copyList(l.row_id,[null])),l.row_set!==void 0&&l.row_set!==null&&(this.row_set=new m.TRowSet(l.row_set)),l.nonce!==void 0&&l.nonce!==null&&(this.nonce=l.nonce))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRUCT?(this.pixel=new m.TPixel,this.pixel.read(l)):l.skip(L);break;case 2:L==o.Type.STRING?this.vega_table_name=l.readString():l.skip(L);break;case 3:if(L==o.Type.LIST){this.table_id=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readI64(),this.table_id.push(B)}l.readListEnd()}else l.skip(L);break;case 4:if(L==o.Type.LIST){this.row_id=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readI64(),this.row_id.push(B)}l.readListEnd()}else l.skip(L);break;case 5:L==o.Type.STRUCT?(this.row_set=new m.TRowSet,this.row_set.read(l)):l.skip(L);break;case 6:L==o.Type.STRING?this.nonce=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TPixelTableRowResult"),this.pixel!==null&&this.pixel!==void 0&&(l.writeFieldBegin("pixel",o.Type.STRUCT,1),this.pixel.write(l),l.writeFieldEnd()),this.vega_table_name!==null&&this.vega_table_name!==void 0&&(l.writeFieldBegin("vega_table_name",o.Type.STRING,2),l.writeString(this.vega_table_name),l.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0){l.writeFieldBegin("table_id",o.Type.LIST,3),l.writeListBegin(o.Type.I64,this.table_id.length);for(let b in this.table_id)this.table_id.hasOwnProperty(b)&&(b=this.table_id[b],l.writeI64(b));l.writeListEnd(),l.writeFieldEnd()}if(this.row_id!==null&&this.row_id!==void 0){l.writeFieldBegin("row_id",o.Type.LIST,4),l.writeListBegin(o.Type.I64,this.row_id.length);for(let b in this.row_id)this.row_id.hasOwnProperty(b)&&(b=this.row_id[b],l.writeI64(b));l.writeListEnd(),l.writeFieldEnd()}this.row_set!==null&&this.row_set!==void 0&&(l.writeFieldBegin("row_set",o.Type.STRUCT,5),this.row_set.write(l),l.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(l.writeFieldBegin("nonce",o.Type.STRING,6),l.writeString(this.nonce),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TRenderResult=class{constructor(l){this.image=null,this.nonce=null,this.execution_time_ms=null,this.render_time_ms=null,this.total_time_ms=null,this.vega_metadata=null,l&&(l.image!==void 0&&l.image!==null&&(this.image=l.image),l.nonce!==void 0&&l.nonce!==null&&(this.nonce=l.nonce),l.execution_time_ms!==void 0&&l.execution_time_ms!==null&&(this.execution_time_ms=l.execution_time_ms),l.render_time_ms!==void 0&&l.render_time_ms!==null&&(this.render_time_ms=l.render_time_ms),l.total_time_ms!==void 0&&l.total_time_ms!==null&&(this.total_time_ms=l.total_time_ms),l.vega_metadata!==void 0&&l.vega_metadata!==null&&(this.vega_metadata=l.vega_metadata))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.image=l.readBinary():l.skip(L);break;case 2:L==o.Type.STRING?this.nonce=l.readString():l.skip(L);break;case 3:L==o.Type.I64?this.execution_time_ms=l.readI64():l.skip(L);break;case 4:L==o.Type.I64?this.render_time_ms=l.readI64():l.skip(L);break;case 5:L==o.Type.I64?this.total_time_ms=l.readI64():l.skip(L);break;case 6:L==o.Type.STRING?this.vega_metadata=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TRenderResult"),this.image!==null&&this.image!==void 0&&(l.writeFieldBegin("image",o.Type.STRING,1),l.writeBinary(this.image),l.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(l.writeFieldBegin("nonce",o.Type.STRING,2),l.writeString(this.nonce),l.writeFieldEnd()),this.execution_time_ms!==null&&this.execution_time_ms!==void 0&&(l.writeFieldBegin("execution_time_ms",o.Type.I64,3),l.writeI64(this.execution_time_ms),l.writeFieldEnd()),this.render_time_ms!==null&&this.render_time_ms!==void 0&&(l.writeFieldBegin("render_time_ms",o.Type.I64,4),l.writeI64(this.render_time_ms),l.writeFieldEnd()),this.total_time_ms!==null&&this.total_time_ms!==void 0&&(l.writeFieldBegin("total_time_ms",o.Type.I64,5),l.writeI64(this.total_time_ms),l.writeFieldEnd()),this.vega_metadata!==null&&this.vega_metadata!==void 0&&(l.writeFieldBegin("vega_metadata",o.Type.STRING,6),l.writeString(this.vega_metadata),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TGpuSpecification=class{constructor(l){this.num_sm=null,this.clock_frequency_kHz=null,this.memory=null,this.compute_capability_major=null,this.compute_capability_minor=null,l&&(l.num_sm!==void 0&&l.num_sm!==null&&(this.num_sm=l.num_sm),l.clock_frequency_kHz!==void 0&&l.clock_frequency_kHz!==null&&(this.clock_frequency_kHz=l.clock_frequency_kHz),l.memory!==void 0&&l.memory!==null&&(this.memory=l.memory),l.compute_capability_major!==void 0&&l.compute_capability_major!==null&&(this.compute_capability_major=l.compute_capability_major),l.compute_capability_minor!==void 0&&l.compute_capability_minor!==null&&(this.compute_capability_minor=l.compute_capability_minor))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.num_sm=l.readI32():l.skip(L);break;case 2:L==o.Type.I64?this.clock_frequency_kHz=l.readI64():l.skip(L);break;case 3:L==o.Type.I64?this.memory=l.readI64():l.skip(L);break;case 4:L==o.Type.I16?this.compute_capability_major=l.readI16():l.skip(L);break;case 5:L==o.Type.I16?this.compute_capability_minor=l.readI16():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TGpuSpecification"),this.num_sm!==null&&this.num_sm!==void 0&&(l.writeFieldBegin("num_sm",o.Type.I32,1),l.writeI32(this.num_sm),l.writeFieldEnd()),this.clock_frequency_kHz!==null&&this.clock_frequency_kHz!==void 0&&(l.writeFieldBegin("clock_frequency_kHz",o.Type.I64,2),l.writeI64(this.clock_frequency_kHz),l.writeFieldEnd()),this.memory!==null&&this.memory!==void 0&&(l.writeFieldBegin("memory",o.Type.I64,3),l.writeI64(this.memory),l.writeFieldEnd()),this.compute_capability_major!==null&&this.compute_capability_major!==void 0&&(l.writeFieldBegin("compute_capability_major",o.Type.I16,4),l.writeI16(this.compute_capability_major),l.writeFieldEnd()),this.compute_capability_minor!==null&&this.compute_capability_minor!==void 0&&(l.writeFieldBegin("compute_capability_minor",o.Type.I16,5),l.writeI16(this.compute_capability_minor),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.THardwareInfo=class{constructor(l){this.num_gpu_hw=null,this.num_cpu_hw=null,this.num_gpu_allocated=null,this.start_gpu=null,this.host_name=null,this.gpu_info=null,l&&(l.num_gpu_hw!==void 0&&l.num_gpu_hw!==null&&(this.num_gpu_hw=l.num_gpu_hw),l.num_cpu_hw!==void 0&&l.num_cpu_hw!==null&&(this.num_cpu_hw=l.num_cpu_hw),l.num_gpu_allocated!==void 0&&l.num_gpu_allocated!==null&&(this.num_gpu_allocated=l.num_gpu_allocated),l.start_gpu!==void 0&&l.start_gpu!==null&&(this.start_gpu=l.start_gpu),l.host_name!==void 0&&l.host_name!==null&&(this.host_name=l.host_name),l.gpu_info!==void 0&&l.gpu_info!==null&&(this.gpu_info=o.copyList(l.gpu_info,[m.TGpuSpecification])))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I16?this.num_gpu_hw=l.readI16():l.skip(L);break;case 2:L==o.Type.I16?this.num_cpu_hw=l.readI16():l.skip(L);break;case 3:L==o.Type.I16?this.num_gpu_allocated=l.readI16():l.skip(L);break;case 4:L==o.Type.I16?this.start_gpu=l.readI16():l.skip(L);break;case 5:L==o.Type.STRING?this.host_name=l.readString():l.skip(L);break;case 6:if(L==o.Type.LIST){this.gpu_info=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TGpuSpecification,B.read(l),this.gpu_info.push(B)}l.readListEnd()}else l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("THardwareInfo"),this.num_gpu_hw!==null&&this.num_gpu_hw!==void 0&&(l.writeFieldBegin("num_gpu_hw",o.Type.I16,1),l.writeI16(this.num_gpu_hw),l.writeFieldEnd()),this.num_cpu_hw!==null&&this.num_cpu_hw!==void 0&&(l.writeFieldBegin("num_cpu_hw",o.Type.I16,2),l.writeI16(this.num_cpu_hw),l.writeFieldEnd()),this.num_gpu_allocated!==null&&this.num_gpu_allocated!==void 0&&(l.writeFieldBegin("num_gpu_allocated",o.Type.I16,3),l.writeI16(this.num_gpu_allocated),l.writeFieldEnd()),this.start_gpu!==null&&this.start_gpu!==void 0&&(l.writeFieldBegin("start_gpu",o.Type.I16,4),l.writeI16(this.start_gpu),l.writeFieldEnd()),this.host_name!==null&&this.host_name!==void 0&&(l.writeFieldBegin("host_name",o.Type.STRING,5),l.writeString(this.host_name),l.writeFieldEnd()),this.gpu_info!==null&&this.gpu_info!==void 0){l.writeFieldBegin("gpu_info",o.Type.LIST,6),l.writeListBegin(o.Type.STRUCT,this.gpu_info.length);for(let b in this.gpu_info)this.gpu_info.hasOwnProperty(b)&&(b=this.gpu_info[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TClusterHardwareInfo=class{constructor(l){this.hardware_info=null,l&&l.hardware_info!==void 0&&l.hardware_info!==null&&(this.hardware_info=o.copyList(l.hardware_info,[m.THardwareInfo]))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:if(L==o.Type.LIST){this.hardware_info=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.THardwareInfo,B.read(l),this.hardware_info.push(B)}l.readListEnd()}else l.skip(L);break;case 0:l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TClusterHardwareInfo"),this.hardware_info!==null&&this.hardware_info!==void 0){l.writeFieldBegin("hardware_info",o.Type.LIST,1),l.writeListBegin(o.Type.STRUCT,this.hardware_info.length);for(let b in this.hardware_info)this.hardware_info.hasOwnProperty(b)&&(b=this.hardware_info[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TMemoryData=class{constructor(l){this.slab=null,this.start_page=null,this.num_pages=null,this.touch=null,this.chunk_key=null,this.buffer_epoch=null,this.is_free=null,l&&(l.slab!==void 0&&l.slab!==null&&(this.slab=l.slab),l.start_page!==void 0&&l.start_page!==null&&(this.start_page=l.start_page),l.num_pages!==void 0&&l.num_pages!==null&&(this.num_pages=l.num_pages),l.touch!==void 0&&l.touch!==null&&(this.touch=l.touch),l.chunk_key!==void 0&&l.chunk_key!==null&&(this.chunk_key=o.copyList(l.chunk_key,[null])),l.buffer_epoch!==void 0&&l.buffer_epoch!==null&&(this.buffer_epoch=l.buffer_epoch),l.is_free!==void 0&&l.is_free!==null&&(this.is_free=l.is_free))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I64?this.slab=l.readI64():l.skip(L);break;case 2:L==o.Type.I32?this.start_page=l.readI32():l.skip(L);break;case 3:L==o.Type.I64?this.num_pages=l.readI64():l.skip(L);break;case 4:L==o.Type.I32?this.touch=l.readI32():l.skip(L);break;case 5:if(L==o.Type.LIST){this.chunk_key=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readI64(),this.chunk_key.push(B)}l.readListEnd()}else l.skip(L);break;case 6:L==o.Type.I32?this.buffer_epoch=l.readI32():l.skip(L);break;case 7:L==o.Type.BOOL?this.is_free=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TMemoryData"),this.slab!==null&&this.slab!==void 0&&(l.writeFieldBegin("slab",o.Type.I64,1),l.writeI64(this.slab),l.writeFieldEnd()),this.start_page!==null&&this.start_page!==void 0&&(l.writeFieldBegin("start_page",o.Type.I32,2),l.writeI32(this.start_page),l.writeFieldEnd()),this.num_pages!==null&&this.num_pages!==void 0&&(l.writeFieldBegin("num_pages",o.Type.I64,3),l.writeI64(this.num_pages),l.writeFieldEnd()),this.touch!==null&&this.touch!==void 0&&(l.writeFieldBegin("touch",o.Type.I32,4),l.writeI32(this.touch),l.writeFieldEnd()),this.chunk_key!==null&&this.chunk_key!==void 0){l.writeFieldBegin("chunk_key",o.Type.LIST,5),l.writeListBegin(o.Type.I64,this.chunk_key.length);for(let b in this.chunk_key)this.chunk_key.hasOwnProperty(b)&&(b=this.chunk_key[b],l.writeI64(b));l.writeListEnd(),l.writeFieldEnd()}this.buffer_epoch!==null&&this.buffer_epoch!==void 0&&(l.writeFieldBegin("buffer_epoch",o.Type.I32,6),l.writeI32(this.buffer_epoch),l.writeFieldEnd()),this.is_free!==null&&this.is_free!==void 0&&(l.writeFieldBegin("is_free",o.Type.BOOL,7),l.writeBool(this.is_free),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TNodeMemoryInfo=class{constructor(l){this.host_name=null,this.page_size=null,this.max_num_pages=null,this.num_pages_allocated=null,this.is_allocation_capped=null,this.node_memory_data=null,l&&(l.host_name!==void 0&&l.host_name!==null&&(this.host_name=l.host_name),l.page_size!==void 0&&l.page_size!==null&&(this.page_size=l.page_size),l.max_num_pages!==void 0&&l.max_num_pages!==null&&(this.max_num_pages=l.max_num_pages),l.num_pages_allocated!==void 0&&l.num_pages_allocated!==null&&(this.num_pages_allocated=l.num_pages_allocated),l.is_allocation_capped!==void 0&&l.is_allocation_capped!==null&&(this.is_allocation_capped=l.is_allocation_capped),l.node_memory_data!==void 0&&l.node_memory_data!==null&&(this.node_memory_data=o.copyList(l.node_memory_data,[m.TMemoryData])))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.host_name=l.readString():l.skip(L);break;case 2:L==o.Type.I64?this.page_size=l.readI64():l.skip(L);break;case 3:L==o.Type.I64?this.max_num_pages=l.readI64():l.skip(L);break;case 4:L==o.Type.I64?this.num_pages_allocated=l.readI64():l.skip(L);break;case 5:L==o.Type.BOOL?this.is_allocation_capped=l.readBool():l.skip(L);break;case 6:if(L==o.Type.LIST){this.node_memory_data=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TMemoryData,B.read(l),this.node_memory_data.push(B)}l.readListEnd()}else l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TNodeMemoryInfo"),this.host_name!==null&&this.host_name!==void 0&&(l.writeFieldBegin("host_name",o.Type.STRING,1),l.writeString(this.host_name),l.writeFieldEnd()),this.page_size!==null&&this.page_size!==void 0&&(l.writeFieldBegin("page_size",o.Type.I64,2),l.writeI64(this.page_size),l.writeFieldEnd()),this.max_num_pages!==null&&this.max_num_pages!==void 0&&(l.writeFieldBegin("max_num_pages",o.Type.I64,3),l.writeI64(this.max_num_pages),l.writeFieldEnd()),this.num_pages_allocated!==null&&this.num_pages_allocated!==void 0&&(l.writeFieldBegin("num_pages_allocated",o.Type.I64,4),l.writeI64(this.num_pages_allocated),l.writeFieldEnd()),this.is_allocation_capped!==null&&this.is_allocation_capped!==void 0&&(l.writeFieldBegin("is_allocation_capped",o.Type.BOOL,5),l.writeBool(this.is_allocation_capped),l.writeFieldEnd()),this.node_memory_data!==null&&this.node_memory_data!==void 0){l.writeFieldBegin("node_memory_data",o.Type.LIST,6),l.writeListBegin(o.Type.STRUCT,this.node_memory_data.length);for(let b in this.node_memory_data)this.node_memory_data.hasOwnProperty(b)&&(b=this.node_memory_data[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TTableMeta=class{constructor(l){this.table_name=null,this.num_cols=null,this.is_view=null,this.is_replicated=null,this.shard_count=null,this.max_rows=null,this.table_id=null,this.max_table_id=null,this.col_types=null,this.col_names=null,l&&(l.table_name!==void 0&&l.table_name!==null&&(this.table_name=l.table_name),l.num_cols!==void 0&&l.num_cols!==null&&(this.num_cols=l.num_cols),l.is_view!==void 0&&l.is_view!==null&&(this.is_view=l.is_view),l.is_replicated!==void 0&&l.is_replicated!==null&&(this.is_replicated=l.is_replicated),l.shard_count!==void 0&&l.shard_count!==null&&(this.shard_count=l.shard_count),l.max_rows!==void 0&&l.max_rows!==null&&(this.max_rows=l.max_rows),l.table_id!==void 0&&l.table_id!==null&&(this.table_id=l.table_id),l.max_table_id!==void 0&&l.max_table_id!==null&&(this.max_table_id=l.max_table_id),l.col_types!==void 0&&l.col_types!==null&&(this.col_types=o.copyList(l.col_types,[g.TTypeInfo])),l.col_names!==void 0&&l.col_names!==null&&(this.col_names=o.copyList(l.col_names,[null])))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.table_name=l.readString():l.skip(L);break;case 2:L==o.Type.I64?this.num_cols=l.readI64():l.skip(L);break;case 4:L==o.Type.BOOL?this.is_view=l.readBool():l.skip(L);break;case 5:L==o.Type.BOOL?this.is_replicated=l.readBool():l.skip(L);break;case 6:L==o.Type.I64?this.shard_count=l.readI64():l.skip(L);break;case 7:L==o.Type.I64?this.max_rows=l.readI64():l.skip(L);break;case 8:L==o.Type.I64?this.table_id=l.readI64():l.skip(L);break;case 9:L==o.Type.I64?this.max_table_id=l.readI64():l.skip(L);break;case 10:if(L==o.Type.LIST){this.col_types=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new g.TTypeInfo,B.read(l),this.col_types.push(B)}l.readListEnd()}else l.skip(L);break;case 11:if(L==o.Type.LIST){this.col_names=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readString(),this.col_names.push(B)}l.readListEnd()}else l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TTableMeta"),this.table_name!==null&&this.table_name!==void 0&&(l.writeFieldBegin("table_name",o.Type.STRING,1),l.writeString(this.table_name),l.writeFieldEnd()),this.num_cols!==null&&this.num_cols!==void 0&&(l.writeFieldBegin("num_cols",o.Type.I64,2),l.writeI64(this.num_cols),l.writeFieldEnd()),this.is_view!==null&&this.is_view!==void 0&&(l.writeFieldBegin("is_view",o.Type.BOOL,4),l.writeBool(this.is_view),l.writeFieldEnd()),this.is_replicated!==null&&this.is_replicated!==void 0&&(l.writeFieldBegin("is_replicated",o.Type.BOOL,5),l.writeBool(this.is_replicated),l.writeFieldEnd()),this.shard_count!==null&&this.shard_count!==void 0&&(l.writeFieldBegin("shard_count",o.Type.I64,6),l.writeI64(this.shard_count),l.writeFieldEnd()),this.max_rows!==null&&this.max_rows!==void 0&&(l.writeFieldBegin("max_rows",o.Type.I64,7),l.writeI64(this.max_rows),l.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(l.writeFieldBegin("table_id",o.Type.I64,8),l.writeI64(this.table_id),l.writeFieldEnd()),this.max_table_id!==null&&this.max_table_id!==void 0&&(l.writeFieldBegin("max_table_id",o.Type.I64,9),l.writeI64(this.max_table_id),l.writeFieldEnd()),this.col_types!==null&&this.col_types!==void 0){l.writeFieldBegin("col_types",o.Type.LIST,10),l.writeListBegin(o.Type.STRUCT,this.col_types.length);for(let b in this.col_types)this.col_types.hasOwnProperty(b)&&(b=this.col_types[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}if(this.col_names!==null&&this.col_names!==void 0){l.writeFieldBegin("col_names",o.Type.LIST,11),l.writeListBegin(o.Type.STRING,this.col_names.length);for(let b in this.col_names)this.col_names.hasOwnProperty(b)&&(b=this.col_names[b],l.writeString(b));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TTableRefreshInfo=class{constructor(l){this.update_type=null,this.timing_type=null,this.start_date_time=null,this.interval_type=null,this.interval_count=null,this.last_refresh_time=null,this.next_refresh_time=null,l&&(l.update_type!==void 0&&l.update_type!==null&&(this.update_type=l.update_type),l.timing_type!==void 0&&l.timing_type!==null&&(this.timing_type=l.timing_type),l.start_date_time!==void 0&&l.start_date_time!==null&&(this.start_date_time=l.start_date_time),l.interval_type!==void 0&&l.interval_type!==null&&(this.interval_type=l.interval_type),l.interval_count!==void 0&&l.interval_count!==null&&(this.interval_count=l.interval_count),l.last_refresh_time!==void 0&&l.last_refresh_time!==null&&(this.last_refresh_time=l.last_refresh_time),l.next_refresh_time!==void 0&&l.next_refresh_time!==null&&(this.next_refresh_time=l.next_refresh_time))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.update_type=l.readI32():l.skip(L);break;case 2:L==o.Type.I32?this.timing_type=l.readI32():l.skip(L);break;case 3:L==o.Type.STRING?this.start_date_time=l.readString():l.skip(L);break;case 4:L==o.Type.I32?this.interval_type=l.readI32():l.skip(L);break;case 5:L==o.Type.I64?this.interval_count=l.readI64():l.skip(L);break;case 6:L==o.Type.STRING?this.last_refresh_time=l.readString():l.skip(L);break;case 7:L==o.Type.STRING?this.next_refresh_time=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TTableRefreshInfo"),this.update_type!==null&&this.update_type!==void 0&&(l.writeFieldBegin("update_type",o.Type.I32,1),l.writeI32(this.update_type),l.writeFieldEnd()),this.timing_type!==null&&this.timing_type!==void 0&&(l.writeFieldBegin("timing_type",o.Type.I32,2),l.writeI32(this.timing_type),l.writeFieldEnd()),this.start_date_time!==null&&this.start_date_time!==void 0&&(l.writeFieldBegin("start_date_time",o.Type.STRING,3),l.writeString(this.start_date_time),l.writeFieldEnd()),this.interval_type!==null&&this.interval_type!==void 0&&(l.writeFieldBegin("interval_type",o.Type.I32,4),l.writeI32(this.interval_type),l.writeFieldEnd()),this.interval_count!==null&&this.interval_count!==void 0&&(l.writeFieldBegin("interval_count",o.Type.I64,5),l.writeI64(this.interval_count),l.writeFieldEnd()),this.last_refresh_time!==null&&this.last_refresh_time!==void 0&&(l.writeFieldBegin("last_refresh_time",o.Type.STRING,6),l.writeString(this.last_refresh_time),l.writeFieldEnd()),this.next_refresh_time!==null&&this.next_refresh_time!==void 0&&(l.writeFieldBegin("next_refresh_time",o.Type.STRING,7),l.writeString(this.next_refresh_time),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TTableDetails=class{constructor(l){this.row_desc=null,this.fragment_size=null,this.page_size=null,this.max_rows=null,this.view_sql=null,this.shard_count=null,this.key_metainfo=null,this.is_temporary=null,this.partition_detail=null,this.table_type=null,this.refresh_info=null,l&&(l.row_desc!==void 0&&l.row_desc!==null&&(this.row_desc=o.copyList(l.row_desc,[m.TColumnType])),l.fragment_size!==void 0&&l.fragment_size!==null&&(this.fragment_size=l.fragment_size),l.page_size!==void 0&&l.page_size!==null&&(this.page_size=l.page_size),l.max_rows!==void 0&&l.max_rows!==null&&(this.max_rows=l.max_rows),l.view_sql!==void 0&&l.view_sql!==null&&(this.view_sql=l.view_sql),l.shard_count!==void 0&&l.shard_count!==null&&(this.shard_count=l.shard_count),l.key_metainfo!==void 0&&l.key_metainfo!==null&&(this.key_metainfo=l.key_metainfo),l.is_temporary!==void 0&&l.is_temporary!==null&&(this.is_temporary=l.is_temporary),l.partition_detail!==void 0&&l.partition_detail!==null&&(this.partition_detail=l.partition_detail),l.table_type!==void 0&&l.table_type!==null&&(this.table_type=l.table_type),l.refresh_info!==void 0&&l.refresh_info!==null&&(this.refresh_info=new m.TTableRefreshInfo(l.refresh_info)))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:if(L==o.Type.LIST){this.row_desc=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TColumnType,B.read(l),this.row_desc.push(B)}l.readListEnd()}else l.skip(L);break;case 2:L==o.Type.I64?this.fragment_size=l.readI64():l.skip(L);break;case 3:L==o.Type.I64?this.page_size=l.readI64():l.skip(L);break;case 4:L==o.Type.I64?this.max_rows=l.readI64():l.skip(L);break;case 5:L==o.Type.STRING?this.view_sql=l.readString():l.skip(L);break;case 6:L==o.Type.I64?this.shard_count=l.readI64():l.skip(L);break;case 7:L==o.Type.STRING?this.key_metainfo=l.readString():l.skip(L);break;case 8:L==o.Type.BOOL?this.is_temporary=l.readBool():l.skip(L);break;case 9:L==o.Type.I32?this.partition_detail=l.readI32():l.skip(L);break;case 10:L==o.Type.I32?this.table_type=l.readI32():l.skip(L);break;case 11:L==o.Type.STRUCT?(this.refresh_info=new m.TTableRefreshInfo,this.refresh_info.read(l)):l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TTableDetails"),this.row_desc!==null&&this.row_desc!==void 0){l.writeFieldBegin("row_desc",o.Type.LIST,1),l.writeListBegin(o.Type.STRUCT,this.row_desc.length);for(let b in this.row_desc)this.row_desc.hasOwnProperty(b)&&(b=this.row_desc[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}this.fragment_size!==null&&this.fragment_size!==void 0&&(l.writeFieldBegin("fragment_size",o.Type.I64,2),l.writeI64(this.fragment_size),l.writeFieldEnd()),this.page_size!==null&&this.page_size!==void 0&&(l.writeFieldBegin("page_size",o.Type.I64,3),l.writeI64(this.page_size),l.writeFieldEnd()),this.max_rows!==null&&this.max_rows!==void 0&&(l.writeFieldBegin("max_rows",o.Type.I64,4),l.writeI64(this.max_rows),l.writeFieldEnd()),this.view_sql!==null&&this.view_sql!==void 0&&(l.writeFieldBegin("view_sql",o.Type.STRING,5),l.writeString(this.view_sql),l.writeFieldEnd()),this.shard_count!==null&&this.shard_count!==void 0&&(l.writeFieldBegin("shard_count",o.Type.I64,6),l.writeI64(this.shard_count),l.writeFieldEnd()),this.key_metainfo!==null&&this.key_metainfo!==void 0&&(l.writeFieldBegin("key_metainfo",o.Type.STRING,7),l.writeString(this.key_metainfo),l.writeFieldEnd()),this.is_temporary!==null&&this.is_temporary!==void 0&&(l.writeFieldBegin("is_temporary",o.Type.BOOL,8),l.writeBool(this.is_temporary),l.writeFieldEnd()),this.partition_detail!==null&&this.partition_detail!==void 0&&(l.writeFieldBegin("partition_detail",o.Type.I32,9),l.writeI32(this.partition_detail),l.writeFieldEnd()),this.table_type!==null&&this.table_type!==void 0&&(l.writeFieldBegin("table_type",o.Type.I32,10),l.writeI32(this.table_type),l.writeFieldEnd()),this.refresh_info!==null&&this.refresh_info!==void 0&&(l.writeFieldBegin("refresh_info",o.Type.STRUCT,11),this.refresh_info.write(l),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TColumnRange=class{constructor(l){this.type=null,this.col_id=null,this.table_id=null,this.has_nulls=null,this.int_min=null,this.int_max=null,this.bucket=null,this.fp_min=null,this.fp_max=null,l&&(l.type!==void 0&&l.type!==null&&(this.type=l.type),l.col_id!==void 0&&l.col_id!==null&&(this.col_id=l.col_id),l.table_id!==void 0&&l.table_id!==null&&(this.table_id=l.table_id),l.has_nulls!==void 0&&l.has_nulls!==null&&(this.has_nulls=l.has_nulls),l.int_min!==void 0&&l.int_min!==null&&(this.int_min=l.int_min),l.int_max!==void 0&&l.int_max!==null&&(this.int_max=l.int_max),l.bucket!==void 0&&l.bucket!==null&&(this.bucket=l.bucket),l.fp_min!==void 0&&l.fp_min!==null&&(this.fp_min=l.fp_min),l.fp_max!==void 0&&l.fp_max!==null&&(this.fp_max=l.fp_max))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.type=l.readI32():l.skip(L);break;case 2:L==o.Type.I32?this.col_id=l.readI32():l.skip(L);break;case 3:L==o.Type.I32?this.table_id=l.readI32():l.skip(L);break;case 4:L==o.Type.BOOL?this.has_nulls=l.readBool():l.skip(L);break;case 5:L==o.Type.I64?this.int_min=l.readI64():l.skip(L);break;case 6:L==o.Type.I64?this.int_max=l.readI64():l.skip(L);break;case 7:L==o.Type.I64?this.bucket=l.readI64():l.skip(L);break;case 8:L==o.Type.DOUBLE?this.fp_min=l.readDouble():l.skip(L);break;case 9:L==o.Type.DOUBLE?this.fp_max=l.readDouble():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TColumnRange"),this.type!==null&&this.type!==void 0&&(l.writeFieldBegin("type",o.Type.I32,1),l.writeI32(this.type),l.writeFieldEnd()),this.col_id!==null&&this.col_id!==void 0&&(l.writeFieldBegin("col_id",o.Type.I32,2),l.writeI32(this.col_id),l.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(l.writeFieldBegin("table_id",o.Type.I32,3),l.writeI32(this.table_id),l.writeFieldEnd()),this.has_nulls!==null&&this.has_nulls!==void 0&&(l.writeFieldBegin("has_nulls",o.Type.BOOL,4),l.writeBool(this.has_nulls),l.writeFieldEnd()),this.int_min!==null&&this.int_min!==void 0&&(l.writeFieldBegin("int_min",o.Type.I64,5),l.writeI64(this.int_min),l.writeFieldEnd()),this.int_max!==null&&this.int_max!==void 0&&(l.writeFieldBegin("int_max",o.Type.I64,6),l.writeI64(this.int_max),l.writeFieldEnd()),this.bucket!==null&&this.bucket!==void 0&&(l.writeFieldBegin("bucket",o.Type.I64,7),l.writeI64(this.bucket),l.writeFieldEnd()),this.fp_min!==null&&this.fp_min!==void 0&&(l.writeFieldBegin("fp_min",o.Type.DOUBLE,8),l.writeDouble(this.fp_min),l.writeFieldEnd()),this.fp_max!==null&&this.fp_max!==void 0&&(l.writeFieldBegin("fp_max",o.Type.DOUBLE,9),l.writeDouble(this.fp_max),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDictionaryGeneration=class{constructor(l){this.dict_id=null,this.entry_count=null,l&&(l.dict_id!==void 0&&l.dict_id!==null&&(this.dict_id=l.dict_id),l.entry_count!==void 0&&l.entry_count!==null&&(this.entry_count=l.entry_count))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.dict_id=l.readI32():l.skip(L);break;case 2:L==o.Type.I64?this.entry_count=l.readI64():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDictionaryGeneration"),this.dict_id!==null&&this.dict_id!==void 0&&(l.writeFieldBegin("dict_id",o.Type.I32,1),l.writeI32(this.dict_id),l.writeFieldEnd()),this.entry_count!==null&&this.entry_count!==void 0&&(l.writeFieldBegin("entry_count",o.Type.I64,2),l.writeI64(this.entry_count),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TTableGeneration=class{constructor(l){this.table_id=null,this.tuple_count=null,this.start_rowid=null,l&&(l.table_id!==void 0&&l.table_id!==null&&(this.table_id=l.table_id),l.tuple_count!==void 0&&l.tuple_count!==null&&(this.tuple_count=l.tuple_count),l.start_rowid!==void 0&&l.start_rowid!==null&&(this.start_rowid=l.start_rowid))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.table_id=l.readI32():l.skip(L);break;case 2:L==o.Type.I64?this.tuple_count=l.readI64():l.skip(L);break;case 3:L==o.Type.I64?this.start_rowid=l.readI64():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TTableGeneration"),this.table_id!==null&&this.table_id!==void 0&&(l.writeFieldBegin("table_id",o.Type.I32,1),l.writeI32(this.table_id),l.writeFieldEnd()),this.tuple_count!==null&&this.tuple_count!==void 0&&(l.writeFieldBegin("tuple_count",o.Type.I64,2),l.writeI64(this.tuple_count),l.writeFieldEnd()),this.start_rowid!==null&&this.start_rowid!==void 0&&(l.writeFieldBegin("start_rowid",o.Type.I64,3),l.writeI64(this.start_rowid),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TPendingQuery=class{constructor(l){this.id=null,this.column_ranges=null,this.dictionary_generations=null,this.table_generations=null,this.parent_session_id=null,l&&(l.id!==void 0&&l.id!==null&&(this.id=l.id),l.column_ranges!==void 0&&l.column_ranges!==null&&(this.column_ranges=o.copyList(l.column_ranges,[m.TColumnRange])),l.dictionary_generations!==void 0&&l.dictionary_generations!==null&&(this.dictionary_generations=o.copyList(l.dictionary_generations,[m.TDictionaryGeneration])),l.table_generations!==void 0&&l.table_generations!==null&&(this.table_generations=o.copyList(l.table_generations,[m.TTableGeneration])),l.parent_session_id!==void 0&&l.parent_session_id!==null&&(this.parent_session_id=l.parent_session_id))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I64?this.id=l.readI64():l.skip(L);break;case 2:if(L==o.Type.LIST){this.column_ranges=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TColumnRange,B.read(l),this.column_ranges.push(B)}l.readListEnd()}else l.skip(L);break;case 3:if(L==o.Type.LIST){this.dictionary_generations=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TDictionaryGeneration,B.read(l),this.dictionary_generations.push(B)}l.readListEnd()}else l.skip(L);break;case 4:if(L==o.Type.LIST){this.table_generations=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TTableGeneration,B.read(l),this.table_generations.push(B)}l.readListEnd()}else l.skip(L);break;case 5:L==o.Type.STRING?this.parent_session_id=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TPendingQuery"),this.id!==null&&this.id!==void 0&&(l.writeFieldBegin("id",o.Type.I64,1),l.writeI64(this.id),l.writeFieldEnd()),this.column_ranges!==null&&this.column_ranges!==void 0){l.writeFieldBegin("column_ranges",o.Type.LIST,2),l.writeListBegin(o.Type.STRUCT,this.column_ranges.length);for(let b in this.column_ranges)this.column_ranges.hasOwnProperty(b)&&(b=this.column_ranges[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}if(this.dictionary_generations!==null&&this.dictionary_generations!==void 0){l.writeFieldBegin("dictionary_generations",o.Type.LIST,3),l.writeListBegin(o.Type.STRUCT,this.dictionary_generations.length);for(let b in this.dictionary_generations)this.dictionary_generations.hasOwnProperty(b)&&(b=this.dictionary_generations[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}if(this.table_generations!==null&&this.table_generations!==void 0){l.writeFieldBegin("table_generations",o.Type.LIST,4),l.writeListBegin(o.Type.STRUCT,this.table_generations.length);for(let b in this.table_generations)this.table_generations.hasOwnProperty(b)&&(b=this.table_generations[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}this.parent_session_id!==null&&this.parent_session_id!==void 0&&(l.writeFieldBegin("parent_session_id",o.Type.STRING,5),l.writeString(this.parent_session_id),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TVarLen=class{constructor(l){this.payload=null,this.is_null=null,l&&(l.payload!==void 0&&l.payload!==null&&(this.payload=l.payload),l.is_null!==void 0&&l.is_null!==null&&(this.is_null=l.is_null))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.payload=l.readBinary():l.skip(L);break;case 2:L==o.Type.BOOL?this.is_null=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TVarLen"),this.payload!==null&&this.payload!==void 0&&(l.writeFieldBegin("payload",o.Type.STRING,1),l.writeBinary(this.payload),l.writeFieldEnd()),this.is_null!==null&&this.is_null!==void 0&&(l.writeFieldBegin("is_null",o.Type.BOOL,2),l.writeBool(this.is_null),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDataBlockPtr=class{constructor(l){this.fixed_len_data=null,this.var_len_data=null,l&&(l.fixed_len_data!==void 0&&l.fixed_len_data!==null&&(this.fixed_len_data=l.fixed_len_data),l.var_len_data!==void 0&&l.var_len_data!==null&&(this.var_len_data=o.copyList(l.var_len_data,[m.TVarLen])))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.fixed_len_data=l.readBinary():l.skip(L);break;case 2:if(L==o.Type.LIST){this.var_len_data=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TVarLen,B.read(l),this.var_len_data.push(B)}l.readListEnd()}else l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TDataBlockPtr"),this.fixed_len_data!==null&&this.fixed_len_data!==void 0&&(l.writeFieldBegin("fixed_len_data",o.Type.STRING,1),l.writeBinary(this.fixed_len_data),l.writeFieldEnd()),this.var_len_data!==null&&this.var_len_data!==void 0){l.writeFieldBegin("var_len_data",o.Type.LIST,2),l.writeListBegin(o.Type.STRUCT,this.var_len_data.length);for(let b in this.var_len_data)this.var_len_data.hasOwnProperty(b)&&(b=this.var_len_data[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TInsertData=class{constructor(l){this.db_id=null,this.table_id=null,this.column_ids=null,this.data=null,this.num_rows=null,this.is_default=null,l&&(l.db_id!==void 0&&l.db_id!==null&&(this.db_id=l.db_id),l.table_id!==void 0&&l.table_id!==null&&(this.table_id=l.table_id),l.column_ids!==void 0&&l.column_ids!==null&&(this.column_ids=o.copyList(l.column_ids,[null])),l.data!==void 0&&l.data!==null&&(this.data=o.copyList(l.data,[m.TDataBlockPtr])),l.num_rows!==void 0&&l.num_rows!==null&&(this.num_rows=l.num_rows),l.is_default!==void 0&&l.is_default!==null&&(this.is_default=o.copyList(l.is_default,[null])))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.db_id=l.readI32():l.skip(L);break;case 2:L==o.Type.I32?this.table_id=l.readI32():l.skip(L);break;case 3:if(L==o.Type.LIST){this.column_ids=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readI32(),this.column_ids.push(B)}l.readListEnd()}else l.skip(L);break;case 4:if(L==o.Type.LIST){this.data=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TDataBlockPtr,B.read(l),this.data.push(B)}l.readListEnd()}else l.skip(L);break;case 5:L==o.Type.I64?this.num_rows=l.readI64():l.skip(L);break;case 6:if(L==o.Type.LIST){this.is_default=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readBool(),this.is_default.push(B)}l.readListEnd()}else l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TInsertData"),this.db_id!==null&&this.db_id!==void 0&&(l.writeFieldBegin("db_id",o.Type.I32,1),l.writeI32(this.db_id),l.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(l.writeFieldBegin("table_id",o.Type.I32,2),l.writeI32(this.table_id),l.writeFieldEnd()),this.column_ids!==null&&this.column_ids!==void 0){l.writeFieldBegin("column_ids",o.Type.LIST,3),l.writeListBegin(o.Type.I32,this.column_ids.length);for(let b in this.column_ids)this.column_ids.hasOwnProperty(b)&&(b=this.column_ids[b],l.writeI32(b));l.writeListEnd(),l.writeFieldEnd()}if(this.data!==null&&this.data!==void 0){l.writeFieldBegin("data",o.Type.LIST,4),l.writeListBegin(o.Type.STRUCT,this.data.length);for(let b in this.data)this.data.hasOwnProperty(b)&&(b=this.data[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}if(this.num_rows!==null&&this.num_rows!==void 0&&(l.writeFieldBegin("num_rows",o.Type.I64,5),l.writeI64(this.num_rows),l.writeFieldEnd()),this.is_default!==null&&this.is_default!==void 0){l.writeFieldBegin("is_default",o.Type.LIST,6),l.writeListBegin(o.Type.BOOL,this.is_default.length);for(let b in this.is_default)this.is_default.hasOwnProperty(b)&&(b=this.is_default[b],l.writeBool(b));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TChunkData=class{constructor(l){this.data_buffer=null,this.index_buffer=null,l&&(l.data_buffer!==void 0&&l.data_buffer!==null&&(this.data_buffer=l.data_buffer),l.index_buffer!==void 0&&l.index_buffer!==null&&(this.index_buffer=l.index_buffer))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.data_buffer=l.readBinary():l.skip(L);break;case 2:L==o.Type.STRING?this.index_buffer=l.readBinary():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TChunkData"),this.data_buffer!==null&&this.data_buffer!==void 0&&(l.writeFieldBegin("data_buffer",o.Type.STRING,1),l.writeBinary(this.data_buffer),l.writeFieldEnd()),this.index_buffer!==null&&this.index_buffer!==void 0&&(l.writeFieldBegin("index_buffer",o.Type.STRING,2),l.writeBinary(this.index_buffer),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TInsertChunks=class{constructor(l){this.db_id=null,this.table_id=null,this.data=null,this.valid_indices=null,this.num_rows=null,l&&(l.db_id!==void 0&&l.db_id!==null&&(this.db_id=l.db_id),l.table_id!==void 0&&l.table_id!==null&&(this.table_id=l.table_id),l.data!==void 0&&l.data!==null&&(this.data=o.copyList(l.data,[m.TChunkData])),l.valid_indices!==void 0&&l.valid_indices!==null&&(this.valid_indices=o.copyList(l.valid_indices,[null])),l.num_rows!==void 0&&l.num_rows!==null&&(this.num_rows=l.num_rows))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.db_id=l.readI32():l.skip(L);break;case 2:L==o.Type.I32?this.table_id=l.readI32():l.skip(L);break;case 3:if(L==o.Type.LIST){this.data=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=new m.TChunkData,B.read(l),this.data.push(B)}l.readListEnd()}else l.skip(L);break;case 4:if(L==o.Type.LIST){this.valid_indices=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readI64(),this.valid_indices.push(B)}l.readListEnd()}else l.skip(L);break;case 5:L==o.Type.I64?this.num_rows=l.readI64():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TInsertChunks"),this.db_id!==null&&this.db_id!==void 0&&(l.writeFieldBegin("db_id",o.Type.I32,1),l.writeI32(this.db_id),l.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(l.writeFieldBegin("table_id",o.Type.I32,2),l.writeI32(this.table_id),l.writeFieldEnd()),this.data!==null&&this.data!==void 0){l.writeFieldBegin("data",o.Type.LIST,3),l.writeListBegin(o.Type.STRUCT,this.data.length);for(let b in this.data)this.data.hasOwnProperty(b)&&(b=this.data[b],b.write(l));l.writeListEnd(),l.writeFieldEnd()}if(this.valid_indices!==null&&this.valid_indices!==void 0){l.writeFieldBegin("valid_indices",o.Type.LIST,4),l.writeListBegin(o.Type.I64,this.valid_indices.length);for(let b in this.valid_indices)this.valid_indices.hasOwnProperty(b)&&(b=this.valid_indices[b],l.writeI64(b));l.writeListEnd(),l.writeFieldEnd()}this.num_rows!==null&&this.num_rows!==void 0&&(l.writeFieldBegin("num_rows",o.Type.I64,5),l.writeI64(this.num_rows),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TPendingRenderQuery=class{constructor(l){this.id=null,l&&l.id!==void 0&&l.id!==null&&(this.id=l.id)}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I64?this.id=l.readI64():l.skip(L);break;case 0:l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TPendingRenderQuery"),this.id!==null&&this.id!==void 0&&(l.writeFieldBegin("id",o.Type.I64,1),l.writeI64(this.id),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TRenderParseResult=class{constructor(l){this.merge_type=null,this.node_id=null,this.execution_time_ms=null,this.render_time_ms=null,this.total_time_ms=null,l&&(l.merge_type!==void 0&&l.merge_type!==null&&(this.merge_type=l.merge_type),l.node_id!==void 0&&l.node_id!==null&&(this.node_id=l.node_id),l.execution_time_ms!==void 0&&l.execution_time_ms!==null&&(this.execution_time_ms=l.execution_time_ms),l.render_time_ms!==void 0&&l.render_time_ms!==null&&(this.render_time_ms=l.render_time_ms),l.total_time_ms!==void 0&&l.total_time_ms!==null&&(this.total_time_ms=l.total_time_ms))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.merge_type=l.readI32():l.skip(L);break;case 2:L==o.Type.I32?this.node_id=l.readI32():l.skip(L);break;case 3:L==o.Type.I64?this.execution_time_ms=l.readI64():l.skip(L);break;case 4:L==o.Type.I64?this.render_time_ms=l.readI64():l.skip(L);break;case 5:L==o.Type.I64?this.total_time_ms=l.readI64():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TRenderParseResult"),this.merge_type!==null&&this.merge_type!==void 0&&(l.writeFieldBegin("merge_type",o.Type.I32,1),l.writeI32(this.merge_type),l.writeFieldEnd()),this.node_id!==null&&this.node_id!==void 0&&(l.writeFieldBegin("node_id",o.Type.I32,2),l.writeI32(this.node_id),l.writeFieldEnd()),this.execution_time_ms!==null&&this.execution_time_ms!==void 0&&(l.writeFieldBegin("execution_time_ms",o.Type.I64,3),l.writeI64(this.execution_time_ms),l.writeFieldEnd()),this.render_time_ms!==null&&this.render_time_ms!==void 0&&(l.writeFieldBegin("render_time_ms",o.Type.I64,4),l.writeI64(this.render_time_ms),l.writeFieldEnd()),this.total_time_ms!==null&&this.total_time_ms!==void 0&&(l.writeFieldBegin("total_time_ms",o.Type.I64,5),l.writeI64(this.total_time_ms),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TRawRenderPassDataResult=class{constructor(l){this.num_pixel_channels=null,this.num_pixel_samples=null,this.pixels=null,this.row_ids_A=null,this.row_ids_B=null,this.table_ids=null,this.accum_data=null,this.accum_depth=null,l&&(l.num_pixel_channels!==void 0&&l.num_pixel_channels!==null&&(this.num_pixel_channels=l.num_pixel_channels),l.num_pixel_samples!==void 0&&l.num_pixel_samples!==null&&(this.num_pixel_samples=l.num_pixel_samples),l.pixels!==void 0&&l.pixels!==null&&(this.pixels=l.pixels),l.row_ids_A!==void 0&&l.row_ids_A!==null&&(this.row_ids_A=l.row_ids_A),l.row_ids_B!==void 0&&l.row_ids_B!==null&&(this.row_ids_B=l.row_ids_B),l.table_ids!==void 0&&l.table_ids!==null&&(this.table_ids=l.table_ids),l.accum_data!==void 0&&l.accum_data!==null&&(this.accum_data=l.accum_data),l.accum_depth!==void 0&&l.accum_depth!==null&&(this.accum_depth=l.accum_depth))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.num_pixel_channels=l.readI32():l.skip(L);break;case 2:L==o.Type.I32?this.num_pixel_samples=l.readI32():l.skip(L);break;case 3:L==o.Type.STRING?this.pixels=l.readBinary():l.skip(L);break;case 4:L==o.Type.STRING?this.row_ids_A=l.readBinary():l.skip(L);break;case 5:L==o.Type.STRING?this.row_ids_B=l.readBinary():l.skip(L);break;case 6:L==o.Type.STRING?this.table_ids=l.readBinary():l.skip(L);break;case 7:L==o.Type.STRING?this.accum_data=l.readBinary():l.skip(L);break;case 8:L==o.Type.I32?this.accum_depth=l.readI32():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TRawRenderPassDataResult"),this.num_pixel_channels!==null&&this.num_pixel_channels!==void 0&&(l.writeFieldBegin("num_pixel_channels",o.Type.I32,1),l.writeI32(this.num_pixel_channels),l.writeFieldEnd()),this.num_pixel_samples!==null&&this.num_pixel_samples!==void 0&&(l.writeFieldBegin("num_pixel_samples",o.Type.I32,2),l.writeI32(this.num_pixel_samples),l.writeFieldEnd()),this.pixels!==null&&this.pixels!==void 0&&(l.writeFieldBegin("pixels",o.Type.STRING,3),l.writeBinary(this.pixels),l.writeFieldEnd()),this.row_ids_A!==null&&this.row_ids_A!==void 0&&(l.writeFieldBegin("row_ids_A",o.Type.STRING,4),l.writeBinary(this.row_ids_A),l.writeFieldEnd()),this.row_ids_B!==null&&this.row_ids_B!==void 0&&(l.writeFieldBegin("row_ids_B",o.Type.STRING,5),l.writeBinary(this.row_ids_B),l.writeFieldEnd()),this.table_ids!==null&&this.table_ids!==void 0&&(l.writeFieldBegin("table_ids",o.Type.STRING,6),l.writeBinary(this.table_ids),l.writeFieldEnd()),this.accum_data!==null&&this.accum_data!==void 0&&(l.writeFieldBegin("accum_data",o.Type.STRING,7),l.writeBinary(this.accum_data),l.writeFieldEnd()),this.accum_depth!==null&&this.accum_depth!==void 0&&(l.writeFieldBegin("accum_depth",o.Type.I32,8),l.writeI32(this.accum_depth),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TRawPixelData=class{constructor(l){this.width=null,this.height=null,this.render_pass_map=null,l&&(l.width!==void 0&&l.width!==null&&(this.width=l.width),l.height!==void 0&&l.height!==null&&(this.height=l.height),l.render_pass_map!==void 0&&l.render_pass_map!==null&&(this.render_pass_map=o.copyMap(l.render_pass_map,[m.TRawRenderPassDataResult])))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.width=l.readI32():l.skip(L);break;case 2:L==o.Type.I32?this.height=l.readI32():l.skip(L);break;case 3:if(L==o.Type.MAP){this.render_pass_map={};const x=l.readMapBegin().size||0;for(let k=0;k<x;++k){let B=null,A=null;B=l.readI32(),A=new m.TRawRenderPassDataResult,A.read(l),this.render_pass_map[B]=A}l.readMapEnd()}else l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TRawPixelData"),this.width!==null&&this.width!==void 0&&(l.writeFieldBegin("width",o.Type.I32,1),l.writeI32(this.width),l.writeFieldEnd()),this.height!==null&&this.height!==void 0&&(l.writeFieldBegin("height",o.Type.I32,2),l.writeI32(this.height),l.writeFieldEnd()),this.render_pass_map!==null&&this.render_pass_map!==void 0){l.writeFieldBegin("render_pass_map",o.Type.MAP,3),l.writeMapBegin(o.Type.I32,o.Type.STRUCT,o.objectLength(this.render_pass_map));for(let b in this.render_pass_map)if(this.render_pass_map.hasOwnProperty(b)){let L=this.render_pass_map[b];l.writeI32(b),L.write(l)}l.writeMapEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TRenderDatum=class{constructor(l){this.type=null,this.cnt=null,this.value=null,l&&(l.type!==void 0&&l.type!==null&&(this.type=l.type),l.cnt!==void 0&&l.cnt!==null&&(this.cnt=l.cnt),l.value!==void 0&&l.value!==null&&(this.value=l.value))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.type=l.readI32():l.skip(L);break;case 2:L==o.Type.I32?this.cnt=l.readI32():l.skip(L);break;case 3:L==o.Type.STRING?this.value=l.readBinary():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TRenderDatum"),this.type!==null&&this.type!==void 0&&(l.writeFieldBegin("type",o.Type.I32,1),l.writeI32(this.type),l.writeFieldEnd()),this.cnt!==null&&this.cnt!==void 0&&(l.writeFieldBegin("cnt",o.Type.I32,2),l.writeI32(this.cnt),l.writeFieldEnd()),this.value!==null&&this.value!==void 0&&(l.writeFieldBegin("value",o.Type.STRING,3),l.writeBinary(this.value),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TRenderStepResult=class{constructor(l){this.merge_data=null,this.raw_pixel_data=null,this.execution_time_ms=null,this.render_time_ms=null,this.total_time_ms=null,l&&(l.merge_data!==void 0&&l.merge_data!==null&&(this.merge_data=o.copyMap(l.merge_data,[o.copyMap,o.copyMap,o.copyMap,o.copyList,m.TRenderDatum])),l.raw_pixel_data!==void 0&&l.raw_pixel_data!==null&&(this.raw_pixel_data=new m.TRawPixelData(l.raw_pixel_data)),l.execution_time_ms!==void 0&&l.execution_time_ms!==null&&(this.execution_time_ms=l.execution_time_ms),l.render_time_ms!==void 0&&l.render_time_ms!==null&&(this.render_time_ms=l.render_time_ms),l.total_time_ms!==void 0&&l.total_time_ms!==null&&(this.total_time_ms=l.total_time_ms))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:if(L==o.Type.MAP){this.merge_data={};const x=l.readMapBegin().size||0;for(let k=0;k<x;++k){let B=null,A=null;B=l.readString(),A={};const C=l.readMapBegin().size||0;for(let R=0;R<C;++R){let D=null,$=null;D=l.readString(),$={};const z=l.readMapBegin().size||0;for(let H=0;H<z;++H){let q=null,W=null;q=l.readString(),W={};const G=l.readMapBegin().size||0;for(let le=0;le<G;++le){let pe=null,ie=null;pe=l.readString(),ie=[];const fe=l.readListBegin().size||0;for(let Fe=0;Fe<fe;++Fe){let je=null;je=new m.TRenderDatum,je.read(l),ie.push(je)}l.readListEnd(),W[pe]=ie}l.readMapEnd(),$[q]=W}l.readMapEnd(),A[D]=$}l.readMapEnd(),this.merge_data[B]=A}l.readMapEnd()}else l.skip(L);break;case 2:L==o.Type.STRUCT?(this.raw_pixel_data=new m.TRawPixelData,this.raw_pixel_data.read(l)):l.skip(L);break;case 3:L==o.Type.I64?this.execution_time_ms=l.readI64():l.skip(L);break;case 4:L==o.Type.I64?this.render_time_ms=l.readI64():l.skip(L);break;case 5:L==o.Type.I64?this.total_time_ms=l.readI64():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TRenderStepResult"),this.merge_data!==null&&this.merge_data!==void 0){l.writeFieldBegin("merge_data",o.Type.MAP,1),l.writeMapBegin(o.Type.STRING,o.Type.MAP,o.objectLength(this.merge_data));for(let b in this.merge_data)if(this.merge_data.hasOwnProperty(b)){let L=this.merge_data[b];l.writeString(b),l.writeMapBegin(o.Type.STRING,o.Type.MAP,o.objectLength(L));for(let E in L)if(L.hasOwnProperty(E)){let S=L[E];l.writeString(E),l.writeMapBegin(o.Type.STRING,o.Type.MAP,o.objectLength(S));for(let x in S)if(S.hasOwnProperty(x)){let k=S[x];l.writeString(x),l.writeMapBegin(o.Type.STRING,o.Type.LIST,o.objectLength(k));for(let B in k)if(k.hasOwnProperty(B)){let A=k[B];l.writeString(B),l.writeListBegin(o.Type.STRUCT,A.length);for(let M in A)A.hasOwnProperty(M)&&(M=A[M],M.write(l));l.writeListEnd()}l.writeMapEnd()}l.writeMapEnd()}l.writeMapEnd()}l.writeMapEnd(),l.writeFieldEnd()}this.raw_pixel_data!==null&&this.raw_pixel_data!==void 0&&(l.writeFieldBegin("raw_pixel_data",o.Type.STRUCT,2),this.raw_pixel_data.write(l),l.writeFieldEnd()),this.execution_time_ms!==null&&this.execution_time_ms!==void 0&&(l.writeFieldBegin("execution_time_ms",o.Type.I64,3),l.writeI64(this.execution_time_ms),l.writeFieldEnd()),this.render_time_ms!==null&&this.render_time_ms!==void 0&&(l.writeFieldBegin("render_time_ms",o.Type.I64,4),l.writeI64(this.render_time_ms),l.writeFieldEnd()),this.total_time_ms!==null&&this.total_time_ms!==void 0&&(l.writeFieldBegin("total_time_ms",o.Type.I64,5),l.writeI64(this.total_time_ms),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDatabasePermissions=class{constructor(l){this.create_=null,this.delete_=null,this.view_sql_editor_=null,this.access_=null,l&&(l.create_!==void 0&&l.create_!==null&&(this.create_=l.create_),l.delete_!==void 0&&l.delete_!==null&&(this.delete_=l.delete_),l.view_sql_editor_!==void 0&&l.view_sql_editor_!==null&&(this.view_sql_editor_=l.view_sql_editor_),l.access_!==void 0&&l.access_!==null&&(this.access_=l.access_))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.BOOL?this.create_=l.readBool():l.skip(L);break;case 2:L==o.Type.BOOL?this.delete_=l.readBool():l.skip(L);break;case 3:L==o.Type.BOOL?this.view_sql_editor_=l.readBool():l.skip(L);break;case 4:L==o.Type.BOOL?this.access_=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDatabasePermissions"),this.create_!==null&&this.create_!==void 0&&(l.writeFieldBegin("create_",o.Type.BOOL,1),l.writeBool(this.create_),l.writeFieldEnd()),this.delete_!==null&&this.delete_!==void 0&&(l.writeFieldBegin("delete_",o.Type.BOOL,2),l.writeBool(this.delete_),l.writeFieldEnd()),this.view_sql_editor_!==null&&this.view_sql_editor_!==void 0&&(l.writeFieldBegin("view_sql_editor_",o.Type.BOOL,3),l.writeBool(this.view_sql_editor_),l.writeFieldEnd()),this.access_!==null&&this.access_!==void 0&&(l.writeFieldBegin("access_",o.Type.BOOL,4),l.writeBool(this.access_),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TTablePermissions=class{constructor(l){this.create_=null,this.drop_=null,this.select_=null,this.insert_=null,this.update_=null,this.delete_=null,this.truncate_=null,this.alter_=null,l&&(l.create_!==void 0&&l.create_!==null&&(this.create_=l.create_),l.drop_!==void 0&&l.drop_!==null&&(this.drop_=l.drop_),l.select_!==void 0&&l.select_!==null&&(this.select_=l.select_),l.insert_!==void 0&&l.insert_!==null&&(this.insert_=l.insert_),l.update_!==void 0&&l.update_!==null&&(this.update_=l.update_),l.delete_!==void 0&&l.delete_!==null&&(this.delete_=l.delete_),l.truncate_!==void 0&&l.truncate_!==null&&(this.truncate_=l.truncate_),l.alter_!==void 0&&l.alter_!==null&&(this.alter_=l.alter_))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.BOOL?this.create_=l.readBool():l.skip(L);break;case 2:L==o.Type.BOOL?this.drop_=l.readBool():l.skip(L);break;case 3:L==o.Type.BOOL?this.select_=l.readBool():l.skip(L);break;case 4:L==o.Type.BOOL?this.insert_=l.readBool():l.skip(L);break;case 5:L==o.Type.BOOL?this.update_=l.readBool():l.skip(L);break;case 6:L==o.Type.BOOL?this.delete_=l.readBool():l.skip(L);break;case 7:L==o.Type.BOOL?this.truncate_=l.readBool():l.skip(L);break;case 8:L==o.Type.BOOL?this.alter_=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TTablePermissions"),this.create_!==null&&this.create_!==void 0&&(l.writeFieldBegin("create_",o.Type.BOOL,1),l.writeBool(this.create_),l.writeFieldEnd()),this.drop_!==null&&this.drop_!==void 0&&(l.writeFieldBegin("drop_",o.Type.BOOL,2),l.writeBool(this.drop_),l.writeFieldEnd()),this.select_!==null&&this.select_!==void 0&&(l.writeFieldBegin("select_",o.Type.BOOL,3),l.writeBool(this.select_),l.writeFieldEnd()),this.insert_!==null&&this.insert_!==void 0&&(l.writeFieldBegin("insert_",o.Type.BOOL,4),l.writeBool(this.insert_),l.writeFieldEnd()),this.update_!==null&&this.update_!==void 0&&(l.writeFieldBegin("update_",o.Type.BOOL,5),l.writeBool(this.update_),l.writeFieldEnd()),this.delete_!==null&&this.delete_!==void 0&&(l.writeFieldBegin("delete_",o.Type.BOOL,6),l.writeBool(this.delete_),l.writeFieldEnd()),this.truncate_!==null&&this.truncate_!==void 0&&(l.writeFieldBegin("truncate_",o.Type.BOOL,7),l.writeBool(this.truncate_),l.writeFieldEnd()),this.alter_!==null&&this.alter_!==void 0&&(l.writeFieldBegin("alter_",o.Type.BOOL,8),l.writeBool(this.alter_),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDashboardPermissions=class{constructor(l){this.create_=null,this.delete_=null,this.view_=null,this.edit_=null,l&&(l.create_!==void 0&&l.create_!==null&&(this.create_=l.create_),l.delete_!==void 0&&l.delete_!==null&&(this.delete_=l.delete_),l.view_!==void 0&&l.view_!==null&&(this.view_=l.view_),l.edit_!==void 0&&l.edit_!==null&&(this.edit_=l.edit_))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.BOOL?this.create_=l.readBool():l.skip(L);break;case 2:L==o.Type.BOOL?this.delete_=l.readBool():l.skip(L);break;case 3:L==o.Type.BOOL?this.view_=l.readBool():l.skip(L);break;case 4:L==o.Type.BOOL?this.edit_=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDashboardPermissions"),this.create_!==null&&this.create_!==void 0&&(l.writeFieldBegin("create_",o.Type.BOOL,1),l.writeBool(this.create_),l.writeFieldEnd()),this.delete_!==null&&this.delete_!==void 0&&(l.writeFieldBegin("delete_",o.Type.BOOL,2),l.writeBool(this.delete_),l.writeFieldEnd()),this.view_!==null&&this.view_!==void 0&&(l.writeFieldBegin("view_",o.Type.BOOL,3),l.writeBool(this.view_),l.writeFieldEnd()),this.edit_!==null&&this.edit_!==void 0&&(l.writeFieldBegin("edit_",o.Type.BOOL,4),l.writeBool(this.edit_),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TViewPermissions=class{constructor(l){this.create_=null,this.drop_=null,this.select_=null,this.insert_=null,this.update_=null,this.delete_=null,l&&(l.create_!==void 0&&l.create_!==null&&(this.create_=l.create_),l.drop_!==void 0&&l.drop_!==null&&(this.drop_=l.drop_),l.select_!==void 0&&l.select_!==null&&(this.select_=l.select_),l.insert_!==void 0&&l.insert_!==null&&(this.insert_=l.insert_),l.update_!==void 0&&l.update_!==null&&(this.update_=l.update_),l.delete_!==void 0&&l.delete_!==null&&(this.delete_=l.delete_))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.BOOL?this.create_=l.readBool():l.skip(L);break;case 2:L==o.Type.BOOL?this.drop_=l.readBool():l.skip(L);break;case 3:L==o.Type.BOOL?this.select_=l.readBool():l.skip(L);break;case 4:L==o.Type.BOOL?this.insert_=l.readBool():l.skip(L);break;case 5:L==o.Type.BOOL?this.update_=l.readBool():l.skip(L);break;case 6:L==o.Type.BOOL?this.delete_=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TViewPermissions"),this.create_!==null&&this.create_!==void 0&&(l.writeFieldBegin("create_",o.Type.BOOL,1),l.writeBool(this.create_),l.writeFieldEnd()),this.drop_!==null&&this.drop_!==void 0&&(l.writeFieldBegin("drop_",o.Type.BOOL,2),l.writeBool(this.drop_),l.writeFieldEnd()),this.select_!==null&&this.select_!==void 0&&(l.writeFieldBegin("select_",o.Type.BOOL,3),l.writeBool(this.select_),l.writeFieldEnd()),this.insert_!==null&&this.insert_!==void 0&&(l.writeFieldBegin("insert_",o.Type.BOOL,4),l.writeBool(this.insert_),l.writeFieldEnd()),this.update_!==null&&this.update_!==void 0&&(l.writeFieldBegin("update_",o.Type.BOOL,5),l.writeBool(this.update_),l.writeFieldEnd()),this.delete_!==null&&this.delete_!==void 0&&(l.writeFieldBegin("delete_",o.Type.BOOL,6),l.writeBool(this.delete_),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TServerPermissions=class{constructor(l){this.create_=null,this.drop_=null,this.alter_=null,this.usage_=null,l&&(l.create_!==void 0&&l.create_!==null&&(this.create_=l.create_),l.drop_!==void 0&&l.drop_!==null&&(this.drop_=l.drop_),l.alter_!==void 0&&l.alter_!==null&&(this.alter_=l.alter_),l.usage_!==void 0&&l.usage_!==null&&(this.usage_=l.usage_))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.BOOL?this.create_=l.readBool():l.skip(L);break;case 2:L==o.Type.BOOL?this.drop_=l.readBool():l.skip(L);break;case 3:L==o.Type.BOOL?this.alter_=l.readBool():l.skip(L);break;case 4:L==o.Type.BOOL?this.usage_=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TServerPermissions"),this.create_!==null&&this.create_!==void 0&&(l.writeFieldBegin("create_",o.Type.BOOL,1),l.writeBool(this.create_),l.writeFieldEnd()),this.drop_!==null&&this.drop_!==void 0&&(l.writeFieldBegin("drop_",o.Type.BOOL,2),l.writeBool(this.drop_),l.writeFieldEnd()),this.alter_!==null&&this.alter_!==void 0&&(l.writeFieldBegin("alter_",o.Type.BOOL,3),l.writeBool(this.alter_),l.writeFieldEnd()),this.usage_!==null&&this.usage_!==void 0&&(l.writeFieldBegin("usage_",o.Type.BOOL,4),l.writeBool(this.usage_),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDBObjectPermissions=class{constructor(l){this.database_permissions_=null,this.table_permissions_=null,this.dashboard_permissions_=null,this.view_permissions_=null,this.server_permissions_=null,l&&(l.database_permissions_!==void 0&&l.database_permissions_!==null&&(this.database_permissions_=new m.TDatabasePermissions(l.database_permissions_)),l.table_permissions_!==void 0&&l.table_permissions_!==null&&(this.table_permissions_=new m.TTablePermissions(l.table_permissions_)),l.dashboard_permissions_!==void 0&&l.dashboard_permissions_!==null&&(this.dashboard_permissions_=new m.TDashboardPermissions(l.dashboard_permissions_)),l.view_permissions_!==void 0&&l.view_permissions_!==null&&(this.view_permissions_=new m.TViewPermissions(l.view_permissions_)),l.server_permissions_!==void 0&&l.server_permissions_!==null&&(this.server_permissions_=new m.TServerPermissions(l.server_permissions_)))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRUCT?(this.database_permissions_=new m.TDatabasePermissions,this.database_permissions_.read(l)):l.skip(L);break;case 2:L==o.Type.STRUCT?(this.table_permissions_=new m.TTablePermissions,this.table_permissions_.read(l)):l.skip(L);break;case 3:L==o.Type.STRUCT?(this.dashboard_permissions_=new m.TDashboardPermissions,this.dashboard_permissions_.read(l)):l.skip(L);break;case 4:L==o.Type.STRUCT?(this.view_permissions_=new m.TViewPermissions,this.view_permissions_.read(l)):l.skip(L);break;case 5:L==o.Type.STRUCT?(this.server_permissions_=new m.TServerPermissions,this.server_permissions_.read(l)):l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDBObjectPermissions"),this.database_permissions_!==null&&this.database_permissions_!==void 0&&(l.writeFieldBegin("database_permissions_",o.Type.STRUCT,1),this.database_permissions_.write(l),l.writeFieldEnd()),this.table_permissions_!==null&&this.table_permissions_!==void 0&&(l.writeFieldBegin("table_permissions_",o.Type.STRUCT,2),this.table_permissions_.write(l),l.writeFieldEnd()),this.dashboard_permissions_!==null&&this.dashboard_permissions_!==void 0&&(l.writeFieldBegin("dashboard_permissions_",o.Type.STRUCT,3),this.dashboard_permissions_.write(l),l.writeFieldEnd()),this.view_permissions_!==null&&this.view_permissions_!==void 0&&(l.writeFieldBegin("view_permissions_",o.Type.STRUCT,4),this.view_permissions_.write(l),l.writeFieldEnd()),this.server_permissions_!==null&&this.server_permissions_!==void 0&&(l.writeFieldBegin("server_permissions_",o.Type.STRUCT,5),this.server_permissions_.write(l),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDBObject=class{constructor(l){this.objectName=null,this.objectType=null,this.privs=null,this.grantee=null,this.privilegeObjectType=null,this.objectId=null,l&&(l.objectName!==void 0&&l.objectName!==null&&(this.objectName=l.objectName),l.objectType!==void 0&&l.objectType!==null&&(this.objectType=l.objectType),l.privs!==void 0&&l.privs!==null&&(this.privs=o.copyList(l.privs,[null])),l.grantee!==void 0&&l.grantee!==null&&(this.grantee=l.grantee),l.privilegeObjectType!==void 0&&l.privilegeObjectType!==null&&(this.privilegeObjectType=l.privilegeObjectType),l.objectId!==void 0&&l.objectId!==null&&(this.objectId=l.objectId))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.objectName=l.readString():l.skip(L);break;case 2:L==o.Type.I32?this.objectType=l.readI32():l.skip(L);break;case 3:if(L==o.Type.LIST){this.privs=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readBool(),this.privs.push(B)}l.readListEnd()}else l.skip(L);break;case 4:L==o.Type.STRING?this.grantee=l.readString():l.skip(L);break;case 5:L==o.Type.I32?this.privilegeObjectType=l.readI32():l.skip(L);break;case 6:L==o.Type.I32?this.objectId=l.readI32():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TDBObject"),this.objectName!==null&&this.objectName!==void 0&&(l.writeFieldBegin("objectName",o.Type.STRING,1),l.writeString(this.objectName),l.writeFieldEnd()),this.objectType!==null&&this.objectType!==void 0&&(l.writeFieldBegin("objectType",o.Type.I32,2),l.writeI32(this.objectType),l.writeFieldEnd()),this.privs!==null&&this.privs!==void 0){l.writeFieldBegin("privs",o.Type.LIST,3),l.writeListBegin(o.Type.BOOL,this.privs.length);for(let b in this.privs)this.privs.hasOwnProperty(b)&&(b=this.privs[b],l.writeBool(b));l.writeListEnd(),l.writeFieldEnd()}this.grantee!==null&&this.grantee!==void 0&&(l.writeFieldBegin("grantee",o.Type.STRING,4),l.writeString(this.grantee),l.writeFieldEnd()),this.privilegeObjectType!==null&&this.privilegeObjectType!==void 0&&(l.writeFieldBegin("privilegeObjectType",o.Type.I32,5),l.writeI32(this.privilegeObjectType),l.writeFieldEnd()),this.objectId!==null&&this.objectId!==void 0&&(l.writeFieldBegin("objectId",o.Type.I32,6),l.writeI32(this.objectId),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDashboardGrantees=class{constructor(l){this.name=null,this.is_user=null,this.permissions=null,l&&(l.name!==void 0&&l.name!==null&&(this.name=l.name),l.is_user!==void 0&&l.is_user!==null&&(this.is_user=l.is_user),l.permissions!==void 0&&l.permissions!==null&&(this.permissions=new m.TDashboardPermissions(l.permissions)))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.name=l.readString():l.skip(L);break;case 2:L==o.Type.BOOL?this.is_user=l.readBool():l.skip(L);break;case 3:L==o.Type.STRUCT?(this.permissions=new m.TDashboardPermissions,this.permissions.read(l)):l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDashboardGrantees"),this.name!==null&&this.name!==void 0&&(l.writeFieldBegin("name",o.Type.STRING,1),l.writeString(this.name),l.writeFieldEnd()),this.is_user!==null&&this.is_user!==void 0&&(l.writeFieldBegin("is_user",o.Type.BOOL,2),l.writeBool(this.is_user),l.writeFieldEnd()),this.permissions!==null&&this.permissions!==void 0&&(l.writeFieldBegin("permissions",o.Type.STRUCT,3),this.permissions.write(l),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TDashboard=class{constructor(l){this.dashboard_name=null,this.dashboard_state=null,this.image_hash=null,this.update_time=null,this.dashboard_metadata=null,this.dashboard_id=null,this.dashboard_owner=null,this.is_dash_shared=null,this.dashboard_permissions=null,l&&(l.dashboard_name!==void 0&&l.dashboard_name!==null&&(this.dashboard_name=l.dashboard_name),l.dashboard_state!==void 0&&l.dashboard_state!==null&&(this.dashboard_state=l.dashboard_state),l.image_hash!==void 0&&l.image_hash!==null&&(this.image_hash=l.image_hash),l.update_time!==void 0&&l.update_time!==null&&(this.update_time=l.update_time),l.dashboard_metadata!==void 0&&l.dashboard_metadata!==null&&(this.dashboard_metadata=l.dashboard_metadata),l.dashboard_id!==void 0&&l.dashboard_id!==null&&(this.dashboard_id=l.dashboard_id),l.dashboard_owner!==void 0&&l.dashboard_owner!==null&&(this.dashboard_owner=l.dashboard_owner),l.is_dash_shared!==void 0&&l.is_dash_shared!==null&&(this.is_dash_shared=l.is_dash_shared),l.dashboard_permissions!==void 0&&l.dashboard_permissions!==null&&(this.dashboard_permissions=new m.TDashboardPermissions(l.dashboard_permissions)))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.dashboard_name=l.readString():l.skip(L);break;case 2:L==o.Type.STRING?this.dashboard_state=l.readString():l.skip(L);break;case 3:L==o.Type.STRING?this.image_hash=l.readString():l.skip(L);break;case 4:L==o.Type.STRING?this.update_time=l.readString():l.skip(L);break;case 5:L==o.Type.STRING?this.dashboard_metadata=l.readString():l.skip(L);break;case 6:L==o.Type.I32?this.dashboard_id=l.readI32():l.skip(L);break;case 7:L==o.Type.STRING?this.dashboard_owner=l.readString():l.skip(L);break;case 8:L==o.Type.BOOL?this.is_dash_shared=l.readBool():l.skip(L);break;case 9:L==o.Type.STRUCT?(this.dashboard_permissions=new m.TDashboardPermissions,this.dashboard_permissions.read(l)):l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TDashboard"),this.dashboard_name!==null&&this.dashboard_name!==void 0&&(l.writeFieldBegin("dashboard_name",o.Type.STRING,1),l.writeString(this.dashboard_name),l.writeFieldEnd()),this.dashboard_state!==null&&this.dashboard_state!==void 0&&(l.writeFieldBegin("dashboard_state",o.Type.STRING,2),l.writeString(this.dashboard_state),l.writeFieldEnd()),this.image_hash!==null&&this.image_hash!==void 0&&(l.writeFieldBegin("image_hash",o.Type.STRING,3),l.writeString(this.image_hash),l.writeFieldEnd()),this.update_time!==null&&this.update_time!==void 0&&(l.writeFieldBegin("update_time",o.Type.STRING,4),l.writeString(this.update_time),l.writeFieldEnd()),this.dashboard_metadata!==null&&this.dashboard_metadata!==void 0&&(l.writeFieldBegin("dashboard_metadata",o.Type.STRING,5),l.writeString(this.dashboard_metadata),l.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(l.writeFieldBegin("dashboard_id",o.Type.I32,6),l.writeI32(this.dashboard_id),l.writeFieldEnd()),this.dashboard_owner!==null&&this.dashboard_owner!==void 0&&(l.writeFieldBegin("dashboard_owner",o.Type.STRING,7),l.writeString(this.dashboard_owner),l.writeFieldEnd()),this.is_dash_shared!==null&&this.is_dash_shared!==void 0&&(l.writeFieldBegin("is_dash_shared",o.Type.BOOL,8),l.writeBool(this.is_dash_shared),l.writeFieldEnd()),this.dashboard_permissions!==null&&this.dashboard_permissions!==void 0&&(l.writeFieldBegin("dashboard_permissions",o.Type.STRUCT,9),this.dashboard_permissions.write(l),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TLicenseInfo=class{constructor(l){this.claims=null,l&&l.claims!==void 0&&l.claims!==null&&(this.claims=o.copyList(l.claims,[null]))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:if(L==o.Type.LIST){this.claims=[];const x=l.readListBegin().size||0;for(let k=0;k<x;++k){let B=null;B=l.readString(),this.claims.push(B)}l.readListEnd()}else l.skip(L);break;case 0:l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){if(l.writeStructBegin("TLicenseInfo"),this.claims!==null&&this.claims!==void 0){l.writeFieldBegin("claims",o.Type.LIST,1),l.writeListBegin(o.Type.STRING,this.claims.length);for(let b in this.claims)this.claims.hasOwnProperty(b)&&(b=this.claims[b],l.writeString(b));l.writeListEnd(),l.writeFieldEnd()}l.writeFieldStop(),l.writeStructEnd()}},c.exports.TSessionInfo=class{constructor(l){this.user=null,this.database=null,this.start_time=null,this.is_super=null,l&&(l.user!==void 0&&l.user!==null&&(this.user=l.user),l.database!==void 0&&l.database!==null&&(this.database=l.database),l.start_time!==void 0&&l.start_time!==null&&(this.start_time=l.start_time),l.is_super!==void 0&&l.is_super!==null&&(this.is_super=l.is_super))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.user=l.readString():l.skip(L);break;case 2:L==o.Type.STRING?this.database=l.readString():l.skip(L);break;case 3:L==o.Type.I64?this.start_time=l.readI64():l.skip(L);break;case 4:L==o.Type.BOOL?this.is_super=l.readBool():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TSessionInfo"),this.user!==null&&this.user!==void 0&&(l.writeFieldBegin("user",o.Type.STRING,1),l.writeString(this.user),l.writeFieldEnd()),this.database!==null&&this.database!==void 0&&(l.writeFieldBegin("database",o.Type.STRING,2),l.writeString(this.database),l.writeFieldEnd()),this.start_time!==null&&this.start_time!==void 0&&(l.writeFieldBegin("start_time",o.Type.I64,3),l.writeI64(this.start_time),l.writeFieldEnd()),this.is_super!==null&&this.is_super!==void 0&&(l.writeFieldBegin("is_super",o.Type.BOOL,4),l.writeBool(this.is_super),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TGeoFileLayerInfo=class{constructor(l){this.name=null,this.contents=null,l&&(l.name!==void 0&&l.name!==null&&(this.name=l.name),l.contents!==void 0&&l.contents!==null&&(this.contents=l.contents))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.name=l.readString():l.skip(L);break;case 2:L==o.Type.I32?this.contents=l.readI32():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TGeoFileLayerInfo"),this.name!==null&&this.name!==void 0&&(l.writeFieldBegin("name",o.Type.STRING,1),l.writeString(this.name),l.writeFieldEnd()),this.contents!==null&&this.contents!==void 0&&(l.writeFieldBegin("contents",o.Type.I32,2),l.writeI32(this.contents),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TTableEpochInfo=class{constructor(l){this.table_id=null,this.table_epoch=null,this.leaf_index=null,l&&(l.table_id!==void 0&&l.table_id!==null&&(this.table_id=l.table_id),l.table_epoch!==void 0&&l.table_epoch!==null&&(this.table_epoch=l.table_epoch),l.leaf_index!==void 0&&l.leaf_index!==null&&(this.leaf_index=l.leaf_index))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.table_id=l.readI32():l.skip(L);break;case 2:L==o.Type.I32?this.table_epoch=l.readI32():l.skip(L);break;case 3:L==o.Type.I32?this.leaf_index=l.readI32():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TTableEpochInfo"),this.table_id!==null&&this.table_id!==void 0&&(l.writeFieldBegin("table_id",o.Type.I32,1),l.writeI32(this.table_id),l.writeFieldEnd()),this.table_epoch!==null&&this.table_epoch!==void 0&&(l.writeFieldBegin("table_epoch",o.Type.I32,2),l.writeI32(this.table_epoch),l.writeFieldEnd()),this.leaf_index!==null&&this.leaf_index!==void 0&&(l.writeFieldBegin("leaf_index",o.Type.I32,3),l.writeI32(this.leaf_index),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TCustomExpression=class{constructor(l){this.id=null,this.name=null,this.expression_json=null,this.data_source_type=null,this.data_source_id=null,this.is_deleted=null,this.data_source_name=null,l&&(l.id!==void 0&&l.id!==null&&(this.id=l.id),l.name!==void 0&&l.name!==null&&(this.name=l.name),l.expression_json!==void 0&&l.expression_json!==null&&(this.expression_json=l.expression_json),l.data_source_type!==void 0&&l.data_source_type!==null&&(this.data_source_type=l.data_source_type),l.data_source_id!==void 0&&l.data_source_id!==null&&(this.data_source_id=l.data_source_id),l.is_deleted!==void 0&&l.is_deleted!==null&&(this.is_deleted=l.is_deleted),l.data_source_name!==void 0&&l.data_source_name!==null&&(this.data_source_name=l.data_source_name))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.id=l.readI32():l.skip(L);break;case 2:L==o.Type.STRING?this.name=l.readString():l.skip(L);break;case 4:L==o.Type.STRING?this.expression_json=l.readString():l.skip(L);break;case 5:L==o.Type.I32?this.data_source_type=l.readI32():l.skip(L);break;case 6:L==o.Type.I32?this.data_source_id=l.readI32():l.skip(L);break;case 7:L==o.Type.BOOL?this.is_deleted=l.readBool():l.skip(L);break;case 8:L==o.Type.STRING?this.data_source_name=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TCustomExpression"),this.id!==null&&this.id!==void 0&&(l.writeFieldBegin("id",o.Type.I32,1),l.writeI32(this.id),l.writeFieldEnd()),this.name!==null&&this.name!==void 0&&(l.writeFieldBegin("name",o.Type.STRING,2),l.writeString(this.name),l.writeFieldEnd()),this.expression_json!==null&&this.expression_json!==void 0&&(l.writeFieldBegin("expression_json",o.Type.STRING,4),l.writeString(this.expression_json),l.writeFieldEnd()),this.data_source_type!==null&&this.data_source_type!==void 0&&(l.writeFieldBegin("data_source_type",o.Type.I32,5),l.writeI32(this.data_source_type),l.writeFieldEnd()),this.data_source_id!==null&&this.data_source_id!==void 0&&(l.writeFieldBegin("data_source_id",o.Type.I32,6),l.writeI32(this.data_source_id),l.writeFieldEnd()),this.is_deleted!==null&&this.is_deleted!==void 0&&(l.writeFieldBegin("is_deleted",o.Type.BOOL,7),l.writeBool(this.is_deleted),l.writeFieldEnd()),this.data_source_name!==null&&this.data_source_name!==void 0&&(l.writeFieldBegin("data_source_name",o.Type.STRING,8),l.writeString(this.data_source_name),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TQueryInfo=class{constructor(l){this.query_session_id=null,this.query_public_session_id=null,this.current_status=null,this.executor_id=null,this.submitted=null,this.query_str=null,this.login_name=null,this.client_address=null,this.db_name=null,this.exec_device_type=null,l&&(l.query_session_id!==void 0&&l.query_session_id!==null&&(this.query_session_id=l.query_session_id),l.query_public_session_id!==void 0&&l.query_public_session_id!==null&&(this.query_public_session_id=l.query_public_session_id),l.current_status!==void 0&&l.current_status!==null&&(this.current_status=l.current_status),l.executor_id!==void 0&&l.executor_id!==null&&(this.executor_id=l.executor_id),l.submitted!==void 0&&l.submitted!==null&&(this.submitted=l.submitted),l.query_str!==void 0&&l.query_str!==null&&(this.query_str=l.query_str),l.login_name!==void 0&&l.login_name!==null&&(this.login_name=l.login_name),l.client_address!==void 0&&l.client_address!==null&&(this.client_address=l.client_address),l.db_name!==void 0&&l.db_name!==null&&(this.db_name=l.db_name),l.exec_device_type!==void 0&&l.exec_device_type!==null&&(this.exec_device_type=l.exec_device_type))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.STRING?this.query_session_id=l.readString():l.skip(L);break;case 2:L==o.Type.STRING?this.query_public_session_id=l.readString():l.skip(L);break;case 3:L==o.Type.STRING?this.current_status=l.readString():l.skip(L);break;case 4:L==o.Type.I32?this.executor_id=l.readI32():l.skip(L);break;case 5:L==o.Type.STRING?this.submitted=l.readString():l.skip(L);break;case 6:L==o.Type.STRING?this.query_str=l.readString():l.skip(L);break;case 7:L==o.Type.STRING?this.login_name=l.readString():l.skip(L);break;case 8:L==o.Type.STRING?this.client_address=l.readString():l.skip(L);break;case 9:L==o.Type.STRING?this.db_name=l.readString():l.skip(L);break;case 10:L==o.Type.STRING?this.exec_device_type=l.readString():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TQueryInfo"),this.query_session_id!==null&&this.query_session_id!==void 0&&(l.writeFieldBegin("query_session_id",o.Type.STRING,1),l.writeString(this.query_session_id),l.writeFieldEnd()),this.query_public_session_id!==null&&this.query_public_session_id!==void 0&&(l.writeFieldBegin("query_public_session_id",o.Type.STRING,2),l.writeString(this.query_public_session_id),l.writeFieldEnd()),this.current_status!==null&&this.current_status!==void 0&&(l.writeFieldBegin("current_status",o.Type.STRING,3),l.writeString(this.current_status),l.writeFieldEnd()),this.executor_id!==null&&this.executor_id!==void 0&&(l.writeFieldBegin("executor_id",o.Type.I32,4),l.writeI32(this.executor_id),l.writeFieldEnd()),this.submitted!==null&&this.submitted!==void 0&&(l.writeFieldBegin("submitted",o.Type.STRING,5),l.writeString(this.submitted),l.writeFieldEnd()),this.query_str!==null&&this.query_str!==void 0&&(l.writeFieldBegin("query_str",o.Type.STRING,6),l.writeString(this.query_str),l.writeFieldEnd()),this.login_name!==null&&this.login_name!==void 0&&(l.writeFieldBegin("login_name",o.Type.STRING,7),l.writeString(this.login_name),l.writeFieldEnd()),this.client_address!==null&&this.client_address!==void 0&&(l.writeFieldBegin("client_address",o.Type.STRING,8),l.writeString(this.client_address),l.writeFieldEnd()),this.db_name!==null&&this.db_name!==void 0&&(l.writeFieldBegin("db_name",o.Type.STRING,9),l.writeString(this.db_name),l.writeFieldEnd()),this.exec_device_type!==null&&this.exec_device_type!==void 0&&(l.writeFieldBegin("exec_device_type",o.Type.STRING,10),l.writeString(this.exec_device_type),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}},c.exports.TLeafInfo=class{constructor(l){this.leaf_id=null,this.num_leaves=null,l&&(l.leaf_id!==void 0&&l.leaf_id!==null&&(this.leaf_id=l.leaf_id),l.num_leaves!==void 0&&l.num_leaves!==null&&(this.num_leaves=l.num_leaves))}read(l){for(l.readStructBegin();;){const b=l.readFieldBegin(),L=b.ftype,E=b.fid;if(L==o.Type.STOP)break;switch(E){case 1:L==o.Type.I32?this.leaf_id=l.readI32():l.skip(L);break;case 2:L==o.Type.I32?this.num_leaves=l.readI32():l.skip(L);break;default:l.skip(L)}l.readFieldEnd()}l.readStructEnd()}write(l){l.writeStructBegin("TLeafInfo"),this.leaf_id!==null&&this.leaf_id!==void 0&&(l.writeFieldBegin("leaf_id",o.Type.I32,1),l.writeI32(this.leaf_id),l.writeFieldEnd()),this.num_leaves!==null&&this.num_leaves!==void 0&&(l.writeFieldBegin("num_leaves",o.Type.I32,2),l.writeI32(this.num_leaves),l.writeFieldEnd()),l.writeFieldStop(),l.writeStructEnd()}}},3962:(c,d,f)=>{const o=f(9262).Thrift;f(135);const g=f(2818),y=c.exports={};y.TResultSetLayout={GroupByPerfectHash:0,GroupByBaselineHash:1,Projection:2,NonGroupedAggregate:3},y.TCountDistinctImplType={Invalid:0,Bitmap:1,UnorderedSet:2},y.TAggKind={AVG:0,MIN:1,MAX:2,SUM:3,COUNT:4,APPROX_COUNT_DISTINCT:5,SAMPLE:6,SINGLE_VALUE:7},c.exports.TSlotSize=class{constructor(m){this.padded=null,this.logical=null,m&&(m.padded!==void 0&&m.padded!==null&&(this.padded=m.padded),m.logical!==void 0&&m.logical!==null&&(this.logical=m.logical))}read(m){for(m.readStructBegin();;){const l=m.readFieldBegin(),b=l.ftype,L=l.fid;if(b==o.Type.STOP)break;switch(L){case 1:b==o.Type.I16?this.padded=m.readI16():m.skip(b);break;case 2:b==o.Type.I16?this.logical=m.readI16():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){m.writeStructBegin("TSlotSize"),this.padded!==null&&this.padded!==void 0&&(m.writeFieldBegin("padded",o.Type.I16,1),m.writeI16(this.padded),m.writeFieldEnd()),this.logical!==null&&this.logical!==void 0&&(m.writeFieldBegin("logical",o.Type.I16,2),m.writeI16(this.logical),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}},c.exports.TColSlotContext=class{constructor(m){this.slot_sizes=null,this.col_to_slot_map=null,m&&(m.slot_sizes!==void 0&&m.slot_sizes!==null&&(this.slot_sizes=o.copyList(m.slot_sizes,[y.TSlotSize])),m.col_to_slot_map!==void 0&&m.col_to_slot_map!==null&&(this.col_to_slot_map=o.copyList(m.col_to_slot_map,[o.copyList,null])))}read(m){for(m.readStructBegin();;){const l=m.readFieldBegin(),b=l.ftype,L=l.fid;if(b==o.Type.STOP)break;switch(L){case 1:if(b==o.Type.LIST){this.slot_sizes=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=new y.TSlotSize,k.read(m),this.slot_sizes.push(k)}m.readListEnd()}else m.skip(b);break;case 2:if(b==o.Type.LIST){this.col_to_slot_map=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=[];const A=m.readListBegin().size||0;for(let M=0;M<A;++M){let C=null;C=m.readI32(),k.push(C)}m.readListEnd(),this.col_to_slot_map.push(k)}m.readListEnd()}else m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){if(m.writeStructBegin("TColSlotContext"),this.slot_sizes!==null&&this.slot_sizes!==void 0){m.writeFieldBegin("slot_sizes",o.Type.LIST,1),m.writeListBegin(o.Type.STRUCT,this.slot_sizes.length);for(let l in this.slot_sizes)this.slot_sizes.hasOwnProperty(l)&&(l=this.slot_sizes[l],l.write(m));m.writeListEnd(),m.writeFieldEnd()}if(this.col_to_slot_map!==null&&this.col_to_slot_map!==void 0){m.writeFieldBegin("col_to_slot_map",o.Type.LIST,2),m.writeListBegin(o.Type.LIST,this.col_to_slot_map.length);for(let l in this.col_to_slot_map)if(this.col_to_slot_map.hasOwnProperty(l)){l=this.col_to_slot_map[l],m.writeListBegin(o.Type.I32,l.length);for(let b in l)l.hasOwnProperty(b)&&(b=l[b],m.writeI32(b));m.writeListEnd()}m.writeListEnd(),m.writeFieldEnd()}m.writeFieldStop(),m.writeStructEnd()}},c.exports.TCountDistinctDescriptor=class{constructor(m){this.impl_type=null,this.min_val=null,this.bitmap_sz_bits=null,this.approximate=null,this.device_type=null,this.sub_bitmap_count=null,m&&(m.impl_type!==void 0&&m.impl_type!==null&&(this.impl_type=m.impl_type),m.min_val!==void 0&&m.min_val!==null&&(this.min_val=m.min_val),m.bitmap_sz_bits!==void 0&&m.bitmap_sz_bits!==null&&(this.bitmap_sz_bits=m.bitmap_sz_bits),m.approximate!==void 0&&m.approximate!==null&&(this.approximate=m.approximate),m.device_type!==void 0&&m.device_type!==null&&(this.device_type=m.device_type),m.sub_bitmap_count!==void 0&&m.sub_bitmap_count!==null&&(this.sub_bitmap_count=m.sub_bitmap_count))}read(m){for(m.readStructBegin();;){const l=m.readFieldBegin(),b=l.ftype,L=l.fid;if(b==o.Type.STOP)break;switch(L){case 1:b==o.Type.I32?this.impl_type=m.readI32():m.skip(b);break;case 2:b==o.Type.I64?this.min_val=m.readI64():m.skip(b);break;case 3:b==o.Type.I64?this.bitmap_sz_bits=m.readI64():m.skip(b);break;case 4:b==o.Type.BOOL?this.approximate=m.readBool():m.skip(b);break;case 5:b==o.Type.I32?this.device_type=m.readI32():m.skip(b);break;case 6:b==o.Type.I64?this.sub_bitmap_count=m.readI64():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){m.writeStructBegin("TCountDistinctDescriptor"),this.impl_type!==null&&this.impl_type!==void 0&&(m.writeFieldBegin("impl_type",o.Type.I32,1),m.writeI32(this.impl_type),m.writeFieldEnd()),this.min_val!==null&&this.min_val!==void 0&&(m.writeFieldBegin("min_val",o.Type.I64,2),m.writeI64(this.min_val),m.writeFieldEnd()),this.bitmap_sz_bits!==null&&this.bitmap_sz_bits!==void 0&&(m.writeFieldBegin("bitmap_sz_bits",o.Type.I64,3),m.writeI64(this.bitmap_sz_bits),m.writeFieldEnd()),this.approximate!==null&&this.approximate!==void 0&&(m.writeFieldBegin("approximate",o.Type.BOOL,4),m.writeBool(this.approximate),m.writeFieldEnd()),this.device_type!==null&&this.device_type!==void 0&&(m.writeFieldBegin("device_type",o.Type.I32,5),m.writeI32(this.device_type),m.writeFieldEnd()),this.sub_bitmap_count!==null&&this.sub_bitmap_count!==void 0&&(m.writeFieldBegin("sub_bitmap_count",o.Type.I64,6),m.writeI64(this.sub_bitmap_count),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}},c.exports.TResultSetBufferDescriptor=class{constructor(m){this.layout=null,this.keyless=null,this.entry_count=null,this.idx_target_as_key=null,this.min_val=null,this.max_val=null,this.bucket=null,this.group_col_widths=null,this.key_bytewidth=null,this.col_slot_context=null,this.target_groupby_indices=null,this.count_distinct_descriptors=null,this.force_4byte_float=null,m&&(m.layout!==void 0&&m.layout!==null&&(this.layout=m.layout),m.keyless!==void 0&&m.keyless!==null&&(this.keyless=m.keyless),m.entry_count!==void 0&&m.entry_count!==null&&(this.entry_count=m.entry_count),m.idx_target_as_key!==void 0&&m.idx_target_as_key!==null&&(this.idx_target_as_key=m.idx_target_as_key),m.min_val!==void 0&&m.min_val!==null&&(this.min_val=m.min_val),m.max_val!==void 0&&m.max_val!==null&&(this.max_val=m.max_val),m.bucket!==void 0&&m.bucket!==null&&(this.bucket=m.bucket),m.group_col_widths!==void 0&&m.group_col_widths!==null&&(this.group_col_widths=o.copyList(m.group_col_widths,[null])),m.key_bytewidth!==void 0&&m.key_bytewidth!==null&&(this.key_bytewidth=m.key_bytewidth),m.col_slot_context!==void 0&&m.col_slot_context!==null&&(this.col_slot_context=new y.TColSlotContext(m.col_slot_context)),m.target_groupby_indices!==void 0&&m.target_groupby_indices!==null&&(this.target_groupby_indices=o.copyList(m.target_groupby_indices,[null])),m.count_distinct_descriptors!==void 0&&m.count_distinct_descriptors!==null&&(this.count_distinct_descriptors=o.copyList(m.count_distinct_descriptors,[y.TCountDistinctDescriptor])),m.force_4byte_float!==void 0&&m.force_4byte_float!==null&&(this.force_4byte_float=m.force_4byte_float))}read(m){for(m.readStructBegin();;){const l=m.readFieldBegin(),b=l.ftype,L=l.fid;if(b==o.Type.STOP)break;switch(L){case 1:b==o.Type.I32?this.layout=m.readI32():m.skip(b);break;case 2:b==o.Type.BOOL?this.keyless=m.readBool():m.skip(b);break;case 3:b==o.Type.I32?this.entry_count=m.readI32():m.skip(b);break;case 4:b==o.Type.I32?this.idx_target_as_key=m.readI32():m.skip(b);break;case 5:b==o.Type.I64?this.min_val=m.readI64():m.skip(b);break;case 6:b==o.Type.I64?this.max_val=m.readI64():m.skip(b);break;case 7:b==o.Type.I64?this.bucket=m.readI64():m.skip(b);break;case 8:if(b==o.Type.LIST){this.group_col_widths=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=m.readI16(),this.group_col_widths.push(k)}m.readListEnd()}else m.skip(b);break;case 9:b==o.Type.I16?this.key_bytewidth=m.readI16():m.skip(b);break;case 10:b==o.Type.STRUCT?(this.col_slot_context=new y.TColSlotContext,this.col_slot_context.read(m)):m.skip(b);break;case 11:if(b==o.Type.LIST){this.target_groupby_indices=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=m.readI32(),this.target_groupby_indices.push(k)}m.readListEnd()}else m.skip(b);break;case 12:if(b==o.Type.LIST){this.count_distinct_descriptors=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=new y.TCountDistinctDescriptor,k.read(m),this.count_distinct_descriptors.push(k)}m.readListEnd()}else m.skip(b);break;case 13:b==o.Type.BOOL?this.force_4byte_float=m.readBool():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){if(m.writeStructBegin("TResultSetBufferDescriptor"),this.layout!==null&&this.layout!==void 0&&(m.writeFieldBegin("layout",o.Type.I32,1),m.writeI32(this.layout),m.writeFieldEnd()),this.keyless!==null&&this.keyless!==void 0&&(m.writeFieldBegin("keyless",o.Type.BOOL,2),m.writeBool(this.keyless),m.writeFieldEnd()),this.entry_count!==null&&this.entry_count!==void 0&&(m.writeFieldBegin("entry_count",o.Type.I32,3),m.writeI32(this.entry_count),m.writeFieldEnd()),this.idx_target_as_key!==null&&this.idx_target_as_key!==void 0&&(m.writeFieldBegin("idx_target_as_key",o.Type.I32,4),m.writeI32(this.idx_target_as_key),m.writeFieldEnd()),this.min_val!==null&&this.min_val!==void 0&&(m.writeFieldBegin("min_val",o.Type.I64,5),m.writeI64(this.min_val),m.writeFieldEnd()),this.max_val!==null&&this.max_val!==void 0&&(m.writeFieldBegin("max_val",o.Type.I64,6),m.writeI64(this.max_val),m.writeFieldEnd()),this.bucket!==null&&this.bucket!==void 0&&(m.writeFieldBegin("bucket",o.Type.I64,7),m.writeI64(this.bucket),m.writeFieldEnd()),this.group_col_widths!==null&&this.group_col_widths!==void 0){m.writeFieldBegin("group_col_widths",o.Type.LIST,8),m.writeListBegin(o.Type.I16,this.group_col_widths.length);for(let l in this.group_col_widths)this.group_col_widths.hasOwnProperty(l)&&(l=this.group_col_widths[l],m.writeI16(l));m.writeListEnd(),m.writeFieldEnd()}if(this.key_bytewidth!==null&&this.key_bytewidth!==void 0&&(m.writeFieldBegin("key_bytewidth",o.Type.I16,9),m.writeI16(this.key_bytewidth),m.writeFieldEnd()),this.col_slot_context!==null&&this.col_slot_context!==void 0&&(m.writeFieldBegin("col_slot_context",o.Type.STRUCT,10),this.col_slot_context.write(m),m.writeFieldEnd()),this.target_groupby_indices!==null&&this.target_groupby_indices!==void 0){m.writeFieldBegin("target_groupby_indices",o.Type.LIST,11),m.writeListBegin(o.Type.I32,this.target_groupby_indices.length);for(let l in this.target_groupby_indices)this.target_groupby_indices.hasOwnProperty(l)&&(l=this.target_groupby_indices[l],m.writeI32(l));m.writeListEnd(),m.writeFieldEnd()}if(this.count_distinct_descriptors!==null&&this.count_distinct_descriptors!==void 0){m.writeFieldBegin("count_distinct_descriptors",o.Type.LIST,12),m.writeListBegin(o.Type.STRUCT,this.count_distinct_descriptors.length);for(let l in this.count_distinct_descriptors)this.count_distinct_descriptors.hasOwnProperty(l)&&(l=this.count_distinct_descriptors[l],l.write(m));m.writeListEnd(),m.writeFieldEnd()}this.force_4byte_float!==null&&this.force_4byte_float!==void 0&&(m.writeFieldBegin("force_4byte_float",o.Type.BOOL,13),m.writeBool(this.force_4byte_float),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}},c.exports.TTargetInfo=class{constructor(m){this.is_agg=null,this.kind=null,this.type=null,this.arg_type=null,this.skip_nulls=null,this.is_distinct=null,m&&(m.is_agg!==void 0&&m.is_agg!==null&&(this.is_agg=m.is_agg),m.kind!==void 0&&m.kind!==null&&(this.kind=m.kind),m.type!==void 0&&m.type!==null&&(this.type=new g.TTypeInfo(m.type)),m.arg_type!==void 0&&m.arg_type!==null&&(this.arg_type=new g.TTypeInfo(m.arg_type)),m.skip_nulls!==void 0&&m.skip_nulls!==null&&(this.skip_nulls=m.skip_nulls),m.is_distinct!==void 0&&m.is_distinct!==null&&(this.is_distinct=m.is_distinct))}read(m){for(m.readStructBegin();;){const l=m.readFieldBegin(),b=l.ftype,L=l.fid;if(b==o.Type.STOP)break;switch(L){case 1:b==o.Type.BOOL?this.is_agg=m.readBool():m.skip(b);break;case 2:b==o.Type.I32?this.kind=m.readI32():m.skip(b);break;case 3:b==o.Type.STRUCT?(this.type=new g.TTypeInfo,this.type.read(m)):m.skip(b);break;case 4:b==o.Type.STRUCT?(this.arg_type=new g.TTypeInfo,this.arg_type.read(m)):m.skip(b);break;case 5:b==o.Type.BOOL?this.skip_nulls=m.readBool():m.skip(b);break;case 6:b==o.Type.BOOL?this.is_distinct=m.readBool():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){m.writeStructBegin("TTargetInfo"),this.is_agg!==null&&this.is_agg!==void 0&&(m.writeFieldBegin("is_agg",o.Type.BOOL,1),m.writeBool(this.is_agg),m.writeFieldEnd()),this.kind!==null&&this.kind!==void 0&&(m.writeFieldBegin("kind",o.Type.I32,2),m.writeI32(this.kind),m.writeFieldEnd()),this.type!==null&&this.type!==void 0&&(m.writeFieldBegin("type",o.Type.STRUCT,3),this.type.write(m),m.writeFieldEnd()),this.arg_type!==null&&this.arg_type!==void 0&&(m.writeFieldBegin("arg_type",o.Type.STRUCT,4),this.arg_type.write(m),m.writeFieldEnd()),this.skip_nulls!==null&&this.skip_nulls!==void 0&&(m.writeFieldBegin("skip_nulls",o.Type.BOOL,5),m.writeBool(this.skip_nulls),m.writeFieldEnd()),this.is_distinct!==null&&this.is_distinct!==void 0&&(m.writeFieldBegin("is_distinct",o.Type.BOOL,6),m.writeBool(this.is_distinct),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}},c.exports.TCountDistinctSetStorage=class{constructor(m){this.bitmap=null,this.sparse_set=null,m&&(m.bitmap!==void 0&&m.bitmap!==null&&(this.bitmap=m.bitmap),m.sparse_set!==void 0&&m.sparse_set!==null&&(this.sparse_set=o.copyList(m.sparse_set,[null])))}read(m){for(m.readStructBegin();;){const l=m.readFieldBegin(),b=l.ftype,L=l.fid;if(b==o.Type.STOP)break;switch(L){case 1:b==o.Type.STRING?this.bitmap=m.readBinary():m.skip(b);break;case 2:if(b==o.Type.SET){this.sparse_set=[];const S=m.readSetBegin().size||0;for(let x=0;x<S;++x){let k=null;k=m.readI64(),this.sparse_set.push(k)}m.readSetEnd()}else m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){if(m.writeStructBegin("TCountDistinctSetStorage"),this.bitmap!==null&&this.bitmap!==void 0&&(m.writeFieldBegin("bitmap",o.Type.STRING,1),m.writeBinary(this.bitmap),m.writeFieldEnd()),this.sparse_set!==null&&this.sparse_set!==void 0){m.writeFieldBegin("sparse_set",o.Type.SET,2),m.writeSetBegin(o.Type.I64,this.sparse_set.length);for(let l in this.sparse_set)this.sparse_set.hasOwnProperty(l)&&(l=this.sparse_set[l],m.writeI64(l));m.writeSetEnd(),m.writeFieldEnd()}m.writeFieldStop(),m.writeStructEnd()}},c.exports.TCountDistinctSet=class{constructor(m){this.type=null,this.storage=null,this.remote_ptr=null,m&&(m.type!==void 0&&m.type!==null&&(this.type=m.type),m.storage!==void 0&&m.storage!==null&&(this.storage=new y.TCountDistinctSetStorage(m.storage)),m.remote_ptr!==void 0&&m.remote_ptr!==null&&(this.remote_ptr=m.remote_ptr))}read(m){for(m.readStructBegin();;){const l=m.readFieldBegin(),b=l.ftype,L=l.fid;if(b==o.Type.STOP)break;switch(L){case 1:b==o.Type.I32?this.type=m.readI32():m.skip(b);break;case 2:b==o.Type.STRUCT?(this.storage=new y.TCountDistinctSetStorage,this.storage.read(m)):m.skip(b);break;case 3:b==o.Type.I64?this.remote_ptr=m.readI64():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){m.writeStructBegin("TCountDistinctSet"),this.type!==null&&this.type!==void 0&&(m.writeFieldBegin("type",o.Type.I32,1),m.writeI32(this.type),m.writeFieldEnd()),this.storage!==null&&this.storage!==void 0&&(m.writeFieldBegin("storage",o.Type.STRUCT,2),this.storage.write(m),m.writeFieldEnd()),this.remote_ptr!==null&&this.remote_ptr!==void 0&&(m.writeFieldBegin("remote_ptr",o.Type.I64,3),m.writeI64(this.remote_ptr),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}},c.exports.TSerializedRows=class{constructor(m){this.buffers=null,this.buffer_lengths=null,this.buffers_total_size=null,this.total_compression_time_ms=null,this.descriptor=null,this.targets=null,this.target_init_vals=null,this.varlen_buffer=null,this.count_distinct_sets=null,this.explanation=null,m&&(m.buffers!==void 0&&m.buffers!==null&&(this.buffers=o.copyList(m.buffers,[null])),m.buffer_lengths!==void 0&&m.buffer_lengths!==null&&(this.buffer_lengths=o.copyList(m.buffer_lengths,[null])),m.buffers_total_size!==void 0&&m.buffers_total_size!==null&&(this.buffers_total_size=m.buffers_total_size),m.total_compression_time_ms!==void 0&&m.total_compression_time_ms!==null&&(this.total_compression_time_ms=m.total_compression_time_ms),m.descriptor!==void 0&&m.descriptor!==null&&(this.descriptor=new y.TResultSetBufferDescriptor(m.descriptor)),m.targets!==void 0&&m.targets!==null&&(this.targets=o.copyList(m.targets,[y.TTargetInfo])),m.target_init_vals!==void 0&&m.target_init_vals!==null&&(this.target_init_vals=o.copyList(m.target_init_vals,[null])),m.varlen_buffer!==void 0&&m.varlen_buffer!==null&&(this.varlen_buffer=o.copyList(m.varlen_buffer,[null])),m.count_distinct_sets!==void 0&&m.count_distinct_sets!==null&&(this.count_distinct_sets=o.copyList(m.count_distinct_sets,[y.TCountDistinctSet])),m.explanation!==void 0&&m.explanation!==null&&(this.explanation=m.explanation))}read(m){for(m.readStructBegin();;){const l=m.readFieldBegin(),b=l.ftype,L=l.fid;if(b==o.Type.STOP)break;switch(L){case 1:if(b==o.Type.LIST){this.buffers=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=m.readBinary(),this.buffers.push(k)}m.readListEnd()}else m.skip(b);break;case 2:if(b==o.Type.LIST){this.buffer_lengths=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=m.readI64(),this.buffer_lengths.push(k)}m.readListEnd()}else m.skip(b);break;case 3:b==o.Type.I64?this.buffers_total_size=m.readI64():m.skip(b);break;case 4:b==o.Type.I32?this.total_compression_time_ms=m.readI32():m.skip(b);break;case 5:b==o.Type.STRUCT?(this.descriptor=new y.TResultSetBufferDescriptor,this.descriptor.read(m)):m.skip(b);break;case 6:if(b==o.Type.LIST){this.targets=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=new y.TTargetInfo,k.read(m),this.targets.push(k)}m.readListEnd()}else m.skip(b);break;case 7:if(b==o.Type.LIST){this.target_init_vals=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=m.readI64(),this.target_init_vals.push(k)}m.readListEnd()}else m.skip(b);break;case 8:if(b==o.Type.LIST){this.varlen_buffer=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=m.readBinary(),this.varlen_buffer.push(k)}m.readListEnd()}else m.skip(b);break;case 9:if(b==o.Type.LIST){this.count_distinct_sets=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let k=null;k=new y.TCountDistinctSet,k.read(m),this.count_distinct_sets.push(k)}m.readListEnd()}else m.skip(b);break;case 10:b==o.Type.STRING?this.explanation=m.readString():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){if(m.writeStructBegin("TSerializedRows"),this.buffers!==null&&this.buffers!==void 0){m.writeFieldBegin("buffers",o.Type.LIST,1),m.writeListBegin(o.Type.STRING,this.buffers.length);for(let l in this.buffers)this.buffers.hasOwnProperty(l)&&(l=this.buffers[l],m.writeBinary(l));m.writeListEnd(),m.writeFieldEnd()}if(this.buffer_lengths!==null&&this.buffer_lengths!==void 0){m.writeFieldBegin("buffer_lengths",o.Type.LIST,2),m.writeListBegin(o.Type.I64,this.buffer_lengths.length);for(let l in this.buffer_lengths)this.buffer_lengths.hasOwnProperty(l)&&(l=this.buffer_lengths[l],m.writeI64(l));m.writeListEnd(),m.writeFieldEnd()}if(this.buffers_total_size!==null&&this.buffers_total_size!==void 0&&(m.writeFieldBegin("buffers_total_size",o.Type.I64,3),m.writeI64(this.buffers_total_size),m.writeFieldEnd()),this.total_compression_time_ms!==null&&this.total_compression_time_ms!==void 0&&(m.writeFieldBegin("total_compression_time_ms",o.Type.I32,4),m.writeI32(this.total_compression_time_ms),m.writeFieldEnd()),this.descriptor!==null&&this.descriptor!==void 0&&(m.writeFieldBegin("descriptor",o.Type.STRUCT,5),this.descriptor.write(m),m.writeFieldEnd()),this.targets!==null&&this.targets!==void 0){m.writeFieldBegin("targets",o.Type.LIST,6),m.writeListBegin(o.Type.STRUCT,this.targets.length);for(let l in this.targets)this.targets.hasOwnProperty(l)&&(l=this.targets[l],l.write(m));m.writeListEnd(),m.writeFieldEnd()}if(this.target_init_vals!==null&&this.target_init_vals!==void 0){m.writeFieldBegin("target_init_vals",o.Type.LIST,7),m.writeListBegin(o.Type.I64,this.target_init_vals.length);for(let l in this.target_init_vals)this.target_init_vals.hasOwnProperty(l)&&(l=this.target_init_vals[l],m.writeI64(l));m.writeListEnd(),m.writeFieldEnd()}if(this.varlen_buffer!==null&&this.varlen_buffer!==void 0){m.writeFieldBegin("varlen_buffer",o.Type.LIST,8),m.writeListBegin(o.Type.STRING,this.varlen_buffer.length);for(let l in this.varlen_buffer)this.varlen_buffer.hasOwnProperty(l)&&(l=this.varlen_buffer[l],m.writeBinary(l));m.writeListEnd(),m.writeFieldEnd()}if(this.count_distinct_sets!==null&&this.count_distinct_sets!==void 0){m.writeFieldBegin("count_distinct_sets",o.Type.LIST,9),m.writeListBegin(o.Type.STRUCT,this.count_distinct_sets.length);for(let l in this.count_distinct_sets)this.count_distinct_sets.hasOwnProperty(l)&&(l=this.count_distinct_sets[l],l.write(m));m.writeListEnd(),m.writeFieldEnd()}this.explanation!==null&&this.explanation!==void 0&&(m.writeFieldBegin("explanation",o.Type.STRING,10),m.writeString(this.explanation),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}}},2003:c=>{c.exports=n}},s={};function a(c){if(s[c])return s[c].exports;var d=s[c]={exports:{}};return i[c](d,d.exports,a),d.exports}return a.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return a.d(d,{a:d}),d},a.d=(c,d)=>{for(var f in d)a.o(d,f)&&!a.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:d[f]})},a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),a.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),a.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},a(7123)})()})})(pG);var e_e=pG.exports;const t_e=Cd(e_e);new t_e;class n_e{constructor(e){this.db=e,this.views=new k2e,this.filters=new Map,this.index=new Map}async view0D(e){await this.assertDataExists();const n=new Ac(this);return this.views.add(n),e&&n.addOnChangeListener(e),n}async view1D(e,n){await this.assertDataExists(e);const i=new ao(this,e);return this.views.add(i),n&&i.addOnChangeListener(n),i}async entries({offset:e=0,length:n=1/0}={}){return this.db.entries(e,n,this.filters)}async all(){for(const e of this.views)await e.all()}async link(){const e=this.views.active;e?(await e.computeIndex(!0),await e.select(e.lastFilter,!0)):await this.all()}get passiveFilters(){const e=this.views.active;if(e instanceof Ac)throw Error("No filter for 0D view / count");if(e instanceof ao)return cN(this.filters,e.dimension);throw Error("2D view not implemented yet")}otherFilters(e){return cN(this.filters,e.dimension)}async assertDataExists(...e){if(!await this.db.tableExists())throw new Error("Table does not exists in the database");e==null||e.forEach(async i=>{if(i&&!await this.db.dimensionExists(i))throw new Error(`Dimension '${i.name}' does not exist in the data table`)})}}function i_e(t){let e,n,i;return{c(){e=Ft("a"),n=Ft("img"),rte(n.src,i="github-mark.svg")||Be(n,"src",i),Be(n,"alt","github logo"),Be(n,"width",t[1]),Be(e,"href",t[0]),Be(e,"target","_blank")},m(s,a){nn(s,e,a),Ge(e,n)},p(s,[a]){a&2&&Be(n,"width",s[1]),a&1&&Be(e,"href",s[0])},i:mi,o:mi,d(s){s&&Xt(e)}}}function s_e(t,e,n){let{href:i=""}=e,{width:s=25}=e;return t.$$set=a=>{"href"in a&&n(0,i=a.href),"width"in a&&n(1,s=a.width)},[i,s]}class r_e extends ws{constructor(e){super(),ms(this,e,s_e,i_e,ys,{href:0,width:1})}}function MN(t){let e,n,i,s,a,c,d,f,u,o;return{c(){e=Ft("div"),n=Ft("span"),i=La("["),s=La(t[1]),a=La("]"),c=Ft("span"),d=Pn(),f=Ft("button"),f.textContent="Reset",Be(f,"class","reset svelte-g3nrlw"),Be(n,"class","selection svelte-g3nrlw")},m(g,y){nn(g,e,y),Ge(e,n),Ge(n,i),Ge(n,s),Ge(n,a),Ge(n,c),Ge(n,d),Ge(n,f),u||(o=as(f,"click",t[3]),u=!0)},p(g,y){y&2&&B2(s,g[1])},d(g){g&&Xt(e),u=!1,o()}}}function a_e(t){let e,n,i,s,a=t[1]&&MN(t);return{c(){e=Ft("div"),n=Ft("div"),i=La(t[0]),s=Pn(),a&&a.c(),Be(n,"class","title svelte-g3nrlw"),Be(e,"class","top svelte-g3nrlw")},m(c,d){nn(c,e,d),Ge(e,n),Ge(n,i),Ge(e,s),a&&a.m(e,null)},p(c,[d]){d&1&&B2(i,c[0]),c[1]?a?a.p(c,d):(a=MN(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:mi,o:mi,d(c){c&&Xt(e),a&&a.d()}}}function o_e(t,e,n){const i=Du();let{title:s=""}=e,{selection:a=null}=e;const c=async()=>{i("reset")};return t.$$set=d=>{"title"in d&&n(0,s=d.title),"selection"in d&&n(1,a=d.selection)},[s,a,i,c]}class WS extends ws{constructor(e){super(),ms(this,e,o_e,a_e,ys,{title:0,selection:1})}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var l_e=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var a in s)s.hasOwnProperty(a)&&(i[a]=s[a])},t(e,n)};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),c_e=Object.prototype.hasOwnProperty;function g7(t,e){return c_e.call(t,e)}function y7(t){if(Array.isArray(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);var i=[];for(var s in t)g7(t,s)&&i.push(s);return i}function pr(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function m7(t){for(var e=0,n=t.length,i;e<n;){if(i=t.charCodeAt(e),i>=48&&i<=57){e++;continue}return!1}return!0}function Mf(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function _G(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function w7(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,n=t.length;e<n;e++)if(w7(t[e]))return!0}else if(typeof t=="object"){for(var i=y7(t),s=i.length,a=0;a<s;a++)if(w7(t[i[a]]))return!0}}return!1}function AN(t,e){var n=[t];for(var i in e){var s=typeof e[i]=="object"?JSON.stringify(e[i],null,2):e[i];typeof s<"u"&&n.push(i+": "+s)}return n.join(`
`)}var gG=function(t){l_e(e,t);function e(n,i,s,a,c){var d=this.constructor,f=t.call(this,AN(n,{name:i,index:s,operation:a,tree:c}))||this;return f.name=i,f.index=s,f.operation=a,f.tree=c,Object.setPrototypeOf(f,d.prototype),f.message=AN(n,{name:i,index:s,operation:a,tree:c}),f}return e}(Error),Dn=gG,d_e=pr,Qh={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var i=t[e];return delete t[e],{newDocument:n,removed:i}},replace:function(t,e,n){var i=t[e];return t[e]=this.value,{newDocument:n,removed:i}},move:function(t,e,n){var i=kw(n,this.path);i&&(i=pr(i));var s=eu(n,{op:"remove",path:this.from}).removed;return eu(n,{op:"add",path:this.path,value:s}),{newDocument:n,removed:i}},copy:function(t,e,n){var i=kw(n,this.from);return eu(n,{op:"add",path:this.path,value:pr(i)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:o3(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}},f_e={add:function(t,e,n){return m7(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var i=t.splice(e,1);return{newDocument:n,removed:i[0]}},replace:function(t,e,n){var i=t[e];return t[e]=this.value,{newDocument:n,removed:i}},move:Qh.move,copy:Qh.copy,test:Qh.test,_get:Qh._get};function kw(t,e){if(e=="")return t;var n={op:"_get",path:e};return eu(t,n),n.value}function eu(t,e,n,i,s,a){if(n===void 0&&(n=!1),i===void 0&&(i=!0),s===void 0&&(s=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(e,0,t,e.path):Fw(e,0)),e.path===""){var c={newDocument:t};if(e.op==="add")return c.newDocument=e.value,c;if(e.op==="replace")return c.newDocument=e.value,c.removed=t,c;if(e.op==="move"||e.op==="copy")return c.newDocument=kw(t,e.from),e.op==="move"&&(c.removed=t),c;if(e.op==="test"){if(c.test=o3(t,e.value),c.test===!1)throw new Dn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return c.newDocument=t,c}else{if(e.op==="remove")return c.removed=t,c.newDocument=null,c;if(e.op==="_get")return e.value=t,c;if(n)throw new Dn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,e,t);return c}}else{i||(t=pr(t));var d=e.path||"",f=d.split("/"),u=t,o=1,g=f.length,y=void 0,m=void 0,l=void 0;for(typeof n=="function"?l=n:l=Fw;;){if(m=f[o],m&&m.indexOf("~")!=-1&&(m=_G(m)),s&&(m=="__proto__"||m=="prototype"&&o>0&&f[o-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&y===void 0&&(u[m]===void 0?y=f.slice(0,o).join("/"):o==g-1&&(y=e.path),y!==void 0&&l(e,0,t,y)),o++,Array.isArray(u)){if(m==="-")m=u.length;else{if(n&&!m7(m))throw new Dn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,e,t);m7(m)&&(m=~~m)}if(o>=g){if(n&&e.op==="add"&&m>u.length)throw new Dn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,e,t);var c=f_e[e.op].call(e,u,m,t);if(c.test===!1)throw new Dn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return c}}else if(o>=g){var c=Qh[e.op].call(e,u,m,t);if(c.test===!1)throw new Dn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return c}if(u=u[m],n&&o<g&&(!u||typeof u!="object"))throw new Dn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,e,t)}}}function mL(t,e,n,i,s){if(i===void 0&&(i=!0),s===void 0&&(s=!0),n&&!Array.isArray(e))throw new Dn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(t=pr(t));for(var a=new Array(e.length),c=0,d=e.length;c<d;c++)a[c]=eu(t,e[c],n,!0,s,c),t=a[c].newDocument;return a.newDocument=t,a}function u_e(t,e,n){var i=eu(t,e);if(i.test===!1)throw new Dn("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return i.newDocument}function Fw(t,e,n,i){if(typeof t!="object"||t===null||Array.isArray(t))throw new Dn("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(Qh[t.op]){if(typeof t.path!="string")throw new Dn("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new Dn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new Dn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new Dn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&w7(t.value))throw new Dn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var s=t.path.split("/").length,a=i.split("/").length;if(s!==a+1&&s!==a)throw new Dn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==i)throw new Dn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var c={op:"_get",path:t.from,value:void 0},d=yG([c],n);if(d&&d.name==="OPERATION_PATH_UNRESOLVABLE")throw new Dn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new Dn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function yG(t,e,n){try{if(!Array.isArray(t))throw new Dn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)mL(pr(e),pr(t),n||!0);else{n=n||Fw;for(var i=0;i<t.length;i++)n(t[i],i,e,void 0)}}catch(s){if(s instanceof Dn)return s;throw s}}function o3(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),i=Array.isArray(e),s,a,c;if(n&&i){if(a=t.length,a!=e.length)return!1;for(s=a;s--!==0;)if(!o3(t[s],e[s]))return!1;return!0}if(n!=i)return!1;var d=Object.keys(t);if(a=d.length,a!==Object.keys(e).length)return!1;for(s=a;s--!==0;)if(!e.hasOwnProperty(d[s]))return!1;for(s=a;s--!==0;)if(c=d[s],!o3(t[c],e[c]))return!1;return!0}return t!==t&&e!==e}const h_e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Dn,_areEquals:o3,applyOperation:eu,applyPatch:mL,applyReducer:u_e,deepClone:d_e,getValueByPointer:kw,validate:yG,validator:Fw},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var YS=new WeakMap,p_e=function(){function t(e){this.observers=new Map,this.obj=e}return t}(),__e=function(){function t(e,n){this.callback=e,this.observer=n}return t}();function g_e(t){return YS.get(t)}function y_e(t,e){return t.observers.get(e)}function m_e(t,e){t.observers.delete(e.callback)}function w_e(t,e){e.unobserve()}function L_e(t,e){var n=[],i,s=g_e(t);if(!s)s=new p_e(t),YS.set(t,s);else{var a=y_e(s,e);i=a&&a.observer}if(i)return i;if(i={},s.value=pr(t),e){i.callback=e,i.next=null;var c=function(){L7(i)},d=function(){clearTimeout(i.next),i.next=setTimeout(c)};typeof window<"u"&&(window.addEventListener("mouseup",d),window.addEventListener("keyup",d),window.addEventListener("mousedown",d),window.addEventListener("keydown",d),window.addEventListener("change",d))}return i.patches=n,i.object=t,i.unobserve=function(){L7(i),clearTimeout(i.next),m_e(s,i),typeof window<"u"&&(window.removeEventListener("mouseup",d),window.removeEventListener("keyup",d),window.removeEventListener("mousedown",d),window.removeEventListener("keydown",d),window.removeEventListener("change",d))},s.observers.set(e,new __e(e,i)),i}function L7(t,e){e===void 0&&(e=!1);var n=YS.get(t.object);XS(n.value,t.object,t.patches,"",e),t.patches.length&&mL(n.value,t.patches);var i=t.patches;return i.length>0&&(t.patches=[],t.callback&&t.callback(i)),i}function XS(t,e,n,i,s){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var a=y7(e),c=y7(t),d=!1,f=c.length-1;f>=0;f--){var u=c[f],o=t[u];if(g7(e,u)&&!(e[u]===void 0&&o!==void 0&&Array.isArray(e)===!1)){var g=e[u];typeof o=="object"&&o!=null&&typeof g=="object"&&g!=null&&Array.isArray(o)===Array.isArray(g)?XS(o,g,n,i+"/"+Mf(u),s):o!==g&&(s&&n.push({op:"test",path:i+"/"+Mf(u),value:pr(o)}),n.push({op:"replace",path:i+"/"+Mf(u),value:pr(g)}))}else Array.isArray(t)===Array.isArray(e)?(s&&n.push({op:"test",path:i+"/"+Mf(u),value:pr(o)}),n.push({op:"remove",path:i+"/"+Mf(u)}),d=!0):(s&&n.push({op:"test",path:i,value:t}),n.push({op:"replace",path:i,value:e}))}if(!(!d&&a.length==c.length))for(var f=0;f<a.length;f++){var u=a[f];!g7(t,u)&&e[u]!==void 0&&n.push({op:"add",path:i+"/"+Mf(u),value:pr(e[u])})}}}function b_e(t,e,n){n===void 0&&(n=!1);var i=[];return XS(t,e,i,"",n),i}const T_e=Object.freeze(Object.defineProperty({__proto__:null,compare:b_e,generate:L7,observe:L_e,unobserve:w_e},Symbol.toStringTag,{value:"Module"}));Object.assign({},h_e,T_e,{JsonPatchError:gG,deepClone:pr,escapePathComponent:Mf,unescapePathComponent:_G});var v_e=/("(?:[^\\"]|\\.)*")|[:,]/g,E_e=function(e,n){var i,s,a;return n=n||{},i=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),s=i===""?1/0:n.maxLength===void 0?80:n.maxLength,a=n.replacer,function c(d,f,u){var o,g,y,m,l,b,L,E,S,x,k,B;if(d&&typeof d.toJSON=="function"&&(d=d.toJSON()),k=JSON.stringify(d,a),k===void 0)return k;if(L=s-f.length-u,k.length<=L&&(S=k.replace(v_e,function(A,M){return M||A+" "}),S.length<=L))return S;if(a!=null&&(d=JSON.parse(k),a=void 0),typeof d=="object"&&d!==null){if(E=f+i,y=[],g=0,Array.isArray(d))for(x="[",o="]",L=d.length;g<L;g++)y.push(c(d[g],E,g===L-1?0:1)||"null");else for(x="{",o="}",b=Object.keys(d),L=b.length;g<L;g++)m=b[g],l=JSON.stringify(m)+": ",B=c(d[m],E,l.length+(g===L-1?0:1)),B!==void 0&&y.push(l+B);if(y.length>0)return[x,i+y.join(`,
`+E),o].join(`
`+f)}return k}(e,"",0)};const X8=Cd(E_e);function er(t,e,n){return t.fields=e||[],t.fname=n,t}function zn(t){return t==null?null:t.fname}function ji(t){return t==null?null:t.fields}function mG(t){return t.length===1?S_e(t[0]):x_e(t)}const S_e=t=>function(e){return e[t]},x_e=t=>{const e=t.length;return function(n){for(let i=0;i<e;++i)n=n[t[i]];return n}};function de(t){throw Error(t)}function Jo(t){const e=[],n=t.length;let i=null,s=0,a="",c,d,f;t=t+"";function u(){e.push(a+t.substring(c,d)),a="",c=d+1}for(c=d=0;d<n;++d)if(f=t[d],f==="\\")a+=t.substring(c,d++),c=d;else if(f===i)u(),i=null,s=-1;else{if(i)continue;c===s&&f==='"'||c===s&&f==="'"?(c=d+1,i=f):f==="."&&!s?d>c?u():c=d+1:f==="["?(d>c&&u(),s=c=d+1):f==="]"&&(s||de("Access path missing open bracket: "+t),s>0&&u(),s=0,c=d+1)}return s&&de("Access path missing closing bracket: "+t),i&&de("Access path missing closing quote: "+t),d>c&&(d++,u()),e}function Gs(t,e,n){const i=Jo(t);return t=i.length===1?i[0]:t,er((n&&n.get||mG)(i),[t],e||t)}const l_=Gs("id"),Yi=er(t=>t,[],"identity"),Uc=er(()=>0,[],"zero"),R2=er(()=>1,[],"one"),Xr=er(()=>!0,[],"true"),Bc=er(()=>!1,[],"false");function B_e(t,e,n){const i=[e].concat([].slice.call(n));console[t].apply(console,i)}const wG=0,KS=1,ZS=2,LG=3,bG=4;function JS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B_e,i=t||wG;return{level(s){return arguments.length?(i=+s,this):i},error(){return i>=KS&&n(e||"error","ERROR",arguments),this},warn(){return i>=ZS&&n(e||"warn","WARN",arguments),this},info(){return i>=LG&&n(e||"log","INFO",arguments),this},debug(){return i>=bG&&n(e||"log","DEBUG",arguments),this}}}var ue=Array.isArray;function Me(t){return t===Object(t)}const ON=t=>t!=="__proto__";function D2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((i,s)=>{for(const a in s)if(a==="signals")i.signals=I_e(i.signals,s.signals);else{const c=a==="legend"?{layout:1}:a==="style"?!0:null;P2(i,a,s[a],c)}return i},{})}function P2(t,e,n,i){if(!ON(e))return;let s,a;if(Me(n)&&!ue(n)){a=Me(t[e])?t[e]:t[e]={};for(s in n)i&&(i===!0||i[s])?P2(a,s,n[s]):ON(s)&&(a[s]=n[s])}else t[e]=n}function I_e(t,e){if(t==null)return e;const n={},i=[];function s(a){n[a.name]||(n[a.name]=1,i.push(a))}return e.forEach(s),t.forEach(s),i}function Ct(t){return t[t.length-1]}function Ui(t){return t==null||t===""?null:+t}const TG=t=>e=>t*Math.exp(e),vG=t=>e=>Math.log(t*e),EG=t=>e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),SG=t=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*t,Mw=t=>e=>e<0?-Math.pow(-e,t):Math.pow(e,t);function wL(t,e,n,i){const s=n(t[0]),a=n(Ct(t)),c=(a-s)*e;return[i(s-c),i(a-c)]}function xG(t,e){return wL(t,e,Ui,Yi)}function BG(t,e){var n=Math.sign(t[0]);return wL(t,e,vG(n),TG(n))}function IG(t,e,n){return wL(t,e,Mw(n),Mw(1/n))}function kG(t,e,n){return wL(t,e,EG(n),SG(n))}function LL(t,e,n,i,s){const a=i(t[0]),c=i(Ct(t)),d=e!=null?i(e):(a+c)/2;return[s(d+(a-d)*n),s(d+(c-d)*n)]}function QS(t,e,n){return LL(t,e,n,Ui,Yi)}function ex(t,e,n){const i=Math.sign(t[0]);return LL(t,e,n,vG(i),TG(i))}function Aw(t,e,n,i){return LL(t,e,n,Mw(i),Mw(1/i))}function tx(t,e,n,i){return LL(t,e,n,EG(i),SG(i))}function FG(t){return 1+~~(new Date(t).getMonth()/3)}function MG(t){return 1+~~(new Date(t).getUTCMonth()/3)}function ke(t){return t!=null?ue(t)?t:[t]:[]}function AG(t,e,n){let i=t[0],s=t[1],a;return s<i&&(a=s,s=i,i=a),a=s-i,a>=n-e?[e,n]:[i=Math.min(Math.max(i,e),n-a),i+a]}function wt(t){return typeof t=="function"}const k_e="descending";function nx(t,e,n){n=n||{},e=ke(e)||[];const i=[],s=[],a={},c=n.comparator||F_e;return ke(t).forEach((d,f)=>{d!=null&&(i.push(e[f]===k_e?-1:1),s.push(d=wt(d)?d:Gs(d,null,n)),(ji(d)||[]).forEach(u=>a[u]=1))}),s.length===0?null:er(c(s,i),Object.keys(a))}const bL=(t,e)=>(t<e||t==null)&&e!=null?-1:(t>e||e==null)&&t!=null?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0),F_e=(t,e)=>t.length===1?M_e(t[0],e[0]):A_e(t,e,t.length),M_e=(t,e)=>function(n,i){return bL(t(n),t(i))*e},A_e=(t,e,n)=>(e.push(0),function(i,s){let a,c=0,d=-1;for(;c===0&&++d<n;)a=t[d],c=bL(a(i),a(s));return c*e[d]});function Xi(t){return wt(t)?t:()=>t}function ix(t,e){let n;return i=>{n&&clearTimeout(n),n=setTimeout(()=>(e(i),n=null),t)}}function mt(t){for(let e,n,i=1,s=arguments.length;i<s;++i){e=arguments[i];for(n in e)t[n]=e[n]}return t}function zo(t,e){let n=0,i,s,a,c;if(t&&(i=t.length))if(e==null){for(s=t[n];n<i&&(s==null||s!==s);s=t[++n]);for(a=c=s;n<i;++n)s=t[n],s!=null&&(s<a&&(a=s),s>c&&(c=s))}else{for(s=e(t[n]);n<i&&(s==null||s!==s);s=e(t[++n]));for(a=c=s;n<i;++n)s=e(t[n]),s!=null&&(s<a&&(a=s),s>c&&(c=s))}return[a,c]}function OG(t,e){const n=t.length;let i=-1,s,a,c,d,f;if(e==null){for(;++i<n;)if(a=t[i],a!=null&&a>=a){s=c=a;break}if(i===n)return[-1,-1];for(d=f=i;++i<n;)a=t[i],a!=null&&(s>a&&(s=a,d=i),c<a&&(c=a,f=i))}else{for(;++i<n;)if(a=e(t[i],i,t),a!=null&&a>=a){s=c=a;break}if(i===n)return[-1,-1];for(d=f=i;++i<n;)a=e(t[i],i,t),a!=null&&(s>a&&(s=a,d=i),c<a&&(c=a,f=i))}return[d,f]}const O_e=Object.prototype.hasOwnProperty;function $e(t,e){return O_e.call(t,e)}const Iy={};function $2(t){let e={},n;function i(a){return $e(e,a)&&e[a]!==Iy}const s={size:0,empty:0,object:e,has:i,get(a){return i(a)?e[a]:void 0},set(a,c){return i(a)||(++s.size,e[a]===Iy&&--s.empty),e[a]=c,this},delete(a){return i(a)&&(--s.size,++s.empty,e[a]=Iy),this},clear(){s.size=s.empty=0,s.object=e={}},test(a){return arguments.length?(n=a,s):n},clean(){const a={};let c=0;for(const d in e){const f=e[d];f!==Iy&&(!n||!n(f))&&(a[d]=f,++c)}s.size=c,s.empty=0,s.object=e=a}};return t&&Object.keys(t).forEach(a=>{s.set(a,t[a])}),s}function NG(t,e,n,i,s,a){if(!n&&n!==0)return a;const c=+n;let d=t[0],f=Ct(t),u;f<d&&(u=d,d=f,f=u),u=Math.abs(e-d);const o=Math.abs(f-e);return u<o&&u<=c?i:o<=c?s:a}function ve(t,e,n){const i=t.prototype=Object.create(e.prototype);return Object.defineProperty(i,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),mt(i,n)}function e1(t,e,n,i){let s=e[0],a=e[e.length-1],c;return s>a&&(c=s,s=a,a=c),n=n===void 0||n,i=i===void 0||i,(n?s<=t:s<t)&&(i?t<=a:t<a)}function jd(t){return typeof t=="boolean"}function Jc(t){return Object.prototype.toString.call(t)==="[object Date]"}function CG(t){return t&&wt(t[Symbol.iterator])}function dn(t){return typeof t=="number"}function RG(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Ie(t){return typeof t=="string"}function sx(t,e,n){t&&(t=e?ke(t).map(d=>d.replace(/\\(.)/g,"$1")):ke(t));const i=t&&t.length,s=n&&n.get||mG,a=d=>s(e?[d]:Jo(d));let c;if(!i)c=function(){return""};else if(i===1){const d=a(t[0]);c=function(f){return""+d(f)}}else{const d=t.map(a);c=function(f){let u=""+d[0](f),o=0;for(;++o<i;)u+="|"+d[o](f);return u}}return er(c,t,"key")}function DG(t,e){const n=t[0],i=Ct(t),s=+e;return s?s===1?i:n+s*(i-n):n}const N_e=1e4;function PG(t){t=+t||N_e;let e,n,i;const s=()=>{e={},n={},i=0},a=(c,d)=>(++i>t&&(n=e,e={},i=1),e[c]=d);return s(),{clear:s,has:c=>$e(e,c)||$e(n,c),get:c=>$e(e,c)?e[c]:$e(n,c)?a(c,n[c]):void 0,set:(c,d)=>$e(e,c)?e[c]=d:a(c,d)}}function $G(t,e,n,i){const s=e.length,a=n.length;if(!a)return e;if(!s)return n;const c=i||new e.constructor(s+a);let d=0,f=0,u=0;for(;d<s&&f<a;++u)c[u]=t(e[d],n[f])>0?n[f++]:e[d++];for(;d<s;++d,++u)c[u]=e[d];for(;f<a;++f,++u)c[u]=n[f];return c}function Q0(t,e){let n="";for(;--e>=0;)n+=t;return n}function UG(t,e,n,i){const s=n||" ",a=t+"",c=e-a.length;return c<=0?a:i==="left"?Q0(s,c)+a:i==="center"?Q0(s,~~(c/2))+a+Q0(s,Math.ceil(c/2)):a+Q0(s,c)}function c_(t){return t&&Ct(t)-t[0]||0}function Te(t){return ue(t)?"["+t.map(Te)+"]":Me(t)||Ie(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function rx(t){return t==null||t===""?null:!t||t==="false"||t==="0"?!1:!!t}const C_e=t=>dn(t)||Jc(t)?t:Date.parse(t);function ax(t,e){return e=e||C_e,t==null||t===""?null:e(t)}function ox(t){return t==null||t===""?null:t+""}function ka(t){const e={},n=t.length;for(let i=0;i<n;++i)e[t[i]]=!0;return e}function zG(t,e,n,i){const s=i??"",a=t+"",c=a.length,d=Math.max(0,e-s.length);return c<=e?a:n==="left"?s+a.slice(c-d):n==="center"?a.slice(0,Math.ceil(d/2))+s+a.slice(c-~~(d/2)):a.slice(0,d)+s}function Cc(t,e,n){if(t)if(e){const i=t.length;for(let s=0;s<i;++s){const a=e(t[s]);a&&n(a,s,t)}}else t.forEach(n)}function R_e(t){return t}function D_e(t){if(t==null)return R_e;var e,n,i=t.scale[0],s=t.scale[1],a=t.translate[0],c=t.translate[1];return function(d,f){f||(e=n=0);var u=2,o=d.length,g=new Array(o);for(g[0]=(e+=d[0])*i+a,g[1]=(n+=d[1])*s+c;u<o;)g[u]=d[u],++u;return g}}function P_e(t,e){for(var n,i=t.length,s=i-e;s<--i;)n=t[s],t[s++]=t[i],t[i]=n}function $_e(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return NN(t,n)})}:NN(t,e)}function NN(t,e){var n=e.id,i=e.bbox,s=e.properties==null?{}:e.properties,a=HG(t,e);return n==null&&i==null?{type:"Feature",properties:s,geometry:a}:i==null?{type:"Feature",id:n,properties:s,geometry:a}:{type:"Feature",id:n,bbox:i,properties:s,geometry:a}}function HG(t,e){var n=D_e(t.transform),i=t.arcs;function s(o,g){g.length&&g.pop();for(var y=i[o<0?~o:o],m=0,l=y.length;m<l;++m)g.push(n(y[m],m));o<0&&P_e(g,l)}function a(o){return n(o)}function c(o){for(var g=[],y=0,m=o.length;y<m;++y)s(o[y],g);return g.length<2&&g.push(g[0]),g}function d(o){for(var g=c(o);g.length<4;)g.push(g[0]);return g}function f(o){return o.map(d)}function u(o){var g=o.type,y;switch(g){case"GeometryCollection":return{type:g,geometries:o.geometries.map(u)};case"Point":y=a(o.coordinates);break;case"MultiPoint":y=o.coordinates.map(a);break;case"LineString":y=c(o.arcs);break;case"MultiLineString":y=o.arcs.map(c);break;case"Polygon":y=f(o.arcs);break;case"MultiPolygon":y=o.arcs.map(f);break;default:return null}return{type:g,coordinates:y}}return u(e)}function U_e(t,e){var n={},i={},s={},a=[],c=-1;e.forEach(function(u,o){var g=t.arcs[u<0?~u:u],y;g.length<3&&!g[1][0]&&!g[1][1]&&(y=e[++c],e[c]=u,e[o]=y)}),e.forEach(function(u){var o=d(u),g=o[0],y=o[1],m,l;if(m=s[g])if(delete s[m.end],m.push(u),m.end=y,l=i[y]){delete i[l.start];var b=l===m?m:m.concat(l);i[b.start=m.start]=s[b.end=l.end]=b}else i[m.start]=s[m.end]=m;else if(m=i[y])if(delete i[m.start],m.unshift(u),m.start=g,l=s[g]){delete s[l.end];var L=l===m?m:l.concat(m);i[L.start=l.start]=s[L.end=m.end]=L}else i[m.start]=s[m.end]=m;else m=[u],i[m.start=g]=s[m.end=y]=m});function d(u){var o=t.arcs[u<0?~u:u],g=o[0],y;return t.transform?(y=[0,0],o.forEach(function(m){y[0]+=m[0],y[1]+=m[1]})):y=o[o.length-1],u<0?[y,g]:[g,y]}function f(u,o){for(var g in u){var y=u[g];delete o[y.start],delete y.start,delete y.end,y.forEach(function(m){n[m<0?~m:m]=1}),a.push(y)}}return f(s,i),f(i,s),e.forEach(function(u){n[u<0?~u:u]||a.push([u])}),a}function z_e(t){return HG(t,H_e.apply(this,arguments))}function H_e(t,e,n){var i,s,a;if(arguments.length>1)i=j_e(t,e,n);else for(s=0,i=new Array(a=t.arcs.length);s<a;++s)i[s]=s;return{type:"MultiLineString",arcs:U_e(t,i)}}function j_e(t,e,n){var i=[],s=[],a;function c(g){var y=g<0?~g:g;(s[y]||(s[y]=[])).push({i:g,g:a})}function d(g){g.forEach(c)}function f(g){g.forEach(d)}function u(g){g.forEach(f)}function o(g){switch(a=g,g.type){case"GeometryCollection":g.geometries.forEach(o);break;case"LineString":d(g.arcs);break;case"MultiLineString":case"Polygon":f(g.arcs);break;case"MultiPolygon":u(g.arcs);break}}return o(e),s.forEach(n==null?function(g){i.push(g[0].i)}:function(g){n(g[0].g,g[g.length-1].g)&&i.push(g[0].i)}),i}const ki="year",Ws="quarter",Vi="month",ni="week",Ys="date",$i="day",Ho="dayofyear",Lr="hours",br="minutes",Kr="seconds",Fa="milliseconds",lx=[ki,Ws,Vi,ni,Ys,$i,Ho,Lr,br,Kr,Fa],K8=lx.reduce((t,e,n)=>(t[e]=1+n,t),{});function cx(t){const e=ke(t).slice(),n={};return e.length||de("Missing time unit."),e.forEach(s=>{$e(K8,s)?n[s]=1:de(`Invalid time unit: ${s}.`)}),(n[ni]||n[$i]?1:0)+(n[Ws]||n[Vi]||n[Ys]?1:0)+(n[Ho]?1:0)>1&&de(`Incompatible time units: ${t}`),e.sort((s,a)=>K8[s]-K8[a]),e}const V_e={[ki]:"%Y ",[Ws]:"Q%q ",[Vi]:"%b ",[Ys]:"%d ",[ni]:"W%U ",[$i]:"%a ",[Ho]:"%j ",[Lr]:"%H:00",[br]:"00:%M",[Kr]:":%S",[Fa]:".%L",[`${ki}-${Vi}`]:"%Y-%m ",[`${ki}-${Vi}-${Ys}`]:"%Y-%m-%d ",[`${Lr}-${br}`]:"%H:%M"};function jG(t,e){const n=mt({},V_e,e),i=cx(t),s=i.length;let a="",c=0,d,f;for(c=0;c<s;)for(d=i.length;d>c;--d)if(f=i.slice(c,d).join("-"),n[f]!=null){a+=n[f],c=d;break}return a.trim()}const Of=new Date;function dx(t){return Of.setFullYear(t),Of.setMonth(0),Of.setDate(1),Of.setHours(0,0,0,0),Of}function VG(t){return GG(new Date(t))}function qG(t){return b7(new Date(t))}function GG(t){return Ul.count(dx(t.getFullYear())-1,t)}function b7(t){return M2.count(dx(t.getFullYear())-1,t)}function T7(t){return dx(t).getDay()}function q_e(t,e,n,i,s,a,c){if(0<=t&&t<100){const d=new Date(-1,e,n,i,s,a,c);return d.setFullYear(t),d}return new Date(t,e,n,i,s,a,c)}function WG(t){return XG(new Date(t))}function YG(t){return v7(new Date(t))}function XG(t){const e=Date.UTC(t.getUTCFullYear(),0,1);return Zc.count(e-1,t)}function v7(t){const e=Date.UTC(t.getUTCFullYear(),0,1);return A2.count(e-1,t)}function E7(t){return Of.setTime(Date.UTC(t,0,1)),Of.getUTCDay()}function G_e(t,e,n,i,s,a,c){if(0<=t&&t<100){const d=new Date(Date.UTC(-1,e,n,i,s,a,c));return d.setUTCFullYear(n.y),d}return new Date(Date.UTC(t,e,n,i,s,a,c))}function KG(t,e,n,i,s){const a=e||1,c=Ct(t),d=(E,S,x)=>(x=x||E,W_e(n[x],i[x],E===c&&a,S)),f=new Date,u=ka(t),o=u[ki]?d(ki):Xi(2012),g=u[Vi]?d(Vi):u[Ws]?d(Ws):Uc,y=u[ni]&&u[$i]?d($i,1,ni+$i):u[ni]?d(ni,1):u[$i]?d($i,1):u[Ys]?d(Ys,1):u[Ho]?d(Ho,1):R2,m=u[Lr]?d(Lr):Uc,l=u[br]?d(br):Uc,b=u[Kr]?d(Kr):Uc,L=u[Fa]?d(Fa):Uc;return function(E){f.setTime(+E);const S=o(f);return s(S,g(f),y(f,S),m(f),l(f),b(f),L(f))}}function W_e(t,e,n,i){const s=n<=1?t:i?(a,c)=>i+n*Math.floor((t(a,c)-i)/n):(a,c)=>n*Math.floor(t(a,c)/n);return e?(a,c)=>e(s(a,c),c):s}function s2(t,e,n){return e+t*7-(n+6)%7}const Y_e={[ki]:t=>t.getFullYear(),[Ws]:t=>Math.floor(t.getMonth()/3),[Vi]:t=>t.getMonth(),[Ys]:t=>t.getDate(),[Lr]:t=>t.getHours(),[br]:t=>t.getMinutes(),[Kr]:t=>t.getSeconds(),[Fa]:t=>t.getMilliseconds(),[Ho]:t=>GG(t),[ni]:t=>b7(t),[ni+$i]:(t,e)=>s2(b7(t),t.getDay(),T7(e)),[$i]:(t,e)=>s2(1,t.getDay(),T7(e))},X_e={[Ws]:t=>3*t,[ni]:(t,e)=>s2(t,0,T7(e))};function ZG(t,e){return KG(t,e||1,Y_e,X_e,q_e)}const K_e={[ki]:t=>t.getUTCFullYear(),[Ws]:t=>Math.floor(t.getUTCMonth()/3),[Vi]:t=>t.getUTCMonth(),[Ys]:t=>t.getUTCDate(),[Lr]:t=>t.getUTCHours(),[br]:t=>t.getUTCMinutes(),[Kr]:t=>t.getUTCSeconds(),[Fa]:t=>t.getUTCMilliseconds(),[Ho]:t=>XG(t),[ni]:t=>v7(t),[$i]:(t,e)=>s2(1,t.getUTCDay(),E7(e)),[ni+$i]:(t,e)=>s2(v7(t),t.getUTCDay(),E7(e))},Z_e={[Ws]:t=>3*t,[ni]:(t,e)=>s2(t,0,E7(e))};function JG(t,e){return KG(t,e||1,K_e,Z_e,G_e)}const J_e={[ki]:Ro,[Ws]:Jp.every(3),[Vi]:Jp,[ni]:M2,[Ys]:Ul,[$i]:Ul,[Ho]:Ul,[Lr]:nL,[br]:eL,[Kr]:Cl,[Fa]:W1},Q_e={[ki]:Do,[Ws]:Qp.every(3),[Vi]:Qp,[ni]:A2,[Ys]:Zc,[$i]:Zc,[Ho]:Zc,[Lr]:iL,[br]:tL,[Kr]:Cl,[Fa]:W1};function U2(t){return J_e[t]}function z2(t){return Q_e[t]}function QG(t,e,n){return t?t.offset(e,n):void 0}function eW(t,e,n){return QG(U2(t),e,n)}function tW(t,e,n){return QG(z2(t),e,n)}function nW(t,e,n,i){return t?t.range(e,n,i):void 0}function iW(t,e,n,i){return nW(U2(t),e,n,i)}function sW(t,e,n,i){return nW(z2(t),e,n,i)}const ep=1e3,tp=ep*60,np=tp*60,TL=np*24,ege=TL*7,CN=TL*30,S7=TL*365,rW=[ki,Vi,Ys,Lr,br,Kr,Fa],ip=rW.slice(0,-1),sp=ip.slice(0,-1),rp=sp.slice(0,-1),tge=rp.slice(0,-1),nge=[ki,ni],RN=[ki,Vi],aW=[ki],u0=[[ip,1,ep],[ip,5,5*ep],[ip,15,15*ep],[ip,30,30*ep],[sp,1,tp],[sp,5,5*tp],[sp,15,15*tp],[sp,30,30*tp],[rp,1,np],[rp,3,3*np],[rp,6,6*np],[rp,12,12*np],[tge,1,TL],[nge,1,ege],[RN,1,CN],[RN,3,3*CN],[aW,1,S7]];function oW(t){const e=t.extent,n=t.maxbins||40,i=Math.abs(c_(e))/n;let s=j3(d=>d[2]).right(u0,i),a,c;return s===u0.length?(a=aW,c=ld(e[0]/S7,e[1]/S7,n)):s?(s=u0[i/u0[s-1][2]<u0[s][2]/i?s-1:s],a=s[0],c=s[1]):(a=rW,c=Math.max(ld(e[0],e[1],n),1)),{units:a,step:c}}function ap(t){const e={};return n=>e[n]||(e[n]=t(n))}function ige(t,e){return n=>{const i=t(n),s=i.indexOf(e);if(s<0)return i;let a=sge(i,s);const c=a<i.length?i.slice(a):"";for(;--a>s;)if(i[a]!=="0"){++a;break}return i.slice(0,a)+c}}function sge(t,e){let n=t.lastIndexOf("e"),i;if(n>0)return n;for(n=t.length;--n>e;)if(i=t.charCodeAt(n),i>=48&&i<=57)return n+1}function lW(t){const e=ap(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat(i){const s=pu(i||",");if(s.precision==null){switch(s.precision=12,s.type){case"%":s.precision-=2;break;case"e":s.precision-=1;break}return ige(e(s),e(".1f")(1)[1])}else return e(s)},formatSpan(i,s,a,c){c=pu(c??",f");const d=ld(i,s,a),f=Math.max(Math.abs(i),Math.abs(s));let u;if(c.precision==null)switch(c.type){case"s":return isNaN(u=SH(d,f))||(c.precision=u),n(c,f);case"":case"e":case"g":case"p":case"r":{isNaN(u=xH(d,f))||(c.precision=u-(c.type==="e"));break}case"f":case"%":{isNaN(u=EH(d))||(c.precision=u-(c.type==="%")*2);break}}return e(c)}}}let x7;cW();function cW(){return x7=lW({format:W6,formatPrefix:SE})}function dW(t){return lW(vH(t))}function Ow(t){return arguments.length?x7=dW(t):x7}function DN(t,e,n){n=n||{},Me(n)||de(`Invalid time multi-format specifier: ${n}`);const i=e(Kr),s=e(br),a=e(Lr),c=e(Ys),d=e(ni),f=e(Vi),u=e(Ws),o=e(ki),g=t(n[Fa]||".%L"),y=t(n[Kr]||":%S"),m=t(n[br]||"%I:%M"),l=t(n[Lr]||"%I %p"),b=t(n[Ys]||n[$i]||"%a %d"),L=t(n[ni]||"%b %d"),E=t(n[Vi]||"%B"),S=t(n[Ws]||"%B"),x=t(n[ki]||"%Y");return k=>(i(k)<k?g:s(k)<k?y:a(k)<k?m:c(k)<k?l:f(k)<k?d(k)<k?b:L:o(k)<k?u(k)<k?E:S:x)(k)}function fW(t){const e=ap(t.format),n=ap(t.utcFormat);return{timeFormat:i=>Ie(i)?e(i):DN(e,U2,i),utcFormat:i=>Ie(i)?n(i):DN(n,z2,i),timeParse:ap(t.parse),utcParse:ap(t.utcParse)}}let B7;uW();function uW(){return B7=fW({format:UE,parse:Pj,utcFormat:zE,utcParse:$j})}function hW(t){return fW(Oj(t))}function l3(t){return arguments.length?B7=hW(t):B7}const I7=(t,e)=>mt({},t,e);function pW(t,e){const n=t?dW(t):Ow(),i=e?hW(e):l3();return I7(n,i)}function fx(t,e){const n=arguments.length;return n&&n!==2&&de("defaultLocale expects either zero or two arguments."),n?I7(Ow(t),l3(e)):I7(Ow(),l3())}function rge(){return cW(),uW(),fx()}const age=/^(data:|([A-Za-z]+:)?\/\/)/,oge=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,lge=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,PN="file://";function cge(t,e){return n=>({options:n||{},sanitize:fge,load:dge,fileAccess:!!e,file:uge(e),http:pge(t)})}async function dge(t,e){const n=await this.sanitize(t,e),i=n.href;return n.localFile?this.file(i):this.http(i,e)}async function fge(t,e){e=mt({},this.options,e);const n=this.fileAccess,i={href:null};let s,a,c;const d=oge.test(t.replace(lge,""));(t==null||typeof t!="string"||!d)&&de("Sanitize failure, invalid URI: "+Te(t));const f=age.test(t);return(c=e.baseURL)&&!f&&(!t.startsWith("/")&&!c.endsWith("/")&&(t="/"+t),t=c+t),a=(s=t.startsWith(PN))||e.mode==="file"||e.mode!=="http"&&!f&&n,s?t=t.slice(PN.length):t.startsWith("//")&&(e.defaultProtocol==="file"?(t=t.slice(2),a=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(i,"localFile",{value:!!a}),i.href=t,e.target&&(i.target=e.target+""),e.rel&&(i.rel=e.rel+""),e.context==="image"&&e.crossOrigin&&(i.crossOrigin=e.crossOrigin+""),i}function uge(t){return t?e=>new Promise((n,i)=>{t.readFile(e,(s,a)=>{s?i(s):n(a)})}):hge}async function hge(){de("No file system access.")}function pge(t){return t?async function(e,n){const i=mt({},this.options.http,n),s=n&&n.response,a=await t(e,i);return a.ok?wt(a[s])?a[s]():a.text():de(a.status+""+a.statusText)}:_ge}async function _ge(){de("No HTTP fetch method available.")}const gge=t=>t!=null&&t===t,yge=t=>t==="true"||t==="false"||t===!0||t===!1,mge=t=>!Number.isNaN(Date.parse(t)),_W=t=>!Number.isNaN(+t)&&!(t instanceof Date),wge=t=>_W(t)&&Number.isInteger(+t),k7={boolean:rx,integer:Ui,number:Ui,date:ax,string:ox,unknown:Yi},ky=[yge,wge,_W,mge],Lge=["boolean","integer","number","date"];function gW(t,e){if(!t||!t.length)return"unknown";const n=t.length,i=ky.length,s=ky.map((a,c)=>c+1);for(let a=0,c=0,d,f;a<n;++a)for(f=e?t[a][e]:t[a],d=0;d<i;++d)if(s[d]&&gge(f)&&!ky[d](f)&&(s[d]=0,++c,c===ky.length))return"string";return Lge[s.reduce((a,c)=>a===0?c:a,0)-1]}function yW(t,e){return e.reduce((n,i)=>(n[i]=gW(t,i),n),{})}function $N(t){const e=function(n,i){const s={delimiter:t};return ux(n,i?mt(i,s):s)};return e.responseType="text",e}function ux(t,e){return e.header&&(t=e.header.map(Te).join(e.delimiter)+`
`+t),ode(e.delimiter).parse(t+"")}ux.responseType="text";function bge(t){return typeof Buffer=="function"&&wt(Buffer.isBuffer)?Buffer.isBuffer(t):!1}function hx(t,e){const n=e&&e.property?Gs(e.property):Yi;return Me(t)&&!bge(t)?Tge(n(t),e):n(JSON.parse(t))}hx.responseType="json";function Tge(t,e){return!ue(t)&&CG(t)&&(t=[...t]),e&&e.copy?JSON.parse(JSON.stringify(t)):t}const vge={interior:(t,e)=>t!==e,exterior:(t,e)=>t===e};function mW(t,e){let n,i,s,a;return t=hx(t,e),e&&e.feature?(n=$_e,s=e.feature):e&&e.mesh?(n=z_e,s=e.mesh,a=vge[e.filter]):de("Missing TopoJSON feature or mesh parameter."),i=(i=t.objects[s])?n(t,i,a):de("Invalid TopoJSON object: "+s),i&&i.features||[i]}mW.responseType="json";const km={dsv:ux,csv:$N(","),tsv:$N("	"),json:hx,topojson:mW};function px(t,e){return arguments.length>1?(km[t]=e,this):$e(km,t)?km[t]:null}function wW(t){const e=px(t);return e&&e.responseType||"text"}function LW(t,e,n,i){e=e||{};const s=px(e.type||"json");return s||de("Unknown data format type: "+e.type),t=s(t,e),e.parse&&Ege(t,e.parse,n,i),$e(t,"columns")&&delete t.columns,t}function Ege(t,e,n,i){if(!t.length)return;const s=l3();n=n||s.timeParse,i=i||s.utcParse;let a=t.columns||Object.keys(t[0]),c,d,f,u,o,g;e==="auto"&&(e=yW(t,a)),a=Object.keys(e);const y=a.map(m=>{const l=e[m];let b,L;if(l&&(l.startsWith("date:")||l.startsWith("utc:")))return b=l.split(/:(.+)?/,2),L=b[1],(L[0]==="'"&&L[L.length-1]==="'"||L[0]==='"'&&L[L.length-1]==='"')&&(L=L.slice(1,-1)),(b[0]==="utc"?i:n)(L);if(!k7[l])throw Error("Illegal format pattern: "+m+":"+l);return k7[l]});for(f=0,o=t.length,g=a.length;f<o;++f)for(c=t[f],u=0;u<g;++u)d=a[u],c[d]=y[u](c[d])}const vL=cge(typeof fetch<"u"&&fetch,null);function EL(t){const e=t||Yi,n=[],i={};return n.add=s=>{const a=e(s);return i[a]||(i[a]=1,n.push(s)),n},n.remove=s=>{const a=e(s);if(i[a]){i[a]=0;const c=n.indexOf(s);c>=0&&n.splice(c,1)}return n},n}async function Fm(t,e){try{await e(t)}catch(n){t.error(n)}}const bW=Symbol("vega_id");let Sge=1;function SL(t){return!!(t&&De(t))}function De(t){return t[bW]}function TW(t,e){return t[bW]=e,t}function Kt(t){const e=t===Object(t)?t:{data:t};return De(e)?e:TW(e,Sge++)}function _x(t){return xL(t,Kt({}))}function xL(t,e){for(const n in t)e[n]=t[n];return e}function vW(t,e){return TW(e,De(t))}function Wu(t,e){return t?e?(n,i)=>t(n,i)||De(e(n))-De(e(i)):(n,i)=>t(n,i)||De(n)-De(i):null}function EW(t){return t&&t.constructor===Yu}function Yu(){const t=[],e=[],n=[],i=[],s=[];let a=null,c=!1;return{constructor:Yu,insert(d){const f=ke(d),u=f.length;for(let o=0;o<u;++o)t.push(f[o]);return this},remove(d){const f=wt(d)?i:e,u=ke(d),o=u.length;for(let g=0;g<o;++g)f.push(u[g]);return this},modify(d,f,u){const o={field:f,value:Xi(u)};return wt(d)?(o.filter=d,s.push(o)):(o.tuple=d,n.push(o)),this},encode(d,f){return wt(d)?s.push({filter:d,field:f}):n.push({tuple:d,field:f}),this},clean(d){return a=d,this},reflow(){return c=!0,this},pulse(d,f){const u={},o={};let g,y,m,l,b,L;for(g=0,y=f.length;g<y;++g)u[De(f[g])]=1;for(g=0,y=e.length;g<y;++g)b=e[g],u[De(b)]=-1;for(g=0,y=i.length;g<y;++g)l=i[g],f.forEach(S=>{l(S)&&(u[De(S)]=-1)});for(g=0,y=t.length;g<y;++g)b=t[g],L=De(b),u[L]?u[L]=1:d.add.push(Kt(t[g]));for(g=0,y=f.length;g<y;++g)b=f[g],u[De(b)]<0&&d.rem.push(b);function E(S,x,k){k?S[x]=k(S):d.encode=x,c||(o[De(S)]=S)}for(g=0,y=n.length;g<y;++g)m=n[g],b=m.tuple,l=m.field,L=u[De(b)],L>0&&(E(b,l,m.value),d.modifies(l));for(g=0,y=s.length;g<y;++g)m=s[g],l=m.filter,f.forEach(S=>{l(S)&&u[De(S)]>0&&E(S,m.field,m.value)}),d.modifies(m.field);if(c)d.mod=e.length||i.length?f.filter(S=>u[De(S)]>0):f.slice();else for(L in o)d.mod.push(o[L]);return(a||a==null&&(e.length||i.length))&&d.clean(!0),d}}}const Mm="_:mod:_";function BL(){Object.defineProperty(this,Mm,{writable:!0,value:{}})}BL.prototype={set(t,e,n,i){const s=this,a=s[t],c=s[Mm];return e!=null&&e>=0?(a[e]!==n||i)&&(a[e]=n,c[e+":"+t]=-1,c[t]=-1):(a!==n||i)&&(s[t]=n,c[t]=ue(n)?1+n.length:-1),s},modified(t,e){const n=this[Mm];if(arguments.length){if(ue(t)){for(let i=0;i<t.length;++i)if(n[t[i]])return!0;return!1}}else{for(const i in n)if(n[i])return!0;return!1}return e!=null&&e>=0?e+1<n[t]||!!n[e+":"+t]:!!n[t]},clear(){return this[Mm]={},this}};let xge=0;const Bge="pulse",Ige=new BL,kge=1,Fge=2;function _n(t,e,n,i){this.id=++xge,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,e&&(this._update=e),n&&this.parameters(n,i)}function UN(t){return function(e){const n=this.flags;return arguments.length===0?!!(n&t):(this.flags=e?n|t:n&~t,this)}}_n.prototype={targets(){return this._targets||(this._targets=EL(l_))},set(t){return this.value!==t?(this.value=t,1):0},skip:UN(kge),modified:UN(Fge),parameters(t,e,n){e=e!==!1;const i=this._argval=this._argval||new BL,s=this._argops=this._argops||[],a=[];let c,d,f,u;const o=(g,y,m)=>{m instanceof _n?(m!==this&&(e&&m.targets().add(this),a.push(m)),s.push({op:m,name:g,index:y})):i.set(g,y,m)};for(c in t)if(d=t[c],c===Bge)ke(d).forEach(g=>{g instanceof _n?g!==this&&(g.targets().add(this),a.push(g)):de("Pulse parameters must be operator instances.")}),this.source=d;else if(ue(d))for(i.set(c,-1,Array(f=d.length)),u=0;u<f;++u)o(c,u,d[u]);else o(c,-1,d);return this.marshall().clear(),n&&(s.initonly=!0),a},marshall(t){const e=this._argval||Ige,n=this._argops;let i,s,a,c;if(n){const d=n.length;for(s=0;s<d;++s)i=n[s],a=i.op,c=a.modified()&&a.stamp===t,e.set(i.name,i.index,a.value,c);if(n.initonly){for(s=0;s<d;++s)i=n[s],i.op.targets().remove(this);this._argops=null,this._update=null}}return e},detach(){const t=this._argops;let e,n,i,s;if(t)for(e=0,n=t.length;e<n;++e)i=t[e],s=i.op,s._targets&&s._targets.remove(this);this.pulse=null,this.source=null},evaluate(t){const e=this._update;if(e){const n=this.marshall(t.stamp),i=e.call(this,n,t);if(n.clear(),i!==this.value)this.value=i;else if(!this.modified())return t.StopPropagation}},run(t){if(t.stamp<this.stamp)return t.StopPropagation;let e;return this.skip()?(this.skip(!1),e=0):e=this.evaluate(t),this.pulse=e||t}};function Mge(t,e,n,i){let s=1,a;return t instanceof _n?a=t:t&&t.prototype instanceof _n?a=new t:wt(t)?a=new _n(null,t):(s=0,a=new _n(t,e)),this.rank(a),s&&(i=n,n=e),n&&this.connect(a,a.parameters(n,i)),this.touch(a),a}function Age(t,e){const n=t.rank,i=e.length;for(let s=0;s<i;++s)if(n<e[s].rank){this.rerank(t);return}}let Oge=0;function IL(t,e,n){this.id=++Oge,this.value=null,n&&(this.receive=n),t&&(this._filter=t),e&&(this._apply=e)}function Ic(t,e,n){return new IL(t,e,n)}IL.prototype={_filter:Xr,_apply:Yi,targets(){return this._targets||(this._targets=EL(l_))},consume(t){return arguments.length?(this._consume=!!t,this):!!this._consume},receive(t){if(this._filter(t)){const e=this.value=this._apply(t),n=this._targets,i=n?n.length:0;for(let s=0;s<i;++s)n[s].receive(e);this._consume&&(t.preventDefault(),t.stopPropagation())}},filter(t){const e=Ic(t);return this.targets().add(e),e},apply(t){const e=Ic(null,t);return this.targets().add(e),e},merge(){const t=Ic();this.targets().add(t);for(let e=0,n=arguments.length;e<n;++e)arguments[e].targets().add(t);return t},throttle(t){let e=-1;return this.filter(()=>{const n=Date.now();return n-e>t?(e=n,1):0})},debounce(t){const e=Ic();return this.targets().add(Ic(null,null,ix(t,n=>{const i=n.dataflow;e.receive(n),i&&i.run&&i.run()}))),e},between(t,e){let n=!1;return t.targets().add(Ic(null,null,()=>n=!0)),e.targets().add(Ic(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Xr,this._targets=null}};function Nge(t,e,n,i){const s=this,a=Ic(n,i),c=function(u){u.dataflow=s;try{a.receive(u)}catch(o){s.error(o)}finally{s.run()}};let d;typeof t=="string"&&typeof document<"u"?d=document.querySelectorAll(t):d=ke(t);const f=d.length;for(let u=0;u<f;++u)d[u].addEventListener(e,c);return a}function Cge(t,e){const n=this.locale();return LW(t,e,n.timeParse,n.utcParse)}function Rge(t,e,n){return e=this.parse(e,n),this.pulse(t,this.changeset().insert(e))}async function Dge(t,e){const n=this;let i=0,s;try{s=await n.loader().load(t,{context:"dataflow",response:wW(e&&e.type)});try{s=n.parse(s,e)}catch(a){i=-2,n.warn("Data ingestion failed",t,a)}}catch(a){i=-1,n.warn("Loading failed",t,a)}return{data:s,status:i}}async function Pge(t,e,n){const i=this,s=i._pending||$ge(i);s.requests+=1;const a=await i.request(e,n);return i.pulse(t,i.changeset().remove(Xr).insert(a.data||[])),s.done(),a}function $ge(t){let e;const n=new Promise(i=>e=i);return n.requests=0,n.done=()=>{--n.requests===0&&(t._pending=null,e(t))},t._pending=n}const Uge={skip:!0};function zge(t,e,n,i,s){return(t instanceof _n?jge:Hge)(this,t,e,n,i,s),this}function Hge(t,e,n,i,s,a){const c=mt({},a,Uge);let d,f;wt(n)||(n=Xi(n)),i===void 0?d=u=>t.touch(n(u)):wt(i)?(f=new _n(null,i,s,!1),d=u=>{f.evaluate(u);const o=n(u),g=f.value;EW(g)?t.pulse(o,g,a):t.update(o,g,c)}):d=u=>t.update(n(u),i,c),e.apply(d)}function jge(t,e,n,i,s,a){if(i===void 0)e.targets().add(n);else{const c=a||{},d=new _n(null,Vge(n,i),s,!1);d.modified(c.force),d.rank=e.rank,e.targets().add(d),n&&(d.skip(!0),d.value=n.value,d.targets().add(n),t.connect(n,[d]))}}function Vge(t,e){return e=wt(e)?e:Xi(e),t?function(n,i){const s=e(n,i);return t.skip()||(t.skip(s!==this.value).value=s),s}:e}function qge(t){t.rank=++this._rank}function Gge(t){const e=[t];let n,i,s;for(;e.length;)if(this.rank(n=e.pop()),i=n._targets)for(s=i.length;--s>=0;)e.push(n=i[s]),n===t&&de("Cycle detected in dataflow graph.")}const Nw={},so=1<<0,Rc=1<<1,vl=1<<2,Wge=so|Rc,zN=so|vl,uh=so|Rc|vl,HN=1<<3,h0=1<<4,jN=1<<5,VN=1<<6;function Qc(t,e,n){this.dataflow=t,this.stamp=e??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Z8(t,e){const n=[];return Cc(t,e,i=>n.push(i)),n}function qN(t,e){const n={};return t.visit(e,i=>{n[De(i)]=1}),i=>n[De(i)]?null:i}function Fy(t,e){return t?(n,i)=>t(n,i)&&e(n,i):e}Qc.prototype={StopPropagation:Nw,ADD:so,REM:Rc,MOD:vl,ADD_REM:Wge,ADD_MOD:zN,ALL:uh,REFLOW:HN,SOURCE:h0,NO_SOURCE:jN,NO_FIELDS:VN,fork(t){return new Qc(this.dataflow).init(this,t)},clone(){const t=this.fork(uh);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(uh|h0)},addAll(){let t=this;return!t.source||t.add===t.rem||!t.rem.length&&t.source.length===t.add.length||(t=new Qc(this.dataflow).init(this),t.add=t.source,t.rem=[]),t},init(t,e){const n=this;return n.stamp=t.stamp,n.encode=t.encode,t.fields&&!(e&VN)&&(n.fields=t.fields),e&so?(n.addF=t.addF,n.add=t.add):(n.addF=null,n.add=[]),e&Rc?(n.remF=t.remF,n.rem=t.rem):(n.remF=null,n.rem=[]),e&vl?(n.modF=t.modF,n.mod=t.mod):(n.modF=null,n.mod=[]),e&jN?(n.srcF=null,n.source=null):(n.srcF=t.srcF,n.source=t.source,t.cleans&&(n.cleans=t.cleans)),n},runAfter(t){this.dataflow.runAfter(t)},changed(t){const e=t||uh;return e&so&&this.add.length||e&Rc&&this.rem.length||e&vl&&this.mod.length},reflow(t){if(t)return this.fork(uh).reflow();const e=this.add.length,n=this.source&&this.source.length;return n&&n!==e&&(this.mod=this.source,e&&this.filter(vl,qN(this,so))),this},clean(t){return arguments.length?(this.cleans=!!t,this):this.cleans},modifies(t){const e=this.fields||(this.fields={});return ue(t)?t.forEach(n=>e[n]=!0):e[t]=!0,this},modified(t,e){const n=this.fields;return(e||this.mod.length)&&n?arguments.length?ue(t)?t.some(i=>n[i]):n[t]:!!n:!1},filter(t,e){const n=this;return t&so&&(n.addF=Fy(n.addF,e)),t&Rc&&(n.remF=Fy(n.remF,e)),t&vl&&(n.modF=Fy(n.modF,e)),t&h0&&(n.srcF=Fy(n.srcF,e)),n},materialize(t){t=t||uh;const e=this;return t&so&&e.addF&&(e.add=Z8(e.add,e.addF),e.addF=null),t&Rc&&e.remF&&(e.rem=Z8(e.rem,e.remF),e.remF=null),t&vl&&e.modF&&(e.mod=Z8(e.mod,e.modF),e.modF=null),t&h0&&e.srcF&&(e.source=e.source.filter(e.srcF),e.srcF=null),e},visit(t,e){const n=this,i=e;if(t&h0)return Cc(n.source,n.srcF,i),n;t&so&&Cc(n.add,n.addF,i),t&Rc&&Cc(n.rem,n.remF,i),t&vl&&Cc(n.mod,n.modF,i);const s=n.source;if(t&HN&&s){const a=n.add.length+n.mod.length;a===s.length||(a?Cc(s,qN(n,zN),i):Cc(s,n.srcF,i))}return n}};function gx(t,e,n,i){const s=this;let a=0;this.dataflow=t,this.stamp=e,this.fields=null,this.encode=i||null,this.pulses=n;for(const c of n)if(c.stamp===e){if(c.fields){const d=s.fields||(s.fields={});for(const f in c.fields)d[f]=1}c.changed(s.ADD)&&(a|=s.ADD),c.changed(s.REM)&&(a|=s.REM),c.changed(s.MOD)&&(a|=s.MOD)}this.changes=a}ve(gx,Qc,{fork(t){const e=new Qc(this.dataflow).init(this,t&this.NO_FIELDS);return t!==void 0&&(t&e.ADD&&this.visit(e.ADD,n=>e.add.push(n)),t&e.REM&&this.visit(e.REM,n=>e.rem.push(n)),t&e.MOD&&this.visit(e.MOD,n=>e.mod.push(n))),e},changed(t){return this.changes&t},modified(t){const e=this,n=e.fields;return n&&e.changes&e.MOD?ue(t)?t.some(i=>n[i]):n[t]:0},filter(){de("MultiPulse does not support filtering.")},materialize(){de("MultiPulse does not support materialization.")},visit(t,e){const n=this,i=n.pulses,s=i.length;let a=0;if(t&n.SOURCE)for(;a<s;++a)i[a].visit(t,e);else for(;a<s;++a)i[a].stamp===n.stamp&&i[a].visit(t,e);return n}});async function Yge(t,e,n){const i=this,s=[];if(i._pulse)return SW(i);if(i._pending&&await i._pending,e&&await Fm(i,e),!i._touched.length)return i.debug("Dataflow invoked, but nothing to do."),i;const a=++i._clock;i._pulse=new Qc(i,a,t),i._touched.forEach(o=>i._enqueue(o,!0)),i._touched=EL(l_);let c=0,d,f,u;try{for(;i._heap.size()>0;){if(d=i._heap.pop(),d.rank!==d.qrank){i._enqueue(d,!0);continue}f=d.run(i._getPulse(d,t)),f.then?f=await f:f.async&&(s.push(f.async),f=Nw),f!==Nw&&d._targets&&d._targets.forEach(o=>i._enqueue(o)),++c}}catch(o){i._heap.clear(),u=o}if(i._input={},i._pulse=null,i.debug(`Pulse ${a}: ${c} operators`),u&&(i._postrun=[],i.error(u)),i._postrun.length){const o=i._postrun.sort((g,y)=>y.priority-g.priority);i._postrun=[];for(let g=0;g<o.length;++g)await Fm(i,o[g].callback)}return n&&await Fm(i,n),s.length&&Promise.all(s).then(o=>i.runAsync(null,()=>{o.forEach(g=>{try{g(i)}catch(y){i.error(y)}})})),i}async function Xge(t,e,n){for(;this._running;)await this._running;const i=()=>this._running=null;return(this._running=this.evaluate(t,e,n)).then(i,i),this._running}function Kge(t,e,n){return this._pulse?SW(this):(this.evaluate(t,e,n),this)}function Zge(t,e,n){if(this._pulse||e)this._postrun.push({priority:n||0,callback:t});else try{t(this)}catch(i){this.error(i)}}function SW(t){return t.error("Dataflow already running. Use runAsync() to chain invocations."),t}function Jge(t,e){const n=t.stamp<this._clock;n&&(t.stamp=this._clock),(n||e)&&(t.qrank=t.rank,this._heap.push(t))}function Qge(t,e){const n=t.source,i=this._clock;return n&&ue(n)?new gx(this,i,n.map(s=>s.pulse),e):this._input[t.id]||eye(this._pulse,n&&n.pulse)}function eye(t,e){return e&&e.stamp===t.stamp?e:(t=t.fork(),e&&e!==Nw&&(t.source=e.source),t)}const yx={skip:!1,force:!1};function tye(t,e){const n=e||yx;return this._pulse?this._enqueue(t):this._touched.add(t),n.skip&&t.skip(!0),this}function nye(t,e,n){const i=n||yx;return(t.set(e)||i.force)&&this.touch(t,i),this}function iye(t,e,n){this.touch(t,n||yx);const i=new Qc(this,this._clock+(this._pulse?0:1)),s=t.pulse&&t.pulse.source||[];return i.target=t,this._input[t.id]=e.pulse(i,s),this}function sye(t){let e=[];return{clear:()=>e=[],size:()=>e.length,peek:()=>e[0],push:n=>(e.push(n),xW(e,0,e.length-1,t)),pop:()=>{const n=e.pop();let i;return e.length?(i=e[0],e[0]=n,rye(e,0,t)):i=n,i}}}function xW(t,e,n,i){let s,a;const c=t[n];for(;n>e;){if(a=n-1>>1,s=t[a],i(c,s)<0){t[n]=s,n=a;continue}break}return t[n]=c}function rye(t,e,n){const i=e,s=t.length,a=t[e];let c=(e<<1)+1,d;for(;c<s;)d=c+1,d<s&&n(t[c],t[d])>=0&&(c=d),t[e]=t[c],e=c,c=(e<<1)+1;return t[e]=a,xW(t,i,e,n)}function L1(){this.logger(JS()),this.logLevel(KS),this._clock=0,this._rank=0,this._locale=fx();try{this._loader=vL()}catch{}this._touched=EL(l_),this._input={},this._pulse=null,this._heap=sye((t,e)=>t.qrank-e.qrank),this._postrun=[]}function p0(t){return function(){return this._log[t].apply(this,arguments)}}L1.prototype={stamp(){return this._clock},loader(t){return arguments.length?(this._loader=t,this):this._loader},locale(t){return arguments.length?(this._locale=t,this):this._locale},logger(t){return arguments.length?(this._log=t,this):this._log},error:p0("error"),warn:p0("warn"),info:p0("info"),debug:p0("debug"),logLevel:p0("level"),cleanThreshold:1e4,add:Mge,connect:Age,rank:qge,rerank:Gge,pulse:iye,touch:tye,update:nye,changeset:Yu,ingest:Rge,parse:Cge,preload:Pge,request:Dge,events:Nge,on:zge,evaluate:Yge,run:Kge,runAsync:Xge,runAfter:Zge,_enqueue:Jge,_getPulse:Qge};function ae(t,e){_n.call(this,t,null,e)}ve(ae,_n,{run(t){if(t.stamp<this.stamp)return t.StopPropagation;let e;return this.skip()?this.skip(!1):e=this.evaluate(t),e=e||t,e.then?e=e.then(n=>this.pulse=n):e!==t.StopPropagation&&(this.pulse=e),e},evaluate(t){const e=this.marshall(t.stamp),n=this.transform(e,t);return e.clear(),n},transform(){}});const r2={};function BW(t){const e=IW(t);return e&&e.Definition||null}function IW(t){return t=t&&t.toLowerCase(),$e(r2,t)?r2[t]:null}function aye(t){return e=>{const n=t.length;let i=1,s=String(t[0](e));for(;i<n;++i)s+="|"+t[i](e);return s}}function F7(t){return!t||!t.length?function(){return""}:t.length===1?t[0]:aye(t)}function kW(t,e,n){return n||t+(e?"_"+e:"")}const J8=()=>{},oye={init:J8,add:J8,rem:J8,idx:0},c3={values:{init:t=>t.cell.store=!0,value:t=>t.cell.data.values(),idx:-1},count:{value:t=>t.cell.num},__count__:{value:t=>t.missing+t.valid},missing:{value:t=>t.missing},valid:{value:t=>t.valid},sum:{init:t=>t.sum=0,value:t=>t.sum,add:(t,e)=>t.sum+=+e,rem:(t,e)=>t.sum-=e},product:{init:t=>t.product=1,value:t=>t.valid?t.product:void 0,add:(t,e)=>t.product*=e,rem:(t,e)=>t.product/=e},mean:{init:t=>t.mean=0,value:t=>t.valid?t.mean:void 0,add:(t,e)=>(t.mean_d=e-t.mean,t.mean+=t.mean_d/t.valid),rem:(t,e)=>(t.mean_d=e-t.mean,t.mean-=t.valid?t.mean_d/t.valid:t.mean)},average:{value:t=>t.valid?t.mean:void 0,req:["mean"],idx:1},variance:{init:t=>t.dev=0,value:t=>t.valid>1?t.dev/(t.valid-1):void 0,add:(t,e)=>t.dev+=t.mean_d*(e-t.mean),rem:(t,e)=>t.dev-=t.mean_d*(e-t.mean),req:["mean"],idx:1},variancep:{value:t=>t.valid>1?t.dev/t.valid:void 0,req:["variance"],idx:2},stdev:{value:t=>t.valid>1?Math.sqrt(t.dev/(t.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:t=>t.valid>1?Math.sqrt(t.dev/t.valid):void 0,req:["variance"],idx:2},stderr:{value:t=>t.valid>1?Math.sqrt(t.dev/(t.valid*(t.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:t=>t.cell.data.distinct(t.get),req:["values"],idx:3},ci0:{value:t=>t.cell.data.ci0(t.get),req:["values"],idx:3},ci1:{value:t=>t.cell.data.ci1(t.get),req:["values"],idx:3},median:{value:t=>t.cell.data.q2(t.get),req:["values"],idx:3},q1:{value:t=>t.cell.data.q1(t.get),req:["values"],idx:3},q3:{value:t=>t.cell.data.q3(t.get),req:["values"],idx:3},min:{init:t=>t.min=void 0,value:t=>t.min=Number.isNaN(t.min)?t.cell.data.min(t.get):t.min,add:(t,e)=>{(e<t.min||t.min===void 0)&&(t.min=e)},rem:(t,e)=>{e<=t.min&&(t.min=NaN)},req:["values"],idx:4},max:{init:t=>t.max=void 0,value:t=>t.max=Number.isNaN(t.max)?t.cell.data.max(t.get):t.max,add:(t,e)=>{(e>t.max||t.max===void 0)&&(t.max=e)},rem:(t,e)=>{e>=t.max&&(t.max=NaN)},req:["values"],idx:4},argmin:{init:t=>t.argmin=void 0,value:t=>t.argmin||t.cell.data.argmin(t.get),add:(t,e,n)=>{e<t.min&&(t.argmin=n)},rem:(t,e)=>{e<=t.min&&(t.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:t=>t.argmax=void 0,value:t=>t.argmax||t.cell.data.argmax(t.get),add:(t,e,n)=>{e>t.max&&(t.argmax=n)},rem:(t,e)=>{e>=t.max&&(t.argmax=void 0)},req:["max","values"],idx:3}},d_=Object.keys(c3).filter(t=>t!=="__count__");function lye(t,e){return n=>mt({name:t,out:n||t},oye,e)}[...d_,"__count__"].forEach(t=>{c3[t]=lye(t,c3[t])});function FW(t,e){return c3[t](e)}function MW(t,e){return t.idx-e.idx}function cye(t){const e={};t.forEach(i=>e[i.name]=i);const n=i=>{i.req&&i.req.forEach(s=>{e[s]||n(e[s]=c3[s]())})};return t.forEach(n),Object.values(e).sort(MW)}function dye(){this.valid=0,this.missing=0,this._ops.forEach(t=>t.init(this))}function fye(t,e){if(t==null||t===""){++this.missing;return}t===t&&(++this.valid,this._ops.forEach(n=>n.add(this,t,e)))}function uye(t,e){if(t==null||t===""){--this.missing;return}t===t&&(--this.valid,this._ops.forEach(n=>n.rem(this,t,e)))}function hye(t){return this._out.forEach(e=>t[e.out]=e.value(this)),t}function AW(t,e){const n=e||Yi,i=cye(t),s=t.slice().sort(MW);function a(c){this._ops=i,this._out=s,this.cell=c,this.init()}return a.prototype.init=dye,a.prototype.add=fye,a.prototype.rem=uye,a.prototype.set=hye,a.prototype.get=n,a.fields=t.map(c=>c.out),a}function mx(t){this._key=t?Gs(t):De,this.reset()}const Oi=mx.prototype;Oi.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Oi.add=function(t){this._add.push(t)};Oi.rem=function(t){this._rem.push(t)};Oi.values=function(){if(this._get=null,this._rem.length===0)return this._add;const t=this._add,e=this._rem,n=this._key,i=t.length,s=e.length,a=Array(i-s),c={};let d,f,u;for(d=0;d<s;++d)c[n(e[d])]=1;for(d=0,f=0;d<i;++d)c[n(u=t[d])]?c[n(u)]=0:a[f++]=u;return this._rem=[],this._add=a};Oi.distinct=function(t){const e=this.values(),n={};let i=e.length,s=0,a;for(;--i>=0;)a=t(e[i])+"",$e(n,a)||(n[a]=1,++s);return s};Oi.extent=function(t){if(this._get!==t||!this._ext){const e=this.values(),n=OG(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext};Oi.argmin=function(t){return this.extent(t)[0]||{}};Oi.argmax=function(t){return this.extent(t)[1]||{}};Oi.min=function(t){const e=this.extent(t)[0];return e!=null?t(e):void 0};Oi.max=function(t){const e=this.extent(t)[1];return e!=null?t(e):void 0};Oi.quartile=function(t){return(this._get!==t||!this._q)&&(this._q=JE(this.values(),t),this._get=t),this._q};Oi.q1=function(t){return this.quartile(t)[0]};Oi.q2=function(t){return this.quartile(t)[1]};Oi.q3=function(t){return this.quartile(t)[2]};Oi.ci=function(t){return(this._get!==t||!this._ci)&&(this._ci=dV(this.values(),1e3,.05,t),this._get=t),this._ci};Oi.ci0=function(t){return this.ci(t)[0]};Oi.ci1=function(t){return this.ci(t)[1]};function yd(t){ae.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}yd.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:d_},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};ve(yd,ae,{transform(t,e){const n=this,i=e.fork(e.NO_SOURCE|e.NO_FIELDS),s=t.modified();return n.stamp=i.stamp,n.value&&(s||e.modified(n._inputs,!0))?(n._prev=n.value,n.value=s?n.init(t):Object.create(null),e.visit(e.SOURCE,a=>n.add(a))):(n.value=n.value||n.init(t),e.visit(e.REM,a=>n.rem(a)),e.visit(e.ADD,a=>n.add(a))),i.modifies(n._outputs),n._drop=t.drop!==!1,t.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),e.clean()&&n._drop&&i.clean(!0).runAfter(()=>this.clean()),n.changes(i)},cross(){const t=this,e=t.value,n=t._dnames,i=n.map(()=>({})),s=n.length;function a(d){let f,u,o,g;for(f in d)for(o=d[f].tuple,u=0;u<s;++u)i[u][g=o[n[u]]]=g}a(t._prev),a(e);function c(d,f,u){const o=n[u],g=i[u++];for(const y in g){const m=d?d+"|"+y:y;f[o]=g[y],u<s?c(m,f,u):e[m]||t.cell(m,f)}}c("",{},0)},init(t){const e=this._inputs=[],n=this._outputs=[],i={};function s(L){const E=ke(ji(L)),S=E.length;let x=0,k;for(;x<S;++x)i[k=E[x]]||(i[k]=1,e.push(k))}this._dims=ke(t.groupby),this._dnames=this._dims.map(L=>{const E=zn(L);return s(L),n.push(E),E}),this.cellkey=t.key?t.key:F7(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const a=t.fields||[null],c=t.ops||["count"],d=t.as||[],f=a.length,u={};let o,g,y,m,l,b;for(f!==c.length&&de("Unmatched number of fields and aggregate ops."),b=0;b<f;++b){if(o=a[b],g=c[b],o==null&&g!=="count"&&de("Null aggregate field specified."),m=zn(o),l=kW(g,m,d[b]),n.push(l),g==="count"){this._counts.push(l);continue}y=u[m],y||(s(o),y=u[m]=[],y.field=o,this._measures.push(y)),g!=="count"&&(this._countOnly=!1),y.push(FW(g,l))}return this._measures=this._measures.map(L=>AW(L,L.field)),Object.create(null)},cellkey:F7(),cell(t,e){let n=this.value[t];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[t]=this.newcell(t,e),this._adds[this._alen++]=n),n},newcell(t,e){const n={key:t,num:0,agg:null,tuple:this.newtuple(e,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){const i=this._measures,s=i.length;n.agg=Array(s);for(let a=0;a<s;++a)n.agg[a]=new i[a](n)}return n.store&&(n.data=new mx),n},newtuple(t,e){const n=this._dnames,i=this._dims,s=i.length,a={};for(let c=0;c<s;++c)a[n[c]]=i[c](t);return e?vW(e.tuple,a):Kt(a)},clean(){const t=this.value;for(const e in t)t[e].num===0&&delete t[e]},add(t){const e=this.cellkey(t),n=this.cell(e,t);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(t);const i=n.agg;for(let s=0,a=i.length;s<a;++s)i[s].add(i[s].get(t),t)},rem(t){const e=this.cellkey(t),n=this.cell(e,t);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(t);const i=n.agg;for(let s=0,a=i.length;s<a;++s)i[s].rem(i[s].get(t),t)},celltuple(t){const e=t.tuple,n=this._counts;t.store&&t.data.values();for(let i=0,s=n.length;i<s;++i)e[n[i]]=t.num;if(!this._countOnly){const i=t.agg;for(let s=0,a=i.length;s<a;++s)i[s].set(e)}return e},changes(t){const e=this._adds,n=this._mods,i=this._prev,s=this._drop,a=t.add,c=t.rem,d=t.mod;let f,u,o,g;if(i)for(u in i)f=i[u],(!s||f.num)&&c.push(f.tuple);for(o=0,g=this._alen;o<g;++o)a.push(this.celltuple(e[o])),e[o]=null;for(o=0,g=this._mlen;o<g;++o)f=n[o],(f.num===0&&s?c:d).push(this.celltuple(f)),n[o]=null;return this._alen=this._mlen=0,this._prev=null,t}});const pye=1e-14;function wx(t){ae.call(this,null,t)}wx.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};ve(wx,ae,{transform(t,e){const n=t.interval!==!1,i=this._bins(t),s=i.start,a=i.step,c=t.as||["bin0","bin1"],d=c[0],f=c[1];let u;return t.modified()?(e=e.reflow(!0),u=e.SOURCE):u=e.modified(ji(t.field))?e.ADD_MOD:e.ADD,e.visit(u,n?o=>{const g=i(o);o[d]=g,o[f]=g==null?null:s+a*(1+(g-s)/a)}:o=>o[d]=i(o)),e.modifies(n?c:d)},_bins(t){if(this.value&&!t.modified())return this.value;const e=t.field,n=eS(t),i=n.step;let s=n.start,a=s+Math.ceil((n.stop-s)/i)*i,c,d;(c=t.anchor)!=null&&(d=c-(s+i*Math.floor((c-s)/i)),s+=d,a+=d);const f=function(u){let o=Ui(e(u));return o==null?null:o<s?-1/0:o>a?1/0:(o=Math.max(s,Math.min(o,a-i)),s+i*Math.floor(pye+(o-s)/i))};return f.start=s,f.stop=n.stop,f.step=i,this.value=er(f,ji(e),t.name||"bin_"+zn(e))}});function OW(t,e,n){const i=t;let s=e||[],a=n||[],c={},d=0;return{add:f=>a.push(f),remove:f=>c[i(f)]=++d,size:()=>s.length,data:(f,u)=>(d&&(s=s.filter(o=>!c[i(o)]),c={},d=0),u&&f&&s.sort(f),a.length&&(s=f?$G(f,s,a.sort(f)):s.concat(a),a=[]),s)}}function Lx(t){ae.call(this,[],t)}Lx.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};ve(Lx,ae,{transform(t,e){const n=e.fork(e.ALL),i=OW(De,this.value,n.materialize(n.ADD).add),s=t.sort,a=e.changed()||s&&(t.modified("sort")||e.modified(s.fields));return n.visit(n.REM,i.remove),this.modified(a),this.value=n.source=i.data(Wu(s),a),e.source&&e.source.root&&(this.value.root=e.source.root),n}});function NW(t){_n.call(this,null,_ye,t)}ve(NW,_n);function _ye(t){return this.value&&!t.modified()?this.value:nx(t.fields,t.orders)}function bx(t){ae.call(this,null,t)}bx.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function gye(t,e,n){switch(e){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break}return t.match(n)}ve(bx,ae,{transform(t,e){const n=g=>y=>{for(var m=gye(d(y),t.case,a)||[],l,b=0,L=m.length;b<L;++b)c.test(l=m[b])||g(l)},i=this._parameterCheck(t,e),s=this._counts,a=this._match,c=this._stop,d=t.field,f=t.as||["text","count"],u=n(g=>s[g]=1+(s[g]||0)),o=n(g=>s[g]-=1);return i?e.visit(e.SOURCE,u):(e.visit(e.ADD,u),e.visit(e.REM,o)),this._finish(e,f)},_parameterCheck(t,e){let n=!1;return(t.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),n=!0),(t.modified("pattern")||!this._match)&&(this._match=new RegExp(t.pattern||"[\\w']+","g"),n=!0),(t.modified("field")||e.modified(t.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(t,e){const n=this._counts,i=this._tuples||(this._tuples={}),s=e[0],a=e[1],c=t.fork(t.NO_SOURCE|t.NO_FIELDS);let d,f,u;for(d in n)f=i[d],u=n[d]||0,!f&&u?(i[d]=f=Kt({}),f[s]=d,f[a]=u,c.add.push(f)):u===0?(f&&c.rem.push(f),n[d]=null,i[d]=null):f[a]!==u&&(f[a]=u,c.mod.push(f));return c.modifies(e)}});function Tx(t){ae.call(this,null,t)}Tx.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};ve(Tx,ae,{transform(t,e){const n=e.fork(e.NO_SOURCE),i=t.as||["a","b"],s=i[0],a=i[1],c=!this.value||e.changed(e.ADD_REM)||t.modified("as")||t.modified("filter");let d=this.value;return c?(d&&(n.rem=d),d=e.materialize(e.SOURCE).source,n.add=this.value=yye(d,s,a,t.filter||Xr)):n.mod=d,n.source=this.value,n.modifies(i)}});function yye(t,e,n,i){for(var s=[],a={},c=t.length,d=0,f,u;d<c;++d)for(a[e]=u=t[d],f=0;f<c;++f)a[n]=t[f],i(a)&&(s.push(Kt(a)),a={},a[e]=u);return s}const GN={kde:iS,mixture:pV,normal:nS,lognormal:hV,uniform:_V},mye="distributions",WN="function",wye="field";function CW(t,e){const n=t[WN];$e(GN,n)||de("Unknown distribution function: "+n);const i=GN[n]();for(const s in t)s===wye?i.data((t.from||e()).map(t[s])):s===mye?i[s](t[s].map(a=>CW(a,e))):typeof i[s]===WN&&i[s](t[s]);return i}function vx(t){ae.call(this,null,t)}const RW=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Lye={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:RW},{name:"weights",type:"number",array:!0}]};vx.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:RW.concat(Lye)},{name:"as",type:"string",array:!0,default:["value","density"]}]};ve(vx,ae,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const i=CW(t.distribution,bye(e)),s=t.steps||t.minsteps||25,a=t.steps||t.maxsteps||200;let c=t.method||"pdf";c!=="pdf"&&c!=="cdf"&&de("Invalid density method: "+c),!t.extent&&!i.data&&de("Missing density extent parameter."),c=i[c];const d=t.as||["value","density"],f=t.extent||zo(i.data()),u=hL(c,f,s,a).map(o=>{const g={};return g[d[0]]=o[0],g[d[1]]=o[1],Kt(g)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function bye(t){return()=>t.materialize(t.SOURCE).source}function DW(t,e){return t?t.map((n,i)=>e[i]||zn(n)):null}function Ex(t,e,n){const i=[],s=g=>g(f);let a,c,d,f,u,o;if(e==null)i.push(t.map(n));else for(a={},c=0,d=t.length;c<d;++c)f=t[c],u=e.map(s),o=a[u],o||(a[u]=o=[],o.dims=u,i.push(o)),o.push(n(f));return i}const PW="bin";function Sx(t){ae.call(this,null,t)}Sx.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:PW}]};const Tye=(t,e)=>c_(zo(t,e))/30;ve(Sx,ae,{transform(t,e){if(this.value&&!(t.modified()||e.changed()))return e;const n=e.materialize(e.SOURCE).source,i=Ex(e.source,t.groupby,Yi),s=t.smooth||!1,a=t.field,c=t.step||Tye(n,a),d=Wu((l,b)=>a(l)-a(b)),f=t.as||PW,u=i.length;let o=1/0,g=-1/0,y=0,m;for(;y<u;++y){const l=i[y].sort(d);m=-1;for(const b of fV(l,c,s,a))b<o&&(o=b),b>g&&(g=b),l[++m][f]=b}return this.value={start:o,stop:g,step:c},e.reflow(!0).modifies(f)}});function $W(t){_n.call(this,null,vye,t),this.modified(!0)}ve($W,_n);function vye(t){const e=t.expr;return this.value&&!t.modified("expr")?this.value:er(n=>e(n,t),ji(e),zn(e))}function xx(t){ae.call(this,[void 0,void 0],t)}xx.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};ve(xx,ae,{transform(t,e){const n=this.value,i=t.field,s=e.changed()||e.modified(i.fields)||t.modified("field");let a=n[0],c=n[1];if((s||a==null)&&(a=1/0,c=-1/0),e.visit(s?e.SOURCE:e.ADD,d=>{const f=Ui(i(d));f!=null&&(f<a&&(a=f),f>c&&(c=f))}),!Number.isFinite(a)||!Number.isFinite(c)){let d=zn(i);d&&(d=` for field "${d}"`),e.dataflow.warn(`Infinite extent${d}: [${a}, ${c}]`),a=c=void 0}this.value=[a,c]}});function Bx(t,e){_n.call(this,t),this.parent=e,this.count=0}ve(Bx,_n,{connect(t){return this.detachSubflow=t.detachSubflow,this.targets().add(t),t.source=this},add(t){this.count+=1,this.value.add.push(t)},rem(t){this.count-=1,this.value.rem.push(t)},mod(t){this.value.mod.push(t)},init(t){this.value.init(t,t.NO_SOURCE)},evaluate(){return this.value}});function kL(t){ae.call(this,{},t),this._keys=$2();const e=this._targets=[];e.active=0,e.forEach=n=>{for(let i=0,s=e.active;i<s;++i)n(e[i],i,e)}}ve(kL,ae,{activate(t){this._targets[this._targets.active++]=t},subflow(t,e,n,i){const s=this.value;let a=$e(s,t)&&s[t],c,d;return a?a.value.stamp<n.stamp&&(a.init(n),this.activate(a)):(d=i||(d=this._group[t])&&d.tuple,c=n.dataflow,a=new Bx(n.fork(n.NO_SOURCE),this),c.add(a).connect(e(c,t,d)),s[t]=a,this.activate(a)),a},clean(){const t=this.value;let e=0;for(const n in t)if(t[n].count===0){const i=t[n].detachSubflow;i&&i(),delete t[n],++e}if(e){const n=this._targets.filter(i=>i&&i.count>0);this.initTargets(n)}},initTargets(t){const e=this._targets,n=e.length,i=t?t.length:0;let s=0;for(;s<i;++s)e[s]=t[s];for(;s<n&&e[s]!=null;++s)e[s]=null;e.active=i},transform(t,e){const n=e.dataflow,i=t.key,s=t.subflow,a=this._keys,c=t.modified("key"),d=f=>this.subflow(f,s,e);return this._group=t.group||{},this.initTargets(),e.visit(e.REM,f=>{const u=De(f),o=a.get(u);o!==void 0&&(a.delete(u),d(o).rem(f))}),e.visit(e.ADD,f=>{const u=i(f);a.set(De(f),u),d(u).add(f)}),c||e.modified(i.fields)?e.visit(e.MOD,f=>{const u=De(f),o=a.get(u),g=i(f);o===g?d(g).mod(f):(a.set(u,g),d(o).rem(f),d(g).add(f))}):e.changed(e.MOD)&&e.visit(e.MOD,f=>{d(a.get(De(f))).mod(f)}),c&&e.visit(e.REFLOW,f=>{const u=De(f),o=a.get(u),g=i(f);o!==g&&(a.set(u,g),d(o).rem(f),d(g).add(f))}),e.clean()?n.runAfter(()=>{this.clean(),a.clean()}):a.empty>n.cleanThreshold&&n.runAfter(a.clean),e}});function UW(t){_n.call(this,null,Eye,t)}ve(UW,_n);function Eye(t){return this.value&&!t.modified()?this.value:ue(t.name)?ke(t.name).map(e=>Gs(e)):Gs(t.name,t.as)}function Ix(t){ae.call(this,$2(),t)}Ix.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};ve(Ix,ae,{transform(t,e){const n=e.dataflow,i=this.value,s=e.fork(),a=s.add,c=s.rem,d=s.mod,f=t.expr;let u=!0;e.visit(e.REM,g=>{const y=De(g);i.has(y)?i.delete(y):c.push(g)}),e.visit(e.ADD,g=>{f(g,t)?a.push(g):i.set(De(g),1)});function o(g){const y=De(g),m=f(g,t),l=i.get(y);m&&l?(i.delete(y),a.push(g)):!m&&!l?(i.set(y,1),c.push(g)):u&&m&&!l&&d.push(g)}return e.visit(e.MOD,o),t.modified()&&(u=!1,e.visit(e.REFLOW,o)),i.empty>n.cleanThreshold&&n.runAfter(i.clean),s}});function kx(t){ae.call(this,[],t)}kx.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};ve(kx,ae,{transform(t,e){const n=e.fork(e.NO_SOURCE),i=t.fields,s=DW(i,t.as||[]),a=t.index||null,c=s.length;return n.rem=this.value,e.visit(e.SOURCE,d=>{const f=i.map(l=>l(d)),u=f.reduce((l,b)=>Math.max(l,b.length),0);let o=0,g,y,m;for(;o<u;++o){for(y=_x(d),g=0;g<c;++g)y[s[g]]=(m=f[g][o])==null?null:m;a&&(y[a]=o),n.add.push(y)}}),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(s)}});function Fx(t){ae.call(this,[],t)}Fx.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};ve(Fx,ae,{transform(t,e){const n=e.fork(e.NO_SOURCE),i=t.fields,s=i.map(zn),a=t.as||["key","value"],c=a[0],d=a[1],f=i.length;return n.rem=this.value,e.visit(e.SOURCE,u=>{for(let o=0,g;o<f;++o)g=_x(u),g[c]=s[o],g[d]=i[o](u),n.add.push(g)}),this.value=n.source=n.add,n.modifies(a)}});function Mx(t){ae.call(this,null,t)}Mx.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};ve(Mx,ae,{transform(t,e){const n=t.expr,i=t.as,s=t.modified(),a=t.initonly?e.ADD:s?e.SOURCE:e.modified(n.fields)||e.modified(i)?e.ADD_MOD:e.ADD;return s&&(e=e.materialize().reflow(!0)),t.initonly||e.modifies(i),e.visit(a,c=>c[i]=n(c,t))}});function zW(t){ae.call(this,[],t)}ve(zW,ae,{transform(t,e){const n=e.fork(e.ALL),i=t.generator;let s=this.value,a=t.size-s.length,c,d,f;if(a>0){for(c=[];--a>=0;)c.push(f=Kt(i(t))),s.push(f);n.add=n.add.length?n.materialize(n.ADD).add.concat(c):c}else d=s.slice(0,-a),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(d):d,s=s.slice(-a);return n.source=this.value=s,n}});const My={value:"value",median:Ez,mean:Xre,min:yb,max:Kf},Sye=[];function Ax(t){ae.call(this,[],t)}Ax.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function xye(t){var e=t.method||My.value,n;if(My[e]==null)de("Unrecognized imputation method: "+e);else return e===My.value?(n=t.value!==void 0?t.value:0,()=>n):My[e]}function Bye(t){const e=t.field;return n=>n?e(n):NaN}ve(Ax,ae,{transform(t,e){var n=e.fork(e.ALL),i=xye(t),s=Bye(t),a=zn(t.field),c=zn(t.key),d=(t.groupby||[]).map(zn),f=Iye(e.source,t.groupby,t.key,t.keyvals),u=[],o=this.value,g=f.domain.length,y,m,l,b,L,E,S,x,k,B;for(L=0,x=f.length;L<x;++L)for(y=f[L],l=y.values,m=NaN,S=0;S<g;++S)if(y[S]==null){for(b=f.domain[S],B={_impute:!0},E=0,k=l.length;E<k;++E)B[d[E]]=l[E];B[c]=b,B[a]=Number.isNaN(m)?m=i(y,s):m,u.push(Kt(B))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),o.length&&(n.rem=n.materialize(n.REM).rem.concat(o)),this.value=u,n}});function Iye(t,e,n,i){var s=E=>E(L),a=[],c=i?i.slice():[],d={},f={},u,o,g,y,m,l,b,L;for(c.forEach((E,S)=>d[E]=S+1),y=0,b=t.length;y<b;++y)L=t[y],l=n(L),m=d[l]||(d[l]=c.push(l)),o=(u=e?e.map(s):Sye)+"",(g=f[o])||(g=f[o]=[],a.push(g),g.values=u),g[m-1]=L;return a.domain=c,a}function Ox(t){yd.call(this,t)}Ox.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:d_},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};ve(Ox,yd,{transform(t,e){const n=this,i=t.modified();let s;return n.value&&(i||e.modified(n._inputs,!0))?(s=n.value=i?n.init(t):{},e.visit(e.SOURCE,a=>n.add(a))):(s=n.value=n.value||this.init(t),e.visit(e.REM,a=>n.rem(a)),e.visit(e.ADD,a=>n.add(a))),n.changes(),e.visit(e.SOURCE,a=>{mt(a,s[n.cellkey(a)].tuple)}),e.reflow(i).modifies(this._outputs)},changes(){const t=this._adds,e=this._mods;let n,i;for(n=0,i=this._alen;n<i;++n)this.celltuple(t[n]),t[n]=null;for(n=0,i=this._mlen;n<i;++n)this.celltuple(e[n]),e[n]=null;this._alen=this._mlen=0}});function Nx(t){ae.call(this,null,t)}Nx.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};ve(Nx,ae,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const i=e.materialize(e.SOURCE).source,s=Ex(i,t.groupby,t.field),a=(t.groupby||[]).map(zn),c=t.bandwidth,d=t.cumulative?"cdf":"pdf",f=t.as||["value","density"],u=[];let o=t.extent,g=t.steps||t.minsteps||25,y=t.steps||t.maxsteps||200;d!=="pdf"&&d!=="cdf"&&de("Invalid density method: "+d),t.resolve==="shared"&&(o||(o=zo(i,t.field)),g=y=t.steps||y),s.forEach(m=>{const l=iS(m,c)[d],b=t.counts?m.length:1,L=o||zo(m);hL(l,L,g,y).forEach(E=>{const S={};for(let x=0;x<a.length;++x)S[a[x]]=m.dims[x];S[f[0]]=E[0],S[f[1]]=E[1]*b,u.push(Kt(S))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function HW(t){_n.call(this,null,kye,t)}ve(HW,_n);function kye(t){return this.value&&!t.modified()?this.value:sx(t.fields,t.flat)}function jW(t){ae.call(this,[],t),this._pending=null}ve(jW,ae,{transform(t,e){const n=e.dataflow;return this._pending?Q8(this,e,this._pending):Fye(t)?e.StopPropagation:t.values?Q8(this,e,n.parse(t.values,t.format)):t.async?{async:n.request(t.url,t.format).then(s=>(this._pending=ke(s.data),a=>a.touch(this)))}:n.request(t.url,t.format).then(i=>Q8(this,e,ke(i.data)))}});function Fye(t){return t.modified("async")&&!(t.modified("values")||t.modified("url")||t.modified("format"))}function Q8(t,e,n){n.forEach(Kt);const i=e.fork(e.NO_FIELDS&e.NO_SOURCE);return i.rem=t.value,t.value=i.source=i.add=n,t._pending=null,i.rem.length&&i.clean(!0),i}function Cx(t){ae.call(this,{},t)}Cx.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};ve(Cx,ae,{transform(t,e){const n=t.fields,i=t.index,s=t.values,a=t.default==null?null:t.default,c=t.modified(),d=n.length;let f=c?e.SOURCE:e.ADD,u=e,o=t.as,g,y,m;return s?(y=s.length,d>1&&!o&&de('Multi-field lookup requires explicit "as" parameter.'),o&&o.length!==d*y&&de('The "as" parameter has too few output field names.'),o=o||s.map(zn),g=function(l){for(var b=0,L=0,E,S;b<d;++b)if(S=i.get(n[b](l)),S==null)for(E=0;E<y;++E,++L)l[o[L]]=a;else for(E=0;E<y;++E,++L)l[o[L]]=s[E](S)}):(o||de("Missing output field names."),g=function(l){for(var b=0,L;b<d;++b)L=i.get(n[b](l)),l[o[b]]=L??a}),c?u=e.reflow(!0):(m=n.some(l=>e.modified(l.fields)),f|=m?e.MOD:0),e.visit(f,g),u.modifies(o)}});function VW(t){_n.call(this,null,Mye,t)}ve(VW,_n);function Mye(t){if(this.value&&!t.modified())return this.value;const e=t.extents,n=e.length;let i=1/0,s=-1/0,a,c;for(a=0;a<n;++a)c=e[a],c[0]<i&&(i=c[0]),c[1]>s&&(s=c[1]);return[i,s]}function qW(t){_n.call(this,null,Aye,t)}ve(qW,_n);function Aye(t){return this.value&&!t.modified()?this.value:t.values.reduce((e,n)=>e.concat(n),[])}function GW(t){ae.call(this,null,t)}ve(GW,ae,{transform(t,e){return this.modified(t.modified()),this.value=t,e.fork(e.NO_SOURCE|e.NO_FIELDS)}});function Rx(t){yd.call(this,t)}Rx.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:d_,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};ve(Rx,yd,{_transform:yd.prototype.transform,transform(t,e){return this._transform(Oye(t,e),e)}});function Oye(t,e){const n=t.field,i=t.value,s=(t.op==="count"?"__count__":t.op)||"sum",a=ji(n).concat(ji(i)),c=Cye(n,t.limit||0,e);return e.changed()&&t.set("__pivot__",null,null,!0),{key:t.key,groupby:t.groupby,ops:c.map(()=>s),fields:c.map(d=>Nye(d,n,i,a)),as:c.map(d=>d+""),modified:t.modified.bind(t)}}function Nye(t,e,n,i){return er(s=>e(s)===t?n(s):NaN,i,t+"")}function Cye(t,e,n){const i={},s=[];return n.visit(n.SOURCE,a=>{const c=t(a);i[c]||(i[c]=1,s.push(c))}),s.sort(bL),e?s.slice(0,e):s}function WW(t){kL.call(this,t)}ve(WW,kL,{transform(t,e){const n=t.subflow,i=t.field,s=a=>this.subflow(De(a),n,e,a);return(t.modified("field")||i&&e.modified(ji(i)))&&de("PreFacet does not support field modification."),this.initTargets(),i?(e.visit(e.MOD,a=>{const c=s(a);i(a).forEach(d=>c.mod(d))}),e.visit(e.ADD,a=>{const c=s(a);i(a).forEach(d=>c.add(Kt(d)))}),e.visit(e.REM,a=>{const c=s(a);i(a).forEach(d=>c.rem(d))})):(e.visit(e.MOD,a=>s(a).mod(a)),e.visit(e.ADD,a=>s(a).add(a)),e.visit(e.REM,a=>s(a).rem(a))),e.clean()&&e.runAfter(()=>this.clean()),e}});function Dx(t){ae.call(this,null,t)}Dx.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};ve(Dx,ae,{transform(t,e){const n=e.fork(e.NO_SOURCE),i=t.fields,s=DW(t.fields,t.as||[]),a=i?(d,f)=>Rye(d,f,i,s):xL;let c;return this.value?c=this.value:(e=e.addAll(),c=this.value={}),e.visit(e.REM,d=>{const f=De(d);n.rem.push(c[f]),c[f]=null}),e.visit(e.ADD,d=>{const f=a(d,Kt({}));c[De(d)]=f,n.add.push(f)}),e.visit(e.MOD,d=>{n.mod.push(a(d,c[De(d)]))}),n}});function Rye(t,e,n,i){for(let s=0,a=n.length;s<a;++s)e[i[s]]=n[s](t);return e}function YW(t){ae.call(this,null,t)}ve(YW,ae,{transform(t,e){return this.value=t.value,t.modified("value")?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}});function Px(t){ae.call(this,null,t)}Px.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Dye=1e-14;ve(Px,ae,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.as||["prob","value"];if(this.value&&!t.modified()&&!e.changed())return n.source=this.value,n;const s=e.materialize(e.SOURCE).source,a=Ex(s,t.groupby,t.field),c=(t.groupby||[]).map(zn),d=[],f=t.step||.01,u=t.probs||hr(f/2,1-Dye,f),o=u.length;return a.forEach(g=>{const y=ZE(g,u);for(let m=0;m<o;++m){const l={};for(let b=0;b<c.length;++b)l[c[b]]=g.dims[b];l[i[0]]=u[m],l[i[1]]=y[m],d.push(Kt(l))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d,n}});function XW(t){ae.call(this,null,t)}ve(XW,ae,{transform(t,e){let n,i;return this.value?i=this.value:(n=e=e.addAll(),i=this.value={}),t.derive&&(n=e.fork(e.NO_SOURCE),e.visit(e.REM,s=>{const a=De(s);n.rem.push(i[a]),i[a]=null}),e.visit(e.ADD,s=>{const a=_x(s);i[De(s)]=a,n.add.push(a)}),e.visit(e.MOD,s=>{const a=i[De(s)];for(const c in s)a[c]=s[c],n.modifies(c);n.mod.push(a)})),n}});function $x(t){ae.call(this,[],t),this.count=0}$x.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};ve($x,ae,{transform(t,e){const n=e.fork(e.NO_SOURCE),i=t.modified("size"),s=t.size,a=this.value.reduce((o,g)=>(o[De(g)]=1,o),{});let c=this.value,d=this.count,f=0;function u(o){let g,y;c.length<s?c.push(o):(y=~~((d+1)*Wr()),y<c.length&&y>=f&&(g=c[y],a[De(g)]&&n.rem.push(g),c[y]=o)),++d}if(e.rem.length&&(e.visit(e.REM,o=>{const g=De(o);a[g]&&(a[g]=-1,n.rem.push(o)),--d}),c=c.filter(o=>a[De(o)]!==-1)),(e.rem.length||i)&&c.length<s&&e.source&&(f=d=c.length,e.visit(e.SOURCE,o=>{a[De(o)]||u(o)}),f=-1),i&&c.length>s){const o=c.length-s;for(let g=0;g<o;++g)a[De(c[g])]=-1,n.rem.push(c[g]);c=c.slice(o)}return e.mod.length&&e.visit(e.MOD,o=>{a[De(o)]&&n.mod.push(o)}),e.add.length&&e.visit(e.ADD,u),(e.add.length||f<0)&&(n.add=c.filter(o=>!a[De(o)])),this.count=d,this.value=n.source=c,n}});function Ux(t){ae.call(this,null,t)}Ux.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};ve(Ux,ae,{transform(t,e){if(this.value&&!t.modified())return;const n=e.materialize().fork(e.MOD),i=t.as||"data";return n.rem=this.value?e.rem.concat(this.value):e.rem,this.value=hr(t.start,t.stop,t.step||1).map(s=>{const a={};return a[i]=s,Kt(a)}),n.add=e.add.concat(this.value),n}});function KW(t){ae.call(this,null,t),this.modified(!0)}ve(KW,ae,{transform(t,e){return this.value=e.source,e.changed()?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}});function zx(t){ae.call(this,null,t)}const ZW=["unit0","unit1"];zx.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:lx,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:ZW}]};ve(zx,ae,{transform(t,e){const n=t.field,i=t.interval!==!1,s=t.timezone==="utc",a=this._floor(t,e),c=(s?z2:U2)(a.unit).offset,d=t.as||ZW,f=d[0],u=d[1],o=a.step;let g=a.start||1/0,y=a.stop||-1/0,m=e.ADD;return(t.modified()||e.changed(e.REM)||e.modified(ji(n)))&&(e=e.reflow(!0),m=e.SOURCE,g=1/0,y=-1/0),e.visit(m,l=>{const b=n(l);let L,E;b==null?(l[f]=null,i&&(l[u]=null)):(l[f]=L=E=a(b),i&&(l[u]=E=c(L,o)),L<g&&(g=L),E>y&&(y=E))}),a.start=g,a.stop=y,e.modifies(i?d:f)},_floor(t,e){const n=t.timezone==="utc",{units:i,step:s}=t.units?{units:t.units,step:t.step||1}:oW({extent:t.extent||zo(e.materialize(e.SOURCE).source,t.field),maxbins:t.maxbins}),a=cx(i),c=this.value||{},d=(n?JG:ZG)(a,s);return d.unit=Ct(a),d.units=a,d.step=s,d.start=c.start,d.stop=c.stop,this.value=d}});function JW(t){ae.call(this,$2(),t)}ve(JW,ae,{transform(t,e){const n=e.dataflow,i=t.field,s=this.value,a=d=>s.set(i(d),d);let c=!0;return t.modified("field")||e.modified(i.fields)?(s.clear(),e.visit(e.SOURCE,a)):e.changed()?(e.visit(e.REM,d=>s.delete(i(d))),e.visit(e.ADD,a)):c=!1,this.modified(c),s.empty>n.cleanThreshold&&n.runAfter(s.clean),e.fork()}});function QW(t){ae.call(this,null,t)}ve(QW,ae,{transform(t,e){(!this.value||t.modified("field")||t.modified("sort")||e.changed()||t.sort&&e.modified(t.sort.fields))&&(this.value=(t.sort?e.source.slice().sort(Wu(t.sort)):e.source).map(t.field))}});function Pye(t,e,n,i){const s=d3[t](e,n);return{init:s.init||Uc,update:function(a,c){c[i]=s.next(a)}}}const d3={row_number:function(){return{next:t=>t.index+1}},rank:function(){let t;return{init:()=>t=1,next:e=>{const n=e.index,i=e.data;return n&&e.compare(i[n-1],i[n])?t=n+1:t}}},dense_rank:function(){let t;return{init:()=>t=1,next:e=>{const n=e.index,i=e.data;return n&&e.compare(i[n-1],i[n])?++t:t}}},percent_rank:function(){const t=d3.rank(),e=t.next;return{init:t.init,next:n=>(e(n)-1)/(n.data.length-1)}},cume_dist:function(){let t;return{init:()=>t=0,next:e=>{const n=e.data,i=e.compare;let s=e.index;if(t<s){for(;s+1<n.length&&!i(n[s],n[s+1]);)++s;t=s}return(1+t)/n.length}}},ntile:function(t,e){e=+e,e>0||de("ntile num must be greater than zero.");const n=d3.cume_dist(),i=n.next;return{init:n.init,next:s=>Math.ceil(e*i(s))}},lag:function(t,e){return e=+e||1,{next:n=>{const i=n.index-e;return i>=0?t(n.data[i]):null}}},lead:function(t,e){return e=+e||1,{next:n=>{const i=n.index+e,s=n.data;return i<s.length?t(s[i]):null}}},first_value:function(t){return{next:e=>t(e.data[e.i0])}},last_value:function(t){return{next:e=>t(e.data[e.i1-1])}},nth_value:function(t,e){return e=+e,e>0||de("nth_value nth must be greater than zero."),{next:n=>{const i=n.i0+(e-1);return i<n.i1?t(n.data[i]):null}}},prev_value:function(t){let e;return{init:()=>e=null,next:n=>{const i=t(n.data[n.index]);return i!=null?e=i:e}}},next_value:function(t){let e,n;return{init:()=>(e=null,n=-1),next:i=>{const s=i.data;return i.index<=n?e:(n=$ye(t,s,i.index))<0?(n=s.length,e=null):e=t(s[n])}}}};function $ye(t,e,n){for(let i=e.length;n<i;++n)if(t(e[n])!=null)return n;return-1}const Uye=Object.keys(d3);function eY(t){const e=ke(t.ops),n=ke(t.fields),i=ke(t.params),s=ke(t.as),a=this.outputs=[],c=this.windows=[],d={},f={},u=[],o=[];let g=!0;function y(m){ke(ji(m)).forEach(l=>d[l]=1)}y(t.sort),e.forEach((m,l)=>{const b=n[l],L=zn(b),E=kW(m,L,s[l]);if(y(b),a.push(E),$e(d3,m))c.push(Pye(m,n[l],i[l],E));else{if(b==null&&m!=="count"&&de("Null aggregate field specified."),m==="count"){u.push(E);return}g=!1;let S=f[L];S||(S=f[L]=[],S.field=b,o.push(S)),S.push(FW(m,E))}}),(u.length||o.length)&&(this.cell=zye(o,u,g)),this.inputs=Object.keys(d)}const tY=eY.prototype;tY.init=function(){this.windows.forEach(t=>t.init()),this.cell&&this.cell.init()};tY.update=function(t,e){const n=this.cell,i=this.windows,s=t.data,a=i&&i.length;let c;if(n){for(c=t.p0;c<t.i0;++c)n.rem(s[c]);for(c=t.p1;c<t.i1;++c)n.add(s[c]);n.set(e)}for(c=0;c<a;++c)i[c].update(t,e)};function zye(t,e,n){t=t.map(f=>AW(f,f.field));const i={num:0,agg:null,store:!1,count:e};if(!n)for(var s=t.length,a=i.agg=Array(s),c=0;c<s;++c)a[c]=new t[c](i);if(i.store)var d=i.data=new mx;return i.add=function(f){if(i.num+=1,!n){d&&d.add(f);for(let u=0;u<s;++u)a[u].add(a[u].get(f),f)}},i.rem=function(f){if(i.num-=1,!n){d&&d.rem(f);for(let u=0;u<s;++u)a[u].rem(a[u].get(f),f)}},i.set=function(f){let u,o;for(d&&d.values(),u=0,o=e.length;u<o;++u)f[e[u]]=i.num;if(!n)for(u=0,o=a.length;u<o;++u)a[u].set(f)},i.init=function(){i.num=0,d&&d.reset();for(let f=0;f<s;++f)a[f].init()},i}function Hx(t){ae.call(this,{},t),this._mlen=0,this._mods=[]}Hx.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Uye.concat(d_)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};ve(Hx,ae,{transform(t,e){this.stamp=e.stamp;const n=t.modified(),i=Wu(t.sort),s=F7(t.groupby),a=d=>this.group(s(d));let c=this.state;(!c||n)&&(c=this.state=new eY(t)),n||e.modified(c.inputs)?(this.value={},e.visit(e.SOURCE,d=>a(d).add(d))):(e.visit(e.REM,d=>a(d).remove(d)),e.visit(e.ADD,d=>a(d).add(d)));for(let d=0,f=this._mlen;d<f;++d)Hye(this._mods[d],c,i,t);return this._mlen=0,this._mods=[],e.reflow(n).modifies(c.outputs)},group(t){let e=this.value[t];return e||(e=this.value[t]=OW(De),e.stamp=-1),e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e),e}});function Hye(t,e,n,i){const s=i.sort,a=s&&!i.ignorePeers,c=i.frame||[null,0],d=t.data(n),f=d.length,u=a?j3(s):null,o={i0:0,i1:0,p0:0,p1:0,index:0,data:d,compare:s||Xi(-1)};e.init();for(let g=0;g<f;++g)jye(o,c,g,f),a&&Vye(o,u),e.update(o,d[g])}function jye(t,e,n,i){t.p0=t.i0,t.p1=t.i1,t.i0=e[0]==null?0:Math.max(0,n-Math.abs(e[0])),t.i1=e[1]==null?i:Math.min(i,n+Math.abs(e[1])+1),t.index=n}function Vye(t,e){const n=t.i0,i=t.i1-1,s=t.compare,a=t.data,c=a.length-1;n>0&&!s(a[n],a[n-1])&&(t.i0=e.left(a,a[n])),i<c&&!s(a[i],a[i+1])&&(t.i1=e.right(a,a[i]))}const qye=Object.freeze(Object.defineProperty({__proto__:null,aggregate:yd,bin:wx,collect:Lx,compare:NW,countpattern:bx,cross:Tx,density:vx,dotbin:Sx,expression:$W,extent:xx,facet:kL,field:UW,filter:Ix,flatten:kx,fold:Fx,formula:Mx,generate:zW,impute:Ax,joinaggregate:Ox,kde:Nx,key:HW,load:jW,lookup:Cx,multiextent:VW,multivalues:qW,params:GW,pivot:Rx,prefacet:WW,project:Dx,proxy:YW,quantile:Px,relay:XW,sample:$x,sequence:Ux,sieve:KW,subflow:Bx,timeunit:zx,tupleindex:JW,values:QW,window:Hx},Symbol.toStringTag,{value:"Module"}));function f_(t,e){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=t,n.height=e,n}return null}const Gye=()=>typeof Image<"u"?Image:null;function jx(t,e,n){const i=t-e+n*2;return t?i>0?i:1:0}const Wye="identity",a2="linear",ec="log",u_="pow",h_="sqrt",FL="symlog",wu="time",Lu="utc",xo="sequential",H2="diverging",o2="quantile",ML="quantize",AL="threshold",Vx="ordinal",M7="point",nY="band",qx="bin-ordinal",li="continuous",p_="discrete",__="discretizing",Qr="interpolating",Gx="temporal";function Yye(t){return function(e){let n=e[0],i=e[1],s;return i<n&&(s=n,n=i,i=s),[t.invert(n),t.invert(i)]}}function Xye(t){return function(e){const n=t.range();let i=e[0],s=e[1],a=-1,c,d,f,u;for(s<i&&(d=i,i=s,s=d),f=0,u=n.length;f<u;++f)n[f]>=i&&n[f]<=s&&(a<0&&(a=f),c=f);if(!(a<0))return i=t.invertExtent(n[a]),s=t.invertExtent(n[c]),[i[0]===void 0?i[1]:i[0],s[1]===void 0?s[0]:s[1]]}}function Wx(){const t=NE().unknown(void 0),e=t.domain,n=t.range;let i=[0,1],s,a,c=!1,d=0,f=0,u=.5;delete t.unknown;function o(){const g=e().length,y=i[1]<i[0],m=i[1-y],l=jx(g,d,f);let b=i[y-0];s=(m-b)/(l||1),c&&(s=Math.floor(s)),b+=(m-b-s*(g-d))*u,a=s*(1-d),c&&(b=Math.round(b),a=Math.round(a));const L=hr(g).map(E=>b+s*E);return n(y?L.reverse():L)}return t.domain=function(g){return arguments.length?(e(g),o()):e()},t.range=function(g){return arguments.length?(i=[+g[0],+g[1]],o()):i.slice()},t.rangeRound=function(g){return i=[+g[0],+g[1]],c=!0,o()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(c=!!g,o()):c},t.padding=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),d=f,o()):d},t.paddingInner=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),o()):d},t.paddingOuter=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),o()):f},t.align=function(g){return arguments.length?(u=Math.max(0,Math.min(1,g)),o()):u},t.invertRange=function(g){if(g[0]==null||g[1]==null)return;const y=i[1]<i[0],m=y?n().reverse():n(),l=m.length-1;let b=+g[0],L=+g[1],E,S,x;if(!(b!==b||L!==L)&&(L<b&&(x=b,b=L,L=x),!(L<m[0]||b>i[1-y])))return E=Math.max(0,d4(m,b)-1),S=b===L?E:d4(m,L)-1,b-m[E]>a+1e-10&&++E,y&&(x=E,E=l-S,S=l-x),E>S?void 0:e().slice(E,S+1)},t.invert=function(g){const y=t.invertRange([g,g]);return y&&y[0]},t.copy=function(){return Wx().domain(e()).range(i).round(c).paddingInner(d).paddingOuter(f).align(u)},o()}function iY(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return iY(e())},t}function Kye(){return iY(Wx().paddingInner(1))}var Zye=Array.prototype.map;function Jye(t){return Zye.call(t,Ui)}const Qye=Array.prototype.slice;function sY(){let t=[],e=[];function n(i){return i==null||i!==i?void 0:e[(V3(t,i)-1)%e.length]}return n.domain=function(i){return arguments.length?(t=Jye(i),n):t.slice()},n.range=function(i){return arguments.length?(e=Qye.call(i),n):e.slice()},n.tickFormat=function(i,s){return vj(t[0],Ct(t),i??10,s)},n.copy=function(){return sY().domain(n.domain()).range(n.range())},n}const Cw=new Map,rY=Symbol("vega_scale");function aY(t){return t[rY]=!0,t}function eme(t){return t&&t[rY]===!0}function tme(t,e,n){const i=function(){const a=e();return a.invertRange||(a.invertRange=a.invert?Yye(a):a.invertExtent?Xye(a):void 0),a.type=t,aY(a)};return i.metadata=ka(ke(n)),i}function jt(t,e,n){return arguments.length>1?(Cw.set(t,tme(t,e,n)),this):oY(t)?Cw.get(t):void 0}jt(Wye,Ej);jt(a2,Q6,li);jt(ec,xj,[li,ec]);jt(u_,PE,li);jt(h_,phe,li);jt(FL,Bj,li);jt(wu,Uj,[li,Gx]);jt(Lu,k1e,[li,Gx]);jt(xo,jE,[li,Qr]);jt(`${xo}-${a2}`,jE,[li,Qr]);jt(`${xo}-${ec}`,zj,[li,Qr,ec]);jt(`${xo}-${u_}`,VE,[li,Qr]);jt(`${xo}-${h_}`,F1e,[li,Qr]);jt(`${xo}-${FL}`,Hj,[li,Qr]);jt(`${H2}-${a2}`,jj,[li,Qr]);jt(`${H2}-${ec}`,Vj,[li,Qr,ec]);jt(`${H2}-${u_}`,qE,[li,Qr]);jt(`${H2}-${h_}`,M1e,[li,Qr]);jt(`${H2}-${FL}`,qj,[li,Qr]);jt(o2,Ij,[__,o2]);jt(ML,kj,__);jt(AL,Fj,__);jt(qx,sY,[p_,__]);jt(Vx,NE,p_);jt(nY,Wx,p_);jt(M7,Kye,p_);function oY(t){return Cw.has(t)}function Xu(t,e){const n=Cw.get(t);return n&&n.metadata[e]}function Yx(t){return Xu(t,li)}function l2(t){return Xu(t,p_)}function A7(t){return Xu(t,__)}function lY(t){return Xu(t,ec)}function nme(t){return Xu(t,Gx)}function cY(t){return Xu(t,Qr)}function dY(t){return Xu(t,o2)}const ime=["clamp","base","constant","exponent"];function fY(t,e){const n=e[0],i=Ct(e)-n;return function(s){return t(n+s*i)}}function OL(t,e,n){return gE(Xx(e||"rgb",n),t)}function uY(t,e){const n=new Array(e),i=e+1;for(let s=0;s<e;)n[s]=t(++s/i);return n}function hY(t,e,n){const i=n-e;let s,a,c;return!i||!Number.isFinite(i)?Xi(.5):(s=(a=t.type).indexOf("-"),a=s<0?a:a.slice(s+1),c=jt(a)().domain([e,n]).range([0,1]),ime.forEach(d=>t[d]?c[d](t[d]()):0),c)}function Xx(t,e){const n=Tle[sme(t)];return e!=null&&n&&n.gamma?n.gamma(e):n}function sme(t){return"interpolate"+t.toLowerCase().split("-").map(e=>e[0].toUpperCase()+e.slice(1)).join("")}const rme={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ame={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function pY(t){const e=t.length/6|0,n=new Array(e);for(let i=0;i<e;)n[i]="#"+t.slice(i*6,++i*6);return n}function _Y(t,e){for(const n in t)Kx(n,e(t[n]))}const YN={};_Y(ame,pY);_Y(rme,t=>OL(pY(t)));function Kx(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(YN[t]=e,this):YN[t]}const Am="symbol",ome="discrete",lme="gradient",cme=t=>ue(t)?t.map(e=>String(e)):String(t),dme=(t,e)=>t[1]-e[1],fme=(t,e)=>e[1]-t[1];function Zx(t,e,n){let i;return dn(e)&&(t.bins&&(e=Math.max(e,t.bins.length)),n!=null&&(e=Math.min(e,Math.floor(c_(t.domain())/n||1)))),Me(e)&&(i=e.step,e=e.interval),Ie(e)&&(e=t.type===wu?U2(e):t.type==Lu?z2(e):de("Only time and utc scales accept interval strings."),i&&(e=e.every(i))),e}function gY(t,e,n){let i=t.range(),s=i[0],a=Ct(i),c=dme;if(s>a&&(i=a,a=s,s=i,c=fme),s=Math.floor(s),a=Math.ceil(a),e=e.map(d=>[d,t(d)]).filter(d=>s<=d[1]&&d[1]<=a).sort(c).map(d=>d[0]),n>0&&e.length>1){const d=[e[0],Ct(e)];for(;e.length>n&&e.length>=3;)e=e.filter((f,u)=>!(u%2));e.length<3&&(e=d)}return e}function Jx(t,e){return t.bins?gY(t,t.bins):t.ticks?t.ticks(e):t.domain()}function yY(t,e,n,i,s,a){const c=e.type;let d=cme;if(c===wu||s===wu)d=t.timeFormat(i);else if(c===Lu||s===Lu)d=t.utcFormat(i);else if(lY(c)){const f=t.formatFloat(i);if(a||e.bins)d=f;else{const u=mY(e,n,!1);d=o=>u(o)?f(o):""}}else if(e.tickFormat){const f=e.domain();d=t.formatSpan(f[0],f[f.length-1],n,i)}else i&&(d=t.format(i));return d}function mY(t,e,n){const i=Jx(t,e),s=t.base(),a=Math.log(s),c=Math.max(1,s*e/i.length),d=f=>{let u=f/Math.pow(s,Math.round(Math.log(f)/a));return u*s<s-.5&&(u*=s),u<=c};return n?i.filter(d):d}const O7={[o2]:"quantiles",[ML]:"thresholds",[AL]:"domain"},wY={[o2]:"quantiles",[ML]:"domain"};function LY(t,e){return t.bins?pme(t.bins):t.type===ec?mY(t,e,!0):O7[t.type]?hme(t[O7[t.type]]()):Jx(t,e)}function ume(t,e,n){const i=e[wY[e.type]](),s=i.length;let a=s>1?i[1]-i[0]:i[0],c;for(c=1;c<s;++c)a=Math.min(a,i[c]-i[c-1]);return t.formatSpan(0,a,3*10,n)}function hme(t){const e=[-1/0].concat(t);return e.max=1/0,e}function pme(t){const e=t.slice(0,-1);return e.max=Ct(t),e}const _me=t=>O7[t.type]||t.bins;function bY(t,e,n,i,s,a,c){const d=wY[e.type]&&a!==wu&&a!==Lu?ume(t,e,s):yY(t,e,n,s,a,c);return i===Am&&_me(e)?gme(d):i===ome?yme(d):mme(d)}const gme=t=>(e,n,i)=>{const s=XN(i[n+1],XN(i.max,1/0)),a=KN(e,t),c=KN(s,t);return a&&c?a+"  "+c:c?"< "+c:" "+a},XN=(t,e)=>t??e,yme=t=>(e,n)=>n?t(e):null,mme=t=>e=>t(e),KN=(t,e)=>Number.isFinite(t)?e(t):null;function wme(t){const e=t.domain(),n=e.length-1;let i=+e[0],s=+Ct(e),a=s-i;if(t.type===AL){const c=n?a/n:.1;i-=c,s+=c,a=s-i}return c=>(c-i)/a}function Lme(t,e,n,i){const s=i||e.type;return Ie(n)&&nme(s)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&s===wu?t.timeFormat("%A, %d %B %Y, %X"):!n&&s===Lu?t.utcFormat("%A, %d %B %Y, %X UTC"):bY(t,e,5,null,n,i,!0)}function TY(t,e,n){n=n||{};const i=Math.max(3,n.maxlen||7),s=Lme(t,e,n.format,n.formatType);if(A7(e.type)){const a=LY(e).slice(1).map(s),c=a.length;return`${c} boundar${c===1?"y":"ies"}: ${a.join(", ")}`}else if(l2(e.type)){const a=e.domain(),c=a.length,d=c>i?a.slice(0,i-2).map(s).join(", ")+", ending with "+a.slice(-1).map(s):a.map(s).join(", ");return`${c} value${c===1?"":"s"}: ${d}`}else{const a=e.domain();return`values from ${s(a[0])} to ${s(Ct(a))}`}}let vY=0;function bme(){vY=0}const Rw="p_";function Qx(t){return t&&t.gradient}function EY(t,e,n){const i=t.gradient;let s=t.id,a=i==="radial"?Rw:"";return s||(s=t.id="gradient_"+vY++,i==="radial"?(t.x1=Xa(t.x1,.5),t.y1=Xa(t.y1,.5),t.r1=Xa(t.r1,0),t.x2=Xa(t.x2,.5),t.y2=Xa(t.y2,.5),t.r2=Xa(t.r2,.5),a=Rw):(t.x1=Xa(t.x1,0),t.y1=Xa(t.y1,0),t.x2=Xa(t.x2,1),t.y2=Xa(t.y2,0))),e[s]=t,"url("+(n||"")+"#"+a+s+")"}function Xa(t,e){return t??e}function SY(t,e){var n=[],i;return i={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:e?e[0]:1,y2:e?e[1]:0,stops:n,stop:function(s,a){return n.push({offset:s,color:a}),i}}}const ZN={basis:{curve:j1e},"basis-closed":{curve:V1e},"basis-open":{curve:q1e},bundle:{curve:G1e,tension:"beta",value:.85},cardinal:{curve:W1e,tension:"tension",value:0},"cardinal-open":{curve:X1e,tension:"tension",value:0},"cardinal-closed":{curve:Y1e,tension:"tension",value:0},"catmull-rom":{curve:K1e,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Z1e,tension:"alpha",value:.5},"catmull-rom-open":{curve:J1e,tension:"alpha",value:.5},linear:{curve:GE},"linear-closed":{curve:Q1e},monotone:{horizontal:t2e,vertical:e2e},natural:{curve:n2e},step:{curve:i2e},"step-after":{curve:r2e},"step-before":{curve:s2e}};function eB(t,e,n){var i=$e(ZN,t)&&ZN[t],s=null;return i&&(s=i.curve||i[e||"vertical"],i.tension&&n!=null&&(s=s[i.tension](n))),s}const Tme={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},vme=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Eme=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Sme=/^((\s+,?\s*)|(,\s*))/,xme=/^[01]/;function c2(t){const e=[];return(t.match(vme)||[]).forEach(i=>{let s=i[0];const a=s.toLowerCase(),c=Tme[a],d=Bme(a,c,i.slice(1).trim()),f=d.length;if(f<c||f&&f%c!==0)throw Error("Invalid SVG path, incorrect parameter count");if(e.push([s,...d.slice(0,c)]),f!==c){a==="m"&&(s=s==="M"?"L":"l");for(let u=c;u<f;u+=c)e.push([s,...d.slice(u,u+c)])}}),e}function Bme(t,e,n){const i=[];for(let s=0;e&&s<n.length;)for(let a=0;a<e;++a){const c=t==="a"&&(a===3||a===4)?xme:Eme,d=n.slice(s).match(c);if(d===null)throw Error("Invalid SVG path, incorrect parameter type");s+=d[0].length,i.push(+d[0]);const f=n.slice(s).match(Sme);f!==null&&(s+=f[0].length)}return i}const md=Math.PI/180,Ime=1e-14,Nf=Math.PI/2,mo=Math.PI*2,hh=Math.sqrt(3)/2;var e9={},t9={},xY=[].join;function kme(t,e,n,i,s,a,c,d,f){const u=xY.call(arguments);if(e9[u])return e9[u];const o=c*md,g=Math.sin(o),y=Math.cos(o);n=Math.abs(n),i=Math.abs(i);const m=y*(d-t)*.5+g*(f-e)*.5,l=y*(f-e)*.5-g*(d-t)*.5;let b=m*m/(n*n)+l*l/(i*i);b>1&&(b=Math.sqrt(b),n*=b,i*=b);const L=y/n,E=g/n,S=-g/i,x=y/i,k=L*d+E*f,B=S*d+x*f,A=L*t+E*e,M=S*t+x*e;let R=1/((A-k)*(A-k)+(M-B)*(M-B))-.25;R<0&&(R=0);let D=Math.sqrt(R);a==s&&(D=-D);const $=.5*(k+A)-D*(M-B),Y=.5*(B+M)+D*(A-k),z=Math.atan2(B-Y,k-$);let q=Math.atan2(M-Y,A-$)-z;q<0&&a===1?q+=mo:q>0&&a===0&&(q-=mo);const W=Math.ceil(Math.abs(q/(Nf+.001))),X=[];for(let G=0;G<W;++G){const le=z+G*q/W,pe=z+(G+1)*q/W;X[G]=[$,Y,le,pe,n,i,g,y]}return e9[u]=X}function Fme(t){const e=xY.call(t);if(t9[e])return t9[e];var n=t[0],i=t[1],s=t[2],a=t[3],c=t[4],d=t[5],f=t[6],u=t[7];const o=u*c,g=-f*d,y=f*c,m=u*d,l=Math.cos(s),b=Math.sin(s),L=Math.cos(a),E=Math.sin(a),S=.5*(a-s),x=Math.sin(S*.5),k=8/3*x*x/Math.sin(S),B=n+l-k*b,A=i+b+k*l,M=n+L,C=i+E,R=M+k*E,D=C-k*L;return t9[e]=[o*B+g*A,y*B+m*A,o*R+g*D,y*R+m*D,o*M+g*C,y*M+m*C]}const Br=["l",0,0,0,0,0,0,0];function Mme(t,e,n){const i=Br[0]=t[0];if(i==="a"||i==="A")Br[1]=e*t[1],Br[2]=n*t[2],Br[3]=t[3],Br[4]=t[4],Br[5]=t[5],Br[6]=e*t[6],Br[7]=n*t[7];else if(i==="h"||i==="H")Br[1]=e*t[1];else if(i==="v"||i==="V")Br[1]=n*t[1];else for(var s=1,a=t.length;s<a;++s)Br[s]=(s%2==1?e:n)*t[s];return Br}function f3(t,e,n,i,s,a){var c,d=null,f=0,u=0,o=0,g=0,y,m,l,b,L=0,E=0;n==null&&(n=0),i==null&&(i=0),s==null&&(s=1),a==null&&(a=s),t.beginPath&&t.beginPath();for(var S=0,x=e.length;S<x;++S){switch(c=e[S],(s!==1||a!==1)&&(c=Mme(c,s,a)),c[0]){case"l":f+=c[1],u+=c[2],t.lineTo(f+n,u+i);break;case"L":f=c[1],u=c[2],t.lineTo(f+n,u+i);break;case"h":f+=c[1],t.lineTo(f+n,u+i);break;case"H":f=c[1],t.lineTo(f+n,u+i);break;case"v":u+=c[1],t.lineTo(f+n,u+i);break;case"V":u=c[1],t.lineTo(f+n,u+i);break;case"m":f+=c[1],u+=c[2],L=f,E=u,t.moveTo(f+n,u+i);break;case"M":f=c[1],u=c[2],L=f,E=u,t.moveTo(f+n,u+i);break;case"c":y=f+c[5],m=u+c[6],o=f+c[3],g=u+c[4],t.bezierCurveTo(f+c[1]+n,u+c[2]+i,o+n,g+i,y+n,m+i),f=y,u=m;break;case"C":f=c[5],u=c[6],o=c[3],g=c[4],t.bezierCurveTo(c[1]+n,c[2]+i,o+n,g+i,f+n,u+i);break;case"s":y=f+c[3],m=u+c[4],o=2*f-o,g=2*u-g,t.bezierCurveTo(o+n,g+i,f+c[1]+n,u+c[2]+i,y+n,m+i),o=f+c[1],g=u+c[2],f=y,u=m;break;case"S":y=c[3],m=c[4],o=2*f-o,g=2*u-g,t.bezierCurveTo(o+n,g+i,c[1]+n,c[2]+i,y+n,m+i),f=y,u=m,o=c[1],g=c[2];break;case"q":y=f+c[3],m=u+c[4],o=f+c[1],g=u+c[2],t.quadraticCurveTo(o+n,g+i,y+n,m+i),f=y,u=m;break;case"Q":y=c[3],m=c[4],t.quadraticCurveTo(c[1]+n,c[2]+i,y+n,m+i),f=y,u=m,o=c[1],g=c[2];break;case"t":y=f+c[1],m=u+c[2],d[0].match(/[QqTt]/)===null?(o=f,g=u):d[0]==="t"?(o=2*f-l,g=2*u-b):d[0]==="q"&&(o=2*f-o,g=2*u-g),l=o,b=g,t.quadraticCurveTo(o+n,g+i,y+n,m+i),f=y,u=m,o=f+c[1],g=u+c[2];break;case"T":y=c[1],m=c[2],o=2*f-o,g=2*u-g,t.quadraticCurveTo(o+n,g+i,y+n,m+i),f=y,u=m;break;case"a":JN(t,f+n,u+i,[c[1],c[2],c[3],c[4],c[5],c[6]+f+n,c[7]+u+i]),f+=c[6],u+=c[7];break;case"A":JN(t,f+n,u+i,[c[1],c[2],c[3],c[4],c[5],c[6]+n,c[7]+i]),f=c[6],u=c[7];break;case"z":case"Z":f=L,u=E,t.closePath();break}d=c}}function JN(t,e,n,i){const s=kme(i[5],i[6],i[0],i[1],i[3],i[4],i[2],e,n);for(let a=0;a<s.length;++a){const c=Fme(s[a]);t.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5])}}const QN=.5773502691896257,eC={circle:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(n,0),t.arc(0,0,n,0,mo)}},cross:{draw:function(t,e){var n=Math.sqrt(e)/2,i=n/2.5;t.moveTo(-n,-i),t.lineTo(-n,i),t.lineTo(-i,i),t.lineTo(-i,n),t.lineTo(i,n),t.lineTo(i,i),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(i,-i),t.lineTo(i,-n),t.lineTo(-i,-n),t.lineTo(-i,-i),t.closePath()}},diamond:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.closePath()}},square:{draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},arrow:{draw:function(t,e){var n=Math.sqrt(e)/2,i=n/7,s=n/2.5,a=n/8;t.moveTo(-i,n),t.lineTo(i,n),t.lineTo(i,-a),t.lineTo(s,-a),t.lineTo(0,-n),t.lineTo(-s,-a),t.lineTo(-i,-a),t.closePath()}},wedge:{draw:function(t,e){var n=Math.sqrt(e)/2,i=hh*n,s=i-n*QN,a=n/4;t.moveTo(0,-i-s),t.lineTo(-a,i-s),t.lineTo(a,i-s),t.closePath()}},triangle:{draw:function(t,e){var n=Math.sqrt(e)/2,i=hh*n,s=i-n*QN;t.moveTo(0,-i-s),t.lineTo(-n,i-s),t.lineTo(n,i-s),t.closePath()}},"triangle-up":{draw:function(t,e){var n=Math.sqrt(e)/2,i=hh*n;t.moveTo(0,-i),t.lineTo(-n,i),t.lineTo(n,i),t.closePath()}},"triangle-down":{draw:function(t,e){var n=Math.sqrt(e)/2,i=hh*n;t.moveTo(0,i),t.lineTo(-n,-i),t.lineTo(n,-i),t.closePath()}},"triangle-right":{draw:function(t,e){var n=Math.sqrt(e)/2,i=hh*n;t.moveTo(i,0),t.lineTo(-i,-n),t.lineTo(-i,n),t.closePath()}},"triangle-left":{draw:function(t,e){var n=Math.sqrt(e)/2,i=hh*n;t.moveTo(-i,0),t.lineTo(i,-n),t.lineTo(i,n),t.closePath()}},stroke:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(n,0)}}};function BY(t){return $e(eC,t)?eC[t]:Ame(t)}var n9={};function Ame(t){if(!$e(n9,t)){const e=c2(t);n9[t]={draw:function(n,i){f3(n,e,0,0,Math.sqrt(i)/2)}}}return n9[t]}const Sc=.448084975506;function Ome(t){return t.x}function Nme(t){return t.y}function Cme(t){return t.width}function Rme(t){return t.height}function dl(t){return typeof t=="function"?t:()=>+t}function Ay(t,e,n){return Math.max(e,Math.min(t,n))}function IY(){var t=Ome,e=Nme,n=Cme,i=Rme,s=dl(0),a=s,c=s,d=s,f=null;function u(o,g,y){var m,l=g??+t.call(this,o),b=y??+e.call(this,o),L=+n.call(this,o),E=+i.call(this,o),S=Math.min(L,E)/2,x=Ay(+s.call(this,o),0,S),k=Ay(+a.call(this,o),0,S),B=Ay(+c.call(this,o),0,S),A=Ay(+d.call(this,o),0,S);if(f||(f=m=G6()),x<=0&&k<=0&&B<=0&&A<=0)f.rect(l,b,L,E);else{var M=l+L,C=b+E;f.moveTo(l+x,b),f.lineTo(M-k,b),f.bezierCurveTo(M-Sc*k,b,M,b+Sc*k,M,b+k),f.lineTo(M,C-A),f.bezierCurveTo(M,C-Sc*A,M-Sc*A,C,M-A,C),f.lineTo(l+B,C),f.bezierCurveTo(l+Sc*B,C,l,C-Sc*B,l,C-B),f.lineTo(l,b+x),f.bezierCurveTo(l,b+Sc*x,l+Sc*x,b,l+x,b),f.closePath()}if(m)return f=null,m+""||null}return u.x=function(o){return arguments.length?(t=dl(o),u):t},u.y=function(o){return arguments.length?(e=dl(o),u):e},u.width=function(o){return arguments.length?(n=dl(o),u):n},u.height=function(o){return arguments.length?(i=dl(o),u):i},u.cornerRadius=function(o,g,y,m){return arguments.length?(s=dl(o),a=g!=null?dl(g):s,d=y!=null?dl(y):s,c=m!=null?dl(m):a,u):s},u.context=function(o){return arguments.length?(f=o??null,u):f},u}function kY(){var t,e,n,i,s=null,a,c,d,f;function u(g,y,m){const l=m/2;if(a){var b=d-y,L=g-c;if(b||L){var E=Math.sqrt(b*b+L*L),S=(b/=E)*f,x=(L/=E)*f,k=Math.atan2(L,b);s.moveTo(c-S,d-x),s.lineTo(g-b*l,y-L*l),s.arc(g,y,l,k-Math.PI,k),s.lineTo(c+S,d+x),s.arc(c,d,f,k,k+Math.PI)}else s.arc(g,y,l,0,mo);s.closePath()}else a=1;c=g,d=y,f=l}function o(g){var y,m=g.length,l,b=!1,L;for(s==null&&(s=L=G6()),y=0;y<=m;++y)!(y<m&&i(l=g[y],y,g))===b&&(b=!b)&&(a=0),b&&u(+t(l,y,g),+e(l,y,g),+n(l,y,g));if(L)return s=null,L+""||null}return o.x=function(g){return arguments.length?(t=g,o):t},o.y=function(g){return arguments.length?(e=g,o):e},o.size=function(g){return arguments.length?(n=g,o):n},o.defined=function(g){return arguments.length?(i=g,o):i},o.context=function(g){return arguments.length?(g==null?s=null:s=g,o):s},o}function g_(t,e){return t??e}const y_=t=>t.x||0,m_=t=>t.y||0,Dme=t=>t.width||0,Pme=t=>t.height||0,$me=t=>(t.x||0)+(t.width||0),Ume=t=>(t.y||0)+(t.height||0),zme=t=>t.startAngle||0,Hme=t=>t.endAngle||0,jme=t=>t.padAngle||0,Vme=t=>t.innerRadius||0,qme=t=>t.outerRadius||0,Gme=t=>t.cornerRadius||0,Wme=t=>g_(t.cornerRadiusTopLeft,t.cornerRadius)||0,Yme=t=>g_(t.cornerRadiusTopRight,t.cornerRadius)||0,Xme=t=>g_(t.cornerRadiusBottomRight,t.cornerRadius)||0,Kme=t=>g_(t.cornerRadiusBottomLeft,t.cornerRadius)||0,Zme=t=>g_(t.size,64),Jme=t=>t.size||1,NL=t=>t.defined!==!1,Qme=t=>BY(t.shape||"circle"),e4e=U1e().startAngle(zme).endAngle(Hme).padAngle(jme).innerRadius(Vme).outerRadius(qme).cornerRadius(Gme),t4e=Jj().x(y_).y1(m_).y0(Ume).defined(NL),n4e=Jj().y(m_).x1(y_).x0($me).defined(NL),i4e=Zj().x(y_).y(m_).defined(NL),s4e=IY().x(y_).y(m_).width(Dme).height(Pme).cornerRadius(Wme,Yme,Xme,Kme),r4e=H1e().type(Qme).size(Zme),a4e=kY().x(y_).y(m_).defined(NL).size(Jme);function tB(t){return t.cornerRadius||t.cornerRadiusTopLeft||t.cornerRadiusTopRight||t.cornerRadiusBottomRight||t.cornerRadiusBottomLeft}function o4e(t,e){return e4e.context(t)(e)}function l4e(t,e){const n=e[0],i=n.interpolate||"linear";return(n.orient==="horizontal"?n4e:t4e).curve(eB(i,n.orient,n.tension)).context(t)(e)}function c4e(t,e){const n=e[0],i=n.interpolate||"linear";return i4e.curve(eB(i,n.orient,n.tension)).context(t)(e)}function j2(t,e,n,i){return s4e.context(t)(e,n,i)}function d4e(t,e){return(e.mark.shape||e.shape).context(t)(e)}function f4e(t,e){return r4e.context(t)(e)}function u4e(t,e){return a4e.context(t)(e)}var FY=1;function MY(){FY=1}function nB(t,e,n){var i=e.clip,s=t._defs,a=e.clip_id||(e.clip_id="clip"+FY++),c=s.clipping[a]||(s.clipping[a]={id:a});return wt(i)?c.path=i(null):tB(n)?c.path=j2(null,n,0,0):(c.width=n.width||0,c.height=n.height||0),"url(#"+a+")"}function Xn(t){this.clear(),t&&this.union(t)}Xn.prototype={clone(){return new Xn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,e,n,i){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),i<e?(this.y2=e,this.y1=i):(this.y1=e,this.y2=i),this},add(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},expand(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(t){return this.x1*=t,this.y1*=t,this.x2*=t,this.y2*=t,this},translate(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},rotate(t,e,n){const i=this.rotatedPoints(t,e,n);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])},rotatedPoints(t,e,n){var{x1:i,y1:s,x2:a,y2:c}=this,d=Math.cos(t),f=Math.sin(t),u=e-e*d+n*f,o=n-e*f-n*d;return[d*i-f*s+u,f*i+d*s+o,d*i-f*c+u,f*i+d*c+o,d*a-f*s+u,f*a+d*s+o,d*a-f*c+u,f*a+d*c+o]},union(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},intersect(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function CL(t){this.mark=t,this.bounds=this.bounds||new Xn}function RL(t){CL.call(this,t),this.items=this.items||[]}ve(RL,CL);function iB(t){this._pending=0,this._loader=t||vL()}function tC(t){t._pending+=1}function _0(t){t._pending-=1}iB.prototype={pending(){return this._pending},sanitizeURL(t){const e=this;return tC(e),e._loader.sanitize(t,{context:"href"}).then(n=>(_0(e),n)).catch(()=>(_0(e),null))},loadImage(t){const e=this,n=Gye();return tC(e),e._loader.sanitize(t,{context:"image"}).then(i=>{const s=i.href;if(!s||!n)throw{url:s};const a=new n,c=$e(i,"crossOrigin")?i.crossOrigin:"anonymous";return c!=null&&(a.crossOrigin=c),a.onload=()=>_0(e),a.onerror=()=>_0(e),a.src=s,a}).catch(i=>(_0(e),{complete:!1,width:0,height:0,src:i&&i.url||""}))},ready(){const t=this;return new Promise(e=>{function n(i){t.pending()?setTimeout(()=>{n(!0)},10):e(i)}n(!1)})}};function cc(t,e,n){if(e.stroke&&e.opacity!==0&&e.strokeOpacity!==0){const i=e.strokeWidth!=null?+e.strokeWidth:1;t.expand(i+(n?h4e(e,i):0))}return t}function h4e(t,e){return t.strokeJoin&&t.strokeJoin!=="miter"?0:e}const p4e=mo-1e-8;let DL,Om,Nm,Yf,N7,Cm,C7,R7;const Hc=(t,e)=>DL.add(t,e),Rm=(t,e)=>Hc(Om=t,Nm=e),nC=t=>Hc(t,DL.y1),iC=t=>Hc(DL.x1,t),Cf=(t,e)=>N7*t+C7*e,Rf=(t,e)=>Cm*t+R7*e,i9=(t,e)=>Hc(Cf(t,e),Rf(t,e)),s9=(t,e)=>Rm(Cf(t,e),Rf(t,e));function w_(t,e){return DL=t,e?(Yf=e*md,N7=R7=Math.cos(Yf),Cm=Math.sin(Yf),C7=-Cm):(N7=R7=1,Yf=Cm=C7=0),_4e}const _4e={beginPath(){},closePath(){},moveTo:s9,lineTo:s9,rect(t,e,n,i){Yf?(i9(t+n,e),i9(t+n,e+i),i9(t,e+i),s9(t,e)):(Hc(t+n,e+i),Rm(t,e))},quadraticCurveTo(t,e,n,i){const s=Cf(t,e),a=Rf(t,e),c=Cf(n,i),d=Rf(n,i);sC(Om,s,c,nC),sC(Nm,a,d,iC),Rm(c,d)},bezierCurveTo(t,e,n,i,s,a){const c=Cf(t,e),d=Rf(t,e),f=Cf(n,i),u=Rf(n,i),o=Cf(s,a),g=Rf(s,a);rC(Om,c,f,o,nC),rC(Nm,d,u,g,iC),Rm(o,g)},arc(t,e,n,i,s,a){if(i+=Yf,s+=Yf,Om=n*Math.cos(s)+t,Nm=n*Math.sin(s)+e,Math.abs(s-i)>p4e)Hc(t-n,e-n),Hc(t+n,e+n);else{const c=u=>Hc(n*Math.cos(u)+t,n*Math.sin(u)+e);let d,f;if(c(i),c(s),s!==i)if(i=i%mo,i<0&&(i+=mo),s=s%mo,s<0&&(s+=mo),s<i&&(a=!a,d=i,i=s,s=d),a)for(s-=mo,d=i-i%Nf,f=0;f<4&&d>s;++f,d-=Nf)c(d);else for(d=i-i%Nf+Nf,f=0;f<4&&d<s;++f,d=d+Nf)c(d)}}};function sC(t,e,n,i){const s=(t-e)/(t+n-2*e);0<s&&s<1&&i(t+(e-t)*s)}function rC(t,e,n,i,s){const a=i-t+3*e-3*n,c=t+n-2*e,d=t-e;let f=0,u=0,o;Math.abs(a)>Ime?(o=c*c+d*a,o>=0&&(o=Math.sqrt(o),f=(-c+o)/a,u=(-c-o)/a)):f=.5*d/c,0<f&&f<1&&s(aC(f,t,e,n,i)),0<u&&u<1&&s(aC(u,t,e,n,i))}function aC(t,e,n,i,s){const a=1-t,c=a*a,d=t*t;return c*a*e+3*c*t*n+3*a*d*i+d*t*s}var ed=(ed=f_(1,1))?ed.getContext("2d"):null;const D7=new Xn;function sB(t){return function(e,n){if(!ed)return!0;t(ed,e),D7.clear().union(e.bounds).intersect(n).round();const{x1:i,y1:s,x2:a,y2:c}=D7;for(let d=s;d<=c;++d)for(let f=i;f<=a;++f)if(ed.isPointInPath(f,d))return!0;return!1}}function rB(t,e){return e.contains(t.x||0,t.y||0)}function AY(t,e){const n=t.x||0,i=t.y||0,s=t.width||0,a=t.height||0;return e.intersects(D7.set(n,i,n+s,i+a))}function OY(t,e){const n=t.x||0,i=t.y||0,s=t.x2!=null?t.x2:n,a=t.y2!=null?t.y2:i;return t1(e,n,i,s,a)}function t1(t,e,n,i,s){const{x1:a,y1:c,x2:d,y2:f}=t,u=i-e,o=s-n;let g=0,y=1,m,l,b,L;for(L=0;L<4;++L){if(L===0&&(m=-u,l=-(a-e)),L===1&&(m=u,l=d-e),L===2&&(m=-o,l=-(c-n)),L===3&&(m=o,l=f-n),Math.abs(m)<1e-10&&l<0)return!1;if(b=l/m,m<0){if(b>y)return!1;b>g&&(g=b)}else if(m>0){if(b<g)return!1;b<y&&(y=b)}}return!0}function d2(t,e){t.globalCompositeOperation=e.blend||"source-over"}function ia(t,e){return t??e}function oC(t,e){const n=e.length;for(let i=0;i<n;++i)t.addColorStop(e[i].offset,e[i].color);return t}function g4e(t,e,n){const i=n.width(),s=n.height();let a;if(e.gradient==="radial")a=t.createRadialGradient(n.x1+ia(e.x1,.5)*i,n.y1+ia(e.y1,.5)*s,Math.max(i,s)*ia(e.r1,0),n.x1+ia(e.x2,.5)*i,n.y1+ia(e.y2,.5)*s,Math.max(i,s)*ia(e.r2,.5));else{const c=ia(e.x1,0),d=ia(e.y1,0),f=ia(e.x2,1),u=ia(e.y2,0);if(c===f||d===u||i===s)a=t.createLinearGradient(n.x1+c*i,n.y1+d*s,n.x1+f*i,n.y1+u*s);else{const o=f_(Math.ceil(i),Math.ceil(s)),g=o.getContext("2d");return g.scale(i,s),g.fillStyle=oC(g.createLinearGradient(c,d,f,u),e.stops),g.fillRect(0,0,i,s),t.createPattern(o,"no-repeat")}}return oC(a,e.stops)}function NY(t,e,n){return Qx(n)?g4e(t,n,e.bounds):n}function Dw(t,e,n){return n*=e.fillOpacity==null?1:e.fillOpacity,n>0?(t.globalAlpha=n,t.fillStyle=NY(t,e,e.fill),!0):!1}var y4e=[];function f2(t,e,n){var i=(i=e.strokeWidth)!=null?i:1;return i<=0?!1:(n*=e.strokeOpacity==null?1:e.strokeOpacity,n>0?(t.globalAlpha=n,t.strokeStyle=NY(t,e,e.stroke),t.lineWidth=i,t.lineCap=e.strokeCap||"butt",t.lineJoin=e.strokeJoin||"miter",t.miterLimit=e.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(e.strokeDash||y4e),t.lineDashOffset=e.strokeDashOffset||0),!0):!1)}function m4e(t,e){return t.zindex-e.zindex||t.index-e.index}function aB(t){if(!t.zdirty)return t.zitems;var e=t.items,n=[],i,s,a;for(s=0,a=e.length;s<a;++s)i=e[s],i.index=s,i.zindex&&n.push(i);return t.zdirty=!1,t.zitems=n.sort(m4e)}function Ma(t,e){var n=t.items,i,s;if(!n||!n.length)return;const a=aB(t);if(a&&a.length){for(i=0,s=n.length;i<s;++i)n[i].zindex||e(n[i]);n=a}for(i=0,s=n.length;i<s;++i)e(n[i])}function Pw(t,e){var n=t.items,i,s;if(!n||!n.length)return null;const a=aB(t);for(a&&a.length&&(n=a),s=n.length;--s>=0;)if(i=e(n[s]))return i;if(n===a){for(n=t.items,s=n.length;--s>=0;)if(!n[s].zindex&&(i=e(n[s])))return i}return null}function oB(t){return function(e,n,i){Ma(n,s=>{(!i||i.intersects(s.bounds))&&CY(t,e,s,s)})}}function w4e(t){return function(e,n,i){n.items.length&&(!i||i.intersects(n.bounds))&&CY(t,e,n.items[0],n.items)}}function CY(t,e,n,i){var s=n.opacity==null?1:n.opacity;s!==0&&(t(e,i)||(d2(e,n),n.fill&&Dw(e,n,s)&&e.fill(),n.stroke&&f2(e,n,s)&&e.stroke()))}function PL(t){return t=t||Xr,function(e,n,i,s,a,c){return i*=e.pixelRatio,s*=e.pixelRatio,Pw(n,d=>{const f=d.bounds;if(!(f&&!f.contains(a,c)||!f)&&t(e,d,i,s,a,c))return d})}}function L_(t,e){return function(n,i,s,a){var c=Array.isArray(i)?i[0]:i,d=e??c.fill,f=c.stroke&&n.isPointInStroke,u,o;return f&&(u=c.strokeWidth,o=c.strokeCap,n.lineWidth=u??1,n.lineCap=o??"butt"),t(n,i)?!1:d&&n.isPointInPath(s,a)||f&&n.isPointInStroke(s,a)}}function lB(t){return PL(L_(t))}function tu(t,e){return"translate("+t+","+e+")"}function cB(t){return"rotate("+t+")"}function L4e(t,e){return"scale("+t+","+e+")"}function RY(t){return tu(t.x||0,t.y||0)}function b4e(t){return tu(t.x||0,t.y||0)+(t.angle?" "+cB(t.angle):"")}function T4e(t){return tu(t.x||0,t.y||0)+(t.angle?" "+cB(t.angle):"")+(t.scaleX||t.scaleY?" "+L4e(t.scaleX||1,t.scaleY||1):"")}function dB(t,e,n){function i(c,d){c("transform",b4e(d)),c("d",e(null,d))}function s(c,d){return e(w_(c,d.angle),d),cc(c,d).translate(d.x||0,d.y||0)}function a(c,d){var f=d.x||0,u=d.y||0,o=d.angle||0;c.translate(f,u),o&&c.rotate(o*=md),c.beginPath(),e(c,d),o&&c.rotate(-o),c.translate(-f,-u)}return{type:t,tag:"path",nested:!1,attr:i,bound:s,draw:oB(a),pick:lB(a),isect:n||sB(a)}}var v4e=dB("arc",o4e);function E4e(t,e){for(var n=t[0].orient==="horizontal"?e[1]:e[0],i=t[0].orient==="horizontal"?"y":"x",s=t.length,a=1/0,c,d;--s>=0;)t[s].defined!==!1&&(d=Math.abs(t[s][i]-n),d<a&&(a=d,c=t[s]));return c}function S4e(t,e){for(var n=Math.pow(t[0].strokeWidth||1,2),i=t.length,s,a,c;--i>=0;)if(t[i].defined!==!1&&(s=t[i].x-e[0],a=t[i].y-e[1],c=s*s+a*a,c<n))return t[i];return null}function x4e(t,e){for(var n=t.length,i,s,a;--n>=0;)if(t[n].defined!==!1&&(i=t[n].x-e[0],s=t[n].y-e[1],a=i*i+s*s,i=t[n].size||1,a<i*i))return t[n];return null}function fB(t,e,n){function i(f,u){var o=u.mark.items;o.length&&f("d",e(null,o))}function s(f,u){var o=u.items;return o.length===0?f:(e(w_(f),o),cc(f,o[0]))}function a(f,u){f.beginPath(),e(f,u)}const c=L_(a);function d(f,u,o,g,y,m){var l=u.items,b=u.bounds;return!l||!l.length||b&&!b.contains(y,m)?null:(o*=f.pixelRatio,g*=f.pixelRatio,c(f,l,o,g)?l[0]:null)}return{type:t,tag:"path",nested:!0,attr:i,bound:s,draw:w4e(a),pick:d,isect:rB,tip:n}}var B4e=fB("area",l4e,E4e);function I4e(t,e){var n=e.clip;t.save(),wt(n)?(t.beginPath(),n(t),t.clip()):DY(t,e.group)}function DY(t,e){t.beginPath(),tB(e)?j2(t,e,0,0):t.rect(0,0,e.width||0,e.height||0),t.clip()}function PY(t){const e=ia(t.strokeWidth,1);return t.strokeOffset!=null?t.strokeOffset:t.stroke&&e>.5&&e<1.5?.5-Math.abs(e-1):0}function k4e(t,e){t("transform",RY(e))}function $Y(t,e){const n=PY(e);t("d",j2(null,e,n,n))}function F4e(t,e){t("class","background"),t("aria-hidden",!0),$Y(t,e)}function M4e(t,e){t("class","foreground"),t("aria-hidden",!0),e.strokeForeground?$Y(t,e):t("d","")}function A4e(t,e,n){const i=e.clip?nB(n,e,e):null;t("clip-path",i)}function O4e(t,e){if(!e.clip&&e.items){const n=e.items,i=n.length;for(let s=0;s<i;++s)t.union(n[s].bounds)}return(e.clip||e.width||e.height)&&!e.noBound&&t.add(0,0).add(e.width||0,e.height||0),cc(t,e),t.translate(e.x||0,e.y||0)}function u3(t,e,n,i){const s=PY(e);t.beginPath(),j2(t,e,(n||0)+s,(i||0)+s)}const N4e=L_(u3),C4e=L_(u3,!1),R4e=L_(u3,!0);function D4e(t,e,n){Ma(e,i=>{const s=i.x||0,a=i.y||0,c=i.strokeForeground,d=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&d&&(u3(t,i,s,a),d2(t,i),i.fill&&Dw(t,i,d)&&t.fill(),i.stroke&&!c&&f2(t,i,d)&&t.stroke()),t.save(),t.translate(s,a),i.clip&&DY(t,i),n&&n.translate(-s,-a),Ma(i,f=>{this.draw(t,f,n)}),n&&n.translate(s,a),t.restore(),c&&i.stroke&&d&&(u3(t,i,s,a),d2(t,i),f2(t,i,d)&&t.stroke())})}function P4e(t,e,n,i,s,a){if(e.bounds&&!e.bounds.contains(s,a)||!e.items)return null;const c=n*t.pixelRatio,d=i*t.pixelRatio;return Pw(e,f=>{let u,o,g;const y=f.bounds;if(y&&!y.contains(s,a))return;o=f.x||0,g=f.y||0;const m=o+(f.width||0),l=g+(f.height||0),b=f.clip;if(b&&(s<o||s>m||a<g||a>l))return;if(t.save(),t.translate(o,g),o=s-o,g=a-g,b&&tB(f)&&!R4e(t,f,c,d))return t.restore(),null;const L=f.strokeForeground,E=e.interactive!==!1;return E&&L&&f.stroke&&C4e(t,f,c,d)?(t.restore(),f):(u=Pw(f,S=>$4e(S,o,g)?this.pick(S,n,i,o,g):null),!u&&E&&(f.fill||!L&&f.stroke)&&N4e(t,f,c,d)&&(u=f),t.restore(),u||null)})}function $4e(t,e,n){return(t.interactive!==!1||t.marktype==="group")&&t.bounds&&t.bounds.contains(e,n)}var U4e={type:"group",tag:"g",nested:!1,attr:k4e,bound:O4e,draw:D4e,pick:P4e,isect:AY,content:A4e,background:F4e,foreground:M4e},h3={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function uB(t,e){var n=t.image;return(!n||t.url&&t.url!==n.url)&&(n={complete:!1,width:0,height:0},e.loadImage(t.url).then(i=>{t.image=i,t.image.url=t.url})),n}function hB(t,e){return t.width!=null?t.width:!e||!e.width?0:t.aspect!==!1&&t.height?t.height*e.width/e.height:e.width}function pB(t,e){return t.height!=null?t.height:!e||!e.height?0:t.aspect!==!1&&t.width?t.width*e.height/e.width:e.height}function $L(t,e){return t==="center"?e/2:t==="right"?e:0}function UL(t,e){return t==="middle"?e/2:t==="bottom"?e:0}function z4e(t,e,n){const i=uB(e,n),s=hB(e,i),a=pB(e,i),c=(e.x||0)-$L(e.align,s),d=(e.y||0)-UL(e.baseline,a),f=!i.src&&i.toDataURL?i.toDataURL():i.src||"";t("href",f,h3["xmlns:xlink"],"xlink:href"),t("transform",tu(c,d)),t("width",s),t("height",a),t("preserveAspectRatio",e.aspect===!1?"none":"xMidYMid")}function H4e(t,e){const n=e.image,i=hB(e,n),s=pB(e,n),a=(e.x||0)-$L(e.align,i),c=(e.y||0)-UL(e.baseline,s);return t.set(a,c,a+i,c+s)}function j4e(t,e,n){Ma(e,i=>{if(n&&!n.intersects(i.bounds))return;const s=uB(i,this);let a=hB(i,s),c=pB(i,s);if(a===0||c===0)return;let d=(i.x||0)-$L(i.align,a),f=(i.y||0)-UL(i.baseline,c),u,o,g,y;i.aspect!==!1&&(o=s.width/s.height,g=i.width/i.height,o===o&&g===g&&o!==g&&(g<o?(y=a/o,f+=(c-y)/2,c=y):(y=c*o,d+=(a-y)/2,a=y))),(s.complete||s.toDataURL)&&(d2(t,i),t.globalAlpha=(u=i.opacity)!=null?u:1,t.imageSmoothingEnabled=i.smooth!==!1,t.drawImage(s,d,f,a,c))})}var V4e={type:"image",tag:"image",nested:!1,attr:z4e,bound:H4e,draw:j4e,pick:PL(),isect:Xr,get:uB,xOffset:$L,yOffset:UL},q4e=fB("line",c4e,S4e);function G4e(t,e){var n=e.scaleX||1,i=e.scaleY||1;(n!==1||i!==1)&&t("vector-effect","non-scaling-stroke"),t("transform",T4e(e)),t("d",e.path)}function Dm(t,e){var n=e.path;if(n==null)return!0;var i=e.x||0,s=e.y||0,a=e.scaleX||1,c=e.scaleY||1,d=(e.angle||0)*md,f=e.pathCache;(!f||f.path!==n)&&((e.pathCache=f=c2(n)).path=n),d&&t.rotate&&t.translate?(t.translate(i,s),t.rotate(d),f3(t,f,0,0,a,c),t.rotate(-d),t.translate(-i,-s)):f3(t,f,i,s,a,c)}function W4e(t,e){return Dm(w_(t,e.angle),e)?t.set(0,0,0,0):cc(t,e,!0)}var Y4e={type:"path",tag:"path",nested:!1,attr:G4e,bound:W4e,draw:oB(Dm),pick:lB(Dm),isect:sB(Dm)};function X4e(t,e){t("d",j2(null,e))}function K4e(t,e){var n,i;return cc(t.set(n=e.x||0,i=e.y||0,n+e.width||0,i+e.height||0),e)}function lC(t,e){t.beginPath(),j2(t,e)}var Z4e={type:"rect",tag:"path",nested:!1,attr:X4e,bound:K4e,draw:oB(lC),pick:lB(lC),isect:AY};function J4e(t,e){t("transform",RY(e)),t("x2",e.x2!=null?e.x2-(e.x||0):0),t("y2",e.y2!=null?e.y2-(e.y||0):0)}function Q4e(t,e){var n,i;return cc(t.set(n=e.x||0,i=e.y||0,e.x2!=null?e.x2:n,e.y2!=null?e.y2:i),e)}function UY(t,e,n){var i,s,a,c;return e.stroke&&f2(t,e,n)?(i=e.x||0,s=e.y||0,a=e.x2!=null?e.x2:i,c=e.y2!=null?e.y2:s,t.beginPath(),t.moveTo(i,s),t.lineTo(a,c),!0):!1}function ewe(t,e,n){Ma(e,i=>{if(!(n&&!n.intersects(i.bounds))){var s=i.opacity==null?1:i.opacity;s&&UY(t,i,s)&&(d2(t,i),t.stroke())}})}function twe(t,e,n,i){return t.isPointInStroke?UY(t,e,1)&&t.isPointInStroke(n,i):!1}var nwe={type:"rule",tag:"line",nested:!1,attr:J4e,bound:Q4e,draw:ewe,pick:PL(twe),isect:OY},iwe=dB("shape",d4e),swe=dB("symbol",f4e,rB);const cC=PG();var va={height:Qo,measureWidth:_B,estimateWidth:P7,width:P7,canvas:zY};zY(!0);function zY(t){va.width=t&&ed?_B:P7}function P7(t,e){return HY(Ld(t,e),Qo(t))}function HY(t,e){return~~(.8*t.length*e)}function _B(t,e){return Qo(t)<=0||!(e=Ld(t,e))?0:jY(e,zL(t))}function jY(t,e){const n=`(${e}) ${t}`;let i=cC.get(n);return i===void 0&&(ed.font=e,i=ed.measureText(t).width,cC.set(n,i)),i}function Qo(t){return t.fontSize!=null?+t.fontSize||0:11}function wd(t){return t.lineHeight!=null?t.lineHeight:Qo(t)+2}function rwe(t){return ue(t)?t.length>1?t:t[0]:t}function b_(t){return rwe(t.lineBreak&&t.text&&!ue(t.text)?t.text.split(t.lineBreak):t.text)}function gB(t){const e=b_(t);return(ue(e)?e.length-1:0)*wd(t)}function Ld(t,e){const n=e==null?"":(e+"").trim();return t.limit>0&&n.length?owe(t,n):n}function awe(t){if(va.width===_B){const e=zL(t);return n=>jY(n,e)}else{const e=Qo(t);return n=>HY(n,e)}}function owe(t,e){var n=+t.limit,i=awe(t);if(i(e)<n)return e;var s=t.ellipsis||"",a=t.dir==="rtl",c=0,d=e.length,f;if(n-=i(s),a){for(;c<d;)f=c+d>>>1,i(e.slice(f))>n?c=f+1:d=f;return s+e.slice(c)}else{for(;c<d;)f=1+(c+d>>>1),i(e.slice(0,f))<n?c=f:d=f-1;return e.slice(0,c)+s}}function T_(t,e){var n=t.font;return(e&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function zL(t,e){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+Qo(t)+"px "+T_(t,e)}function yB(t){var e=t.baseline,n=Qo(t);return Math.round(e==="top"?.79*n:e==="middle"?.3*n:e==="bottom"?-.21*n:e==="line-top"?.29*n+.5*wd(t):e==="line-bottom"?.29*n-.5*wd(t):0)}const lwe={left:"start",center:"middle",right:"end"},bp=new Xn;function HL(t){var e=t.x||0,n=t.y||0,i=t.radius||0,s;return i&&(s=(t.theta||0)-Nf,e+=i*Math.cos(s),n+=i*Math.sin(s)),bp.x1=e,bp.y1=n,bp}function cwe(t,e){var n=e.dx||0,i=(e.dy||0)+yB(e),s=HL(e),a=s.x1,c=s.y1,d=e.angle||0,f;t("text-anchor",lwe[e.align]||"start"),d?(f=tu(a,c)+" "+cB(d),(n||i)&&(f+=" "+tu(n,i))):f=tu(a+n,c+i),t("transform",f)}function mB(t,e,n){var i=va.height(e),s=e.align,a=HL(e),c=a.x1,d=a.y1,f=e.dx||0,u=(e.dy||0)+yB(e)-Math.round(.8*i),o=b_(e),g;if(ue(o)?(i+=wd(e)*(o.length-1),g=o.reduce((y,m)=>Math.max(y,va.width(e,m)),0)):g=va.width(e,o),s==="center"?f-=g/2:s==="right"&&(f-=g),t.set(f+=c,u+=d,f+g,u+i),e.angle&&!n)t.rotate(e.angle*md,c,d);else if(n===2)return t.rotatedPoints(e.angle*md,c,d);return t}function dwe(t,e,n){Ma(e,i=>{var s=i.opacity==null?1:i.opacity,a,c,d,f,u,o,g;if(!(n&&!n.intersects(i.bounds)||s===0||i.fontSize<=0||i.text==null||i.text.length===0)){if(t.font=zL(i),t.textAlign=i.align||"left",a=HL(i),c=a.x1,d=a.y1,i.angle&&(t.save(),t.translate(c,d),t.rotate(i.angle*md),c=d=0),c+=i.dx||0,d+=(i.dy||0)+yB(i),o=b_(i),d2(t,i),ue(o))for(u=wd(i),f=0;f<o.length;++f)g=Ld(i,o[f]),i.fill&&Dw(t,i,s)&&t.fillText(g,c,d),i.stroke&&f2(t,i,s)&&t.strokeText(g,c,d),d+=u;else g=Ld(i,o),i.fill&&Dw(t,i,s)&&t.fillText(g,c,d),i.stroke&&f2(t,i,s)&&t.strokeText(g,c,d);i.angle&&t.restore()}})}function fwe(t,e,n,i,s,a){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var c=HL(e),d=c.x1,f=c.y1,u=mB(bp,e,1),o=-e.angle*md,g=Math.cos(o),y=Math.sin(o),m=g*s-y*a+(d-g*d+y*f),l=y*s+g*a+(f-y*d-g*f);return u.contains(m,l)}function uwe(t,e){const n=mB(bp,t,2);return t1(e,n[0],n[1],n[2],n[3])||t1(e,n[0],n[1],n[4],n[5])||t1(e,n[4],n[5],n[6],n[7])||t1(e,n[2],n[3],n[6],n[7])}var hwe={type:"text",tag:"text",nested:!1,attr:cwe,bound:mB,draw:dwe,pick:PL(fwe),isect:uwe},pwe=fB("trail",u4e,x4e),Tr={arc:v4e,area:B4e,group:U4e,image:V4e,line:q4e,path:Y4e,rect:Z4e,rule:nwe,shape:iwe,symbol:swe,text:hwe,trail:pwe};function $7(t,e,n){var i=Tr[t.mark.marktype],s=e||i.bound;return i.nested&&(t=t.mark),s(t.bounds||(t.bounds=new Xn),t,n)}var dC={mark:null};function VY(t,e,n){var i=Tr[t.marktype],s=i.bound,a=t.items,c=a&&a.length,d,f,u,o;if(i.nested)return c?u=a[0]:(dC.mark=t,u=dC),o=$7(u,s,n),e=e&&e.union(o)||o,e;if(e=e||t.bounds&&t.bounds.clear()||new Xn,c)for(d=0,f=a.length;d<f;++d)e.union($7(a[d],s,n));return t.bounds=e}const _we=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function qY(t,e){return JSON.stringify(t,_we,e)}function GY(t){const e=typeof t=="string"?JSON.parse(t):t;return WY(e)}function WY(t){var e=t.marktype,n=t.items,i,s,a;if(n)for(s=0,a=n.length;s<a;++s)i=e?"mark":"group",n[s][i]=t,n[s].zindex&&(n[s][i].zdirty=!0),(e||i)==="group"&&WY(n[s]);return e&&VY(t),t}function wB(t){arguments.length?this.root=GY(t):(this.root=YY({marktype:"group",name:"root",role:"frame"}),this.root.items=[new RL(this.root)])}wB.prototype={toJSON(t){return qY(this.root,t||0)},mark(t,e,n){e=e||this.root.items[0];const i=YY(t,e);return e.items[n]=i,i.zindex&&(i.group.zdirty=!0),i}};function YY(t,e){const n={bounds:new Xn,clip:!!t.clip,group:e,interactive:t.interactive!==!1,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0};return t.aria!=null&&(n.aria=t.aria),t.description&&(n.description=t.description),n}function jc(t,e,n){return!t&&typeof document<"u"&&document.createElement&&(t=document),t?n?t.createElementNS(n,e):t.createElement(e):null}function LB(t,e){e=e.toLowerCase();for(var n=t.childNodes,i=0,s=n.length;i<s;++i)if(n[i].tagName.toLowerCase()===e)return n[i]}function As(t,e,n,i){var s=t.childNodes[e],a;return(!s||s.tagName.toLowerCase()!==n.toLowerCase())&&(a=s||null,s=jc(t.ownerDocument,n,i),t.insertBefore(s,a)),s}function pa(t,e){for(var n=t.childNodes,i=n.length;i>e;)t.removeChild(n[--i]);return t}function XY(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function jL(t,e){const n=e.getBoundingClientRect();return[t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0)]}function gwe(t,e,n,i){var s=t&&t.mark,a,c;if(s&&(a=Tr[s.marktype]).tip){for(c=jL(e,n),c[0]-=i[0],c[1]-=i[1];t=t.mark.group;)c[0]-=t.x||0,c[1]-=t.y||0;t=a.tip(s.items,c)}return t}function bd(t,e){this._active=null,this._handlers={},this._loader=t||vL(),this._tooltip=e||ywe}function ywe(t,e,n,i){t.element().setAttribute("title",i||"")}bd.prototype={initialize(t,e,n){return this._el=t,this._obj=n||null,this.origin(e)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},scene(t){return arguments.length?(this._scene=t,this):this._scene},on(){},off(){},_handlerIndex(t,e,n){for(let i=t?t.length:0;--i>=0;)if(t[i].type===e&&(!n||t[i].handler===n))return i;return-1},handlers(t){const e=this._handlers,n=[];if(t)n.push(...e[this.eventName(t)]);else for(const i in e)n.push(...e[i]);return n},eventName(t){const e=t.indexOf(".");return e<0?t:t.slice(0,e)},handleHref(t,e,n){this._loader.sanitize(n,{context:"href"}).then(i=>{const s=new MouseEvent(t.type,t),a=jc(null,"a");for(const c in i)a.setAttribute(c,i[c]);a.dispatchEvent(s)}).catch(()=>{})},handleTooltip(t,e,n){if(e&&e.tooltip!=null){e=gwe(e,t,this.canvas(),this._origin);const i=n&&e&&e.tooltip||null;this._tooltip.call(this._obj,this,t,e,i)}},getItemBoundingClientRect(t){const e=this.canvas();if(!e)return;const n=e.getBoundingClientRect(),i=this._origin,s=t.bounds,a=s.width(),c=s.height();let d=s.x1+i[0]+n.left,f=s.y1+i[1]+n.top;for(;t.mark&&(t=t.mark.group);)d+=t.x||0,f+=t.y||0;return{x:d,y:f,width:a,height:c,left:d,top:f,right:d+a,bottom:f+c}}};function el(t){this._el=null,this._bgcolor=null,this._loader=new iB(t)}el.prototype={initialize(t,e,n,i,s){return this._el=t,this.resize(e,n,i,s)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)},resize(t,e,n,i){return this._width=t,this._height=e,this._origin=n||[0,0],this._scale=i||1,this},dirty(){},render(t){const e=this;return e._call=function(){e._render(t)},e._call(),e._call=null,e},_render(){},renderAsync(t){const e=this.render(t);return this._ready?this._ready.then(()=>e):Promise.resolve(e)},_load(t,e){var n=this,i=n._loader[t](e);if(!n._ready){const s=n._call;n._ready=n._loader.ready().then(a=>{a&&s(),n._ready=null})}return i},sanitizeURL(t){return this._load("sanitizeURL",t)},loadImage(t){return this._load("loadImage",t)}};const mwe="keydown",wwe="keypress",Lwe="keyup",KY="dragenter",Pm="dragleave",ZY="dragover",U7="mousedown",bwe="mouseup",$w="mousemove",Tp="mouseout",JY="mouseover",Uw="click",Twe="dblclick",vwe="wheel",QY="mousewheel",zw="touchstart",Hw="touchmove",jw="touchend",Ewe=[mwe,wwe,Lwe,KY,Pm,ZY,U7,bwe,$w,Tp,JY,Uw,Twe,vwe,QY,zw,Hw,jw],z7=$w,p3=Tp,H7=Uw;function v_(t,e){bd.call(this,t,e),this._down=null,this._touch=null,this._first=!0,this._events={}}const Swe=t=>t===zw||t===Hw||t===jw?[zw,Hw,jw]:[t];function fC(t,e){Swe(e).forEach(n=>xwe(t,n))}function xwe(t,e){const n=t.canvas();n&&!t._events[e]&&(t._events[e]=1,n.addEventListener(e,t[e]?i=>t[e](i):i=>t.fire(e,i)))}function uC(t,e,n){return function(i){const s=this._active,a=this.pickEvent(i);a===s?this.fire(t,i):((!s||!s.exit)&&this.fire(n,i),this._active=a,this.fire(e,i),this.fire(t,i))}}function hC(t){return function(e){this.fire(t,e),this._active=null}}ve(v_,bd,{initialize(t,e,n){return this._canvas=t&&LB(t,"canvas"),[Uw,U7,$w,Tp,Pm].forEach(i=>fC(this,i)),bd.prototype.initialize.call(this,t,e,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:Ewe,DOMMouseScroll(t){this.fire(QY,t)},mousemove:uC($w,JY,Tp),dragover:uC(ZY,KY,Pm),mouseout:hC(Tp),dragleave:hC(Pm),mousedown(t){this._down=this._active,this.fire(U7,t)},click(t){this._down===this._active&&(this.fire(Uw,t),this._down=null)},touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(zw,t,!0)},touchmove(t){this.fire(Hw,t,!0)},touchend(t){this.fire(jw,t,!0),this._touch=null},fire(t,e,n){const i=n?this._touch:this._active,s=this._handlers[t];if(e.vegaType=t,t===H7&&i&&i.href?this.handleHref(e,i,i.href):(t===z7||t===p3)&&this.handleTooltip(e,i,t!==p3),s)for(let a=0,c=s.length;a<c;++a)s[a].handler.call(this._obj,e,i)},on(t,e){const n=this.eventName(t),i=this._handlers;return this._handlerIndex(i[n],t,e)<0&&(fC(this,t),(i[n]||(i[n]=[])).push({type:t,handler:e})),this},off(t,e){const n=this.eventName(t),i=this._handlers[n],s=this._handlerIndex(i,t,e);return s>=0&&i.splice(s,1),this},pickEvent(t){const e=jL(t,this._canvas),n=this._origin;return this.pick(this._scene,e[0],e[1],e[0]-n[0],e[1]-n[1])},pick(t,e,n,i,s){const a=this.context();return Tr[t.marktype].pick.call(this,a,t,e,n,i,s)}});function Bwe(){return typeof window<"u"&&window.devicePixelRatio||1}var Iwe=Bwe();function kwe(t,e,n,i,s,a){const c=typeof HTMLElement<"u"&&t instanceof HTMLElement&&t.parentNode!=null,d=t.getContext("2d"),f=c?Iwe:s;t.width=e*f,t.height=n*f;for(const u in a)d[u]=a[u];return c&&f!==1&&(t.style.width=e+"px",t.style.height=n+"px"),d.pixelRatio=f,d.setTransform(f,0,0,f,f*i[0],f*i[1]),t}function Vw(t){el.call(this,t),this._options={},this._redraw=!1,this._dirty=new Xn,this._tempb=new Xn}const pC=el.prototype,Fwe=(t,e,n)=>new Xn().set(0,0,e,n).translate(-t[0],-t[1]);function Mwe(t,e,n){return e.expand(1).round(),t.pixelRatio%1&&e.scale(t.pixelRatio).round().scale(1/t.pixelRatio),e.translate(-(n[0]%1),-(n[1]%1)),t.beginPath(),t.rect(e.x1,e.y1,e.width(),e.height()),t.clip(),e}ve(Vw,el,{initialize(t,e,n,i,s,a){return this._options=a||{},this._canvas=this._options.externalContext?null:f_(1,1,this._options.type),t&&this._canvas&&(pa(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),pC.initialize.call(this,t,e,n,i,s)},resize(t,e,n,i){if(pC.resize.call(this,t,e,n,i),this._canvas)kwe(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||de("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(t){const e=this._tempb.clear().union(t.bounds);let n=t.mark.group;for(;n;)e.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(e)},_render(t){const e=this.context(),n=this._origin,i=this._width,s=this._height,a=this._dirty,c=Fwe(n,i,s);e.save();const d=this._redraw||a.empty()?(this._redraw=!1,c.expand(1)):Mwe(e,c.intersect(a),n);return this.clear(-n[0],-n[1],i,s),this.draw(e,t,d),e.restore(),a.clear(),this},draw(t,e,n){const i=Tr[e.marktype];e.clip&&I4e(t,e),i.draw.call(this,t,e,n),e.clip&&t.restore()},clear(t,e,n,i){const s=this._options,a=this.context();s.type!=="pdf"&&!s.externalContext&&a.clearRect(t,e,n,i),this._bgcolor!=null&&(a.fillStyle=this._bgcolor,a.fillRect(t,e,n,i))}});function bB(t,e){bd.call(this,t,e);const n=this;n._hrefHandler=j7(n,(i,s)=>{s&&s.href&&n.handleHref(i,s,s.href)}),n._tooltipHandler=j7(n,(i,s)=>{n.handleTooltip(i,s,i.type!==p3)})}const j7=(t,e)=>n=>{let i=n.target.__data__;i=Array.isArray(i)?i[0]:i,n.vegaType=n.type,e.call(t._obj,n,i)};ve(bB,bd,{initialize(t,e,n){let i=this._svg;return i&&(i.removeEventListener(H7,this._hrefHandler),i.removeEventListener(z7,this._tooltipHandler),i.removeEventListener(p3,this._tooltipHandler)),this._svg=i=t&&LB(t,"svg"),i&&(i.addEventListener(H7,this._hrefHandler),i.addEventListener(z7,this._tooltipHandler),i.addEventListener(p3,this._tooltipHandler)),bd.prototype.initialize.call(this,t,e,n)},canvas(){return this._svg},on(t,e){const n=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[n],t,e)<0){const a={type:t,handler:e,listener:j7(this,e)};(i[n]||(i[n]=[])).push(a),this._svg&&this._svg.addEventListener(n,a.listener)}return this},off(t,e){const n=this.eventName(t),i=this._handlers[n],s=this._handlerIndex(i,t,e);return s>=0&&(this._svg&&this._svg.removeEventListener(n,i[s].listener),i.splice(s,1)),this}});const eX="aria-hidden",TB="aria-label",vB="role",EB="aria-roledescription",tX="graphics-object",SB="graphics-symbol",nX=(t,e,n)=>({[vB]:t,[EB]:e,[TB]:n||void 0}),Awe=ka(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),_C={axis:{desc:"axis",caption:Cwe},legend:{desc:"legend",caption:Rwe},"title-text":{desc:"title",caption:t=>`Title text '${yC(t)}'`},"title-subtitle":{desc:"subtitle",caption:t=>`Subtitle text '${yC(t)}'`}},gC={ariaRole:vB,ariaRoleDescription:EB,description:TB};function iX(t,e){const n=e.aria===!1;if(t(eX,n||void 0),n||e.description==null)for(const i in gC)t(gC[i],void 0);else{const i=e.mark.marktype;t(TB,e.description),t(vB,e.ariaRole||(i==="group"?tX:SB)),t(EB,e.ariaRoleDescription||`${i} mark`)}}function sX(t){return t.aria===!1?{[eX]:!0}:Awe[t.role]?null:_C[t.role]?Nwe(t,_C[t.role]):Owe(t)}function Owe(t){const e=t.marktype,n=e==="group"||e==="text"||t.items.some(i=>i.description!=null&&i.aria!==!1);return nX(n?tX:SB,`${e} mark container`,t.description)}function Nwe(t,e){try{const n=t.items[0],i=e.caption||(()=>"");return nX(e.role||SB,e.desc,n.description||i(n))}catch{return null}}function yC(t){return ke(t.text).join(" ")}function Cwe(t){const e=t.datum,n=t.orient,i=e.title?rX(t):null,s=t.context,a=s.scales[e.scale].value,c=s.dataflow.locale(),d=a.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(i?` titled '${i}'`:"")+` for a ${l2(d)?"discrete":d} scale with ${TY(c,a,t)}`}function Rwe(t){const e=t.datum,n=e.title?rX(t):null,i=`${e.type||""} legend`.trim(),s=e.scales,a=Object.keys(s),c=t.context,d=c.scales[s[a[0]]].value,f=c.dataflow.locale();return Pwe(i)+(n?` titled '${n}'`:"")+` for ${Dwe(a)} with ${TY(f,d,t)}`}function rX(t){try{return ke(Ct(t.items).items[0].text).join(" ")}catch{return null}}function Dwe(t){return t=t.map(e=>e+(e==="fill"||e==="stroke"?" color":"")),t.length<2?t[0]:t.slice(0,-1).join(", ")+" and "+Ct(t)}function Pwe(t){return t.length?t[0].toUpperCase()+t.slice(1):t}const aX=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),$we=t=>aX(t).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function xB(){let t="",e="",n="";const i=[],s=()=>e=n="",a=f=>{e&&(t+=`${e}>${n}`,s()),i.push(f)},c=(f,u)=>(u!=null&&(e+=` ${f}="${$we(u)}"`),d),d={open(f){a(f),e="<"+f;for(var u=arguments.length,o=new Array(u>1?u-1:0),g=1;g<u;g++)o[g-1]=arguments[g];for(const y of o)for(const m in y)c(m,y[m]);return d},close(){const f=i.pop();return e?t+=e+(n?`>${n}</${f}>`:"/>"):t+=`</${f}>`,s(),d},attr:c,text:f=>(n+=aX(f),d),toString:()=>t};return d}const oX=t=>lX(xB(),t)+"";function lX(t,e){if(t.open(e.tagName),e.hasAttributes()){const n=e.attributes,i=n.length;for(let s=0;s<i;++s)t.attr(n[s].name,n[s].value)}if(e.hasChildNodes()){const n=e.childNodes;for(const i of n)i.nodeType===3?t.text(i.nodeValue):lX(t,i)}return t.close()}const qw={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Gw={blend:"mix-blend-mode"},cX={fill:"none","stroke-miterlimit":10},g0=0,mC="http://www.w3.org/2000/xmlns/",ti=h3.xmlns;function BB(t){el.call(this,t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const r9=el.prototype;ve(BB,el,{initialize(t,e,n,i,s){return this._defs={},this._clearDefs(),t&&(this._svg=As(t,0,"svg",ti),this._svg.setAttributeNS(mC,"xmlns",ti),this._svg.setAttributeNS(mC,"xmlns:xlink",h3["xmlns:xlink"]),this._svg.setAttribute("version",h3.version),this._svg.setAttribute("class","marks"),pa(t,1),this._root=As(this._svg,g0,"g",ti),Vc(this._root,cX),pa(this._svg,g0+1)),this.background(this._bgcolor),r9.initialize.call(this,t,e,n,i,s)},background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),r9.background.apply(this,arguments)},resize(t,e,n,i){return r9.resize.call(this,t,e,n,i),this._svg&&(Vc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const t=this._svg,e=this._bgcolor;if(!t)return null;let n;e&&(t.removeAttribute("style"),n=As(t,g0,"rect",ti),Vc(n,{width:this._width,height:this._height,fill:e}));const i=oX(t);return e&&(t.removeChild(n),this._svg.style.setProperty("background-color",e)),i},_render(t){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t),pa(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const e=++this._dirtyID;let n,i,s,a,c,d,f;for(c=0,d=t.length;c<d;++c)if(n=t[c],i=n.mark,i.marktype!==s&&(s=i.marktype,a=Tr[s]),i.zdirty&&i.dirty!==e&&(this._dirtyAll=!1,wC(n,e),i.items.forEach(u=>{u.dirty=e})),!i.zdirty){if(n.exit){a.nested&&i.items.length?(f=i.items[0],f._svg&&this._update(a,f._svg,f)):n._svg&&(f=n._svg.parentNode,f&&f.removeChild(n._svg)),n._svg=null;continue}n=a.nested?i.items[0]:n,n._update!==e&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,wC(n,e)):this._update(a,n._svg,n),n._update=e)}return!this._dirtyAll},mark(t,e,n){if(!this.isDirty(e))return e._svg;const i=this._svg,s=Tr[e.marktype],a=e.interactive===!1?"none":null,c=s.tag==="g",d=LC(e,t,n,"g",i);d.setAttribute("class",XY(e));const f=sX(e);for(const y in f)es(d,y,f[y]);c||es(d,"pointer-events",a),es(d,"clip-path",e.clip?nB(this,e,e.group):null);let u=null,o=0;const g=y=>{const m=this.isDirty(y),l=LC(y,d,u,s.tag,i);m&&(this._update(s,l,y),c&&Hwe(this,l,y)),u=l,++o};return s.nested?e.items.length&&g(e.items[0]):Ma(e,g),pa(d,o),d},_update(t,e,n){Rl=e,Pi=e.__values__,iX(vp,n),t.attr(vp,n,this);const i=Vwe[t.type];i&&i.call(this,t,e,n),Rl&&this.style(Rl,n)},style(t,e){if(e!=null){for(const n in qw){let i=n==="font"?T_(e):e[n];if(i===Pi[n])continue;const s=qw[n];i==null?t.removeAttribute(s):(Qx(i)&&(i=EY(i,this._defs.gradient,dX())),t.setAttribute(s,i+"")),Pi[n]=i}for(const n in Gw)$m(t,Gw[n],e[n])}},defs(){const t=this._svg,e=this._defs;let n=e.el,i=0;for(const s in e.gradient)n||(e.el=n=As(t,g0+1,"defs",ti)),i=Uwe(n,e.gradient[s],i);for(const s in e.clipping)n||(e.el=n=As(t,g0+1,"defs",ti)),i=zwe(n,e.clipping[s],i);n&&(i===0?(t.removeChild(n),e.el=null):pa(n,i))},_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}});function wC(t,e){for(;t&&t.dirty!==e;t=t.mark.group)if(t.dirty=e,t.mark&&t.mark.dirty!==e)t.mark.dirty=e;else return}function Uwe(t,e,n){let i,s,a;if(e.gradient==="radial"){let c=As(t,n++,"pattern",ti);Vc(c,{id:Rw+e.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),c=As(c,0,"rect",ti),Vc(c,{width:1,height:1,fill:`url(${dX()}#${e.id})`}),t=As(t,n++,"radialGradient",ti),Vc(t,{id:e.id,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,r:e.r2})}else t=As(t,n++,"linearGradient",ti),Vc(t,{id:e.id,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2});for(i=0,s=e.stops.length;i<s;++i)a=As(t,i,"stop",ti),a.setAttribute("offset",e.stops[i].offset),a.setAttribute("stop-color",e.stops[i].color);return pa(t,i),n}function zwe(t,e,n){let i;return t=As(t,n,"clipPath",ti),t.setAttribute("id",e.id),e.path?(i=As(t,0,"path",ti),i.setAttribute("d",e.path)):(i=As(t,0,"rect",ti),Vc(i,{x:0,y:0,width:e.width,height:e.height})),pa(t,1),n+1}function Hwe(t,e,n){e=e.lastChild.previousSibling;let i,s=0;Ma(n,a=>{i=t.mark(e,a,i),++s}),pa(e,1+s)}function LC(t,e,n,i,s){let a=t._svg,c;if(!a&&(c=e.ownerDocument,a=jc(c,i,ti),t._svg=a,t.mark&&(a.__data__=t,a.__values__={fill:"default"},i==="g"))){const d=jc(c,"path",ti);a.appendChild(d),d.__data__=t;const f=jc(c,"g",ti);a.appendChild(f),f.__data__=t;const u=jc(c,"path",ti);a.appendChild(u),u.__data__=t,u.__values__={fill:"default"}}return(a.ownerSVGElement!==s||jwe(a,n))&&e.insertBefore(a,n?n.nextSibling:e.firstChild),a}function jwe(t,e){return t.parentNode&&t.parentNode.childNodes.length>1&&t.previousSibling!=e}let Rl=null,Pi=null;const Vwe={group(t,e,n){const i=Rl=e.childNodes[2];Pi=i.__values__,t.foreground(vp,n,this),Pi=e.__values__,Rl=e.childNodes[1],t.content(vp,n,this);const s=Rl=e.childNodes[0];t.background(vp,n,this);const a=n.mark.interactive===!1?"none":null;if(a!==Pi.events&&(es(i,"pointer-events",a),es(s,"pointer-events",a),Pi.events=a),n.strokeForeground&&n.stroke){const c=n.fill;es(i,"display",null),this.style(s,n),es(s,"stroke",null),c&&(n.fill=null),Pi=i.__values__,this.style(i,n),c&&(n.fill=c),Rl=null}else es(i,"display","none")},image(t,e,n){n.smooth===!1?($m(e,"image-rendering","optimizeSpeed"),$m(e,"image-rendering","pixelated")):$m(e,"image-rendering",null)},text(t,e,n){const i=b_(n);let s,a,c,d;ue(i)?(a=i.map(f=>Ld(n,f)),s=a.join(`
`),s!==Pi.text&&(pa(e,0),c=e.ownerDocument,d=wd(n),a.forEach((f,u)=>{const o=jc(c,"tspan",ti);o.__data__=n,o.textContent=f,u&&(o.setAttribute("x",0),o.setAttribute("dy",d)),e.appendChild(o)}),Pi.text=s)):(a=Ld(n,i),a!==Pi.text&&(e.textContent=a,Pi.text=a)),es(e,"font-family",T_(n)),es(e,"font-size",Qo(n)+"px"),es(e,"font-style",n.fontStyle),es(e,"font-variant",n.fontVariant),es(e,"font-weight",n.fontWeight)}};function vp(t,e,n){e!==Pi[t]&&(n?qwe(Rl,t,e,n):es(Rl,t,e),Pi[t]=e)}function $m(t,e,n){n!==Pi[e]&&(n==null?t.style.removeProperty(e):t.style.setProperty(e,n+""),Pi[e]=n)}function Vc(t,e){for(const n in e)es(t,n,e[n])}function es(t,e,n){n!=null?t.setAttribute(e,n):t.removeAttribute(e)}function qwe(t,e,n,i){n!=null?t.setAttributeNS(i,e,n):t.removeAttributeNS(i,e)}function dX(){let t;return typeof window>"u"?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function IB(t){el.call(this,t),this._text=null,this._defs={gradient:{},clipping:{}}}ve(IB,el,{svg(){return this._text},_render(t){const e=xB();e.open("svg",mt({},h3,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&e.open("rect",{width:this._width,height:this._height,fill:n}).close(),e.open("g",cX,{transform:"translate("+this._origin+")"}),this.mark(e,t),e.close(),this.defs(e),this._text=e.close()+"",this},mark(t,e){const n=Tr[e.marktype],i=n.tag,s=[iX,n.attr];t.open("g",{class:XY(e),"clip-path":e.clip?nB(this,e,e.group):null},sX(e),{"pointer-events":i!=="g"&&e.interactive===!1?"none":null});const a=c=>{const d=this.href(c);if(d&&t.open("a",d),t.open(i,this.attr(e,c,s,i!=="g"?i:null)),i==="text"){const f=b_(c);if(ue(f)){const u={x:0,dy:wd(c)};for(let o=0;o<f.length;++o)t.open("tspan",o?u:null).text(Ld(c,f[o])).close()}else t.text(Ld(c,f))}else if(i==="g"){const f=c.strokeForeground,u=c.fill,o=c.stroke;f&&o&&(c.stroke=null),t.open("path",this.attr(e,c,n.background,"bgrect")).close(),t.open("g",this.attr(e,c,n.content)),Ma(c,g=>this.mark(t,g)),t.close(),f&&o?(u&&(c.fill=null),c.stroke=o,t.open("path",this.attr(e,c,n.foreground,"bgrect")).close(),u&&(c.fill=u)):t.open("path",this.attr(e,c,n.foreground,"bgfore")).close()}t.close(),d&&t.close()};return n.nested?e.items&&e.items.length&&a(e.items[0]):Ma(e,a),t.close()},href(t){const e=t.href;let n;if(e){if(n=this._hrefs&&this._hrefs[e])return n;this.sanitizeURL(e).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[e]=i})}return null},attr(t,e,n,i){const s={},a=(c,d,f,u)=>{s[u||c]=d};return Array.isArray(n)?n.forEach(c=>c(a,e,this)):n(a,e,this),i&&Gwe(s,e,t,i,this._defs),s},defs(t){const e=this._defs.gradient,n=this._defs.clipping;if(Object.keys(e).length+Object.keys(n).length!==0){t.open("defs");for(const s in e){const a=e[s],c=a.stops;a.gradient==="radial"?(t.open("pattern",{id:Rw+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):t.open("linearGradient",{id:s,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(let d=0;d<c.length;++d)t.open("stop",{offset:c[d].offset,"stop-color":c[d].color}).close();t.close()}for(const s in n){const a=n[s];t.open("clipPath",{id:s}),a.path?t.open("path",{d:a.path}).close():t.open("rect",{x:0,y:0,width:a.width,height:a.height}).close(),t.close()}t.close()}}});function Gwe(t,e,n,i,s){let a;if(e==null||(i==="bgrect"&&n.interactive===!1&&(t["pointer-events"]="none"),i==="bgfore"&&(n.interactive===!1&&(t["pointer-events"]="none"),t.display="none",e.fill!==null)))return t;i==="image"&&e.smooth===!1&&(a=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),i==="text"&&(t["font-family"]=T_(e),t["font-size"]=Qo(e)+"px",t["font-style"]=e.fontStyle,t["font-variant"]=e.fontVariant,t["font-weight"]=e.fontWeight);for(const c in qw){let d=e[c];const f=qw[c];d==="transparent"&&(f==="fill"||f==="stroke")||d!=null&&(Qx(d)&&(d=EY(d,s.gradient,"")),t[f]=d)}for(const c in Gw){const d=e[c];d!=null&&(a=a||[],a.push(`${Gw[c]}: ${d};`))}return a&&(t.style=a.join(" ")),t}const fX="canvas",uX="png",hX="svg",pX="none",qc={Canvas:fX,PNG:uX,SVG:hX,None:pX},u2={};u2[fX]=u2[uX]={renderer:Vw,headless:Vw,handler:v_};u2[hX]={renderer:BB,headless:IB,handler:bB};u2[pX]={};function VL(t,e){return t=String(t||"").toLowerCase(),arguments.length>1?(u2[t]=e,this):u2[t]}function _X(t,e,n){const i=[],s=new Xn().union(e),a=t.marktype;return a?gX(t,s,n,i):a==="group"?yX(t,s,n,i):de("Intersect scene must be mark node or group item.")}function gX(t,e,n,i){if(Wwe(t,e,n)){const s=t.items,a=t.marktype,c=s.length;let d=0;if(a==="group")for(;d<c;++d)yX(s[d],e,n,i);else for(const f=Tr[a].isect;d<c;++d){const u=s[d];mX(u,e,f)&&i.push(u)}}return i}function Wwe(t,e,n){return t.bounds&&e.intersects(t.bounds)&&(t.marktype==="group"||t.interactive!==!1&&(!n||n(t)))}function yX(t,e,n,i){n&&n(t.mark)&&mX(t,e,Tr.group.isect)&&i.push(t);const s=t.items,a=s&&s.length;if(a){const c=t.x||0,d=t.y||0;e.translate(-c,-d);for(let f=0;f<a;++f)gX(s[f],e,n,i);e.translate(c,d)}return i}function mX(t,e,n){const i=t.bounds;return e.encloses(i)||e.intersects(i)&&n(t,e)}const a9=new Xn;function wX(t){const e=t.clip;if(wt(e))e(w_(a9.clear()));else if(e)a9.set(0,0,t.group.width,t.group.height);else return;t.bounds.intersect(a9)}const Ywe=1e-9;function kB(t,e,n){return t===e?!0:n==="path"?LX(t,e):t instanceof Date&&e instanceof Date?+t==+e:dn(t)&&dn(e)?Math.abs(t-e)<=Ywe:!t||!e||!Me(t)&&!Me(e)?t==e:Xwe(t,e)}function LX(t,e){return kB(c2(t),c2(e))}function Xwe(t,e){var n=Object.keys(t),i=Object.keys(e),s,a;if(n.length!==i.length)return!1;for(n.sort(),i.sort(),a=n.length-1;a>=0;a--)if(n[a]!=i[a])return!1;for(a=n.length-1;a>=0;a--)if(s=n[a],!kB(t[s],e[s],s))return!1;return typeof t==typeof e}function Kwe(){MY(),bme()}const h2="top",_a="left",ya="right",Td="bottom",Zwe="top-left",Jwe="top-right",Qwe="bottom-left",e6e="bottom-right",FB="start",V7="middle",ts="end",t6e="x",n6e="y",qL="group",MB="axis",AB="title",i6e="frame",s6e="scope",OB="legend",bX="row-header",TX="row-footer",vX="row-title",EX="column-header",SX="column-footer",xX="column-title",r6e="padding",a6e="symbol",BX="fit",IX="fit-x",kX="fit-y",o6e="pad",NB="none",Oy="all",q7="each",CB="flush",Gc="column",Wc="row";function FX(t){ae.call(this,null,t)}ve(FX,ae,{transform(t,e){const n=e.dataflow,i=t.mark,s=i.marktype,a=Tr[s],c=a.bound;let d=i.bounds,f;if(a.nested)i.items.length&&n.dirty(i.items[0]),d=Ny(i,c),i.items.forEach(u=>{u.bounds.clear().union(d)});else if(s===qL||t.modified())switch(e.visit(e.MOD,u=>n.dirty(u)),d.clear(),i.items.forEach(u=>d.union(Ny(u,c))),i.role){case MB:case OB:case AB:e.reflow()}else f=e.changed(e.REM),e.visit(e.ADD,u=>{d.union(Ny(u,c))}),e.visit(e.MOD,u=>{f=f||d.alignsWith(u.bounds),n.dirty(u),d.union(Ny(u,c))}),f&&(d.clear(),i.items.forEach(u=>d.union(u.bounds)));return wX(i),e.modifies("bounds")}});function Ny(t,e,n){return e(t.bounds.clear(),t,n)}const bC=":vega_identifier:";function RB(t){ae.call(this,0,t)}RB.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};ve(RB,ae,{transform(t,e){const n=l6e(e.dataflow),i=t.as;let s=n.value;return e.visit(e.ADD,a=>a[i]=a[i]||++s),n.set(this.value=s),e}});function l6e(t){return t._signals[bC]||(t._signals[bC]=t.add(0))}function MX(t){ae.call(this,null,t)}ve(MX,ae,{transform(t,e){let n=this.value;n||(n=e.dataflow.scenegraph().mark(t.markdef,c6e(t),t.index),n.group.context=t.context,t.context.group||(t.context.group=n.group),n.source=this.source,n.clip=t.clip,n.interactive=t.interactive,this.value=n);const i=n.marktype===qL?RL:CL;return e.visit(e.ADD,s=>i.call(s,n)),(t.modified("clip")||t.modified("interactive"))&&(n.clip=t.clip,n.interactive=!!t.interactive,n.zdirty=!0,e.reflow()),n.items=e.source,e}});function c6e(t){const e=t.groups,n=t.parent;return e&&e.size===1?e.get(Object.keys(e.object)[0]):e&&n?e.lookup(n):null}function AX(t){ae.call(this,null,t)}const TC={parity:t=>t.filter((e,n)=>n%2?e.opacity=0:1),greedy:(t,e)=>{let n;return t.filter((i,s)=>!s||!OX(n.bounds,i.bounds,e)?(n=i,1):i.opacity=0)}},OX=(t,e,n)=>n>Math.max(e.x1-t.x2,t.x1-e.x2,e.y1-t.y2,t.y1-e.y2),vC=(t,e)=>{for(var n=1,i=t.length,s=t[0].bounds,a;n<i;s=a,++n)if(OX(s,a=t[n].bounds,e))return!0},d6e=t=>{const e=t.bounds;return e.width()>1&&e.height()>1},f6e=(t,e,n)=>{var i=t.range(),s=new Xn;return e===h2||e===Td?s.set(i[0],-1/0,i[1],1/0):s.set(-1/0,i[0],1/0,i[1]),s.expand(n||1),a=>s.encloses(a.bounds)},EC=t=>(t.forEach(e=>e.opacity=1),t),SC=(t,e)=>t.reflow(e.modified()).modifies("opacity");ve(AX,ae,{transform(t,e){const n=TC[t.method]||TC.parity,i=t.separation||0;let s=e.materialize(e.SOURCE).source,a,c;if(!s||!s.length)return;if(!t.method)return t.modified("method")&&(EC(s),e=SC(e,t)),e;if(s=s.filter(d6e),!s.length)return;if(t.sort&&(s=s.slice().sort(t.sort)),a=EC(s),e=SC(e,t),a.length>=3&&vC(a,i)){do a=n(a,i);while(a.length>=3&&vC(a,i));a.length<3&&!Ct(s).opacity&&(a.length>1&&(Ct(a).opacity=0),Ct(s).opacity=1)}t.boundScale&&t.boundTolerance>=0&&(c=f6e(t.boundScale,t.boundOrient,+t.boundTolerance),s.forEach(f=>{c(f)||(f.opacity=0)}));const d=a[0].mark.bounds.clear();return s.forEach(f=>{f.opacity&&d.union(f.bounds)}),e}});function NX(t){ae.call(this,null,t)}ve(NX,ae,{transform(t,e){const n=e.dataflow;if(e.visit(e.ALL,i=>n.dirty(i)),e.fields&&e.fields.zindex){const i=e.source&&e.source[0];i&&(i.mark.zdirty=!0)}}});const Di=new Xn;function n1(t,e,n){return t[e]===n?0:(t[e]=n,1)}function u6e(t){var e=t.items[0].orient;return e===_a||e===ya}function h6e(t){let e=+t.grid;return[t.ticks?e++:-1,t.labels?e++:-1,e+ +t.domain]}function p6e(t,e,n,i){var s=e.items[0],a=s.datum,c=s.translate!=null?s.translate:.5,d=s.orient,f=h6e(a),u=s.range,o=s.offset,g=s.position,y=s.minExtent,m=s.maxExtent,l=a.title&&s.items[f[2]].items[0],b=s.titlePadding,L=s.bounds,E=l&&gB(l),S=0,x=0,k,B;switch(Di.clear().union(L),L.clear(),(k=f[0])>-1&&L.union(s.items[k].bounds),(k=f[1])>-1&&L.union(s.items[k].bounds),d){case h2:S=g||0,x=-o,B=Math.max(y,Math.min(m,-L.y1)),L.add(0,-B).add(u,0),l&&Cy(t,l,B,b,E,0,-1,L);break;case _a:S=-o,x=g||0,B=Math.max(y,Math.min(m,-L.x1)),L.add(-B,0).add(0,u),l&&Cy(t,l,B,b,E,1,-1,L);break;case ya:S=n+o,x=g||0,B=Math.max(y,Math.min(m,L.x2)),L.add(0,0).add(B,u),l&&Cy(t,l,B,b,E,1,1,L);break;case Td:S=g||0,x=i+o,B=Math.max(y,Math.min(m,L.y2)),L.add(0,0).add(u,B),l&&Cy(t,l,B,b,0,0,1,L);break;default:S=s.x,x=s.y}return cc(L.translate(S,x),s),n1(s,"x",S+c)|n1(s,"y",x+c)&&(s.bounds=Di,t.dirty(s),s.bounds=L,t.dirty(s)),s.mark.bounds.clear().union(L)}function Cy(t,e,n,i,s,a,c,d){const f=e.bounds;if(e.auto){const u=c*(n+s+i);let o=0,g=0;t.dirty(e),a?o=(e.x||0)-(e.x=u):g=(e.y||0)-(e.y=u),e.mark.bounds.clear().union(f.translate(-o,-g)),t.dirty(e)}d.union(f)}const xC=(t,e)=>Math.floor(Math.min(t,e)),BC=(t,e)=>Math.ceil(Math.max(t,e));function _6e(t){var e=t.items,n=e.length,i=0,s,a;const c={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;i<n;++i)if(s=e[i],a=s.items,s.marktype===qL)switch(s.role){case MB:case OB:case AB:break;case bX:c.rowheaders.push(...a);break;case TX:c.rowfooters.push(...a);break;case EX:c.colheaders.push(...a);break;case SX:c.colfooters.push(...a);break;case vX:c.rowtitle=a[0];break;case xX:c.coltitle=a[0];break;default:c.marks.push(...a)}return c}function g6e(t){return new Xn().set(0,0,t.width||0,t.height||0)}function y6e(t){const e=t.bounds.clone();return e.empty()?e.set(0,0,0,0):e.translate(-(t.x||0),-(t.y||0))}function In(t,e,n){const i=Me(t)?t[e]:t;return i??(n!==void 0?n:0)}function IC(t){return t<0?Math.ceil(-t):0}function CX(t,e,n){var i=!n.nodirty,s=n.bounds===CB?g6e:y6e,a=Di.set(0,0,0,0),c=In(n.align,Gc),d=In(n.align,Wc),f=In(n.padding,Gc),u=In(n.padding,Wc),o=n.columns||e.length,g=o<=0?1:Math.ceil(e.length/o),y=e.length,m=Array(y),l=Array(o),b=0,L=Array(y),E=Array(g),S=0,x=Array(y),k=Array(y),B=Array(y),A,M,C,R,D,$,Y,z,H,q,W;for(M=0;M<o;++M)l[M]=0;for(M=0;M<g;++M)E[M]=0;for(M=0;M<y;++M)$=e[M],D=B[M]=s($),$.x=$.x||0,x[M]=0,$.y=$.y||0,k[M]=0,C=M%o,R=~~(M/o),b=Math.max(b,Y=Math.ceil(D.x2)),S=Math.max(S,z=Math.ceil(D.y2)),l[C]=Math.max(l[C],Y),E[R]=Math.max(E[R],z),m[M]=f+IC(D.x1),L[M]=u+IC(D.y1),i&&t.dirty(e[M]);for(M=0;M<y;++M)M%o===0&&(m[M]=0),M<o&&(L[M]=0);if(c===q7)for(C=1;C<o;++C){for(W=0,M=C;M<y;M+=o)W<m[M]&&(W=m[M]);for(M=C;M<y;M+=o)m[M]=W+l[C-1]}else if(c===Oy){for(W=0,M=0;M<y;++M)M%o&&W<m[M]&&(W=m[M]);for(M=0;M<y;++M)M%o&&(m[M]=W+b)}else for(c=!1,C=1;C<o;++C)for(M=C;M<y;M+=o)m[M]+=l[C-1];if(d===q7)for(R=1;R<g;++R){for(W=0,M=R*o,A=M+o;M<A;++M)W<L[M]&&(W=L[M]);for(M=R*o;M<A;++M)L[M]=W+E[R-1]}else if(d===Oy){for(W=0,M=o;M<y;++M)W<L[M]&&(W=L[M]);for(M=o;M<y;++M)L[M]=W+S}else for(d=!1,R=1;R<g;++R)for(M=R*o,A=M+o;M<A;++M)L[M]+=E[R-1];for(H=0,M=0;M<y;++M)H=m[M]+(M%o?H:0),x[M]+=H-e[M].x;for(C=0;C<o;++C)for(q=0,M=C;M<y;M+=o)q+=L[M],k[M]+=q-e[M].y;if(c&&In(n.center,Gc)&&g>1)for(M=0;M<y;++M)D=c===Oy?b:l[M%o],H=D-B[M].x2-e[M].x-x[M],H>0&&(x[M]+=H/2);if(d&&In(n.center,Wc)&&o!==1)for(M=0;M<y;++M)D=d===Oy?S:E[~~(M/o)],q=D-B[M].y2-e[M].y-k[M],q>0&&(k[M]+=q/2);for(M=0;M<y;++M)a.union(B[M].translate(x[M],k[M]));switch(H=In(n.anchor,t6e),q=In(n.anchor,n6e),In(n.anchor,Gc)){case ts:H-=a.width();break;case V7:H-=a.width()/2}switch(In(n.anchor,Wc)){case ts:q-=a.height();break;case V7:q-=a.height()/2}for(H=Math.round(H),q=Math.round(q),a.clear(),M=0;M<y;++M)e[M].mark.bounds.clear();for(M=0;M<y;++M)$=e[M],$.x+=x[M]+=H,$.y+=k[M]+=q,a.union($.mark.bounds.union($.bounds.translate(x[M],k[M]))),i&&t.dirty($);return a}function m6e(t,e,n){var i=_6e(e),s=i.marks,a=n.bounds===CB?w6e:L6e,c=n.offset,d=n.columns||s.length,f=d<=0?1:Math.ceil(s.length/d),u=f*d,o,g,y,m,l,b,L;const E=CX(t,s,n);E.empty()&&E.set(0,0,0,0),i.rowheaders&&(b=In(n.headerBand,Wc,null),o=Ry(t,i.rowheaders,s,d,f,-In(c,"rowHeader"),xC,0,a,"x1",0,d,1,b)),i.colheaders&&(b=In(n.headerBand,Gc,null),g=Ry(t,i.colheaders,s,d,d,-In(c,"columnHeader"),xC,1,a,"y1",0,1,d,b)),i.rowfooters&&(b=In(n.footerBand,Wc,null),y=Ry(t,i.rowfooters,s,d,f,In(c,"rowFooter"),BC,0,a,"x2",d-1,d,1,b)),i.colfooters&&(b=In(n.footerBand,Gc,null),m=Ry(t,i.colfooters,s,d,d,In(c,"columnFooter"),BC,1,a,"y2",u-d,1,d,b)),i.rowtitle&&(l=In(n.titleAnchor,Wc),L=In(c,"rowTitle"),L=l===ts?y+L:o-L,b=In(n.titleBand,Wc,.5),kC(t,i.rowtitle,L,0,E,b)),i.coltitle&&(l=In(n.titleAnchor,Gc),L=In(c,"columnTitle"),L=l===ts?m+L:g-L,b=In(n.titleBand,Gc,.5),kC(t,i.coltitle,L,1,E,b))}function w6e(t,e){return e==="x1"?t.x||0:e==="y1"?t.y||0:e==="x2"?(t.x||0)+(t.width||0):e==="y2"?(t.y||0)+(t.height||0):void 0}function L6e(t,e){return t.bounds[e]}function Ry(t,e,n,i,s,a,c,d,f,u,o,g,y,m){var l=n.length,b=0,L=0,E,S,x,k,B,A,M,C,R;if(!l)return b;for(E=o;E<l;E+=g)n[E]&&(b=c(b,f(n[E],u)));if(!e.length)return b;for(e.length>s&&(t.warn("Grid headers exceed limit: "+s),e=e.slice(0,s)),b+=a,S=0,k=e.length;S<k;++S)t.dirty(e[S]),e[S].mark.bounds.clear();for(E=o,S=0,k=e.length;S<k;++S,E+=g){for(A=e[S],B=A.mark.bounds,x=E;x>=0&&(M=n[x])==null;x-=y);d?(C=m==null?M.x:Math.round(M.bounds.x1+m*M.bounds.width()),R=b):(C=b,R=m==null?M.y:Math.round(M.bounds.y1+m*M.bounds.height())),B.union(A.bounds.translate(C-(A.x||0),R-(A.y||0))),A.x=C,A.y=R,t.dirty(A),L=c(L,B[u])}return L}function kC(t,e,n,i,s,a){if(e){t.dirty(e);var c=n,d=n;i?c=Math.round(s.x1+a*s.width()):d=Math.round(s.y1+a*s.height()),e.bounds.translate(c-(e.x||0),d-(e.y||0)),e.mark.bounds.clear().union(e.bounds),e.x=c,e.y=d,t.dirty(e)}}function b6e(t,e){const n=t[e]||{};return(i,s)=>n[i]!=null?n[i]:t[i]!=null?t[i]:s}function T6e(t,e){let n=-1/0;return t.forEach(i=>{i.offset!=null&&(n=Math.max(n,i.offset))}),n>-1/0?n:e}function v6e(t,e,n,i,s,a,c){const d=b6e(n,e),f=T6e(t,d("offset",0)),u=d("anchor",FB),o=u===ts?1:u===V7?.5:0,g={align:q7,bounds:d("bounds",CB),columns:d("direction")==="vertical"?1:t.length,padding:d("margin",8),center:d("center"),nodirty:!0};switch(e){case _a:g.anchor={x:Math.floor(i.x1)-f,column:ts,y:o*(c||i.height()+2*i.y1),row:u};break;case ya:g.anchor={x:Math.ceil(i.x2)+f,y:o*(c||i.height()+2*i.y1),row:u};break;case h2:g.anchor={y:Math.floor(s.y1)-f,row:ts,x:o*(a||s.width()+2*s.x1),column:u};break;case Td:g.anchor={y:Math.ceil(s.y2)+f,x:o*(a||s.width()+2*s.x1),column:u};break;case Zwe:g.anchor={x:f,y:f};break;case Jwe:g.anchor={x:a-f,y:f,column:ts};break;case Qwe:g.anchor={x:f,y:c-f,row:ts};break;case e6e:g.anchor={x:a-f,y:c-f,column:ts,row:ts};break}return g}function E6e(t,e){var n=e.items[0],i=n.datum,s=n.orient,a=n.bounds,c=n.x,d=n.y,f,u;return n._bounds?n._bounds.clear().union(a):n._bounds=a.clone(),a.clear(),x6e(t,n,n.items[0].items[0]),a=S6e(n,a),f=2*n.padding,u=2*n.padding,a.empty()||(f=Math.ceil(a.width()+f),u=Math.ceil(a.height()+u)),i.type===a6e&&B6e(n.items[0].items[0].items[0].items),s!==NB&&(n.x=c=0,n.y=d=0),n.width=f,n.height=u,cc(a.set(c,d,c+f,d+u),n),n.mark.bounds.clear().union(a),n}function S6e(t,e){return t.items.forEach(n=>e.union(n.bounds)),e.x1=t.padding,e.y1=t.padding,e}function x6e(t,e,n){var i=e.padding,s=i-n.x,a=i-n.y;if(!e.datum.title)(s||a)&&y0(t,n,s,a);else{var c=e.items[1].items[0],d=c.anchor,f=e.titlePadding||0,u=i-c.x,o=i-c.y;switch(c.orient){case _a:s+=Math.ceil(c.bounds.width())+f;break;case ya:case Td:break;default:a+=c.bounds.height()+f}switch((s||a)&&y0(t,n,s,a),c.orient){case _a:o+=ph(e,n,c,d,1,1);break;case ya:u+=ph(e,n,c,ts,0,0)+f,o+=ph(e,n,c,d,1,1);break;case Td:u+=ph(e,n,c,d,0,0),o+=ph(e,n,c,ts,-1,0,1)+f;break;default:u+=ph(e,n,c,d,0,0)}(u||o)&&y0(t,c,u,o),(u=Math.round(c.bounds.x1-i))<0&&(y0(t,n,-u,0),y0(t,c,-u,0))}}function ph(t,e,n,i,s,a,c){const d=t.datum.type!=="symbol",f=n.datum.vgrad,u=d&&(a||!f)&&!c?e.items[0]:e,o=u.bounds[s?"y2":"x2"]-t.padding,g=f&&a?o:0,y=f&&a?0:o,m=s<=0?0:gB(n);return Math.round(i===FB?g:i===ts?y-m:.5*(o-m))}function y0(t,e,n,i){e.x+=n,e.y+=i,e.bounds.translate(n,i),e.mark.bounds.translate(n,i),t.dirty(e)}function B6e(t){const e=t.reduce((n,i)=>(n[i.column]=Math.max(i.bounds.x2-i.x,n[i.column]||0),n),{});t.forEach(n=>{n.width=e[n.column],n.height=n.bounds.y2-n.y})}function I6e(t,e,n,i,s){var a=e.items[0],c=a.frame,d=a.orient,f=a.anchor,u=a.offset,o=a.padding,g=a.items[0].items[0],y=a.items[1]&&a.items[1].items[0],m=d===_a||d===ya?i:n,l=0,b=0,L=0,E=0,S=0,x;if(c!==qL?d===_a?(l=s.y2,m=s.y1):d===ya?(l=s.y1,m=s.y2):(l=s.x1,m=s.x2):d===_a&&(l=i,m=0),x=f===FB?l:f===ts?m:(l+m)/2,y&&y.text){switch(d){case h2:case Td:S=g.bounds.height()+o;break;case _a:E=g.bounds.width()+o;break;case ya:E=-g.bounds.width()-o;break}Di.clear().union(y.bounds),Di.translate(E-(y.x||0),S-(y.y||0)),n1(y,"x",E)|n1(y,"y",S)&&(t.dirty(y),y.bounds.clear().union(Di),y.mark.bounds.clear().union(Di),t.dirty(y)),Di.clear().union(y.bounds)}else Di.clear();switch(Di.union(g.bounds),d){case h2:b=x,L=s.y1-Di.height()-u;break;case _a:b=s.x1-Di.width()-u,L=x;break;case ya:b=s.x2+Di.width()+u,L=x;break;case Td:b=x,L=s.y2+u;break;default:b=a.x,L=a.y}return n1(a,"x",b)|n1(a,"y",L)&&(Di.translate(b,L),t.dirty(a),a.bounds.clear().union(Di),e.bounds.clear().union(Di),t.dirty(a)),a.bounds}function RX(t){ae.call(this,null,t)}ve(RX,ae,{transform(t,e){const n=e.dataflow;return t.mark.items.forEach(i=>{t.layout&&m6e(n,i,t.layout),F6e(n,i,t)}),k6e(t.mark.group)?e.reflow():e}});function k6e(t){return t&&t.mark.role!=="legend-entry"}function F6e(t,e,n){var i=e.items,s=Math.max(0,e.width||0),a=Math.max(0,e.height||0),c=new Xn().set(0,0,s,a),d=c.clone(),f=c.clone(),u=[],o,g,y,m,l,b;for(l=0,b=i.length;l<b;++l)switch(g=i[l],g.role){case MB:m=u6e(g)?d:f,m.union(p6e(t,g,s,a));break;case AB:o=g;break;case OB:u.push(E6e(t,g));break;case i6e:case s6e:case bX:case TX:case vX:case EX:case SX:case xX:d.union(g.bounds),f.union(g.bounds);break;default:c.union(g.bounds)}if(u.length){const L={};u.forEach(E=>{y=E.orient||ya,y!==NB&&(L[y]||(L[y]=[])).push(E)});for(const E in L){const S=L[E];CX(t,S,v6e(S,E,n.legends,d,f,s,a))}u.forEach(E=>{const S=E.bounds;if(S.equals(E._bounds)||(E.bounds=E._bounds,t.dirty(E),E.bounds=S,t.dirty(E)),n.autosize&&(n.autosize.type===BX||n.autosize.type===IX||n.autosize.type===kX))switch(E.orient){case _a:case ya:c.add(S.x1,0).add(S.x2,0);break;case h2:case Td:c.add(0,S.y1).add(0,S.y2)}else c.union(S)})}c.union(d).union(f),o&&c.union(I6e(t,o,s,a,c)),e.clip&&c.set(0,0,e.width||0,e.height||0),M6e(t,e,c,n)}function M6e(t,e,n,i){const s=i.autosize||{},a=s.type;if(t._autosize<1||!a)return;let c=t._width,d=t._height,f=Math.max(0,e.width||0),u=Math.max(0,Math.ceil(-n.x1)),o=Math.max(0,e.height||0),g=Math.max(0,Math.ceil(-n.y1));const y=Math.max(0,Math.ceil(n.x2-f)),m=Math.max(0,Math.ceil(n.y2-o));if(s.contains===r6e){const l=t.padding();c-=l.left+l.right,d-=l.top+l.bottom}a===NB?(u=0,g=0,f=c,o=d):a===BX?(f=Math.max(0,c-u-y),o=Math.max(0,d-g-m)):a===IX?(f=Math.max(0,c-u-y),d=o+g+m):a===kX?(c=f+u+y,o=Math.max(0,d-g-m)):a===o6e&&(c=f+u+y,d=o+g+m),t._resizeView(c,d,f,o,[u,g],s.resize)}const A6e=Object.freeze(Object.defineProperty({__proto__:null,bound:FX,identifier:RB,mark:MX,overlap:AX,render:NX,viewlayout:RX},Symbol.toStringTag,{value:"Module"}));function DX(t){ae.call(this,null,t)}ve(DX,ae,{transform(t,e){if(this.value&&!t.modified())return e.StopPropagation;var n=e.dataflow.locale(),i=e.fork(e.NO_SOURCE|e.NO_FIELDS),s=this.value,a=t.scale,c=t.count==null?t.values?t.values.length:10:t.count,d=Zx(a,c,t.minstep),f=t.format||yY(n,a,d,t.formatSpecifier,t.formatType,!!t.values),u=t.values?gY(a,t.values,d):Jx(a,d);return s&&(i.rem=s),s=u.map((o,g)=>Kt({index:g/(u.length-1||1),value:o,label:f(o)})),t.extra&&s.length&&s.push(Kt({index:-1,extra:{value:s[0].value},label:""})),i.source=s,i.add=s,this.value=s,i}});function PX(t){ae.call(this,null,t)}function O6e(){return Kt({})}function N6e(t){const e=$2().test(n=>n.exit);return e.lookup=n=>e.get(t(n)),e}ve(PX,ae,{transform(t,e){var n=e.dataflow,i=e.fork(e.NO_SOURCE|e.NO_FIELDS),s=t.item||O6e,a=t.key||De,c=this.value;return ue(i.encode)&&(i.encode=null),c&&(t.modified("key")||e.modified(a))&&de("DataJoin does not support modified key function or fields."),c||(e=e.addAll(),this.value=c=N6e(a)),e.visit(e.ADD,d=>{const f=a(d);let u=c.get(f);u?u.exit?(c.empty--,i.add.push(u)):i.mod.push(u):(u=s(d),c.set(f,u),i.add.push(u)),u.datum=d,u.exit=!1}),e.visit(e.MOD,d=>{const f=a(d),u=c.get(f);u&&(u.datum=d,i.mod.push(u))}),e.visit(e.REM,d=>{const f=a(d),u=c.get(f);d===u.datum&&!u.exit&&(i.rem.push(u),u.exit=!0,++c.empty)}),e.changed(e.ADD_MOD)&&i.modifies("datum"),(e.clean()||t.clean&&c.empty>n.cleanThreshold)&&n.runAfter(c.clean),i}});function $X(t){ae.call(this,null,t)}ve($X,ae,{transform(t,e){var n=e.fork(e.ADD_REM),i=t.mod||!1,s=t.encoders,a=e.encode;if(ue(a))if(n.changed()||a.every(g=>s[g]))a=a[0],n.encode=null;else return e.StopPropagation;var c=a==="enter",d=s.update||Bc,f=s.enter||Bc,u=s.exit||Bc,o=(a&&!c?s[a]:d)||Bc;if(e.changed(e.ADD)&&(e.visit(e.ADD,g=>{f(g,t),d(g,t)}),n.modifies(f.output),n.modifies(d.output),o!==Bc&&o!==d&&(e.visit(e.ADD,g=>{o(g,t)}),n.modifies(o.output))),e.changed(e.REM)&&u!==Bc&&(e.visit(e.REM,g=>{u(g,t)}),n.modifies(u.output)),c||o!==Bc){const g=e.MOD|(t.modified()?e.REFLOW:0);c?(e.visit(g,y=>{const m=f(y,t)||i;(o(y,t)||m)&&n.mod.push(y)}),n.mod.length&&n.modifies(f.output)):e.visit(g,y=>{(o(y,t)||i)&&n.mod.push(y)}),n.mod.length&&n.modifies(o.output)}return n.changed()?n:e.StopPropagation}});function UX(t){ae.call(this,[],t)}ve(UX,ae,{transform(t,e){if(this.value!=null&&!t.modified())return e.StopPropagation;var n=e.dataflow.locale(),i=e.fork(e.NO_SOURCE|e.NO_FIELDS),s=this.value,a=t.type||Am,c=t.scale,d=+t.limit,f=Zx(c,t.count==null?5:t.count,t.minstep),u=!!t.values||a===Am,o=t.format||bY(n,c,f,a,t.formatSpecifier,t.formatType,u),g=t.values||LY(c,f),y,m,l,b,L;return s&&(i.rem=s),a===Am?(d&&g.length>d?(e.dataflow.warn("Symbol legend count exceeds limit, filtering items."),s=g.slice(0,d-1),L=!0):s=g,wt(l=t.size)?(!t.values&&c(s[0])===0&&(s=s.slice(1)),b=s.reduce((E,S)=>Math.max(E,l(S,t)),0)):l=Xi(b=l||8),s=s.map((E,S)=>Kt({index:S,label:o(E,S,s),value:E,offset:b,size:l(E,t)})),L&&(L=g[s.length],s.push(Kt({index:s.length,label:`${g.length-s.length} entries`,value:L,offset:b,size:l(L,t)})))):a===lme?(y=c.domain(),m=hY(c,y[0],Ct(y)),g.length<3&&!t.values&&y[0]!==Ct(y)&&(g=[y[0],Ct(y)]),s=g.map((E,S)=>Kt({index:S,label:o(E,S,g),value:E,perc:m(E)}))):(l=g.length-1,m=wme(c),s=g.map((E,S)=>Kt({index:S,label:o(E,S,g),value:E,perc:S?m(E):0,perc2:S===l?1:m(g[S+1])}))),i.source=s,i.add=s,this.value=s,i}});const C6e=t=>t.source.x,R6e=t=>t.source.y,D6e=t=>t.target.x,P6e=t=>t.target.y;function DB(t){ae.call(this,{},t)}DB.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};ve(DB,ae,{transform(t,e){var n=t.sourceX||C6e,i=t.sourceY||R6e,s=t.targetX||D6e,a=t.targetY||P6e,c=t.as||"path",d=t.orient||"vertical",f=t.shape||"line",u=FC.get(f+"-"+d)||FC.get(f);return u||de("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),e.visit(e.SOURCE,o=>{o[c]=u(n(o),i(o),s(o),a(o))}),e.reflow(t.modified()).modifies(c)}});const zX=(t,e,n,i)=>"M"+t+","+e+"L"+n+","+i,$6e=(t,e,n,i)=>zX(e*Math.cos(t),e*Math.sin(t),i*Math.cos(n),i*Math.sin(n)),HX=(t,e,n,i)=>{var s=n-t,a=i-e,c=Math.hypot(s,a)/2,d=180*Math.atan2(a,s)/Math.PI;return"M"+t+","+e+"A"+c+","+c+" "+d+" 0 1 "+n+","+i},U6e=(t,e,n,i)=>HX(e*Math.cos(t),e*Math.sin(t),i*Math.cos(n),i*Math.sin(n)),jX=(t,e,n,i)=>{const s=n-t,a=i-e,c=.2*(s+a),d=.2*(a-s);return"M"+t+","+e+"C"+(t+c)+","+(e+d)+" "+(n+d)+","+(i-c)+" "+n+","+i},z6e=(t,e,n,i)=>jX(e*Math.cos(t),e*Math.sin(t),i*Math.cos(n),i*Math.sin(n)),H6e=(t,e,n,i)=>"M"+t+","+e+"V"+i+"H"+n,j6e=(t,e,n,i)=>"M"+t+","+e+"H"+n+"V"+i,V6e=(t,e,n,i)=>{const s=Math.cos(t),a=Math.sin(t),c=Math.cos(n),d=Math.sin(n),f=Math.abs(n-t)>Math.PI?n<=t:n>t;return"M"+e*s+","+e*a+"A"+e+","+e+" 0 0,"+(f?1:0)+" "+e*c+","+e*d+"L"+i*c+","+i*d},q6e=(t,e,n,i)=>{const s=(t+n)/2;return"M"+t+","+e+"C"+s+","+e+" "+s+","+i+" "+n+","+i},G6e=(t,e,n,i)=>{const s=(e+i)/2;return"M"+t+","+e+"C"+t+","+s+" "+n+","+s+" "+n+","+i},W6e=(t,e,n,i)=>{const s=Math.cos(t),a=Math.sin(t),c=Math.cos(n),d=Math.sin(n),f=(e+i)/2;return"M"+e*s+","+e*a+"C"+f*s+","+f*a+" "+f*c+","+f*d+" "+i*c+","+i*d},FC=$2({line:zX,"line-radial":$6e,arc:HX,"arc-radial":U6e,curve:jX,"curve-radial":z6e,"orthogonal-horizontal":H6e,"orthogonal-vertical":j6e,"orthogonal-radial":V6e,"diagonal-horizontal":q6e,"diagonal-vertical":G6e,"diagonal-radial":W6e});function PB(t){ae.call(this,null,t)}PB.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};ve(PB,ae,{transform(t,e){var n=t.as||["startAngle","endAngle"],i=n[0],s=n[1],a=t.field||R2,c=t.startAngle||0,d=t.endAngle!=null?t.endAngle:2*Math.PI,f=e.source,u=f.map(a),o=u.length,g=c,y=(d-c)/xz(u),m=hr(o),l,b,L;for(t.sort&&m.sort((E,S)=>u[E]-u[S]),l=0;l<o;++l)L=u[m[l]],b=f[m[l]],b[i]=g,b[s]=g+=L*y;return this.value=u,e.reflow(t.modified()).modifies(n)}});const Y6e=5;function X6e(t){const e=t.type;return!t.bins&&(e===a2||e===u_||e===h_)}function VX(t){return Yx(t)&&t!==xo}const K6e=ka(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function qX(t){ae.call(this,null,t),this.modified(!0)}ve(qX,ae,{transform(t,e){var n=e.dataflow,i=this.value,s=Z6e(t);(!i||s!==i.type)&&(this.value=i=jt(s)());for(s in t)if(!K6e[s]){if(s==="padding"&&VX(i.type))continue;wt(i[s])?i[s](t[s]):n.warn("Unsupported scale property: "+s)}return iLe(i,t,nLe(i,t,Q6e(i,t,n))),e.fork(e.NO_SOURCE|e.NO_FIELDS)}});function Z6e(t){var e=t.type,n="",i;return e===xo?xo+"-"+a2:(J6e(t)&&(i=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(t.domainMid!=null):0,n=i===2?xo+"-":i===3?H2+"-":""),(n+e||a2).toLowerCase())}function J6e(t){const e=t.type;return Yx(e)&&e!==wu&&e!==Lu&&(t.scheme||t.range&&t.range.length&&t.range.every(Ie))}function Q6e(t,e,n){const i=eLe(t,e.domainRaw,n);if(i>-1)return i;var s=e.domain,a=t.type,c=e.zero||e.zero===void 0&&X6e(t),d,f;if(!s)return 0;if(VX(a)&&e.padding&&s[0]!==Ct(s)&&(s=tLe(a,s,e.range,e.padding,e.exponent,e.constant)),(c||e.domainMin!=null||e.domainMax!=null||e.domainMid!=null)&&(d=(s=s.slice()).length-1||1,c&&(s[0]>0&&(s[0]=0),s[d]<0&&(s[d]=0)),e.domainMin!=null&&(s[0]=e.domainMin),e.domainMax!=null&&(s[d]=e.domainMax),e.domainMid!=null)){f=e.domainMid;const u=f>s[d]?d+1:f<s[0]?0:d;u!==d&&n.warn("Scale domainMid exceeds domain min or max.",f),s.splice(u,0,f)}return t.domain(GX(a,s,n)),a===Vx&&t.unknown(e.domainImplicit?Zb:void 0),e.nice&&t.nice&&t.nice(e.nice!==!0&&Zx(t,e.nice)||null),s.length}function eLe(t,e,n){return e?(t.domain(GX(t.type,e,n)),e.length):-1}function tLe(t,e,n,i,s,a){var c=Math.abs(Ct(n)-n[0]),d=c/(c-2*i),f=t===ec?ex(e,null,d):t===h_?Aw(e,null,d,.5):t===u_?Aw(e,null,d,s||1):t===FL?tx(e,null,d,a||1):QS(e,null,d);return e=e.slice(),e[0]=f[0],e[e.length-1]=f[1],e}function GX(t,e,n){if(lY(t)){var i=Math.abs(e.reduce((s,a)=>s+(a<0?-1:a>0?1:0),0));i!==e.length&&n.warn("Log scale domain includes zero: "+Te(e))}return e}function nLe(t,e,n){let i=e.bins;if(i&&!ue(i)){const s=t.domain(),a=s[0],c=Ct(s),d=i.step;let f=i.start==null?a:i.start,u=i.stop==null?c:i.stop;d||de("Scale bins parameter missing step property."),f<a&&(f=d*Math.ceil(a/d)),u>c&&(u=d*Math.floor(c/d)),i=hr(f,u+d/2,d)}return i?t.bins=i:t.bins&&delete t.bins,t.type===qx&&(i?!e.domain&&!e.domainRaw&&(t.domain(i),n=i.length):t.bins=t.domain()),n}function iLe(t,e,n){var i=t.type,s=e.round||!1,a=e.range;if(e.rangeStep!=null)a=sLe(i,e,n);else if(e.scheme&&(a=rLe(i,e,n),wt(a))){if(t.interpolator)return t.interpolator(a);de(`Scale type ${i} does not support interpolating color schemes.`)}if(a&&cY(i))return t.interpolator(OL(G7(a,e.reverse),e.interpolate,e.interpolateGamma));a&&e.interpolate&&t.interpolate?t.interpolate(Xx(e.interpolate,e.interpolateGamma)):wt(t.round)?t.round(s):wt(t.rangeRound)&&t.interpolate(s?W3:Dd),a&&t.range(G7(a,e.reverse))}function sLe(t,e,n){t!==nY&&t!==M7&&de("Only band and point scales support rangeStep.");var i=(e.paddingOuter!=null?e.paddingOuter:e.padding)||0,s=t===M7?1:(e.paddingInner!=null?e.paddingInner:e.padding)||0;return[0,e.rangeStep*jx(n,s,i)]}function rLe(t,e,n){var i=e.schemeExtent,s,a;return ue(e.scheme)?a=OL(e.scheme,e.interpolate,e.interpolateGamma):(s=e.scheme.toLowerCase(),a=Kx(s),a||de(`Unrecognized scheme name: ${e.scheme}`)),n=t===AL?n+1:t===qx?n-1:t===o2||t===ML?+e.schemeCount||Y6e:n,cY(t)?MC(a,i,e.reverse):wt(a)?uY(MC(a,i),n):t===Vx?a:a.slice(0,n)}function MC(t,e,n){return wt(t)&&(e||n)?fY(t,G7(e||[0,1],n)):t}function G7(t,e){return e?t.slice().reverse():t}function WX(t){ae.call(this,null,t)}ve(WX,ae,{transform(t,e){const n=t.modified("sort")||e.changed(e.ADD)||e.modified(t.sort.fields)||e.modified("datum");return n&&e.source.sort(Wu(t.sort)),this.modified(n),e}});const AC="zero",YX="center",XX="normalize",KX=["y0","y1"];function $B(t){ae.call(this,null,t)}$B.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:AC,values:[AC,YX,XX]},{name:"as",type:"string",array:!0,length:2,default:KX}]};ve($B,ae,{transform(t,e){var n=t.as||KX,i=n[0],s=n[1],a=Wu(t.sort),c=t.field||R2,d=t.offset===YX?aLe:t.offset===XX?oLe:lLe,f,u,o,g;for(f=cLe(e.source,t.groupby,a,c),u=0,o=f.length,g=f.max;u<o;++u)d(f[u],g,c,i,s);return e.reflow(t.modified()).modifies(n)}});function aLe(t,e,n,i,s){for(var a=(e-t.sum)/2,c=t.length,d=0,f;d<c;++d)f=t[d],f[i]=a,f[s]=a+=Math.abs(n(f))}function oLe(t,e,n,i,s){for(var a=1/t.sum,c=0,d=t.length,f=0,u=0,o;f<d;++f)o=t[f],o[i]=c,o[s]=c=a*(u+=Math.abs(n(o)))}function lLe(t,e,n,i,s){for(var a=0,c=0,d=t.length,f=0,u,o;f<d;++f)o=t[f],u=+n(o),u<0?(o[i]=c,o[s]=c+=u):(o[i]=a,o[s]=a+=u)}function cLe(t,e,n,i){var s=[],a=b=>b(o),c,d,f,u,o,g,y,m,l;if(e==null)s.push(t.slice());else for(c={},d=0,f=t.length;d<f;++d)o=t[d],g=e.map(a),y=c[g],y||(c[g]=y=[],s.push(y)),y.push(o);for(g=0,l=0,u=s.length;g<u;++g){for(y=s[g],d=0,m=0,f=y.length;d<f;++d)m+=Math.abs(i(y[d]));y.sum=m,m>l&&(l=m),n&&y.sort(n)}return s.max=l,s}const dLe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:DX,datajoin:PX,encode:$X,legendentries:UX,linkpath:DB,pie:PB,scale:qX,sortitems:WX,stack:$B},Symbol.toStringTag,{value:"Module"}));var fLe=Math.abs,W7=Math.cos,Ww=Math.sin,uLe=1e-6,ZX=Math.PI,Y7=ZX/2,OC=hLe(2);function NC(t){return t>1?Y7:t<-1?-Y7:Math.asin(t)}function hLe(t){return t>0?Math.sqrt(t):0}function pLe(t,e){var n=t*Ww(e),i=30,s;do e-=s=(e+Ww(e)-n)/(1+W7(e));while(fLe(s)>uLe&&--i>0);return e/2}function _Le(t,e,n){function i(s,a){return[t*s*W7(a=pLe(n,a)),e*Ww(a)]}return i.invert=function(s,a){return a=NC(a/e),[s/(t*W7(a)),NC((2*a+Ww(2*a))/n)]},i}var gLe=_Le(OC/Y7,OC,ZX);function yLe(){return Ko(gLe).scale(169.529)}const mLe=tj(),X7=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function wLe(t,e){return function n(){const i=e();return i.type=t,i.path=tj().projection(i),i.copy=i.copy||function(){const s=n();return X7.forEach(a=>{i[a]&&s[a](i[a]())}),s.path.pointRadius(i.path.pointRadius()),s},aY(i)}}function UB(t,e){if(!t||typeof t!="string")throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(Yw[t]=wLe(t,e),this):Yw[t]||null}function JX(t){return t&&t.path||mLe}const Yw={albers:ij,albersusa:Ufe,azimuthalequalarea:zfe,azimuthalequidistant:Hfe,conicconformal:qfe,conicequalarea:q4,conicequidistant:Yfe,equalEarth:Kfe,equirectangular:Gfe,gnomonic:Zfe,identity:Jfe,mercator:jfe,mollweide:yLe,naturalEarth1:Qfe,orthographic:eue,stereographic:tue,transversemercator:nue};for(const t in Yw)UB(t,Yw[t]);function LLe(){}const fl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function QX(){var t=1,e=1,n=d;function i(f,u){return u.map(o=>s(f,o))}function s(f,u){var o=[],g=[];return a(f,u,y=>{n(y,f,u),bLe(y)>0?o.push([y]):g.push(y)}),g.forEach(y=>{for(var m=0,l=o.length,b;m<l;++m)if(TLe((b=o[m])[0],y)!==-1){b.push(y);return}}),{type:"MultiPolygon",value:u,coordinates:o}}function a(f,u,o){var g=new Array,y=new Array,m,l,b,L,E,S;for(m=l=-1,L=f[0]>=u,fl[L<<1].forEach(x);++m<t-1;)b=L,L=f[m+1]>=u,fl[b|L<<1].forEach(x);for(fl[L<<0].forEach(x);++l<e-1;){for(m=-1,L=f[l*t+t]>=u,E=f[l*t]>=u,fl[L<<1|E<<2].forEach(x);++m<t-1;)b=L,L=f[l*t+t+m+1]>=u,S=E,E=f[l*t+m+1]>=u,fl[b|L<<1|E<<2|S<<3].forEach(x);fl[L|E<<3].forEach(x)}for(m=-1,E=f[l*t]>=u,fl[E<<2].forEach(x);++m<t-1;)S=E,E=f[l*t+m+1]>=u,fl[E<<2|S<<3].forEach(x);fl[E<<3].forEach(x);function x(k){var B=[k[0][0]+m,k[0][1]+l],A=[k[1][0]+m,k[1][1]+l],M=c(B),C=c(A),R,D;(R=y[M])?(D=g[C])?(delete y[R.end],delete g[D.start],R===D?(R.ring.push(A),o(R.ring)):g[R.start]=y[D.end]={start:R.start,end:D.end,ring:R.ring.concat(D.ring)}):(delete y[R.end],R.ring.push(A),y[R.end=C]=R):(R=g[C])?(D=y[M])?(delete g[R.start],delete y[D.end],R===D?(R.ring.push(A),o(R.ring)):g[D.start]=y[R.end]={start:D.start,end:R.end,ring:D.ring.concat(R.ring)}):(delete g[R.start],R.ring.unshift(B),g[R.start=M]=R):g[M]=y[C]={start:M,end:C,ring:[B,A]}}}function c(f){return f[0]*2+f[1]*(t+1)*4}function d(f,u,o){f.forEach(g=>{var y=g[0],m=g[1],l=y|0,b=m|0,L,E=u[b*t+l];y>0&&y<t&&l===y&&(L=u[b*t+l-1],g[0]=y+(o-L)/(E-L)-.5),m>0&&m<e&&b===m&&(L=u[(b-1)*t+l],g[1]=m+(o-L)/(E-L)-.5)})}return i.contour=s,i.size=function(f){if(!arguments.length)return[t,e];var u=Math.floor(f[0]),o=Math.floor(f[1]);return u>=0&&o>=0||de("invalid size"),t=u,e=o,i},i.smooth=function(f){return arguments.length?(n=f?d:LLe,i):n===d},i}function bLe(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}function TLe(t,e){for(var n=-1,i=e.length,s;++n<i;)if(s=vLe(t,e[n]))return s;return 0}function vLe(t,e){for(var n=e[0],i=e[1],s=-1,a=0,c=t.length,d=c-1;a<c;d=a++){var f=t[a],u=f[0],o=f[1],g=t[d],y=g[0],m=g[1];if(ELe(f,g,e))return 0;o>i!=m>i&&n<(y-u)*(i-o)/(m-o)+u&&(s=-s)}return s}function ELe(t,e,n){var i;return SLe(t,e,n)&&xLe(t[i=+(t[0]===e[0])],n[i],e[i])}function SLe(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function xLe(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function eK(t,e,n){return function(i){var s=zo(i),a=n?Math.min(s[0],0):s[0],c=s[1],d=c-a,f=e?ld(a,c,t):d/(t+1);return hr(a+f,c,f)}}function zB(t){ae.call(this,null,t)}zB.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};ve(zB,ae,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=e.materialize(e.SOURCE).source,s=t.field||Yi,a=QX().smooth(t.smooth!==!1),c=t.thresholds||BLe(i,s,t),d=t.as===null?null:t.as||"contour",f=[];return i.forEach(u=>{const o=s(u),g=a.size([o.width,o.height])(o.values,ue(c)?c:c(o.values));ILe(g,o,u,t),g.forEach(y=>{f.push(xL(u,Kt(d!=null?{[d]:y}:y)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=f,n}});function BLe(t,e,n){const i=eK(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?i:i(t.map(s=>Kf(e(s).values)))}function ILe(t,e,n,i){let s=i.scale||e.scale,a=i.translate||e.translate;if(wt(s)&&(s=s(n,i)),wt(a)&&(a=a(n,i)),(s===1||s==null)&&!a)return;const c=(dn(s)?s:s[0])||1,d=(dn(s)?s:s[1])||1,f=a&&a[0]||0,u=a&&a[1]||0;t.forEach(tK(e,c,d,f,u))}function tK(t,e,n,i,s){const a=t.x1||0,c=t.y1||0,d=e*n<0;function f(g){g.forEach(u)}function u(g){d&&g.reverse(),g.forEach(o)}function o(g){g[0]=(g[0]-a)*e+i,g[1]=(g[1]-c)*n+s}return function(g){return g.coordinates.forEach(f),g}}function CC(t,e,n){const i=t>=0?t:QE(e,n);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function o9(t){return wt(t)?t:Xi(+t)}function nK(){var t=f=>f[0],e=f=>f[1],n=R2,i=[-1,-1],s=960,a=500,c=2;function d(f,u){const o=CC(i[0],f,t)>>c,g=CC(i[1],f,e)>>c,y=o?o+2:0,m=g?g+2:0,l=2*y+(s>>c),b=2*m+(a>>c),L=new Float32Array(l*b),E=new Float32Array(l*b);let S=L;f.forEach(k=>{const B=y+(+t(k)>>c),A=m+(+e(k)>>c);B>=0&&B<l&&A>=0&&A<b&&(L[B+A*l]+=+n(k))}),o>0&&g>0?(_h(l,b,L,E,o),gh(l,b,E,L,g),_h(l,b,L,E,o),gh(l,b,E,L,g),_h(l,b,L,E,o),gh(l,b,E,L,g)):o>0?(_h(l,b,L,E,o),_h(l,b,E,L,o),_h(l,b,L,E,o),S=E):g>0&&(gh(l,b,L,E,g),gh(l,b,E,L,g),gh(l,b,L,E,g),S=E);const x=u?Math.pow(2,-2*c):1/xz(S);for(let k=0,B=l*b;k<B;++k)S[k]*=x;return{values:S,scale:1<<c,width:l,height:b,x1:y,y1:m,x2:y+(s>>c),y2:m+(a>>c)}}return d.x=function(f){return arguments.length?(t=o9(f),d):t},d.y=function(f){return arguments.length?(e=o9(f),d):e},d.weight=function(f){return arguments.length?(n=o9(f),d):n},d.size=function(f){if(!arguments.length)return[s,a];var u=+f[0],o=+f[1];return u>=0&&o>=0||de("invalid size"),s=u,a=o,d},d.cellSize=function(f){return arguments.length?((f=+f)>=1||de("invalid cell size"),c=Math.floor(Math.log(f)/Math.LN2),d):1<<c},d.bandwidth=function(f){return arguments.length?(f=ke(f),f.length===1&&(f=[+f[0],+f[0]]),f.length!==2&&de("invalid bandwidth"),i=f,d):i},d}function _h(t,e,n,i,s){const a=(s<<1)+1;for(let c=0;c<e;++c)for(let d=0,f=0;d<t+s;++d)d<t&&(f+=n[d+c*t]),d>=s&&(d>=a&&(f-=n[d-a+c*t]),i[d-s+c*t]=f/Math.min(d+1,t-1+a-d,a))}function gh(t,e,n,i,s){const a=(s<<1)+1;for(let c=0;c<t;++c)for(let d=0,f=0;d<e+s;++d)d<e&&(f+=n[c+d*t]),d>=s&&(d>=a&&(f-=n[c+(d-a)*t]),i[c+(d-s)*t]=f/Math.min(d+1,e-1+a-d,a))}function HB(t){ae.call(this,null,t)}HB.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const kLe=["x","y","weight","size","cellSize","bandwidth"];function iK(t,e){return kLe.forEach(n=>e[n]!=null?t[n](e[n]):0),t}ve(HB,ae,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=e.materialize(e.SOURCE).source,s=FLe(i,t.groupby),a=(t.groupby||[]).map(zn),c=iK(nK(),t),d=t.as||"grid",f=[];function u(o,g){for(let y=0;y<a.length;++y)o[a[y]]=g[y];return o}return f=s.map(o=>Kt(u({[d]:c(o,t.counts)},o.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=f,n}});function FLe(t,e){var n=[],i=o=>o(d),s,a,c,d,f,u;if(e==null)n.push(t);else for(s={},a=0,c=t.length;a<c;++a)d=t[a],f=e.map(i),u=s[f],u||(s[f]=u=[],u.dims=f,n.push(u)),u.push(d);return n}function jB(t){ae.call(this,null,t)}jB.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};ve(jB,ae,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=QX().smooth(t.smooth!==!1),s=t.values,a=t.thresholds||eK(t.count||10,t.nice,!!s),c=t.size,d,f;return s||(s=e.materialize(e.SOURCE).source,d=iK(nK(),t)(s,!0),f=tK(d,d.scale||1,d.scale||1,0,0),c=[d.width,d.height],s=d.values),a=ue(a)?a:a(s),s=i.size(c)(s,a),f&&s.forEach(f),this.value&&(n.rem=this.value),this.value=n.source=n.add=(s||[]).map(Kt),n}});const K7="Feature",VB="FeatureCollection",MLe="MultiPoint";function qB(t){ae.call(this,null,t)}qB.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ve(qB,ae,{transform(t,e){var n=this._features,i=this._points,s=t.fields,a=s&&s[0],c=s&&s[1],d=t.geojson||!s&&Yi,f=e.ADD,u;u=t.modified()||e.changed(e.REM)||e.modified(ji(d))||a&&e.modified(ji(a))||c&&e.modified(ji(c)),(!this.value||u)&&(f=e.SOURCE,this._features=n=[],this._points=i=[]),d&&e.visit(f,o=>n.push(d(o))),a&&c&&(e.visit(f,o=>{var g=a(o),y=c(o);g!=null&&y!=null&&(g=+g)===g&&(y=+y)===y&&i.push([g,y])}),n=n.concat({type:K7,geometry:{type:MLe,coordinates:i}})),this.value={type:VB,features:n}}});function GB(t){ae.call(this,null,t)}GB.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};ve(GB,ae,{transform(t,e){var n=e.fork(e.ALL),i=this.value,s=t.field||Yi,a=t.as||"path",c=n.SOURCE;!i||t.modified()?(this.value=i=JX(t.projection),n.materialize().reflow()):c=s===Yi||e.modified(s.fields)?n.ADD_MOD:n.ADD;const d=ALe(i,t.pointRadius);return n.visit(c,f=>f[a]=i(s(f))),i.pointRadius(d),n.modifies(a)}});function ALe(t,e){const n=t.pointRadius();return t.context(null),e!=null&&t.pointRadius(e),n}function WB(t){ae.call(this,null,t)}WB.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};ve(WB,ae,{transform(t,e){var n=t.projection,i=t.fields[0],s=t.fields[1],a=t.as||["x","y"],c=a[0],d=a[1],f;function u(o){const g=n([i(o),s(o)]);g?(o[c]=g[0],o[d]=g[1]):(o[c]=void 0,o[d]=void 0)}return t.modified()?e=e.materialize().reflow(!0).visit(e.SOURCE,u):(f=e.modified(i.fields)||e.modified(s.fields),e.visit(f?e.ADD_MOD:e.ADD,u)),e.modifies(a)}});function YB(t){ae.call(this,null,t)}YB.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};ve(YB,ae,{transform(t,e){var n=e.fork(e.ALL),i=this.value,s=t.as||"shape",a=n.ADD;return(!i||t.modified())&&(this.value=i=OLe(JX(t.projection),t.field||Gs("datum"),t.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,c=>c[s]=i),n.modifies(s)}});function OLe(t,e,n){const i=n==null?s=>t(e(s)):s=>{var a=t.pointRadius(),c=t.pointRadius(n)(e(s));return t.pointRadius(a),c};return i.context=s=>(t.context(s),i),i}function XB(t){ae.call(this,[],t),this.generator=mfe()}XB.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};ve(XB,ae,{transform(t,e){var n=this.value,i=this.generator,s;if(!n.length||t.modified())for(const a in t)wt(i[a])&&i[a](t[a]);return s=i(),n.length?e.mod.push(vW(n[0],s)):e.add.push(Kt(s)),n[0]=s,e}});function KB(t){ae.call(this,null,t)}KB.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};ve(KB,ae,{transform(t,e){if(!e.changed()&&!t.modified())return e.StopPropagation;var n=e.materialize(e.SOURCE).source,i=t.resolve==="shared",s=t.field||Yi,a=CLe(t.opacity,t),c=NLe(t.color,t),d=t.as||"image",f={$x:0,$y:0,$value:0,$max:i?Kf(n.map(u=>Kf(s(u).values))):0};return n.forEach(u=>{const o=s(u),g=mt({},u,f);i||(g.$max=Kf(o.values||[])),u[d]=RLe(o,g,c.dep?c:Xi(c(g)),a.dep?a:Xi(a(g)))}),e.reflow(!0).modifies(d)}});function NLe(t,e){let n;return wt(t)?(n=i=>dd(t(i,e)),n.dep=sK(t)):n=Xi(dd(t||"#888")),n}function CLe(t,e){let n;return wt(t)?(n=i=>t(i,e),n.dep=sK(t)):t?n=Xi(t):(n=i=>i.$value/i.$max||0,n.dep=!0),n}function sK(t){if(!wt(t))return!1;const e=ka(ji(t));return e.$x||e.$y||e.$value||e.$max}function RLe(t,e,n,i){const s=t.width,a=t.height,c=t.x1||0,d=t.y1||0,f=t.x2||s,u=t.y2||a,o=t.values,g=o?L=>o[L]:Uc,y=f_(f-c,u-d),m=y.getContext("2d"),l=m.getImageData(0,0,f-c,u-d),b=l.data;for(let L=d,E=0;L<u;++L){e.$y=L-d;for(let S=c,x=L*s;S<f;++S,E+=4){e.$x=S-c,e.$value=g(S+x);const k=n(e);b[E+0]=k.r,b[E+1]=k.g,b[E+2]=k.b,b[E+3]=~~(255*i(e))}}return m.putImageData(l,0,0),y}function rK(t){ae.call(this,null,t),this.modified(!0)}ve(rK,ae,{transform(t,e){let n=this.value;return!n||t.modified("type")?(this.value=n=PLe(t.type),X7.forEach(i=>{t[i]!=null&&RC(n,i,t[i])})):X7.forEach(i=>{t.modified(i)&&RC(n,i,t[i])}),t.pointRadius!=null&&n.path.pointRadius(t.pointRadius),t.fit&&DLe(n,t),e.fork(e.NO_SOURCE|e.NO_FIELDS)}});function DLe(t,e){const n=$Le(e.fit);e.extent?t.fitExtent(e.extent,n):e.size&&t.fitSize(e.size,n)}function PLe(t){const e=UB((t||"mercator").toLowerCase());return e||de("Unrecognized projection type: "+t),e()}function RC(t,e,n){wt(t[e])&&t[e](n)}function $Le(t){return t=ke(t),t.length===1?t[0]:{type:VB,features:t.reduce((e,n)=>e.concat(ULe(n)),[])}}function ULe(t){return t.type===VB?t.features:ke(t).filter(e=>e!=null).map(e=>e.type===K7?e:{type:K7,geometry:e})}const zLe=Object.freeze(Object.defineProperty({__proto__:null,contour:jB,geojson:qB,geopath:GB,geopoint:WB,geoshape:YB,graticule:XB,heatmap:KB,isocontour:zB,kde2d:HB,projection:rK},Symbol.toStringTag,{value:"Module"})),DC={center:lde,collide:Bde,nbody:Pde,link:kde,x:$de,y:Ude},op="forces",Z7=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],HLe=["static","iterations"],aK=["x","y","vx","vy"];function ZB(t){ae.call(this,null,t)}ZB.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:aK}]};ve(ZB,ae,{transform(t,e){var n=this.value,i=e.changed(e.ADD_REM),s=t.modified(Z7),a=t.iterations||300;if(n?(i&&(e.modifies("index"),n.nodes(e.source)),(s||e.changed(e.MOD))&&oK(n,t,0,e)):(this.value=n=VLe(e.source,t),n.on("tick",jLe(e.dataflow,this)),t.static||(i=!0,n.tick()),e.modifies("index")),s||i||t.modified(HLe)||e.changed()&&t.restart){if(n.alpha(Math.max(n.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/a)),t.static)for(n.stop();--a>=0;)n.tick();else if(n.stopped()&&n.restart(),!i)return e.StopPropagation}return this.finish(t,e)},finish(t,e){const n=e.dataflow;for(let d=this._argops,f=0,u=d.length,o;f<u;++f)if(o=d[f],!(o.name!==op||o.op._argval.force!=="link")){for(var i=o.op._argops,s=0,a=i.length,c;s<a;++s)if(i[s].name==="links"&&(c=i[s].op.source)){n.pulse(c,n.changeset().reflow());break}}return e.reflow(t.modified()).modifies(aK)}});function jLe(t,e){return()=>t.touch(e).run()}function VLe(t,e){const n=Dde(t),i=n.stop,s=n.restart;let a=!1;return n.stopped=()=>a,n.restart=()=>(a=!1,s()),n.stop=()=>(a=!0,i()),oK(n,e,!0).on("end",()=>a=!0)}function oK(t,e,n,i){var s=ke(e.forces),a,c,d,f;for(a=0,c=Z7.length;a<c;++a)d=Z7[a],d!==op&&e.modified(d)&&t[d](e[d]);for(a=0,c=s.length;a<c;++a)f=op+a,d=n||e.modified(op,a)?GLe(s[a]):i&&qLe(s[a],i)?t.force(f):null,d&&t.force(f,d);for(c=t.numForces||0;a<c;++a)t.force(op+a,null);return t.numForces=s.length,t}function qLe(t,e){var n,i;for(n in t)if(wt(i=t[n])&&e.modified(ji(i)))return 1;return 0}function GLe(t){var e,n;$e(DC,t.force)||de("Unrecognized force: "+t.force),e=DC[t.force]();for(n in t)wt(e[n])&&WLe(e[n],t[n],t);return e}function WLe(t,e,n){t(wt(e)?i=>e(i,n):e)}const YLe=Object.freeze(Object.defineProperty({__proto__:null,force:ZB},Symbol.toStringTag,{value:"Module"}));function J7(t,e,n){const i={};return t.each(s=>{const a=s.data;n(a)&&(i[e(a)]=s)}),t.lookup=i,t}function JB(t){ae.call(this,null,t)}JB.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const XLe=t=>t.values;ve(JB,ae,{transform(t,e){e.source||de("Nest transform requires an upstream data source.");var n=t.generate,i=t.modified(),s=e.clone(),a=this.value;return(!a||i||e.changed())&&(a&&a.each(c=>{c.children&&SL(c.data)&&s.rem.push(c.data)}),this.value=a=OE({values:ke(t.keys).reduce((c,d)=>(c.key(d),c),KLe()).entries(s.source)},XLe),n&&a.each(c=>{c.children&&(c=Kt(c.data),s.add.push(c),s.source.push(c))}),J7(a,De,De)),s.source.root=a,s}});function KLe(){const t=[],e={entries:s=>i(n(s,0),0),key:s=>(t.push(s),e)};function n(s,a){if(a>=t.length)return s;const c=s.length,d=t[a++],f={},u={};let o=-1,g,y,m;for(;++o<c;)g=d(y=s[o])+"",(m=f[g])?m.push(y):f[g]=[y];for(g in f)u[g]=n(f[g],a);return u}function i(s,a){if(++a>t.length)return s;const c=[];for(const d in s)c.push({key:d,values:i(s[d],a)});return c}return e}function dc(t){ae.call(this,null,t)}const ZLe=(t,e)=>t.parent===e.parent?1:2;ve(dc,ae,{transform(t,e){(!e.source||!e.source.root)&&de(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(t.method),i=this.fields,s=e.source.root,a=t.as||i;t.field?s.sum(t.field):s.count(),t.sort&&s.sort(Wu(t.sort,c=>c.data)),JLe(n,this.params,t),n.separation&&n.separation(t.separation!==!1?ZLe:R2);try{this.value=n(s)}catch(c){de(c)}return s.each(c=>QLe(c,i,a)),e.reflow(t.modified()).modifies(a).modifies("leaf")}});function JLe(t,e,n){for(let i,s=0,a=e.length;s<a;++s)i=e[s],i in n&&t[i](n[i])}function QLe(t,e,n){const i=t.data,s=e.length-1;for(let a=0;a<s;++a)i[n[a]]=t[e[a]];i[n[s]]=t.children?t.children.length:0}const Q7=["x","y","r","depth","children"];function QB(t){dc.call(this,t)}QB.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Q7.length,default:Q7}]};ve(QB,dc,{layout:zue,params:["radius","size","padding"],fields:Q7});const eT=["x0","y0","x1","y1","depth","children"];function eI(t){dc.call(this,t)}eI.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:eT.length,default:eT}]};ve(eI,dc,{layout:Hue,params:["size","round","padding"],fields:eT});function tI(t){ae.call(this,null,t)}tI.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ve(tI,ae,{transform(t,e){e.source||de("Stratify transform requires an upstream data source.");let n=this.value;const i=t.modified(),s=e.fork(e.ALL).materialize(e.SOURCE),a=!n||i||e.changed(e.ADD_REM)||e.modified(t.key.fields)||e.modified(t.parentKey.fields);return s.source=s.source.slice(),a&&(n=s.source.length?J7(CO().id(t.key).parentId(t.parentKey)(s.source),t.key,Xr):J7(CO()([{}]),t.key,t.key)),s.source.root=this.value=n,s}});const PC={tidy:Jue,cluster:due},tT=["x","y","depth","children"];function nI(t){dc.call(this,t)}nI.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:tT.length,default:tT}]};ve(nI,dc,{layout(t){const e=t||"tidy";if($e(PC,e))return PC[e]();de("Unrecognized Tree layout method: "+e)},params:["size","nodeSize"],fields:tT});function iI(t){ae.call(this,[],t)}iI.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ve(iI,ae,{transform(t,e){const n=this.value,i=e.source&&e.source.root,s=e.fork(e.NO_SOURCE),a={};return i||de("TreeLinks transform requires a tree data source."),e.changed(e.ADD_REM)?(s.rem=n,e.visit(e.SOURCE,c=>a[De(c)]=1),i.each(c=>{const d=c.data,f=c.parent&&c.parent.data;f&&a[De(d)]&&a[De(f)]&&s.add.push(Kt({source:f,target:d}))}),this.value=s.add):e.changed(e.MOD)&&(e.visit(e.MOD,c=>a[De(c)]=1),n.forEach(c=>{(a[De(c.source)]||a[De(c.target)])&&s.mod.push(c)})),s}});const $C={binary:ehe,dice:Z3,slice:Z6,slicedice:the,squarify:bj,resquarify:nhe},nT=["x0","y0","x1","y1","depth","children"];function sI(t){dc.call(this,t)}sI.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:nT.length,default:nT}]};ve(sI,dc,{layout(){const t=Que();return t.ratio=e=>{const n=t.tile();n.ratio&&t.tile(n.ratio(e))},t.method=e=>{$e($C,e)?t.tile($C[e]):de("Unrecognized Treemap layout method: "+e)},t},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:nT});const e5e=Object.freeze(Object.defineProperty({__proto__:null,nest:JB,pack:QB,partition:eI,stratify:tI,tree:nI,treelinks:iI,treemap:sI},Symbol.toStringTag,{value:"Module"}));function l9(t,e){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=t,n.height=e,n}return null}const c9=4278190080;function t5e(t,e){const n=t.bitmap();return(e||[]).forEach(i=>n.set(t(i.boundary[0]),t(i.boundary[3]))),[n,void 0]}function n5e(t,e,n,i,s){const a=t.width,c=t.height,d=i||s,f=l9(a,c).getContext("2d"),u=l9(a,c).getContext("2d"),o=d&&l9(a,c).getContext("2d");n.forEach(C=>Um(f,C,!1)),Um(u,e,!1),d&&Um(o,e,!0);const g=d9(f,a,c),y=d9(u,a,c),m=d&&d9(o,a,c),l=t.bitmap(),b=d&&t.bitmap();let L,E,S,x,k,B,A,M;for(E=0;E<c;++E)for(L=0;L<a;++L)k=E*a+L,B=g[k]&c9,M=y[k]&c9,A=d&&m[k]&c9,(B||A||M)&&(S=t(L),x=t(E),!s&&(B||M)&&l.set(S,x),d&&(B||A)&&b.set(S,x));return[l,b]}function d9(t,e,n){return new Uint32Array(t.getImageData(0,0,e,n).data.buffer)}function Um(t,e,n){if(!e.length)return;const i=e[0].mark.marktype;i==="group"?e.forEach(s=>{s.items.forEach(a=>Um(t,a.items,n))}):Tr[i].draw(t,{items:n?e.map(i5e):e})}function i5e(t){const e=xL(t,{});return e.stroke&&e.strokeOpacity!==0||e.fill&&e.fillOpacity!==0?{...e,strokeOpacity:1,stroke:"#000",fillOpacity:0}:e}const ul=5,Qi=31,_3=32,Dc=new Uint32Array(_3+1),da=new Uint32Array(_3+1);da[0]=0;Dc[0]=~da[0];for(let t=1;t<=_3;++t)da[t]=da[t-1]<<1|1,Dc[t]=~da[t];function s5e(t,e){const n=new Uint32Array(~~((t*e+_3)/_3));function i(a,c){n[a]|=c}function s(a,c){n[a]&=c}return{array:n,get:(a,c)=>{const d=c*t+a;return n[d>>>ul]&1<<(d&Qi)},set:(a,c)=>{const d=c*t+a;i(d>>>ul,1<<(d&Qi))},clear:(a,c)=>{const d=c*t+a;s(d>>>ul,~(1<<(d&Qi)))},getRange:(a,c,d,f)=>{let u=f,o,g,y,m;for(;u>=c;--u)if(o=u*t+a,g=u*t+d,y=o>>>ul,m=g>>>ul,y===m){if(n[y]&Dc[o&Qi]&da[(g&Qi)+1])return!0}else{if(n[y]&Dc[o&Qi]||n[m]&da[(g&Qi)+1])return!0;for(let l=y+1;l<m;++l)if(n[l])return!0}return!1},setRange:(a,c,d,f)=>{let u,o,g,y,m;for(;c<=f;++c)if(u=c*t+a,o=c*t+d,g=u>>>ul,y=o>>>ul,g===y)i(g,Dc[u&Qi]&da[(o&Qi)+1]);else for(i(g,Dc[u&Qi]),i(y,da[(o&Qi)+1]),m=g+1;m<y;++m)i(m,4294967295)},clearRange:(a,c,d,f)=>{let u,o,g,y,m;for(;c<=f;++c)if(u=c*t+a,o=c*t+d,g=u>>>ul,y=o>>>ul,g===y)s(g,da[u&Qi]|Dc[(o&Qi)+1]);else for(s(g,da[u&Qi]),s(y,Dc[(o&Qi)+1]),m=g+1;m<y;++m)s(m,0)},outOfBounds:(a,c,d,f)=>a<0||c<0||f>=e||d>=t}}function r5e(t,e,n){const i=Math.max(1,Math.sqrt(t*e/1e6)),s=~~((t+2*n+i)/i),a=~~((e+2*n+i)/i),c=d=>~~((d+n)/i);return c.invert=d=>d*i-n,c.bitmap=()=>s5e(s,a),c.ratio=i,c.padding=n,c.width=t,c.height=e,c}function a5e(t,e,n,i){const s=t.width,a=t.height;return function(c){const d=c.datum.datum.items[i].items,f=d.length,u=c.datum.fontSize,o=va.width(c.datum,c.datum.text);let g=0,y,m,l,b,L,E,S;for(let x=0;x<f;++x)y=d[x].x,l=d[x].y,m=d[x].x2===void 0?y:d[x].x2,b=d[x].y2===void 0?l:d[x].y2,L=(y+m)/2,E=(l+b)/2,S=Math.abs(m-y+b-l),S>=g&&(g=S,c.x=L,c.y=E);return L=o/2,E=u/2,y=c.x-L,m=c.x+L,l=c.y-E,b=c.y+E,c.align="center",y<0&&m<=s?c.align="left":0<=y&&s<m&&(c.align="right"),c.baseline="middle",l<0&&b<=a?c.baseline="top":0<=l&&a<b&&(c.baseline="bottom"),!0}}function Xw(t,e,n,i,s,a){let c=n/2;return t-c<0||t+c>s||e-(c=i/2)<0||e+c>a}function Yc(t,e,n,i,s,a,c,d){const f=s*a/(i*2),u=t(e-f),o=t(e+f),g=t(n-(a=a/2)),y=t(n+a);return c.outOfBounds(u,g,o,y)||c.getRange(u,g,o,y)||d&&d.getRange(u,g,o,y)}function o5e(t,e,n,i){const s=t.width,a=t.height,c=e[0],d=e[1];function f(u,o,g,y,m){const l=t.invert(u),b=t.invert(o);let L=g,E=a,S;if(!Xw(l,b,y,m,s,a)&&!Yc(t,l,b,m,y,L,c,d)&&!Yc(t,l,b,m,y,m,c,null)){for(;E-L>=1;)S=(L+E)/2,Yc(t,l,b,m,y,S,c,d)?E=S:L=S;if(L>g)return[l,b,L,!0]}}return function(u){const o=u.datum.datum.items[i].items,g=o.length,y=u.datum.fontSize,m=va.width(u.datum,u.datum.text);let l=n?y:0,b=!1,L=!1,E=0,S,x,k,B,A,M,C,R,D,$,Y,z,H,q,W,X,G;for(let le=0;le<g;++le){for(S=o[le].x,k=o[le].y,x=o[le].x2===void 0?S:o[le].x2,B=o[le].y2===void 0?k:o[le].y2,S>x&&(G=S,S=x,x=G),k>B&&(G=k,k=B,B=G),D=t(S),Y=t(x),$=~~((D+Y)/2),z=t(k),q=t(B),H=~~((z+q)/2),C=$;C>=D;--C)for(R=H;R>=z;--R)X=f(C,R,l,m,y),X&&([u.x,u.y,l,b]=X);for(C=$;C<=Y;++C)for(R=H;R<=q;++R)X=f(C,R,l,m,y),X&&([u.x,u.y,l,b]=X);!b&&!n&&(W=Math.abs(x-S+B-k),A=(S+x)/2,M=(k+B)/2,W>=E&&!Xw(A,M,m,y,s,a)&&!Yc(t,A,M,y,m,y,c,null)&&(E=W,u.x=A,u.y=M,L=!0))}return b||L?(A=m/2,M=y/2,c.setRange(t(u.x-A),t(u.y-M),t(u.x+A),t(u.y+M)),u.align="center",u.baseline="middle",!0):!1}}const l5e=[-1,-1,1,1],c5e=[-1,1,-1,1];function d5e(t,e,n,i){const s=t.width,a=t.height,c=e[0],d=e[1],f=t.bitmap();return function(u){const o=u.datum.datum.items[i].items,g=o.length,y=u.datum.fontSize,m=va.width(u.datum,u.datum.text),l=[];let b=n?y:0,L=!1,E=!1,S=0,x,k,B,A,M,C,R,D,$,Y,z,H;for(let q=0;q<g;++q){for(x=o[q].x,B=o[q].y,k=o[q].x2===void 0?x:o[q].x2,A=o[q].y2===void 0?B:o[q].y2,l.push([t((x+k)/2),t((B+A)/2)]);l.length;)if([R,D]=l.pop(),!(c.get(R,D)||d.get(R,D)||f.get(R,D))){f.set(R,D);for(let W=0;W<4;++W)M=R+l5e[W],C=D+c5e[W],f.outOfBounds(M,C,M,C)||l.push([M,C]);if(M=t.invert(R),C=t.invert(D),$=b,Y=a,!Xw(M,C,m,y,s,a)&&!Yc(t,M,C,y,m,$,c,d)&&!Yc(t,M,C,y,m,y,c,null)){for(;Y-$>=1;)z=($+Y)/2,Yc(t,M,C,y,m,z,c,d)?Y=z:$=z;$>b&&(u.x=M,u.y=C,b=$,L=!0)}}!L&&!n&&(H=Math.abs(k-x+A-B),M=(x+k)/2,C=(B+A)/2,H>=S&&!Xw(M,C,m,y,s,a)&&!Yc(t,M,C,y,m,y,c,null)&&(S=H,u.x=M,u.y=C,E=!0))}return L||E?(M=m/2,C=y/2,c.setRange(t(u.x-M),t(u.y-C),t(u.x+M),t(u.y+C)),u.align="center",u.baseline="middle",!0):!1}}const f5e=["right","center","left"],u5e=["bottom","middle","top"];function h5e(t,e,n,i){const s=t.width,a=t.height,c=e[0],d=e[1],f=i.length;return function(u){const o=u.boundary,g=u.datum.fontSize;if(o[2]<0||o[5]<0||o[0]>s||o[3]>a)return!1;let y=u.textWidth??0,m,l,b,L,E,S,x,k,B,A,M,C,R,D,$;for(let Y=0;Y<f;++Y){if(m=(n[Y]&3)-1,l=(n[Y]>>>2&3)-1,b=m===0&&l===0||i[Y]<0,L=m&&l?Math.SQRT1_2:1,E=i[Y]<0?-1:1,S=o[1+m]+i[Y]*m*L,M=o[4+l]+E*g*l/2+i[Y]*l*L,k=M-g/2,B=M+g/2,C=t(S),D=t(k),$=t(B),!y)if(UC(C,C,D,$,c,d,S,S,k,B,o,b))y=va.width(u.datum,u.datum.text);else continue;if(A=S+E*y*m/2,S=A-y/2,x=A+y/2,C=t(S),R=t(x),UC(C,R,D,$,c,d,S,x,k,B,o,b))return u.x=m?m*E<0?x:S:A,u.y=l?l*E<0?B:k:M,u.align=f5e[m*E+1],u.baseline=u5e[l*E+1],c.setRange(C,D,R,$),!0}return!1}}function UC(t,e,n,i,s,a,c,d,f,u,o,g){return!(s.outOfBounds(t,n,e,i)||(g&&a||s).getRange(t,n,e,i))}const f9=0,u9=4,h9=8,p9=0,_9=1,g9=2,p5e={"top-left":f9+p9,top:f9+_9,"top-right":f9+g9,left:u9+p9,middle:u9+_9,right:u9+g9,"bottom-left":h9+p9,bottom:h9+_9,"bottom-right":h9+g9},_5e={naive:a5e,"reduced-search":o5e,floodfill:d5e};function g5e(t,e,n,i,s,a,c,d,f,u,o){if(!t.length)return t;const g=Math.max(i.length,s.length),y=y5e(i,g),m=m5e(s,g),l=w5e(t[0].datum),b=l==="group"&&t[0].datum.items[f].marktype,L=b==="area",E=L5e(l,b,d,f),S=u===null||u===1/0,x=L&&o==="naive";let k=-1,B=-1;const A=t.map(D=>{const $=S?va.width(D,D.text):void 0;return k=Math.max(k,$),B=Math.max(B,D.fontSize),{datum:D,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:E(D),textWidth:$}});u=u===null||u===1/0?Math.max(k,B)+Math.max(...i):u;const M=r5e(e[0],e[1],u);let C;if(!x){n&&A.sort((Y,z)=>n(Y.datum,z.datum));let D=!1;for(let Y=0;Y<m.length&&!D;++Y)D=m[Y]===5||y[Y]<0;const $=(l&&c||L)&&t.map(Y=>Y.datum);C=a.length||$?n5e(M,$||[],a,D,L):t5e(M,c&&A)}const R=L?_5e[o](M,C,c,f):h5e(M,C,m,y);return A.forEach(D=>D.opacity=+R(D)),A}function y5e(t,e){const n=new Float64Array(e),i=t.length;for(let s=0;s<i;++s)n[s]=t[s]||0;for(let s=i;s<e;++s)n[s]=n[i-1];return n}function m5e(t,e){const n=new Int8Array(e),i=t.length;for(let s=0;s<i;++s)n[s]|=p5e[t[s]];for(let s=i;s<e;++s)n[s]=n[i-1];return n}function w5e(t){return t&&t.mark&&t.mark.marktype}function L5e(t,e,n,i){const s=a=>[a.x,a.x,a.x,a.y,a.y,a.y];return t?t==="line"||t==="area"?a=>s(a.datum):e==="line"?a=>{const c=a.datum.items[i].items;return s(c.length?c[n==="start"?0:c.length-1]:{x:NaN,y:NaN})}:a=>{const c=a.datum.bounds;return[c.x1,(c.x1+c.x2)/2,c.x2,c.y1,(c.y1+c.y2)/2,c.y2]}:s}const iT=["x","y","opacity","align","baseline"],lK=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function rI(t){ae.call(this,null,t)}rI.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:lK},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:iT.length,default:iT}]};ve(rI,ae,{transform(t,e){function n(a){const c=t[a];return wt(c)&&e.modified(c.fields)}const i=t.modified();if(!(i||e.changed(e.ADD_REM)||n("sort")))return;(!t.size||t.size.length!==2)&&de("Size parameter should be specified as a [width, height] array.");const s=t.as||iT;return g5e(e.materialize(e.SOURCE).source||[],t.size,t.sort,ke(t.offset==null?1:t.offset),ke(t.anchor||lK),t.avoidMarks||[],t.avoidBaseMark!==!1,t.lineAnchor||"end",t.markIndex||0,t.padding===void 0?0:t.padding,t.method||"naive").forEach(a=>{const c=a.datum;c[s[0]]=a.x,c[s[1]]=a.y,c[s[2]]=a.opacity,c[s[3]]=a.align,c[s[4]]=a.baseline}),e.reflow(i).modifies(s)}});const b5e=Object.freeze(Object.defineProperty({__proto__:null,label:rI},Symbol.toStringTag,{value:"Module"}));function cK(t,e){var n=[],i=function(o){return o(d)},s,a,c,d,f,u;if(e==null)n.push(t);else for(s={},a=0,c=t.length;a<c;++a)d=t[a],f=e.map(i),u=s[f],u||(s[f]=u=[],u.dims=f,n.push(u)),u.push(d);return n}function aI(t){ae.call(this,null,t)}aI.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};ve(aI,ae,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const i=e.materialize(e.SOURCE).source,s=cK(i,t.groupby),a=(t.groupby||[]).map(zn),c=a.length,d=t.as||[zn(t.x),zn(t.y)],f=[];s.forEach(u=>{LV(u,t.x,t.y,t.bandwidth||.3).forEach(o=>{const g={};for(let y=0;y<c;++y)g[a[y]]=u.dims[y];g[d[0]]=o[0],g[d[1]]=o[1],f.push(Kt(g))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const sT={constant:uS,linear:hS,log:gV,exp:yV,pow:mV,quad:pS,poly:wV},T5e=(t,e)=>t==="poly"?e:t==="quad"?2:1;function oI(t){ae.call(this,null,t)}oI.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(sT)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};ve(oI,ae,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const i=e.materialize(e.SOURCE).source,s=cK(i,t.groupby),a=(t.groupby||[]).map(zn),c=t.method||"linear",d=t.order==null?3:t.order,f=T5e(c,d),u=t.as||[zn(t.x),zn(t.y)],o=sT[c],g=[];let y=t.extent;$e(sT,c)||de("Invalid regression method: "+c),y!=null&&c==="log"&&y[0]<=0&&(e.dataflow.warn("Ignoring extent with values <= 0 for log regression."),y=null),s.forEach(m=>{if(m.length<=f){e.dataflow.warn("Skipping regression with more parameters than data points.");return}const b=o(m,t.x,t.y,d);if(t.params){g.push(Kt({keys:m.dims,coef:b.coef,rSquared:b.rSquared}));return}const L=y||zo(m,t.x),E=S=>{const x={};for(let k=0;k<a.length;++k)x[a[k]]=m.dims[k];x[u[0]]=S[0],x[u[1]]=S[1],g.push(Kt(x))};c==="linear"||c==="constant"?L.forEach(S=>E([S,b.predict(S)])):hL(b.predict,L,25,200).forEach(E)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=g}return n}});const v5e=Object.freeze(Object.defineProperty({__proto__:null,loess:aI,regression:oI},Symbol.toStringTag,{value:"Module"}));function lI(t){ae.call(this,null,t)}lI.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const E5e=[-1e5,-1e5,1e5,1e5];ve(lI,ae,{transform(t,e){const n=t.as||"path",i=e.source;if(!i||!i.length)return e;let s=t.size;s=s?[0,0,s[0],s[1]]:(s=t.extent)?[s[0][0],s[0][1],s[1][0],s[1][1]]:E5e;const a=this.value=bE.from(i,t.x,t.y).voronoi(s);for(let c=0,d=i.length;c<d;++c){const f=a.cellPolygon(c);i[c][n]=f?S5e(f):null}return e.reflow(t.modified()).modifies(n)}});function S5e(t){const e=t[0][0],n=t[0][1];let i=t.length-1;for(;t[i][0]===e&&t[i][1]===n;--i);return"M"+t.slice(0,i+1).join("L")+"Z"}const x5e=Object.freeze(Object.defineProperty({__proto__:null,voronoi:lI},Symbol.toStringTag,{value:"Module"}));var y9=Math.PI/180,lp=1<<11>>5,zm=1<<11;function B5e(){var t=[256,256],e,n,i,s,a,c,d,f=dK,u=[],o=Math.random,g={};g.layout=function(){for(var l=y(f_()),b=O5e((t[0]>>5)*t[1]),L=null,E=u.length,S=-1,x=[],k=u.map(A=>({text:e(A),font:n(A),style:s(A),weight:a(A),rotate:c(A),size:~~(i(A)+1e-14),padding:d(A),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:A})).sort((A,M)=>M.size-A.size);++S<E;){var B=k[S];B.x=t[0]*(o()+.5)>>1,B.y=t[1]*(o()+.5)>>1,I5e(l,B,k,S),B.hasText&&m(b,B,L)&&(x.push(B),L?F5e(L,B):L=[{x:B.x+B.x0,y:B.y+B.y0},{x:B.x+B.x1,y:B.y+B.y1}],B.x-=t[0]>>1,B.y-=t[1]>>1)}return x};function y(l){l.width=l.height=1;var b=Math.sqrt(l.getContext("2d").getImageData(0,0,1,1).data.length>>2);l.width=(lp<<5)/b,l.height=zm/b;var L=l.getContext("2d");return L.fillStyle=L.strokeStyle="red",L.textAlign="center",{context:L,ratio:b}}function m(l,b,L){for(var E=b.x,S=b.y,x=Math.sqrt(t[0]*t[0]+t[1]*t[1]),k=f(t),B=o()<.5?1:-1,A=-B,M,C,R;(M=k(A+=B))&&(C=~~M[0],R=~~M[1],!(Math.min(Math.abs(C),Math.abs(R))>=x));)if(b.x=E+C,b.y=S+R,!(b.x+b.x0<0||b.y+b.y0<0||b.x+b.x1>t[0]||b.y+b.y1>t[1])&&(!L||!k5e(b,l,t[0]))&&(!L||M5e(b,L))){for(var D=b.sprite,$=b.width>>5,Y=t[0]>>5,z=b.x-($<<4),H=z&127,q=32-H,W=b.y1-b.y0,X=(b.y+b.y0)*Y+(z>>5),G,le=0;le<W;le++){G=0;for(var pe=0;pe<=$;pe++)l[X+pe]|=G<<q|(pe<$?(G=D[le*$+pe])>>>H:0);X+=Y}return b.sprite=null,!0}return!1}return g.words=function(l){return arguments.length?(u=l,g):u},g.size=function(l){return arguments.length?(t=[+l[0],+l[1]],g):t},g.font=function(l){return arguments.length?(n=sf(l),g):n},g.fontStyle=function(l){return arguments.length?(s=sf(l),g):s},g.fontWeight=function(l){return arguments.length?(a=sf(l),g):a},g.rotate=function(l){return arguments.length?(c=sf(l),g):c},g.text=function(l){return arguments.length?(e=sf(l),g):e},g.spiral=function(l){return arguments.length?(f=N5e[l]||l,g):f},g.fontSize=function(l){return arguments.length?(i=sf(l),g):i},g.padding=function(l){return arguments.length?(d=sf(l),g):d},g.random=function(l){return arguments.length?(o=l,g):o},g}function I5e(t,e,n,i){if(!e.sprite){var s=t.context,a=t.ratio;s.clearRect(0,0,(lp<<5)/a,zm/a);var c=0,d=0,f=0,u=n.length,o,g,y,m,l;for(--i;++i<u;){if(e=n[i],s.save(),s.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font,o=s.measureText(e.text+"m").width*a,y=e.size<<1,e.rotate){var b=Math.sin(e.rotate*y9),L=Math.cos(e.rotate*y9),E=o*L,S=o*b,x=y*L,k=y*b;o=Math.max(Math.abs(E+k),Math.abs(E-k))+31>>5<<5,y=~~Math.max(Math.abs(S+x),Math.abs(S-x))}else o=o+31>>5<<5;if(y>f&&(f=y),c+o>=lp<<5&&(c=0,d+=f,f=0),d+y>=zm)break;s.translate((c+(o>>1))/a,(d+(y>>1))/a),e.rotate&&s.rotate(e.rotate*y9),s.fillText(e.text,0,0),e.padding&&(s.lineWidth=2*e.padding,s.strokeText(e.text,0,0)),s.restore(),e.width=o,e.height=y,e.xoff=c,e.yoff=d,e.x1=o>>1,e.y1=y>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,c+=o}for(var B=s.getImageData(0,0,(lp<<5)/a,zm/a).data,A=[];--i>=0;)if(e=n[i],!!e.hasText){for(o=e.width,g=o>>5,y=e.y1-e.y0,m=0;m<y*g;m++)A[m]=0;if(c=e.xoff,c==null)return;d=e.yoff;var M=0,C=-1;for(l=0;l<y;l++){for(m=0;m<o;m++){var R=g*l+(m>>5),D=B[(d+l)*(lp<<5)+(c+m)<<2]?1<<31-m%32:0;A[R]|=D,M|=D}M?C=l:(e.y0++,y--,l--,d++)}e.y1=e.y0+C,e.sprite=A.slice(0,(e.y1-e.y0)*g)}}}function k5e(t,e,n){n>>=5;for(var i=t.sprite,s=t.width>>5,a=t.x-(s<<4),c=a&127,d=32-c,f=t.y1-t.y0,u=(t.y+t.y0)*n+(a>>5),o,g=0;g<f;g++){o=0;for(var y=0;y<=s;y++)if((o<<d|(y<s?(o=i[g*s+y])>>>c:0))&e[u+y])return!0;u+=n}return!1}function F5e(t,e){var n=t[0],i=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>i.x&&(i.x=e.x+e.x1),e.y+e.y1>i.y&&(i.y=e.y+e.y1)}function M5e(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function dK(t){var e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function A5e(t){var e=4,n=e*t[0]/t[1],i=0,s=0;return function(a){var c=a<0?-1:1;switch(Math.sqrt(1+4*c*a)-c&3){case 0:i+=n;break;case 1:s+=e;break;case 2:i-=n;break;default:s-=e;break}return[i,s]}}function O5e(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function sf(t){return typeof t=="function"?t:function(){return t}}var N5e={archimedean:dK,rectangular:A5e};const fK=["x","y","font","fontSize","fontStyle","fontWeight","angle"],C5e=["text","font","rotate","fontSize","fontStyle","fontWeight"];function cI(t){ae.call(this,B5e(),t)}cI.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:fK}]};ve(cI,ae,{transform(t,e){t.size&&!(t.size[0]&&t.size[1])&&de("Wordcloud size dimensions must be non-zero.");function n(l){const b=t[l];return wt(b)&&e.modified(b.fields)}const i=t.modified();if(!(i||e.changed(e.ADD_REM)||C5e.some(n)))return;const s=e.materialize(e.SOURCE).source,a=this.value,c=t.as||fK;let d=t.fontSize||14,f;if(wt(d)?f=t.fontSizeRange:d=Xi(d),f){const l=d,b=jt("sqrt")().domain(zo(s,l)).range(f);d=L=>b(l(L))}s.forEach(l=>{l[c[0]]=NaN,l[c[1]]=NaN,l[c[3]]=0});const u=a.words(s).text(t.text).size(t.size||[500,500]).padding(t.padding||1).spiral(t.spiral||"archimedean").rotate(t.rotate||0).font(t.font||"sans-serif").fontStyle(t.fontStyle||"normal").fontWeight(t.fontWeight||"normal").fontSize(d).random(Wr).layout(),o=a.size(),g=o[0]>>1,y=o[1]>>1,m=u.length;for(let l=0,b,L;l<m;++l)b=u[l],L=b.datum,L[c[0]]=b.x+g,L[c[1]]=b.y+y,L[c[2]]=b.font,L[c[3]]=b.size,L[c[4]]=b.style,L[c[5]]=b.weight,L[c[6]]=b.rotate;return e.reflow(i).modifies(c)}});const R5e=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:cI},Symbol.toStringTag,{value:"Module"})),D5e=t=>new Uint8Array(t),P5e=t=>new Uint16Array(t),Ep=t=>new Uint32Array(t);function $5e(){let t=8,e=[],n=Ep(0),i=Dy(0,t),s=Dy(0,t);return{data:()=>e,seen:()=>n=U5e(n,e.length),add(a){for(let c=0,d=e.length,f=a.length,u;c<f;++c)u=a[c],u._index=d++,e.push(u)},remove(a,c){const d=e.length,f=Array(d-a),u=e;let o,g,y;for(g=0;!c[g]&&g<d;++g)f[g]=e[g],u[g]=g;for(y=g;g<d;++g)o=e[g],c[g]?u[g]=-1:(u[g]=y,i[y]=i[g],s[y]=s[g],f[y]=o,o._index=y++),i[g]=0;return e=f,u},size:()=>e.length,curr:()=>i,prev:()=>s,reset:a=>s[a]=i[a],all:()=>t<257?255:t<65537?65535:4294967295,set(a,c){i[a]|=c},clear(a,c){i[a]&=~c},resize(a,c){const d=i.length;(a>d||c>t)&&(t=Math.max(c,t),i=Dy(a,t,i),s=Dy(a,t))}}}function U5e(t,e,n){return t.length>=e?t:(n=n||new t.constructor(e),n.set(t),n)}function Dy(t,e,n){const i=(e<257?D5e:e<65537?P5e:Ep)(t);return n&&i.set(n),i}function zC(t,e,n){const i=1<<e;return{one:i,zero:~i,range:n.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd(s,a){const c=this,d=c.bisect(c.range,s.value),f=s.index,u=d[0],o=d[1],g=f.length;let y;for(y=0;y<u;++y)a[f[y]]|=i;for(y=o;y<g;++y)a[f[y]]|=i;return c}}}function HC(){let t=Ep(0),e=[],n=0;function i(d,f,u){if(!f.length)return[];const o=n,g=f.length,y=Ep(g);let m=Array(g),l,b,L;for(L=0;L<g;++L)m[L]=d(f[L]),y[L]=L;if(m=z5e(m,y),o)l=e,b=t,e=Array(o+g),t=Ep(o+g),H5e(u,l,b,o,m,y,g,e,t);else{if(u>0)for(L=0;L<g;++L)y[L]+=u;e=m,t=y}return n=o+g,{index:y,value:m}}function s(d,f){const u=n;let o,g,y;for(g=0;!f[t[g]]&&g<u;++g);for(y=g;g<u;++g)f[o=t[g]]||(t[y]=o,e[y]=e[g],++y);n=u-d}function a(d){for(let f=0,u=n;f<u;++f)t[f]=d[t[f]]}function c(d,f){let u;return f?u=f.length:(f=e,u=n),[zre(f,d[0],0,u),d4(f,d[1],0,u)]}return{insert:i,remove:s,bisect:c,reindex:a,index:()=>t,size:()=>n}}function z5e(t,e){return t.sort.call(e,(n,i)=>{const s=t[n],a=t[i];return s<a?-1:s>a?1:0}),Vre(t,e)}function H5e(t,e,n,i,s,a,c,d,f){let u=0,o=0,g;for(g=0;u<i&&o<c;++g)e[u]<s[o]?(d[g]=e[u],f[g]=n[u++]):(d[g]=s[o],f[g]=a[o++]+t);for(;u<i;++u,++g)d[g]=e[u],f[g]=n[u];for(;o<c;++o,++g)d[g]=s[o],f[g]=a[o]+t}function dI(t){ae.call(this,$5e(),t),this._indices=null,this._dims=null}dI.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ve(dI,ae,{transform(t,e){if(this._dims){var n=t.modified("fields")||t.fields.some(i=>e.modified(i.fields));return n?this.reinit(t,e):this.eval(t,e)}else return this.init(t,e)},init(t,e){const n=t.fields,i=t.query,s=this._indices={},a=this._dims=[],c=i.length;let d=0,f,u;for(;d<c;++d)f=n[d].fname,u=s[f]||(s[f]=HC()),a.push(zC(u,d,i[d]));return this.eval(t,e)},reinit(t,e){const n=e.materialize().fork(),i=t.fields,s=t.query,a=this._indices,c=this._dims,d=this.value,f=d.curr(),u=d.prev(),o=d.all(),g=n.rem=n.add,y=n.mod,m=s.length,l={};let b,L,E,S,x,k,B,A,M;if(u.set(f),e.rem.length&&(x=this.remove(t,e,n)),e.add.length&&d.add(e.add),e.mod.length)for(k={},S=e.mod,B=0,A=S.length;B<A;++B)k[S[B]._index]=1;for(B=0;B<m;++B)M=i[B],(!c[B]||t.modified("fields",B)||e.modified(M.fields))&&(E=M.fname,(b=l[E])||(a[E]=L=HC(),l[E]=b=L.insert(M,e.source,0)),c[B]=zC(L,B,s[B]).onAdd(b,f));for(B=0,A=d.data().length;B<A;++B)x[B]||(u[B]!==f[B]?g.push(B):k[B]&&f[B]!==o&&y.push(B));return d.mask=(1<<m)-1,n},eval(t,e){const n=e.materialize().fork(),i=this._dims.length;let s=0;return e.rem.length&&(this.remove(t,e,n),s|=(1<<i)-1),t.modified("query")&&!t.modified("fields")&&(s|=this.update(t,e,n)),e.add.length&&(this.insert(t,e,n),s|=(1<<i)-1),e.mod.length&&(this.modify(e,n),s|=(1<<i)-1),this.value.mask=s,n},insert(t,e,n){const i=e.add,s=this.value,a=this._dims,c=this._indices,d=t.fields,f={},u=n.add,o=s.size()+i.length,g=a.length;let y=s.size(),m,l,b;s.resize(o,g),s.add(i);const L=s.curr(),E=s.prev(),S=s.all();for(m=0;m<g;++m)l=d[m].fname,b=f[l]||(f[l]=c[l].insert(d[m],i,y)),a[m].onAdd(b,L);for(;y<o;++y)E[y]=S,L[y]!==S&&u.push(y)},modify(t,e){const n=e.mod,i=this.value,s=i.curr(),a=i.all(),c=t.mod;let d,f,u;for(d=0,f=c.length;d<f;++d)u=c[d]._index,s[u]!==a&&n.push(u)},remove(t,e,n){const i=this._indices,s=this.value,a=s.curr(),c=s.prev(),d=s.all(),f={},u=n.rem,o=e.rem;let g,y,m,l;for(g=0,y=o.length;g<y;++g)m=o[g]._index,f[m]=1,c[m]=l=a[m],a[m]=d,l!==d&&u.push(m);for(m in i)i[m].remove(y,f);return this.reindex(e,y,f),f},reindex(t,e,n){const i=this._indices,s=this.value;t.runAfter(()=>{const a=s.remove(e,n);for(const c in i)i[c].reindex(a)})},update(t,e,n){const i=this._dims,s=t.query,a=e.stamp,c=i.length;let d=0,f,u;for(n.filters=0,u=0;u<c;++u)t.modified("query",u)&&(f=u,++d);if(d===1)d=i[f].one,this.incrementOne(i[f],s[f],n.add,n.rem);else for(u=0,d=0;u<c;++u)t.modified("query",u)&&(d|=i[u].one,this.incrementAll(i[u],s[u],a,n.add),n.rem=n.add);return d},incrementAll(t,e,n,i){const s=this.value,a=s.seen(),c=s.curr(),d=s.prev(),f=t.index(),u=t.bisect(t.range),o=t.bisect(e),g=o[0],y=o[1],m=u[0],l=u[1],b=t.one;let L,E,S;if(g<m)for(L=g,E=Math.min(m,y);L<E;++L)S=f[L],a[S]!==n&&(d[S]=c[S],a[S]=n,i.push(S)),c[S]^=b;else if(g>m)for(L=m,E=Math.min(g,l);L<E;++L)S=f[L],a[S]!==n&&(d[S]=c[S],a[S]=n,i.push(S)),c[S]^=b;if(y>l)for(L=Math.max(g,l),E=y;L<E;++L)S=f[L],a[S]!==n&&(d[S]=c[S],a[S]=n,i.push(S)),c[S]^=b;else if(y<l)for(L=Math.max(m,y),E=l;L<E;++L)S=f[L],a[S]!==n&&(d[S]=c[S],a[S]=n,i.push(S)),c[S]^=b;t.range=e.slice()},incrementOne(t,e,n,i){const s=this.value,a=s.curr(),c=t.index(),d=t.bisect(t.range),f=t.bisect(e),u=f[0],o=f[1],g=d[0],y=d[1],m=t.one;let l,b,L;if(u<g)for(l=u,b=Math.min(g,o);l<b;++l)L=c[l],a[L]^=m,n.push(L);else if(u>g)for(l=g,b=Math.min(u,y);l<b;++l)L=c[l],a[L]^=m,i.push(L);if(o>y)for(l=Math.max(u,y),b=o;l<b;++l)L=c[l],a[L]^=m,n.push(L);else if(o<y)for(l=Math.max(g,o),b=y;l<b;++l)L=c[l],a[L]^=m,i.push(L);t.range=e.slice()}});function fI(t){ae.call(this,null,t)}fI.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ve(fI,ae,{transform(t,e){const n=~(t.ignore||0),i=t.filter,s=i.mask;if(!(s&n))return e.StopPropagation;const a=e.fork(e.ALL),c=i.data(),d=i.curr(),f=i.prev(),u=o=>d[o]&n?null:c[o];return a.filter(a.MOD,u),s&s-1?(a.filter(a.ADD,o=>{const g=d[o]&n;return!g&&g^f[o]&n?c[o]:null}),a.filter(a.REM,o=>{const g=d[o]&n;return g&&!(g^(g^f[o]&n))?c[o]:null})):(a.filter(a.ADD,u),a.filter(a.REM,o=>(d[o]&n)===s?c[o]:null)),a.filter(a.SOURCE,o=>u(o._index))}});const j5e=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:dI,resolvefilter:fI},Symbol.toStringTag,{value:"Module"})),V5e="RawCode",bu="Literal",q5e="Property",G5e="Identifier",W5e="ArrayExpression",Y5e="BinaryExpression",uK="CallExpression",X5e="ConditionalExpression",K5e="LogicalExpression",Z5e="MemberExpression",J5e="ObjectExpression",Q5e="UnaryExpression";function Pa(t){this.type=t}Pa.prototype.visit=function(t){let e,n,i;if(t(this))return 1;for(e=e8e(this),n=0,i=e.length;n<i;++n)if(e[n].visit(t))return 1};function e8e(t){switch(t.type){case W5e:return t.elements;case Y5e:case K5e:return[t.left,t.right];case uK:return[t.callee].concat(t.arguments);case X5e:return[t.test,t.consequent,t.alternate];case Z5e:return[t.object,t.property];case J5e:return t.properties;case q5e:return[t.key,t.value];case Q5e:return[t.argument];case G5e:case bu:case V5e:default:return[]}}var tl,Ne,ce,qi,ln,GL=1,E_=2,Tu=3,Vd=4,WL=5,Ku=6,xs=7,S_=8,t8e=9;tl={};tl[GL]="Boolean";tl[E_]="<end>";tl[Tu]="Identifier";tl[Vd]="Keyword";tl[WL]="Null";tl[Ku]="Numeric";tl[xs]="Punctuator";tl[S_]="String";tl[t8e]="RegularExpression";var n8e="ArrayExpression",i8e="BinaryExpression",s8e="CallExpression",r8e="ConditionalExpression",hK="Identifier",a8e="Literal",o8e="LogicalExpression",l8e="MemberExpression",c8e="ObjectExpression",d8e="Property",f8e="UnaryExpression",_i="Unexpected token %0",u8e="Unexpected number",h8e="Unexpected string",p8e="Unexpected identifier",_8e="Unexpected reserved word",g8e="Unexpected end of input",rT="Invalid regular expression",m9="Invalid regular expression: missing /",pK="Octal literals are not allowed in strict mode.",y8e="Duplicate data property in object literal not allowed in strict mode",Ii="ILLEGAL",g3="Disabled.",m8e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),w8e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function YL(t,e){if(!t)throw new Error("ASSERT: "+e)}function xl(t){return t>=48&&t<=57}function uI(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function Sp(t){return"01234567".indexOf(t)>=0}function L8e(t){return t===32||t===9||t===11||t===12||t===160||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function y3(t){return t===10||t===13||t===8232||t===8233}function x_(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t===92||t>=128&&m8e.test(String.fromCharCode(t))}function Kw(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||t===92||t>=128&&w8e.test(String.fromCharCode(t))}const b8e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function _K(){for(;ce<qi;){const t=Ne.charCodeAt(ce);if(L8e(t)||y3(t))++ce;else break}}function aT(t){var e,n,i,s=0;for(n=t==="u"?4:2,e=0;e<n;++e)ce<qi&&uI(Ne[ce])?(i=Ne[ce++],s=s*16+"0123456789abcdef".indexOf(i.toLowerCase())):zt({},_i,Ii);return String.fromCharCode(s)}function T8e(){var t,e,n,i;for(t=Ne[ce],e=0,t==="}"&&zt({},_i,Ii);ce<qi&&(t=Ne[ce++],!!uI(t));)e=e*16+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||t!=="}")&&zt({},_i,Ii),e<=65535?String.fromCharCode(e):(n=(e-65536>>10)+55296,i=(e-65536&1023)+56320,String.fromCharCode(n,i))}function gK(){var t,e;for(t=Ne.charCodeAt(ce++),e=String.fromCharCode(t),t===92&&(Ne.charCodeAt(ce)!==117&&zt({},_i,Ii),++ce,t=aT("u"),(!t||t==="\\"||!x_(t.charCodeAt(0)))&&zt({},_i,Ii),e=t);ce<qi&&(t=Ne.charCodeAt(ce),!!Kw(t));)++ce,e+=String.fromCharCode(t),t===92&&(e=e.substr(0,e.length-1),Ne.charCodeAt(ce)!==117&&zt({},_i,Ii),++ce,t=aT("u"),(!t||t==="\\"||!Kw(t.charCodeAt(0)))&&zt({},_i,Ii),e+=t);return e}function v8e(){var t,e;for(t=ce++;ce<qi;){if(e=Ne.charCodeAt(ce),e===92)return ce=t,gK();if(Kw(e))++ce;else break}return Ne.slice(t,ce)}function E8e(){var t,e,n;return t=ce,e=Ne.charCodeAt(ce)===92?gK():v8e(),e.length===1?n=Tu:b8e.hasOwnProperty(e)?n=Vd:e==="null"?n=WL:e==="true"||e==="false"?n=GL:n=Tu,{type:n,value:e,start:t,end:ce}}function w9(){var t=ce,e=Ne.charCodeAt(ce),n,i=Ne[ce],s,a,c;switch(e){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ce,{type:xs,value:String.fromCharCode(e),start:t,end:ce};default:if(n=Ne.charCodeAt(ce+1),n===61)switch(e){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ce+=2,{type:xs,value:String.fromCharCode(e)+String.fromCharCode(n),start:t,end:ce};case 33:case 61:return ce+=2,Ne.charCodeAt(ce)===61&&++ce,{type:xs,value:Ne.slice(t,ce),start:t,end:ce}}}if(c=Ne.substr(ce,4),c===">>>=")return ce+=4,{type:xs,value:c,start:t,end:ce};if(a=c.substr(0,3),a===">>>"||a==="<<="||a===">>=")return ce+=3,{type:xs,value:a,start:t,end:ce};if(s=a.substr(0,2),i===s[1]&&"+-<>&|".indexOf(i)>=0||s==="=>")return ce+=2,{type:xs,value:s,start:t,end:ce};if(s==="//"&&zt({},_i,Ii),"<>=!+-*%&|^/".indexOf(i)>=0)return++ce,{type:xs,value:i,start:t,end:ce};zt({},_i,Ii)}function S8e(t){let e="";for(;ce<qi&&uI(Ne[ce]);)e+=Ne[ce++];return e.length===0&&zt({},_i,Ii),x_(Ne.charCodeAt(ce))&&zt({},_i,Ii),{type:Ku,value:parseInt("0x"+e,16),start:t,end:ce}}function x8e(t){let e="0"+Ne[ce++];for(;ce<qi&&Sp(Ne[ce]);)e+=Ne[ce++];return(x_(Ne.charCodeAt(ce))||xl(Ne.charCodeAt(ce)))&&zt({},_i,Ii),{type:Ku,value:parseInt(e,8),octal:!0,start:t,end:ce}}function jC(){var t,e,n;if(n=Ne[ce],YL(xl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),e=ce,t="",n!=="."){if(t=Ne[ce++],n=Ne[ce],t==="0"){if(n==="x"||n==="X")return++ce,S8e(e);if(Sp(n))return x8e(e);n&&xl(n.charCodeAt(0))&&zt({},_i,Ii)}for(;xl(Ne.charCodeAt(ce));)t+=Ne[ce++];n=Ne[ce]}if(n==="."){for(t+=Ne[ce++];xl(Ne.charCodeAt(ce));)t+=Ne[ce++];n=Ne[ce]}if(n==="e"||n==="E")if(t+=Ne[ce++],n=Ne[ce],(n==="+"||n==="-")&&(t+=Ne[ce++]),xl(Ne.charCodeAt(ce)))for(;xl(Ne.charCodeAt(ce));)t+=Ne[ce++];else zt({},_i,Ii);return x_(Ne.charCodeAt(ce))&&zt({},_i,Ii),{type:Ku,value:parseFloat(t),start:e,end:ce}}function B8e(){var t="",e,n,i,s,a=!1;for(e=Ne[ce],YL(e==="'"||e==='"',"String literal must starts with a quote"),n=ce,++ce;ce<qi;)if(i=Ne[ce++],i===e){e="";break}else if(i==="\\")if(i=Ne[ce++],!i||!y3(i.charCodeAt(0)))switch(i){case"u":case"x":Ne[ce]==="{"?(++ce,t+=T8e()):t+=aT(i);break;case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:Sp(i)?(s="01234567".indexOf(i),s!==0&&(a=!0),ce<qi&&Sp(Ne[ce])&&(a=!0,s=s*8+"01234567".indexOf(Ne[ce++]),"0123".indexOf(i)>=0&&ce<qi&&Sp(Ne[ce])&&(s=s*8+"01234567".indexOf(Ne[ce++]))),t+=String.fromCharCode(s)):t+=i;break}else i==="\r"&&Ne[ce]===`
`&&++ce;else{if(y3(i.charCodeAt(0)))break;t+=i}return e!==""&&zt({},_i,Ii),{type:S_,value:t,octal:a,start:n,end:ce}}function I8e(t,e){let n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(i,s)=>{if(parseInt(s,16)<=1114111)return"x";zt({},rT)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{zt({},rT)}try{return new RegExp(t,e)}catch{return null}}function k8e(){var t,e,n,i,s;for(t=Ne[ce],YL(t==="/","Regular expression literal must start with a slash"),e=Ne[ce++],n=!1,i=!1;ce<qi;)if(t=Ne[ce++],e+=t,t==="\\")t=Ne[ce++],y3(t.charCodeAt(0))&&zt({},m9),e+=t;else if(y3(t.charCodeAt(0)))zt({},m9);else if(n)t==="]"&&(n=!1);else if(t==="/"){i=!0;break}else t==="["&&(n=!0);return i||zt({},m9),s=e.substr(1,e.length-2),{value:s,literal:e}}function F8e(){var t,e,n;for(e="",n="";ce<qi&&(t=Ne[ce],!!Kw(t.charCodeAt(0)));)++ce,t==="\\"&&ce<qi?zt({},_i,Ii):(n+=t,e+=t);return n.search(/[^gimuy]/g)>=0&&zt({},rT,n),{value:n,literal:e}}function M8e(){var t,e,n,i;return ln=null,_K(),t=ce,e=k8e(),n=F8e(),i=I8e(e.value,n.value),{literal:e.literal+n.literal,value:i,regex:{pattern:e.value,flags:n.value},start:t,end:ce}}function A8e(t){return t.type===Tu||t.type===Vd||t.type===GL||t.type===WL}function yK(){if(_K(),ce>=qi)return{type:E_,start:ce,end:ce};const t=Ne.charCodeAt(ce);return x_(t)?E8e():t===40||t===41||t===59?w9():t===39||t===34?B8e():t===46?xl(Ne.charCodeAt(ce+1))?jC():w9():xl(t)?jC():w9()}function Os(){const t=ln;return ce=t.end,ln=yK(),ce=t.end,t}function mK(){const t=ce;ln=yK(),ce=t}function O8e(t){const e=new Pa(n8e);return e.elements=t,e}function VC(t,e,n){const i=new Pa(t==="||"||t==="&&"?o8e:i8e);return i.operator=t,i.left=e,i.right=n,i}function N8e(t,e){const n=new Pa(s8e);return n.callee=t,n.arguments=e,n}function C8e(t,e,n){const i=new Pa(r8e);return i.test=t,i.consequent=e,i.alternate=n,i}function hI(t){const e=new Pa(hK);return e.name=t,e}function cp(t){const e=new Pa(a8e);return e.value=t.value,e.raw=Ne.slice(t.start,t.end),t.regex&&(e.raw==="//"&&(e.raw="/(?:)/"),e.regex=t.regex),e}function qC(t,e,n){const i=new Pa(l8e);return i.computed=t==="[",i.object=e,i.property=n,i.computed||(n.member=!0),i}function R8e(t){const e=new Pa(c8e);return e.properties=t,e}function GC(t,e,n){const i=new Pa(d8e);return i.key=e,i.value=n,i.kind=t,i}function D8e(t,e){const n=new Pa(f8e);return n.operator=t,n.argument=e,n.prefix=!0,n}function zt(t,e){var n,i=Array.prototype.slice.call(arguments,2),s=e.replace(/%(\d)/g,(a,c)=>(YL(c<i.length,"Message reference must be in range"),i[c]));throw n=new Error(s),n.index=ce,n.description=s,n}function XL(t){t.type===E_&&zt(t,g8e),t.type===Ku&&zt(t,u8e),t.type===S_&&zt(t,h8e),t.type===Tu&&zt(t,p8e),t.type===Vd&&zt(t,_8e),zt(t,_i,t.value)}function Gi(t){const e=Os();(e.type!==xs||e.value!==t)&&XL(e)}function xn(t){return ln.type===xs&&ln.value===t}function L9(t){return ln.type===Vd&&ln.value===t}function P8e(){const t=[];for(ce=ln.start,Gi("[");!xn("]");)xn(",")?(Os(),t.push(null)):(t.push(vu()),xn("]")||Gi(","));return Os(),O8e(t)}function WC(){ce=ln.start;const t=Os();return t.type===S_||t.type===Ku?(t.octal&&zt(t,pK),cp(t)):hI(t.value)}function $8e(){var t,e,n,i;if(ce=ln.start,t=ln,t.type===Tu)return n=WC(),Gi(":"),i=vu(),GC("init",n,i);if(t.type===E_||t.type===xs)XL(t);else return e=WC(),Gi(":"),i=vu(),GC("init",e,i)}function U8e(){var t=[],e,n,i,s={},a=String;for(ce=ln.start,Gi("{");!xn("}");)e=$8e(),e.key.type===hK?n=e.key.name:n=a(e.key.value),i="$"+n,Object.prototype.hasOwnProperty.call(s,i)?zt({},y8e):s[i]=!0,t.push(e),xn("}")||Gi(",");return Gi("}"),R8e(t)}function z8e(){Gi("(");const t=pI();return Gi(")"),t}const H8e={if:1};function j8e(){var t,e,n;if(xn("("))return z8e();if(xn("["))return P8e();if(xn("{"))return U8e();if(t=ln.type,ce=ln.start,t===Tu||H8e[ln.value])n=hI(Os().value);else if(t===S_||t===Ku)ln.octal&&zt(ln,pK),n=cp(Os());else{if(t===Vd)throw new Error(g3);t===GL?(e=Os(),e.value=e.value==="true",n=cp(e)):t===WL?(e=Os(),e.value=null,n=cp(e)):xn("/")||xn("/=")?(n=cp(M8e()),mK()):XL(Os())}return n}function V8e(){const t=[];if(Gi("("),!xn(")"))for(;ce<qi&&(t.push(vu()),!xn(")"));)Gi(",");return Gi(")"),t}function q8e(){ce=ln.start;const t=Os();return A8e(t)||XL(t),hI(t.value)}function G8e(){return Gi("."),q8e()}function W8e(){Gi("[");const t=pI();return Gi("]"),t}function Y8e(){var t,e,n;for(t=j8e();;)if(xn("."))n=G8e(),t=qC(".",t,n);else if(xn("("))e=V8e(),t=N8e(t,e);else if(xn("["))n=W8e(),t=qC("[",t,n);else break;return t}function YC(){const t=Y8e();if(ln.type===xs&&(xn("++")||xn("--")))throw new Error(g3);return t}function Hm(){var t,e;if(ln.type!==xs&&ln.type!==Vd)e=YC();else{if(xn("++")||xn("--"))throw new Error(g3);if(xn("+")||xn("-")||xn("~")||xn("!"))t=Os(),e=Hm(),e=D8e(t.value,e);else{if(L9("delete")||L9("void")||L9("typeof"))throw new Error(g3);e=YC()}}return e}function XC(t){let e=0;if(t.type!==xs&&t.type!==Vd)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11;break}return e}function X8e(){var t,e,n,i,s,a,c,d,f,u;if(t=ln,f=Hm(),i=ln,s=XC(i),s===0)return f;for(i.prec=s,Os(),e=[t,ln],c=Hm(),a=[f,i,c];(s=XC(ln))>0;){for(;a.length>2&&s<=a[a.length-2].prec;)c=a.pop(),d=a.pop().value,f=a.pop(),e.pop(),n=VC(d,f,c),a.push(n);i=Os(),i.prec=s,a.push(i),e.push(ln),n=Hm(),a.push(n)}for(u=a.length-1,n=a[u],e.pop();u>1;)e.pop(),n=VC(a[u-1].value,a[u-2],n),u-=2;return n}function vu(){var t,e,n;return t=X8e(),xn("?")&&(Os(),e=vu(),Gi(":"),n=vu(),t=C8e(t,e,n)),t}function pI(){const t=vu();if(xn(","))throw new Error(g3);return t}function _I(t){Ne=t,ce=0,qi=Ne.length,ln=null,mK();const e=pI();if(ln.type!==E_)throw new Error("Unexpect token after expression.");return e}var wK={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function LK(t){function e(c,d,f,u){let o=t(d[0]);return f&&(o=f+"("+o+")",f.lastIndexOf("new ",0)===0&&(o="("+o+")")),o+"."+c+(u<0?"":u===0?"()":"("+d.slice(1).map(t).join(",")+")")}function n(c,d,f){return u=>e(c,u,d,f)}const i="new Date",s="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(c){c.length<3&&de("Missing arguments to clamp function."),c.length>3&&de("Too many arguments to clamp function.");const d=c.map(t);return"Math.max("+d[1]+", Math.min("+d[2]+","+d[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:i,date:n("getDate",i,0),day:n("getDay",i,0),year:n("getFullYear",i,0),month:n("getMonth",i,0),hours:n("getHours",i,0),minutes:n("getMinutes",i,0),seconds:n("getSeconds",i,0),milliseconds:n("getMilliseconds",i,0),time:n("getTime",i,0),timezoneoffset:n("getTimezoneOffset",i,0),utcdate:n("getUTCDate",i,0),utcday:n("getUTCDay",i,0),utcyear:n("getUTCFullYear",i,0),utcmonth:n("getUTCMonth",i,0),utchours:n("getUTCHours",i,0),utcminutes:n("getUTCMinutes",i,0),utcseconds:n("getUTCSeconds",i,0),utcmilliseconds:n("getUTCMilliseconds",i,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",s,0),lower:n("toLowerCase",s,0),substring:n("substring",s),split:n("split",s),trim:n("trim",s,0),regexp:a,test:n("test",a),if:function(c){c.length<3&&de("Missing arguments to if function."),c.length>3&&de("Too many arguments to if function.");const d=c.map(t);return"("+d[0]+"?"+d[1]+":"+d[2]+")"}}}function K8e(t){const e=t&&t.length-1;return e&&(t[0]==='"'&&t[e]==='"'||t[0]==="'"&&t[e]==="'")?t.slice(1,-1):t}function bK(t){t=t||{};const e=t.allowed?ka(t.allowed):{},n=t.forbidden?ka(t.forbidden):{},i=t.constants||wK,s=(t.functions||LK)(g),a=t.globalvar,c=t.fieldvar,d=wt(a)?a:l=>`${a}["${l}"]`;let f={},u={},o=0;function g(l){if(Ie(l))return l;const b=y[l.type];return b==null&&de("Unsupported type: "+l.type),b(l)}const y={Literal:l=>l.raw,Identifier:l=>{const b=l.name;return o>0?b:$e(n,b)?de("Illegal identifier: "+b):$e(i,b)?i[b]:$e(e,b)?b:(f[b]=1,d(b))},MemberExpression:l=>{const b=!l.computed,L=g(l.object);b&&(o+=1);const E=g(l.property);return L===c&&(u[K8e(E)]=1),b&&(o-=1),L+(b?"."+E:"["+E+"]")},CallExpression:l=>{l.callee.type!=="Identifier"&&de("Illegal callee type: "+l.callee.type);const b=l.callee.name,L=l.arguments,E=$e(s,b)&&s[b];return E||de("Unrecognized function: "+b),wt(E)?E(L):E+"("+L.map(g).join(",")+")"},ArrayExpression:l=>"["+l.elements.map(g).join(",")+"]",BinaryExpression:l=>"("+g(l.left)+" "+l.operator+" "+g(l.right)+")",UnaryExpression:l=>"("+l.operator+g(l.argument)+")",ConditionalExpression:l=>"("+g(l.test)+"?"+g(l.consequent)+":"+g(l.alternate)+")",LogicalExpression:l=>"("+g(l.left)+l.operator+g(l.right)+")",ObjectExpression:l=>"{"+l.properties.map(g).join(",")+"}",Property:l=>{o+=1;const b=g(l.key);return o-=1,b+":"+g(l.value)}};function m(l){const b={code:g(l),globals:Object.keys(f),fields:Object.keys(u)};return f={},u={},b}return m.functions=s,m.constants=i,m}function b9(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Z8e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function J8e(t){let e,n,i;t.length!==2?(e=b9,n=(d,f)=>b9(t(d),f),i=(d,f)=>t(d)-f):(e=t===b9||t===Z8e?t:Q8e,n=t,i=t);function s(d,f,u=0,o=d.length){if(u<o){if(e(f,f)!==0)return o;do{const g=u+o>>>1;n(d[g],f)<0?u=g+1:o=g}while(u<o)}return u}function a(d,f,u=0,o=d.length){if(u<o){if(e(f,f)!==0)return o;do{const g=u+o>>>1;n(d[g],f)<=0?u=g+1:o=g}while(u<o)}return u}function c(d,f,u=0,o=d.length){const g=s(d,f,u,o-1);return g>u&&i(d[g-1],f)>-i(d[g],f)?g-1:g}return{left:s,center:c,right:a}}function Q8e(){return 0}function e9e(t,...e){t=new f4(t),e=e.map(t9e);e:for(const n of t)for(const i of e)if(!i.has(n)){t.delete(n);continue e}return t}function t9e(t){return t instanceof f4?t:new f4(t)}function n9e(...t){const e=new f4;for(const n of t)for(const i of n)e.add(i);return e}const gI="intersect",KC="union",i9e="vlMulti",s9e="vlPoint",ZC="or",r9e="and",oo="_vgsid_",m3=Gs(oo),a9e="E",o9e="R",l9e="R-E",c9e="R-LE",d9e="R-RE",Zw="index:unit";function JC(t,e){for(var n=e.fields,i=e.values,s=n.length,a=0,c,d;a<s;++a)if(d=n[a],d.getter=Gs.getter||Gs(d.field),c=d.getter(t),Jc(c)&&(c=Ui(c)),Jc(i[a])&&(i[a]=Ui(i[a])),Jc(i[a][0])&&(i[a]=i[a].map(Ui)),d.type===a9e){if(ue(i[a])?i[a].indexOf(c)<0:c!==i[a])return!1}else if(d.type===o9e){if(!e1(c,i[a]))return!1}else if(d.type===d9e){if(!e1(c,i[a],!0,!1))return!1}else if(d.type===l9e){if(!e1(c,i[a],!1,!1))return!1}else if(d.type===c9e&&!e1(c,i[a],!1,!0))return!1;return!0}function f9e(t,e,n){for(var i=this.context.data[t],s=i?i.values.value:[],a=i?i[Zw]&&i[Zw].value:void 0,c=n===gI,d=s.length,f=0,u,o,g,y,m;f<d;++f)if(u=s[f],a&&c){if(o=o||{},g=o[y=u.unit]||0,g===-1)continue;if(m=JC(e,u),o[y]=m?-1:++g,m&&a.size===1)return!0;if(!m&&g===a.get(y).count)return!1}else if(m=JC(e,u),c^m)return m;return d&&c}const TK=J8e(m3),u9e=TK.left,h9e=TK.right;function p9e(t,e,n){const i=this.context.data[t],s=i?i.values.value:[],a=i?i[Zw]&&i[Zw].value:void 0,c=n===gI,d=m3(e),f=u9e(s,d);if(f===s.length||m3(s[f])!==d)return!1;if(a&&c){if(a.size===1)return!0;if(h9e(s,d)-f<a.size)return!1}return!0}function _9e(t,e){return t.map(n=>mt(e.fields?{values:e.fields.map(i=>(i.getter||(i.getter=Gs(i.field)))(n.datum))}:{[oo]:m3(n.datum)},e))}function g9e(t,e,n,i){for(var s=this.context.data[t],a=s?s.values.value:[],c={},d={},f={},u,o,g,y,m,l,b,L,E,S,x=a.length,k=0,B,A;k<x;++k)if(u=a[k],y=u.unit,o=u.fields,g=u.values,o&&g){for(B=0,A=o.length;B<A;++B)m=o[B],b=c[m.field]||(c[m.field]={}),L=b[y]||(b[y]=[]),f[m.field]=E=m.type.charAt(0),S=T9[`${E}_union`],b[y]=S(L,ke(g[B]));n&&(L=d[y]||(d[y]=[]),L.push(ke(g).reduce((M,C,R)=>(M[o[R].field]=C,M),{})))}else m=oo,l=m3(u),b=c[m]||(c[m]={}),L=b[y]||(b[y]=[]),L.push(l),n&&(L=d[y]||(d[y]=[]),L.push({[oo]:l}));if(e=e||KC,c[oo]?c[oo]=T9[`${oo}_${e}`](...Object.values(c[oo])):Object.keys(c).forEach(M=>{c[M]=Object.keys(c[M]).map(C=>c[M][C]).reduce((C,R)=>C===void 0?R:T9[`${f[M]}_${e}`](C,R))}),a=Object.keys(d),n&&a.length){const M=i?s9e:i9e;c[M]=e===KC?{[ZC]:a.reduce((C,R)=>(C.push(...d[R]),C),[])}:{[r9e]:a.map(C=>({[ZC]:d[C]}))}}return c}var T9={[`${oo}_union`]:n9e,[`${oo}_intersect`]:e9e,E_union:function(t,e){if(!t.length)return e;for(var n=0,i=e.length;n<i;++n)t.indexOf(e[n])<0&&t.push(e[n]);return t},E_intersect:function(t,e){return t.length?t.filter(n=>e.indexOf(n)>=0):e},R_union:function(t,e){var n=Ui(e[0]),i=Ui(e[1]);return n>i&&(n=e[1],i=e[0]),t.length?(t[0]>n&&(t[0]=n),t[1]<i&&(t[1]=i),t):[n,i]},R_intersect:function(t,e){var n=Ui(e[0]),i=Ui(e[1]);return n>i&&(n=e[1],i=e[0]),t.length?i<t[0]||t[1]<n?[]:(t[0]<n&&(t[0]=n),t[1]>i&&(t[1]=i),t):[n,i]}};const y9e=":",m9e="@";function yI(t,e,n,i){e[0].type!==bu&&de("First argument to selection functions must be a string literal.");const s=e[0].value,a=e.length>=2&&Ct(e).value,c="unit",d=m9e+c,f=y9e+s;a===gI&&!$e(i,d)&&(i[d]=n.getData(s).indataRef(n,c)),$e(i,f)||(i[f]=n.getData(s).tuplesRef())}function vK(t){const e=this.context.data[t];return e?e.values.value:[]}function w9e(t,e,n){const i=this.context.data[t]["index:"+e],s=i?i.value.get(n):void 0;return s&&s.count}function L9e(t,e){const n=this.context.dataflow,i=this.context.data[t],s=i.input;return n.pulse(s,n.changeset().remove(Xr).insert(e)),1}function b9e(t,e,n){if(t){const i=this.context.dataflow,s=t.mark.source;i.pulse(s,i.changeset().encode(t,e))}return n!==void 0?n:t}const B_=t=>function(e,n){return this.context.dataflow.locale()[t](n)(e)},T9e=B_("format"),EK=B_("timeFormat"),v9e=B_("utcFormat"),E9e=B_("timeParse"),S9e=B_("utcParse"),Py=new Date(2e3,0,1);function KL(t,e,n){return!Number.isInteger(t)||!Number.isInteger(e)?"":(Py.setYear(2e3),Py.setMonth(t),Py.setDate(e),EK.call(this,Py,n))}function x9e(t){return KL.call(this,t,1,"%B")}function B9e(t){return KL.call(this,t,1,"%b")}function I9e(t){return KL.call(this,0,2+t,"%A")}function k9e(t){return KL.call(this,0,2+t,"%a")}const F9e=":",M9e="@",oT="%",SK="$";function mI(t,e,n,i){e[0].type!==bu&&de("First argument to data functions must be a string literal.");const s=e[0].value,a=F9e+s;if(!$e(a,i))try{i[a]=n.getData(s).tuplesRef()}catch{}}function A9e(t,e,n,i){e[0].type!==bu&&de("First argument to indata must be a string literal."),e[1].type!==bu&&de("Second argument to indata must be a string literal.");const s=e[0].value,a=e[1].value,c=M9e+a;$e(c,i)||(i[c]=n.getData(s).indataRef(n,a))}function Rs(t,e,n,i){if(e[0].type===bu)QC(n,i,e[0].value);else for(t in n.scales)QC(n,i,t)}function QC(t,e,n){const i=oT+n;if(!$e(e,i))try{e[i]=t.scaleRef(n)}catch{}}function fc(t,e){if(wt(t))return t;if(Ie(t)){const n=e.scales[t];return n&&eme(n.value)?n.value:void 0}}function O9e(t,e,n){e.__bandwidth=s=>s&&s.bandwidth?s.bandwidth():0,n._bandwidth=Rs,n._range=Rs,n._scale=Rs;const i=s=>"_["+(s.type===bu?Te(oT+s.value):Te(oT)+"+"+t(s))+"]";return{_bandwidth:s=>`this.__bandwidth(${i(s[0])})`,_range:s=>`${i(s[0])}.range()`,_scale:s=>`${i(s[0])}(${t(s[1])})`}}function wI(t,e){return function(n,i,s){if(n){const a=fc(n,(s||this).context);return a&&a.path[t](i)}else return e(i)}}const N9e=wI("area",Zde),C9e=wI("bounds",tfe),R9e=wI("centroid",ofe);function D9e(t){const e=this.context.group;let n=!1;if(e)for(;t;){if(t===e){n=!0;break}t=t.mark.group}return n}function LI(t,e,n){try{t[e].apply(t,["EXPRESSION"].concat([].slice.call(n)))}catch(i){t.warn(i)}return n[n.length-1]}function P9e(){return LI(this.context.dataflow,"warn",arguments)}function $9e(){return LI(this.context.dataflow,"info",arguments)}function U9e(){return LI(this.context.dataflow,"debug",arguments)}function v9(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function lT(t){const e=dd(t),n=v9(e.r),i=v9(e.g),s=v9(e.b);return .2126*n+.7152*i+.0722*s}function z9e(t,e){const n=lT(t),i=lT(e),s=Math.max(n,i),a=Math.min(n,i);return(s+.05)/(a+.05)}function H9e(){const t=[].slice.call(arguments);return t.unshift({}),mt(...t)}function xK(t,e){return t===e||t!==t&&e!==e?!0:ue(t)?ue(e)&&t.length===e.length?j9e(t,e):!1:Me(t)&&Me(e)?BK(t,e):!1}function j9e(t,e){for(let n=0,i=t.length;n<i;++n)if(!xK(t[n],e[n]))return!1;return!0}function BK(t,e){for(const n in t)if(!xK(t[n],e[n]))return!1;return!0}function eR(t){return e=>BK(t,e)}function V9e(t,e,n,i,s,a){const c=this.context.dataflow,d=this.context.data[t],f=d.input,u=c.stamp();let o=d.changes,g,y;if(c._trigger===!1||!(f.value.length||e||i))return 0;if((!o||o.stamp<u)&&(d.changes=o=c.changeset(),o.stamp=u,c.runAfter(()=>{d.modified=!0,c.pulse(f,o).run()},!0,1)),n&&(g=n===!0?Xr:ue(n)||SL(n)?n:eR(n),o.remove(g)),e&&o.insert(e),i&&(g=eR(i),f.value.some(g)?o.remove(g):o.insert(i)),s)for(y in a)o.modify(s,y,a[y]);return 1}function q9e(t){const e=t.touches,n=e[0].clientX-e[1].clientX,i=e[0].clientY-e[1].clientY;return Math.hypot(n,i)}function G9e(t){const e=t.touches;return Math.atan2(e[0].clientY-e[1].clientY,e[0].clientX-e[1].clientX)}const tR={};function W9e(t,e){const n=tR[e]||(tR[e]=Gs(e));return ue(t)?t.map(n):n(t)}function bI(t){return ue(t)||ArrayBuffer.isView(t)?t:null}function TI(t){return bI(t)||(Ie(t)?t:null)}function Y9e(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return bI(t).join(...n)}function X9e(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return TI(t).indexOf(...n)}function K9e(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return TI(t).lastIndexOf(...n)}function Z9e(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return TI(t).slice(...n)}function J9e(t,e,n){return wt(n)&&de("Function argument passed to replace."),String(t).replace(e,n)}function Q9e(t){return bI(t).slice().reverse()}function ebe(t,e,n){return jx(t||0,e||0,n||0)}function tbe(t,e){const n=fc(t,(e||this).context);return n&&n.bandwidth?n.bandwidth():0}function nbe(t,e){const n=fc(t,(e||this).context);return n?n.copy():void 0}function ibe(t,e){const n=fc(t,(e||this).context);return n?n.domain():[]}function sbe(t,e,n){const i=fc(t,(n||this).context);return i?ue(e)?(i.invertRange||i.invert)(e):(i.invert||i.invertExtent)(e):void 0}function rbe(t,e){const n=fc(t,(e||this).context);return n&&n.range?n.range():[]}function abe(t,e,n){const i=fc(t,(n||this).context);return i?i(e):void 0}function obe(t,e,n,i,s){t=fc(t,(s||this).context);const a=SY(e,n);let c=t.domain(),d=c[0],f=Ct(c),u=Yi;return f-d?u=hY(t,d,f):t=(t.interpolator?jt("sequential")().interpolator(t.interpolator()):jt("linear")().interpolate(t.interpolate()).range(t.range())).domain([d=0,f=1]),t.ticks&&(c=t.ticks(+i||15),d!==c[0]&&c.unshift(d),f!==Ct(c)&&c.push(f)),c.forEach(o=>a.stop(u(o),t(o))),a}function lbe(t,e,n){const i=fc(t,(n||this).context);return function(s){return i?i.path.context(s)(e):""}}function cbe(t){let e=null;return function(n){return n?f3(n,e=e||c2(t)):t}}const IK=t=>t.data;function kK(t,e){const n=vK.call(e,t);return n.root&&n.root.lookup||{}}function dbe(t,e,n){const i=kK(t,this),s=i[e],a=i[n];return s&&a?s.path(a).map(IK):void 0}function fbe(t,e){const n=kK(t,this)[e];return n?n.ancestors().map(IK):void 0}const FK=()=>typeof window<"u"&&window||null;function ube(){const t=FK();return t?t.screen:{}}function hbe(){const t=FK();return t?[t.innerWidth,t.innerHeight]:[void 0,void 0]}function pbe(){const t=this.context.dataflow,e=t.container&&t.container();return e?[e.clientWidth,e.clientHeight]:[void 0,void 0]}function MK(t,e,n){if(!t)return[];const[i,s]=t,a=new Xn().set(i[0],i[1],s[0],s[1]),c=n||this.context.dataflow.scenegraph().root;return _X(c,a,_be(e))}function _be(t){let e=null;if(t){const n=ke(t.marktype),i=ke(t.markname);e=s=>(!n.length||n.some(a=>s.marktype===a))&&(!i.length||i.some(a=>s.name===a))}return e}function gbe(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;t=ke(t);const s=t[t.length-1];return s===void 0||Math.hypot(s[0]-e,s[1]-n)>i?[...t,[e,n]]:t}function ybe(t){return ke(t).reduce((e,n,i)=>{let[s,a]=n;return e+=i==0?`M ${s},${a} `:i===t.length-1?" Z":`L ${s},${a} `},"")}function mbe(t,e,n){const{x:i,y:s,mark:a}=n,c=new Xn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[f,u]of e)f<c.x1&&(c.x1=f),f>c.x2&&(c.x2=f),u<c.y1&&(c.y1=u),u>c.y2&&(c.y2=u);return c.translate(i,s),MK([[c.x1,c.y1],[c.x2,c.y2]],t,a).filter(f=>wbe(f.x,f.y,e))}function wbe(t,e,n){let i=0;for(let s=0,a=n.length-1;s<n.length;a=s++){const[c,d]=n[a],[f,u]=n[s];u>e!=d>e&&t<(c-f)*(e-u)/(d-u)+f&&i++}return i&1}const w3={random(){return Wr()},cumulativeNormal:dL,cumulativeLogNormal:aS,cumulativeUniform:dS,densityNormal:tS,densityLogNormal:rS,densityUniform:cS,quantileNormal:fL,quantileLogNormal:oS,quantileUniform:fS,sampleNormal:cL,sampleLogNormal:sS,sampleUniform:lS,isArray:ue,isBoolean:jd,isDate:Jc,isDefined(t){return t!==void 0},isNumber:dn,isObject:Me,isRegExp:RG,isString:Ie,isTuple:SL,isValid(t){return t!=null&&t===t},toBoolean:rx,toDate(t){return ax(t)},toNumber:Ui,toString:ox,indexof:X9e,join:Y9e,lastindexof:K9e,replace:J9e,reverse:Q9e,slice:Z9e,flush:NG,lerp:DG,merge:H9e,pad:UG,peek:Ct,pluck:W9e,span:c_,inrange:e1,truncate:zG,rgb:dd,lab:y4,hcl:m4,hsl:_4,luminance:lT,contrast:z9e,sequence:hr,format:T9e,utcFormat:v9e,utcParse:S9e,utcOffset:tW,utcSequence:sW,timeFormat:EK,timeParse:E9e,timeOffset:eW,timeSequence:iW,timeUnitSpecifier:jG,monthFormat:x9e,monthAbbrevFormat:B9e,dayFormat:I9e,dayAbbrevFormat:k9e,quarter:FG,utcquarter:MG,week:qG,utcweek:YG,dayofyear:VG,utcdayofyear:WG,warn:P9e,info:$9e,debug:U9e,extent(t){return zo(t)},inScope:D9e,intersect:MK,clampRange:AG,pinchDistance:q9e,pinchAngle:G9e,screen:ube,containerSize:pbe,windowSize:hbe,bandspace:ebe,setdata:L9e,pathShape:cbe,panLinear:xG,panLog:BG,panPow:IG,panSymlog:kG,zoomLinear:QS,zoomLog:ex,zoomPow:Aw,zoomSymlog:tx,encode:b9e,modify:V9e,lassoAppend:gbe,lassoPath:ybe,intersectLasso:mbe},Lbe=["view","item","group","xy","x","y"],bbe="event.vega.",AK="this.",vI={},OK={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:t=>`_[${Te(SK+t)}]`,functions:Tbe,constants:wK,visitors:vI},cT=bK(OK);function Tbe(t){const e=LK(t);Lbe.forEach(n=>e[n]=bbe+n);for(const n in w3)e[n]=AK+n;return mt(e,O9e(t,w3,vI)),e}function Zn(t,e,n){return arguments.length===1?w3[t]:(w3[t]=e,n&&(vI[t]=n),cT&&(cT.functions[t]=AK+t),this)}Zn("bandwidth",tbe,Rs);Zn("copy",nbe,Rs);Zn("domain",ibe,Rs);Zn("range",rbe,Rs);Zn("invert",sbe,Rs);Zn("scale",abe,Rs);Zn("gradient",obe,Rs);Zn("geoArea",N9e,Rs);Zn("geoBounds",C9e,Rs);Zn("geoCentroid",R9e,Rs);Zn("geoShape",lbe,Rs);Zn("indata",w9e,A9e);Zn("data",vK,mI);Zn("treePath",dbe,mI);Zn("treeAncestors",fbe,mI);Zn("vlSelectionTest",f9e,yI);Zn("vlSelectionIdTest",p9e,yI);Zn("vlSelectionResolve",g9e,yI);Zn("vlSelectionTuples",_9e);function jo(t,e){const n={};let i;try{t=Ie(t)?t:Te(t)+"",i=_I(t)}catch{de("Expression parse error: "+t)}i.visit(a=>{if(a.type!==uK)return;const c=a.callee.name,d=OK.visitors[c];d&&d(c,a.arguments,e,n)});const s=cT(i);return s.globals.forEach(a=>{const c=SK+a;!$e(n,c)&&e.getSignal(a)&&(n[c]=e.signalRef(a))}),{$expr:mt({code:s.code},e.options.ast?{ast:i}:null),$fields:s.fields,$params:n}}function vbe(t){const e=this,n=t.operators||[];return t.background&&(e.background=t.background),t.eventConfig&&(e.eventConfig=t.eventConfig),t.locale&&(e.locale=t.locale),n.forEach(i=>e.parseOperator(i)),n.forEach(i=>e.parseOperatorParameters(i)),(t.streams||[]).forEach(i=>e.parseStream(i)),(t.updates||[]).forEach(i=>e.parseUpdate(i)),e.resolve()}const Ebe=ka(["rule"]),nR=ka(["group","image","rect"]);function Sbe(t,e){let n="";return Ebe[e]||(t.x2&&(t.x?(nR[e]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),t.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(nR[e]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),t.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function EI(t){return(t+"").toLowerCase()}function xbe(t){return EI(t)==="operator"}function Bbe(t){return EI(t)==="collect"}function m0(t,e,n){n.endsWith(";")||(n="return("+n+");");const i=Function(...e.concat(n));return t&&t.functions?i.bind(t.functions):i}function Ibe(t,e,n,i){return`((u = ${t}) < (v = ${e}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${i}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${i} : `}var kbe={operator:(t,e)=>m0(t,["_"],e.code),parameter:(t,e)=>m0(t,["datum","_"],e.code),event:(t,e)=>m0(t,["event"],e.code),handler:(t,e)=>{const n=`var datum=event.item&&event.item.datum;return ${e.code};`;return m0(t,["_","event"],n)},encode:(t,e)=>{const{marktype:n,channels:i}=e;let s="var o=item,datum=o.datum,m=0,$;";for(const a in i){const c="o["+Te(a)+"]";s+=`$=${i[a].code};if(${c}!==$)${c}=$,m=1;`}return s+=Sbe(i,n),s+="return m;",m0(t,["item","_"],s)},codegen:{get(t){const e=`[${t.map(Te).join("][")}]`,n=Function("_",`return _${e};`);return n.path=e,n},comparator(t,e){let n;const i=(a,c)=>{const d=e[c];let f,u;return a.path?(f=`a${a.path}`,u=`b${a.path}`):((n=n||{})["f"+c]=a,f=`this.f${c}(a)`,u=`this.f${c}(b)`),Ibe(f,u,-d,d)},s=Function("a","b","var u, v; return "+t.map(i).join("")+"0;");return n?s.bind(n):s}}};function Fbe(t){const e=this;xbe(t.type)||!t.type?e.operator(t,t.update?e.operatorExpression(t.update):null):e.transform(t,t.type)}function Mbe(t){const e=this;if(t.params){const n=e.get(t.id);n||de("Invalid operator id: "+t.id),e.dataflow.connect(n,n.parameters(e.parseParameters(t.params),t.react,t.initonly))}}function Abe(t,e){e=e||{};const n=this;for(const i in t){const s=t[i];e[i]=ue(s)?s.map(a=>iR(a,n,e)):iR(s,n,e)}return e}function iR(t,e,n){if(!t||!Me(t))return t;for(let i=0,s=sR.length,a;i<s;++i)if(a=sR[i],$e(t,a.key))return a.parse(t,e,n);return t}var sR=[{key:"$ref",parse:Obe},{key:"$key",parse:Cbe},{key:"$expr",parse:Nbe},{key:"$field",parse:Rbe},{key:"$encode",parse:Pbe},{key:"$compare",parse:Dbe},{key:"$context",parse:$be},{key:"$subflow",parse:Ube},{key:"$tupleid",parse:zbe}];function Obe(t,e){return e.get(t.$ref)||de("Operator not defined: "+t.$ref)}function Nbe(t,e,n){t.$params&&e.parseParameters(t.$params,n);const i="e:"+t.$expr.code;return e.fn[i]||(e.fn[i]=er(e.parameterExpression(t.$expr),t.$fields))}function Cbe(t,e){const n="k:"+t.$key+"_"+!!t.$flat;return e.fn[n]||(e.fn[n]=sx(t.$key,t.$flat,e.expr.codegen))}function Rbe(t,e){if(!t.$field)return null;const n="f:"+t.$field+"_"+t.$name;return e.fn[n]||(e.fn[n]=Gs(t.$field,t.$name,e.expr.codegen))}function Dbe(t,e){const n="c:"+t.$compare+"_"+t.$order,i=ke(t.$compare).map(s=>s&&s.$tupleid?De:s);return e.fn[n]||(e.fn[n]=nx(i,t.$order,e.expr.codegen))}function Pbe(t,e){const n=t.$encode,i={};for(const s in n){const a=n[s];i[s]=er(e.encodeExpression(a.$expr),a.$fields),i[s].output=a.$output}return i}function $be(t,e){return e}function Ube(t,e){const n=t.$subflow;return function(i,s,a){const c=e.fork().parse(n),d=c.get(n.operators[0].id),f=c.signals.parent;return f&&f.set(a),d.detachSubflow=()=>e.detach(c),d}}function zbe(){return De}function Hbe(t){var e=this,n=t.filter!=null?e.eventExpression(t.filter):void 0,i=t.stream!=null?e.get(t.stream):void 0,s;t.source?i=e.events(t.source,t.type,n):t.merge&&(s=t.merge.map(a=>e.get(a)),i=s[0].merge.apply(s[0],s.slice(1))),t.between&&(s=t.between.map(a=>e.get(a)),i=i.between(s[0],s[1])),t.filter&&(i=i.filter(n)),t.throttle!=null&&(i=i.throttle(+t.throttle)),t.debounce!=null&&(i=i.debounce(+t.debounce)),i==null&&de("Invalid stream definition: "+JSON.stringify(t)),t.consume&&i.consume(!0),e.stream(t,i)}function jbe(t){var e=this,n=Me(n=t.source)?n.$ref:n,i=e.get(n),s=null,a=t.update,c=void 0;i||de("Source not defined: "+t.source),s=t.target&&t.target.$expr?e.eventExpression(t.target.$expr):e.get(t.target),a&&a.$expr&&(a.$params&&(c=e.parseParameters(a.$params)),a=e.handlerExpression(a.$expr)),e.update(t,i,s,a,c)}const Vbe={skip:!0};function qbe(t){var e=this,n={};if(t.signals){var i=n.signals={};Object.keys(e.signals).forEach(a=>{const c=e.signals[a];t.signals(a,c)&&(i[a]=c.value)})}if(t.data){var s=n.data={};Object.keys(e.data).forEach(a=>{const c=e.data[a];t.data(a,c)&&(s[a]=c.input.value)})}return e.subcontext&&t.recurse!==!1&&(n.subcontext=e.subcontext.map(a=>a.getState(t))),n}function Gbe(t){var e=this,n=e.dataflow,i=t.data,s=t.signals;Object.keys(s||{}).forEach(a=>{n.update(e.signals[a],s[a],Vbe)}),Object.keys(i||{}).forEach(a=>{n.pulse(e.data[a].input,n.changeset().remove(Xr).insert(i[a]))}),(t.subcontext||[]).forEach((a,c)=>{const d=e.subcontext[c];d&&d.setState(a)})}function NK(t,e,n,i){return new CK(t,e,n,i)}function CK(t,e,n,i){this.dataflow=t,this.transforms=e,this.events=t.events.bind(t),this.expr=i||kbe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function rR(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.events=t.events,this.expr=t.expr,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}CK.prototype=rR.prototype={fork(){const t=new rR(this);return(this.subcontext||(this.subcontext=[])).push(t),t},detach(t){this.subcontext=this.subcontext.filter(n=>n!==t);const e=Object.keys(t.nodes);for(const n of e)t.nodes[n]._targets=null;for(const n of e)t.nodes[n].detach();t.nodes=null},get(t){return this.nodes[t]},set(t,e){return this.nodes[t]=e},add(t,e){const n=this,i=n.dataflow,s=t.value;if(n.set(t.id,e),Bbe(t.type)&&s&&(s.$ingest?i.ingest(e,s.$ingest,s.$format):s.$request?i.preload(e,s.$request,s.$format):i.pulse(e,i.changeset().insert(s))),t.root&&(n.root=e),t.parent){let a=n.get(t.parent.$ref);a?(i.connect(a,[e]),e.targets().add(a)):(n.unresolved=n.unresolved||[]).push(()=>{a=n.get(t.parent.$ref),i.connect(a,[e]),e.targets().add(a)})}if(t.signal&&(n.signals[t.signal]=e),t.scale&&(n.scales[t.scale]=e),t.data)for(const a in t.data){const c=n.data[a]||(n.data[a]={});t.data[a].forEach(d=>c[d]=e)}},resolve(){return(this.unresolved||[]).forEach(t=>t()),delete this.unresolved,this},operator(t,e){this.add(t,this.dataflow.add(t.value,e))},transform(t,e){this.add(t,this.dataflow.add(this.transforms[EI(e)]))},stream(t,e){this.set(t.id,e)},update(t,e,n,i,s){this.dataflow.on(e,n,i,s,t.options)},operatorExpression(t){return this.expr.operator(this,t)},parameterExpression(t){return this.expr.parameter(this,t)},eventExpression(t){return this.expr.event(this,t)},handlerExpression(t){return this.expr.handler(this,t)},encodeExpression(t){return this.expr.encode(this,t)},parse:vbe,parseOperator:Fbe,parseOperatorParameters:Mbe,parseParameters:Abe,parseStream:Hbe,parseUpdate:jbe,getState:qbe,setState:Gbe};function Wbe(t){const e=t.container();e&&(e.setAttribute("role","graphics-document"),e.setAttribute("aria-roleDescription","visualization"),RK(e,t.description()))}function RK(t,e){t&&(e==null?t.removeAttribute("aria-label"):t.setAttribute("aria-label",e))}function Ybe(t){t.add(null,e=>(t._background=e.bg,t._resize=1,e.bg),{bg:t._signals.background})}const E9="default";function Xbe(t){const e=t._signals.cursor||(t._signals.cursor=t.add({user:E9,item:null}));t.on(t.events("view","mousemove"),e,(n,i)=>{const s=e.value,a=s?Ie(s)?s:s.user:E9,c=i.item&&i.item.cursor||null;return s&&a===s.user&&c==s.item?s:{user:a,item:c}}),t.add(null,function(n){let i=n.cursor,s=this.value;return Ie(i)||(s=i.item,i=i.user),dT(t,i&&i!==E9?i:s||i),s},{cursor:e})}function dT(t,e){const n=t.globalCursor()?typeof document<"u"&&document.body:t.container();if(n)return e==null?n.style.removeProperty("cursor"):n.style.cursor=e}function Jw(t,e){var n=t._runtime.data;return $e(n,e)||de("Unrecognized data set: "+e),n[e]}function Kbe(t,e){return arguments.length<2?Jw(this,t).values.value:ZL.call(this,t,Yu().remove(Xr).insert(e))}function ZL(t,e){EW(e)||de("Second argument to changes must be a changeset.");const n=Jw(this,t);return n.modified=!0,this.pulse(n.input,e)}function Zbe(t,e){return ZL.call(this,t,Yu().insert(e))}function Jbe(t,e){return ZL.call(this,t,Yu().remove(e))}function DK(t){var e=t.padding();return Math.max(0,t._viewWidth+e.left+e.right)}function PK(t){var e=t.padding();return Math.max(0,t._viewHeight+e.top+e.bottom)}function JL(t){var e=t.padding(),n=t._origin;return[e.left+n[0],e.top+n[1]]}function Qbe(t){var e=JL(t),n=DK(t),i=PK(t);t._renderer.background(t.background()),t._renderer.resize(n,i,e),t._handler.origin(e),t._resizeListeners.forEach(s=>{try{s(n,i)}catch(a){t.error(a)}})}function e7e(t,e,n){var i=t._renderer,s=i&&i.canvas(),a,c,d;return s&&(d=JL(t),c=e.changedTouches?e.changedTouches[0]:e,a=jL(c,s),a[0]-=d[0],a[1]-=d[1]),e.dataflow=t,e.item=n,e.vega=t7e(t,n,a),e}function t7e(t,e,n){const i=e?e.mark.marktype==="group"?e:e.mark.group:null;function s(c){var d=i,f;if(c){for(f=e;f;f=f.mark.group)if(f.mark.name===c){d=f;break}}return d&&d.mark&&d.mark.interactive?d:{}}function a(c){if(!c)return n;Ie(c)&&(c=s(c));const d=n.slice();for(;c;)d[0]-=c.x||0,d[1]-=c.y||0,c=c.mark&&c.mark.group;return d}return{view:Xi(t),item:Xi(e||{}),group:s,xy:a,x:c=>a(c)[0],y:c=>a(c)[1]}}const aR="view",n7e="timer",i7e="window",s7e={trap:!1};function r7e(t){const e=mt({defaults:{}},t),n=(i,s)=>{s.forEach(a=>{ue(i[a])&&(i[a]=ka(i[a]))})};return n(e.defaults,["prevent","allow"]),n(e,["view","window","selector"]),e}function $K(t,e,n,i){t._eventListeners.push({type:n,sources:ke(e),handler:i})}function a7e(t,e){var n=t._eventConfig.defaults,i=n.prevent,s=n.allow;return i===!1||s===!0?!1:i===!0||s===!1?!0:i?i[e]:s?!s[e]:t.preventDefault()}function $y(t,e,n){const i=t._eventConfig&&t._eventConfig[e];return i===!1||Me(i)&&!i[n]?(t.warn(`Blocked ${e} ${n} event listener.`),!1):!0}function o7e(t,e,n){var i=this,s=new IL(n),a=function(u,o){i.runAsync(null,()=>{t===aR&&a7e(i,e)&&u.preventDefault(),s.receive(e7e(i,u,o))})},c;if(t===n7e)$y(i,"timer",e)&&i.timer(a,e);else if(t===aR)$y(i,"view",e)&&i.addEventListener(e,a,s7e);else if(t===i7e?$y(i,"window",e)&&typeof window<"u"&&(c=[window]):typeof document<"u"&&$y(i,"selector",e)&&(c=Array.from(document.querySelectorAll(t))),!c)i.warn("Can not resolve event source: "+t);else{for(var d=0,f=c.length;d<f;++d)c[d].addEventListener(e,a);$K(i,c,e,a)}return s}function oR(t){return t.item}function lR(t){return t.item.mark.source}function cR(t){return function(e,n){return n.vega.view().changeset().encode(n.item,t)}}function l7e(t,e){return t=[t||"hover"],e=[e||"update",t[0]],this.on(this.events("view","mouseover",oR),lR,cR(t)),this.on(this.events("view","mouseout",oR),lR,cR(e)),this}function c7e(){var t=this._tooltip,e=this._timers,n=this._eventListeners,i,s,a;for(i=e.length;--i>=0;)e[i].stop();for(i=n.length;--i>=0;)for(a=n[i],s=a.sources.length;--s>=0;)a.sources[s].removeEventListener(a.type,a.handler);return t&&t.call(this,this._handler,null,null,null),this}function _r(t,e,n){const i=document.createElement(t);for(const s in e)i.setAttribute(s,e[s]);return n!=null&&(i.textContent=n),i}const d7e="vega-bind",f7e="vega-bind-name",u7e="vega-bind-radio";function h7e(t,e,n){if(!e)return;const i=n.param;let s=n.state;return s||(s=n.state={elements:null,active:!1,set:null,update:c=>{c!=t.signal(i.signal)&&t.runAsync(null,()=>{s.source=!0,t.signal(i.signal,c)})}},i.debounce&&(s.update=ix(i.debounce,s.update))),(i.input==null&&i.element?p7e:g7e)(s,e,i,t),s.active||(t.on(t._signals[i.signal],null,()=>{s.source?s.source=!1:s.set(t.signal(i.signal))}),s.active=!0),s}function p7e(t,e,n,i){const s=n.event||"input",a=()=>t.update(e.value);i.signal(n.signal,e.value),e.addEventListener(s,a),$K(i,e,s,a),t.set=c=>{e.value=c,e.dispatchEvent(_7e(s))}}function _7e(t){return typeof Event<"u"?new Event(t):{type:t}}function g7e(t,e,n,i){const s=i.signal(n.signal),a=_r("div",{class:d7e}),c=n.input==="radio"?a:a.appendChild(_r("label"));c.appendChild(_r("span",{class:f7e},n.name||n.signal)),e.appendChild(a);let d=y7e;switch(n.input){case"checkbox":d=m7e;break;case"select":d=w7e;break;case"radio":d=L7e;break;case"range":d=b7e;break}d(t,c,n,s)}function y7e(t,e,n,i){const s=_r("input");for(const a in n)a!=="signal"&&a!=="element"&&s.setAttribute(a==="input"?"type":a,n[a]);s.setAttribute("name",n.signal),s.value=i,e.appendChild(s),s.addEventListener("input",()=>t.update(s.value)),t.elements=[s],t.set=a=>s.value=a}function m7e(t,e,n,i){const s={type:"checkbox",name:n.signal};i&&(s.checked=!0);const a=_r("input",s);e.appendChild(a),a.addEventListener("change",()=>t.update(a.checked)),t.elements=[a],t.set=c=>a.checked=!!c||null}function w7e(t,e,n,i){const s=_r("select",{name:n.signal}),a=n.labels||[];n.options.forEach((c,d)=>{const f={value:c};Qw(c,i)&&(f.selected=!0),s.appendChild(_r("option",f,(a[d]||c)+""))}),e.appendChild(s),s.addEventListener("change",()=>{t.update(n.options[s.selectedIndex])}),t.elements=[s],t.set=c=>{for(let d=0,f=n.options.length;d<f;++d)if(Qw(n.options[d],c)){s.selectedIndex=d;return}}}function L7e(t,e,n,i){const s=_r("span",{class:u7e}),a=n.labels||[];e.appendChild(s),t.elements=n.options.map((c,d)=>{const f={type:"radio",name:n.signal,value:c};Qw(c,i)&&(f.checked=!0);const u=_r("input",f);u.addEventListener("change",()=>t.update(c));const o=_r("label",{},(a[d]||c)+"");return o.prepend(u),s.appendChild(o),u}),t.set=c=>{const d=t.elements,f=d.length;for(let u=0;u<f;++u)Qw(d[u].value,c)&&(d[u].checked=!0)}}function b7e(t,e,n,i){i=i!==void 0?i:(+n.max+ +n.min)/2;const s=n.max!=null?n.max:Math.max(100,+i)||100,a=n.min||Math.min(0,s,+i)||0,c=n.step||ld(a,s,100),d=_r("input",{type:"range",name:n.signal,min:a,max:s,step:c});d.value=i;const f=_r("span",{},+i);e.appendChild(d),e.appendChild(f);const u=()=>{f.textContent=d.value,t.update(+d.value)};d.addEventListener("input",u),d.addEventListener("change",u),t.elements=[d],t.set=o=>{d.value=o,f.textContent=o}}function Qw(t,e){return t===e||t+""==e+""}function UK(t,e,n,i,s,a){return e=e||new i(t.loader()),e.initialize(n,DK(t),PK(t),JL(t),s,a).background(t.background())}function SI(t,e){return e?function(){try{e.apply(this,arguments)}catch(n){t.error(n)}}:null}function T7e(t,e,n,i){const s=new i(t.loader(),SI(t,t.tooltip())).scene(t.scenegraph().root).initialize(n,JL(t),t);return e&&e.handlers().forEach(a=>{s.on(a.type,a.handler)}),s}function v7e(t,e){const n=this,i=n._renderType,s=n._eventConfig.bind,a=VL(i);t=n._el=t?S9(n,t,!0):null,Wbe(n),a||n.error("Unrecognized renderer type: "+i);const c=a.handler||v_,d=t?a.renderer:a.headless;return n._renderer=d?UK(n,n._renderer,t,d):null,n._handler=T7e(n,n._handler,t,c),n._redraw=!0,t&&s!=="none"&&(e=e?n._elBind=S9(n,e,!0):t.appendChild(_r("form",{class:"vega-bindings"})),n._bind.forEach(f=>{f.param.element&&s!=="container"&&(f.element=S9(n,f.param.element,!!f.param.input))}),n._bind.forEach(f=>{h7e(n,f.element||e,f)})),n}function S9(t,e,n){if(typeof e=="string")if(typeof document<"u"){if(e=document.querySelector(e),!e)return t.error("Signal bind element not found: "+e),null}else return t.error("DOM document instance not found."),null;if(e&&n)try{e.textContent=""}catch(i){e=null,t.error(i)}return e}const w0=t=>+t||0,E7e=t=>({top:t,bottom:t,left:t,right:t});function dR(t){return Me(t)?{top:w0(t.top),bottom:w0(t.bottom),left:w0(t.left),right:w0(t.right)}:E7e(w0(t))}async function xI(t,e,n,i){const s=VL(e),a=s&&s.headless;return a||de("Unrecognized renderer type: "+e),await t.runAsync(),UK(t,null,null,a,n,i).renderAsync(t._scenegraph.root)}async function S7e(t,e){t!==qc.Canvas&&t!==qc.SVG&&t!==qc.PNG&&de("Unrecognized image type: "+t);const n=await xI(this,t,e);return t===qc.SVG?x7e(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function x7e(t,e){const n=new Blob([t],{type:e});return window.URL.createObjectURL(n)}async function B7e(t,e){return(await xI(this,qc.Canvas,t,e)).canvas()}async function I7e(t){return(await xI(this,qc.SVG,t)).svg()}function k7e(t,e,n){return NK(t,r2,w3,n).parse(e)}function F7e(t){var e=this._runtime.scales;return $e(e,t)||de("Unrecognized scale or projection: "+t),e[t].value}var zK="width",HK="height",BI="padding",fR={skip:!0};function jK(t,e){var n=t.autosize(),i=t.padding();return e-(n&&n.contains===BI?i.left+i.right:0)}function VK(t,e){var n=t.autosize(),i=t.padding();return e-(n&&n.contains===BI?i.top+i.bottom:0)}function M7e(t){var e=t._signals,n=e[zK],i=e[HK],s=e[BI];function a(){t._autosize=t._resize=1}t._resizeWidth=t.add(null,d=>{t._width=d.size,t._viewWidth=jK(t,d.size),a()},{size:n}),t._resizeHeight=t.add(null,d=>{t._height=d.size,t._viewHeight=VK(t,d.size),a()},{size:i});const c=t.add(null,a,{pad:s});t._resizeWidth.rank=n.rank+1,t._resizeHeight.rank=i.rank+1,c.rank=s.rank+1}function A7e(t,e,n,i,s,a){this.runAfter(c=>{let d=0;c._autosize=0,c.width()!==n&&(d=1,c.signal(zK,n,fR),c._resizeWidth.skip(!0)),c.height()!==i&&(d=1,c.signal(HK,i,fR),c._resizeHeight.skip(!0)),c._viewWidth!==t&&(c._resize=1,c._viewWidth=t),c._viewHeight!==e&&(c._resize=1,c._viewHeight=e),(c._origin[0]!==s[0]||c._origin[1]!==s[1])&&(c._resize=1,c._origin=s),d&&c.run("enter"),a&&c.runAfter(f=>f.resize())},!1,1)}function O7e(t){return this._runtime.getState(t||{data:N7e,signals:C7e,recurse:!0})}function N7e(t,e){return e.modified&&ue(e.input.value)&&t.indexOf("_:vega:_")}function C7e(t,e){return!(t==="parent"||e instanceof r2.proxy)}function R7e(t){return this.runAsync(null,e=>{e._trigger=!1,e._runtime.setState(t)},e=>{e._trigger=!0}),this}function D7e(t,e){function n(i){t({timestamp:Date.now(),elapsed:i})}this._timers.push(Ble(n,e))}function P7e(t,e,n,i){const s=t.element();s&&s.setAttribute("title",$7e(i))}function $7e(t){return t==null?"":ue(t)?qK(t):Me(t)&&!Jc(t)?U7e(t):t+""}function U7e(t){return Object.keys(t).map(e=>{const n=t[e];return e+": "+(ue(n)?qK(n):GK(n))}).join(`
`)}function qK(t){return"["+t.map(GK).join(", ")+"]"}function GK(t){return ue(t)?"[]":Me(t)&&!Jc(t)?"{}":t}function WK(t,e){const n=this;if(e=e||{},L1.call(n),e.loader&&n.loader(e.loader),e.logger&&n.logger(e.logger),e.logLevel!=null&&n.logLevel(e.logLevel),e.locale||t.locale){const a=mt({},t.locale,e.locale);n.locale(pW(a.number,a.time))}n._el=null,n._elBind=null,n._renderType=e.renderer||qc.Canvas,n._scenegraph=new wB;const i=n._scenegraph.root;n._renderer=null,n._tooltip=e.tooltip||P7e,n._redraw=!0,n._handler=new v_().scene(i),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=r7e(t.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const s=k7e(n,t,e.expr);n._runtime=s,n._signals=s.signals,n._bind=(t.bindings||[]).map(a=>({state:null,param:mt({},a)})),s.root&&s.root.set(i),i.source=s.data.root.input,n.pulse(s.data.root.input,n.changeset().insert(i.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=jK(n,n._width),n._viewHeight=VK(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,M7e(n),Ybe(n),Xbe(n),n.description(t.description),e.hover&&n.hover(),e.container&&n.initialize(e.container,e.bind)}function Uy(t,e){return $e(t._signals,e)?t._signals[e]:de("Unrecognized signal name: "+Te(e))}function YK(t,e){const n=(t._targets||[]).filter(i=>i._update&&i._update.handler===e);return n.length?n[0]:null}function uR(t,e,n,i){let s=YK(n,i);return s||(s=SI(t,()=>i(e,n.value)),s.handler=i,t.on(n,null,s)),t}function hR(t,e,n){const i=YK(e,n);return i&&e._targets.remove(i),t}ve(WK,L1,{async evaluate(t,e,n){if(await L1.prototype.evaluate.call(this,t,e),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Qbe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(i){this.error(i)}return n&&Fm(this,n),this},dirty(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},description(t){if(arguments.length){const e=t!=null?t+"":null;return e!==this._desc&&RK(this._el,this._desc=e),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(t,e,n){const i=Uy(this,t);return arguments.length===1?i.value:this.update(i,e,n)},width(t){return arguments.length?this.signal("width",t):this.signal("width")},height(t){return arguments.length?this.signal("height",t):this.signal("height")},padding(t){return arguments.length?this.signal("padding",dR(t)):dR(this.signal("padding"))},autosize(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},background(t){return arguments.length?this.signal("background",t):this.signal("background")},renderer(t){return arguments.length?(VL(t)||de("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},tooltip(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},loader(t){return arguments.length?(t!==this._loader&&(L1.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(Uy(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:A7e,addEventListener(t,e,n){let i=e;return n&&n.trap===!1||(i=SI(this,e),i.raw=e),this._handler.on(t,i),this},removeEventListener(t,e){for(var n=this._handler.handlers(t),i=n.length,s,a;--i>=0;)if(a=n[i].type,s=n[i].handler,t===a&&(e===s||e===s.raw)){this._handler.off(a,s);break}return this},addResizeListener(t){const e=this._resizeListeners;return e.indexOf(t)<0&&e.push(t),this},removeResizeListener(t){var e=this._resizeListeners,n=e.indexOf(t);return n>=0&&e.splice(n,1),this},addSignalListener(t,e){return uR(this,t,Uy(this,t),e)},removeSignalListener(t,e){return hR(this,Uy(this,t),e)},addDataListener(t,e){return uR(this,t,Jw(this,t).values,e)},removeDataListener(t,e){return hR(this,Jw(this,t).values,e)},globalCursor(t){if(arguments.length){if(this._globalCursor!==!!t){const e=dT(this,null);this._globalCursor=!!t,e&&dT(this,e)}return this}else return this._globalCursor},preventDefault(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},timer:D7e,events:o7e,finalize:c7e,hover:l7e,data:Kbe,change:ZL,insert:Zbe,remove:Jbe,scale:F7e,initialize:v7e,toImageURL:S7e,toCanvas:B7e,toSVG:I7e,getState:O7e,setState:R7e});const z7e="view",e6="[",t6="]",XK="{",KK="}",H7e=":",ZK=",",j7e="@",V7e=">",q7e=/[[\]{}]/,G7e={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let JK,QK;function qd(t,e,n){return JK=e||z7e,QK=n||G7e,eZ(t.trim()).map(fT)}function W7e(t){return QK[t]}function xp(t,e,n,i,s){const a=t.length;let c=0,d;for(;e<a;++e){if(d=t[e],!c&&d===n)return e;s&&s.indexOf(d)>=0?--c:i&&i.indexOf(d)>=0&&++c}return e}function eZ(t){const e=[],n=t.length;let i=0,s=0;for(;s<n;)s=xp(t,s,ZK,e6+XK,t6+KK),e.push(t.substring(i,s).trim()),i=++s;if(e.length===0)throw"Empty event selector: "+t;return e}function fT(t){return t[0]==="["?Y7e(t):X7e(t)}function Y7e(t){const e=t.length;let n=1,i;if(n=xp(t,n,t6,e6,t6),n===e)throw"Empty between selector: "+t;if(i=eZ(t.substring(1,n)),i.length!==2)throw"Between selector must have two elements: "+t;if(t=t.slice(n+1).trim(),t[0]!==V7e)throw"Expected '>' after between selector: "+t;i=i.map(fT);const s=fT(t.slice(1).trim());return s.between?{between:i,stream:s}:(s.between=i,s)}function X7e(t){const e={source:JK},n=[];let i=[0,0],s=0,a=0,c=t.length,d=0,f,u;if(t[c-1]===KK){if(d=t.lastIndexOf(XK),d>=0){try{i=K7e(t.substring(d+1,c-1))}catch{throw"Invalid throttle specification: "+t}t=t.slice(0,d).trim(),c=t.length}else throw"Unmatched right brace: "+t;d=0}if(!c)throw t;if(t[0]===j7e&&(s=++d),f=xp(t,d,H7e),f<c&&(n.push(t.substring(a,f).trim()),a=d=++f),d=xp(t,d,e6),d===c)n.push(t.substring(a,c).trim());else if(n.push(t.substring(a,d).trim()),u=[],a=++d,a===c)throw"Unmatched left bracket: "+t;for(;d<c;){if(d=xp(t,d,t6),d===c)throw"Unmatched left bracket: "+t;if(u.push(t.substring(a,d).trim()),d<c-1&&t[++d]!==e6)throw"Expected left bracket: "+t;a=++d}if(!(c=n.length)||q7e.test(n[c-1]))throw"Invalid event selector: "+t;return c>1?(e.type=n[1],s?e.markname=n[0].slice(1):W7e(n[0])?e.marktype=n[0]:e.source=n[0]):e.type=n[0],e.type.slice(-1)==="!"&&(e.consume=!0,e.type=e.type.slice(0,-1)),u!=null&&(e.filter=u),i[0]&&(e.throttle=i[0]),i[1]&&(e.debounce=i[1]),e}function K7e(t){const e=t.split(ZK);if(!t.length||e.length>2)throw t;return e.map(n=>{const i=+n;if(i!==i)throw t;return i})}function Z7e(t){return Me(t)?t:{type:t||"pad"}}const L0=t=>+t||0,J7e=t=>({top:t,bottom:t,left:t,right:t});function Q7e(t){return Me(t)?t.signal?t:{top:L0(t.top),bottom:L0(t.bottom),left:L0(t.left),right:L0(t.right)}:J7e(L0(t))}const gi=t=>Me(t)&&!ue(t)?mt({},t):{value:t};function pR(t,e,n,i){return n!=null?(Me(n)&&!ue(n)||ue(n)&&n.length&&Me(n[0])?t.update[e]=n:t[i||"enter"][e]={value:n},1):0}function Mi(t,e,n){for(const i in e)pR(t,i,e[i]);for(const i in n)pR(t,i,n[i],"update")}function V2(t,e,n){for(const i in e)n&&$e(n,i)||(t[i]=mt(t[i]||{},e[i]));return t}function Gh(t,e){return e&&(e.enter&&e.enter[t]||e.update&&e.update[t])}const II="mark",kI="frame",FI="scope",eTe="axis",tTe="axis-domain",nTe="axis-grid",iTe="axis-label",sTe="axis-tick",rTe="axis-title",aTe="legend",oTe="legend-band",lTe="legend-entry",cTe="legend-gradient",tZ="legend-label",dTe="legend-symbol",fTe="legend-title",uTe="title",hTe="title-text",pTe="title-subtitle";function _Te(t,e,n,i,s){const a={},c={};let d,f,u,o;f="lineBreak",e==="text"&&s[f]!=null&&!Gh(f,t)&&x9(a,f,s[f]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),o=n===kI?s.group:n===II?mt({},s.mark,s[e]):null;for(f in o)u=Gh(f,t)||(f==="fill"||f==="stroke")&&(Gh("fill",t)||Gh("stroke",t)),u||x9(a,f,o[f]);ke(i).forEach(g=>{const y=s.style&&s.style[g];for(const m in y)Gh(m,t)||x9(a,m,y[m])}),t=mt({},t);for(f in a)o=a[f],o.signal?(d=d||{})[f]=o:c[f]=o;return t.enter=mt(c,t.enter),d&&(t.update=mt(d,t.update)),t}function x9(t,e,n){t[e]=n&&n.signal?{signal:n.signal}:{value:n}}const nZ=t=>Ie(t)?Te(t):t.signal?`(${t.signal})`:iZ(t);function QL(t){if(t.gradient!=null)return yTe(t);let e=t.signal?`(${t.signal})`:t.color?gTe(t.color):t.field!=null?iZ(t.field):t.value!==void 0?Te(t.value):void 0;return t.scale!=null&&(e=mTe(t,e)),e===void 0&&(e=null),t.exponent!=null&&(e=`pow(${e},${jm(t.exponent)})`),t.mult!=null&&(e+=`*${jm(t.mult)}`),t.offset!=null&&(e+=`+${jm(t.offset)}`),t.round&&(e=`round(${e})`),e}const zy=(t,e,n,i)=>`(${t}(${[e,n,i].map(QL).join(",")})+'')`;function gTe(t){return t.c?zy("hcl",t.h,t.c,t.l):t.h||t.s?zy("hsl",t.h,t.s,t.l):t.l||t.a?zy("lab",t.l,t.a,t.b):t.r||t.g||t.b?zy("rgb",t.r,t.g,t.b):null}function yTe(t){const e=[t.start,t.stop,t.count].map(n=>n==null?null:Te(n));for(;e.length&&Ct(e)==null;)e.pop();return e.unshift(nZ(t.gradient)),`gradient(${e.join(",")})`}function jm(t){return Me(t)?"("+QL(t)+")":t}function iZ(t){return sZ(Me(t)?t:{datum:t})}function sZ(t){let e,n,i;if(t.signal)e="datum",i=t.signal;else if(t.group||t.parent){for(n=Math.max(1,t.level||1),e="item";n-- >0;)e+=".mark.group";t.parent?(i=t.parent,e+=".datum"):i=t.group}else t.datum?(e="datum",i=t.datum):de("Invalid field reference: "+Te(t));return t.signal||(i=Ie(i)?Jo(i).map(Te).join("]["):sZ(i)),e+"["+i+"]"}function mTe(t,e){const n=nZ(t.scale);return t.range!=null?e=`lerp(_range(${n}), ${+t.range})`:(e!==void 0&&(e=`_scale(${n}, ${e})`),t.band&&(e=(e?e+"+":"")+`_bandwidth(${n})`+(+t.band==1?"":"*"+jm(t.band)),t.extra&&(e=`(datum.extra ? _scale(${n}, datum.extra.value) : ${e})`)),e==null&&(e="0")),e}function wTe(t){let e="";return t.forEach(n=>{const i=QL(n);e+=n.test?`(${n.test})?${i}:`:i}),Ct(e)===":"&&(e+="null"),e}function rZ(t,e,n,i,s,a){const c={};a=a||{},a.encoders={$encode:c},t=_Te(t,e,n,i,s.config);for(const d in t)c[d]=LTe(t[d],e,a,s);return a}function LTe(t,e,n,i){const s={},a={};for(const c in t)t[c]!=null&&(s[c]=TTe(bTe(t[c]),i,n,a));return{$expr:{marktype:e,channels:s},$fields:Object.keys(a),$output:Object.keys(t)}}function bTe(t){return ue(t)?wTe(t):QL(t)}function TTe(t,e,n,i){const s=jo(t,e);return s.$fields.forEach(a=>i[a]=1),mt(n,s.$params),s.$expr}const vTe="outer",ETe=["value","update","init","react","bind"];function _R(t,e){de(t+' for "outer" push: '+Te(e))}function aZ(t,e){const n=t.name;if(t.push===vTe)e.signals[n]||_R("No prior signal definition",n),ETe.forEach(i=>{t[i]!==void 0&&_R("Invalid property ",i)});else{const i=e.addSignal(n,t.value);t.react===!1&&(i.react=!1),t.bind&&e.addBinding(n,t.bind)}}function uT(t,e,n,i){this.id=-1,this.type=t,this.value=e,this.params=n,i&&(this.parent=i)}function e5(t,e,n,i){return new uT(t,e,n,i)}function n6(t,e){return e5("operator",t,e)}function Re(t){const e={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(e),e}function L3(t,e){return e?{$field:t,$name:e}:{$field:t}}const hT=L3("key");function gR(t,e){return{$compare:t,$order:e}}function STe(t,e){const n={$key:t};return e&&(n.$flat=!0),n}const xTe="ascending",BTe="descending";function ITe(t){return Me(t)?(t.order===BTe?"-":"+")+t5(t.op,t.field):""}function t5(t,e){return(t&&t.signal?"$"+t.signal:t||"")+(t&&e?"_":"")+(e&&e.signal?"$"+e.signal:e||"")}const MI="scope",pT="view";function ai(t){return t&&t.signal}function kTe(t){return t&&t.expr}function Vm(t){if(ai(t))return!0;if(Me(t)){for(const e in t)if(Vm(t[e]))return!0}return!1}function ca(t,e){return t??e}function nu(t){return t&&t.signal||t}const yR="timer";function b3(t,e){return(t.merge?MTe:t.stream?ATe:t.type?OTe:de("Invalid stream specification: "+Te(t)))(t,e)}function FTe(t){return t===MI?pT:t||pT}function MTe(t,e){const n=t.merge.map(s=>b3(s,e)),i=AI({merge:n},t,e);return e.addStream(i).id}function ATe(t,e){const n=b3(t.stream,e),i=AI({stream:n},t,e);return e.addStream(i).id}function OTe(t,e){let n;t.type===yR?(n=e.event(yR,t.throttle),t={between:t.between,filter:t.filter}):n=e.event(FTe(t.source),t.type);const i=AI({stream:n},t,e);return Object.keys(i).length===1?n:e.addStream(i).id}function AI(t,e,n){let i=e.between;return i&&(i.length!==2&&de('Stream "between" parameter must have 2 entries: '+Te(e)),t.between=[b3(i[0],n),b3(i[1],n)]),i=e.filter?[].concat(e.filter):[],(e.marktype||e.markname||e.markrole)&&i.push(NTe(e.marktype,e.markname,e.markrole)),e.source===MI&&i.push("inScope(event.item)"),i.length&&(t.filter=jo("("+i.join(")&&(")+")",n).$expr),(i=e.throttle)!=null&&(t.throttle=+i),(i=e.debounce)!=null&&(t.debounce=+i),e.consume&&(t.consume=!0),t}function NTe(t,e,n){const i="event.item";return i+(t&&t!=="*"?"&&"+i+".mark.marktype==='"+t+"'":"")+(n?"&&"+i+".mark.role==='"+n+"'":"")+(e?"&&"+i+".mark.name==='"+e+"'":"")}const CTe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function RTe(t,e,n){const i=t.encode,s={target:n};let a=t.events,c=t.update,d=[];a||de("Signal update missing events specification."),Ie(a)&&(a=qd(a,e.isSubscope()?MI:pT)),a=ke(a).filter(f=>f.signal||f.scale?(d.push(f),0):1),d.length>1&&(d=[PTe(d)]),a.length&&d.push(a.length>1?{merge:a}:a[0]),i!=null&&(c&&de("Signal encode and update are mutually exclusive."),c="encode(item(),"+Te(i)+")"),s.update=Ie(c)?jo(c,e):c.expr!=null?jo(c.expr,e):c.value!=null?c.value:c.signal!=null?{$expr:CTe,$params:{$value:e.signalRef(c.signal)}}:de("Invalid signal update specification."),t.force&&(s.options={force:!0}),d.forEach(f=>e.addUpdate(mt(DTe(f,e),s)))}function DTe(t,e){return{source:t.signal?e.signalRef(t.signal):t.scale?e.scaleRef(t.scale):b3(t,e)}}function PTe(t){return{signal:"["+t.map(e=>e.scale?'scale("'+e.scale+'")':e.signal)+"]"}}function $Te(t,e){const n=e.getSignal(t.name);let i=t.update;t.init&&(i?de("Signals can not include both init and update expressions."):(i=t.init,n.initonly=!0)),i&&(i=jo(i,e),n.update=i.$expr,n.params=i.$params),t.on&&t.on.forEach(s=>RTe(s,e,n.id))}const fn=t=>(e,n,i)=>e5(t,n,e||void 0,i),oZ=fn("aggregate"),UTe=fn("axisticks"),lZ=fn("bound"),$a=fn("collect"),mR=fn("compare"),zTe=fn("datajoin"),cZ=fn("encode"),HTe=fn("expression"),jTe=fn("facet"),VTe=fn("field"),qTe=fn("key"),GTe=fn("legendentries"),WTe=fn("load"),YTe=fn("mark"),XTe=fn("multiextent"),KTe=fn("multivalues"),ZTe=fn("overlap"),JTe=fn("params"),dZ=fn("prefacet"),QTe=fn("projection"),eve=fn("proxy"),tve=fn("relay"),fZ=fn("render"),nve=fn("scale"),Zu=fn("sieve"),ive=fn("sortitems"),uZ=fn("viewlayout"),sve=fn("values");let rve=0;const hZ={min:"min",max:"max",count:"sum"};function ave(t,e){const n=t.type||"linear";oY(n)||de("Unrecognized scale type: "+Te(n)),e.addScale(t.name,{type:n,domain:void 0})}function ove(t,e){const n=e.getScale(t.name).params;let i;n.domain=pZ(t.domain,t,e),t.range!=null&&(n.range=gZ(t,e,n)),t.interpolate!=null&&yve(t.interpolate,n),t.nice!=null&&(n.nice=gve(t.nice)),t.bins!=null&&(n.bins=_ve(t.bins,e));for(i in t)$e(n,i)||i==="name"||(n[i]=Pr(t[i],e))}function Pr(t,e){return Me(t)?t.signal?e.signalRef(t.signal):de("Unsupported object: "+Te(t)):t}function qm(t,e){return t.signal?e.signalRef(t.signal):t.map(n=>Pr(n,e))}function n5(t){de("Can not find data set: "+Te(t))}function pZ(t,e,n){if(!t){(e.domainMin!=null||e.domainMax!=null)&&de("No scale domain defined for domainMin/domainMax to override.");return}return t.signal?n.signalRef(t.signal):(ue(t)?lve:t.fields?dve:cve)(t,e,n)}function lve(t,e,n){return t.map(i=>Pr(i,n))}function cve(t,e,n){const i=n.getData(t.data);return i||n5(t.data),l2(e.type)?i.valuesRef(n,t.field,_Z(t.sort,!1)):dY(e.type)?i.domainRef(n,t.field):i.extentRef(n,t.field)}function dve(t,e,n){const i=t.data,s=t.fields.reduce((a,c)=>(c=Ie(c)?{data:i,field:c}:ue(c)||c.signal?fve(c,n):c,a.push(c),a),[]);return(l2(e.type)?uve:dY(e.type)?hve:pve)(t,n,s)}function fve(t,e){const n="_:vega:_"+rve++,i=$a({});if(ue(t))i.value={$ingest:t};else if(t.signal){const s="setdata("+Te(n)+","+t.signal+")";i.params.input=e.signalRef(s)}return e.addDataPipeline(n,[i,Zu({})]),{data:n,field:"data"}}function uve(t,e,n){const i=_Z(t.sort,!0);let s,a;const c=n.map(u=>{const o=e.getData(u.data);return o||n5(u.data),o.countsRef(e,u.field,i)}),d={groupby:hT,pulse:c};i&&(s=i.op||"count",a=i.field?t5(s,i.field):"count",d.ops=[hZ[s]],d.fields=[e.fieldRef(a)],d.as=[a]),s=e.add(oZ(d));const f=e.add($a({pulse:Re(s)}));return a=e.add(sve({field:hT,sort:e.sortRef(i),pulse:Re(f)})),Re(a)}function _Z(t,e){return t&&(!t.field&&!t.op?Me(t)?t.field="key":t={field:"key"}:!t.field&&t.op!=="count"?de("No field provided for sort aggregate op: "+t.op):e&&t.field&&t.op&&!hZ[t.op]&&de("Multiple domain scales can not be sorted using "+t.op)),t}function hve(t,e,n){const i=n.map(s=>{const a=e.getData(s.data);return a||n5(s.data),a.domainRef(e,s.field)});return Re(e.add(KTe({values:i})))}function pve(t,e,n){const i=n.map(s=>{const a=e.getData(s.data);return a||n5(s.data),a.extentRef(e,s.field)});return Re(e.add(XTe({extents:i})))}function _ve(t,e){return t.signal||ue(t)?qm(t,e):e.objectProperty(t)}function gve(t){return Me(t)?{interval:Pr(t.interval),step:Pr(t.step)}:Pr(t)}function yve(t,e){e.interpolate=Pr(t.type||t),t.gamma!=null&&(e.interpolateGamma=Pr(t.gamma))}function gZ(t,e,n){const i=e.config.range;let s=t.range;if(s.signal)return e.signalRef(s.signal);if(Ie(s)){if(i&&$e(i,s))return t=mt({},t,{range:i[s]}),gZ(t,e,n);s==="width"?s=[0,{signal:"width"}]:s==="height"?s=l2(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:de("Unrecognized scale range value: "+Te(s))}else if(s.scheme){n.scheme=ue(s.scheme)?qm(s.scheme,e):Pr(s.scheme,e),s.extent&&(n.schemeExtent=qm(s.extent,e)),s.count&&(n.schemeCount=Pr(s.count,e));return}else if(s.step){n.rangeStep=Pr(s.step,e);return}else{if(l2(t.type)&&!ue(s))return pZ(s,t,e);ue(s)||de("Unsupported range type: "+Te(s))}return s.map(a=>(ue(a)?qm:Pr)(a,e))}function mve(t,e){const n=e.config.projection||{},i={};for(const s in t)s!=="name"&&(i[s]=_T(t[s],s,e));for(const s in n)i[s]==null&&(i[s]=_T(n[s],s,e));e.addProjection(t.name,i)}function _T(t,e,n){return ue(t)?t.map(i=>_T(i,e,n)):Me(t)?t.signal?n.signalRef(t.signal):e==="fit"?t:de("Unsupported parameter object: "+Te(t)):t}const Ua="top",q2="left",G2="right",vd="bottom",yZ="center",wve="vertical",Lve="start",bve="middle",Tve="end",gT="index",OI="label",vve="offset",p2="perc",Eve="perc2",zr="value",I_="guide-label",NI="guide-title",Sve="group-title",xve="group-subtitle",wR="symbol",Gm="gradient",yT="discrete",mT="size",Bve="shape",Ive="fill",kve="stroke",Fve="strokeWidth",Mve="strokeDash",Ave="opacity",CI=[mT,Bve,Ive,kve,Fve,Mve,Ave],k_={name:1,style:1,interactive:1},Ut={value:0},Hr={value:1},i5="group",mZ="rect",RI="rule",Ove="symbol",Ju="text";function T3(t){return t.type=i5,t.interactive=t.interactive||!1,t}function tr(t,e){const n=(i,s)=>ca(t[i],ca(e[i],s));return n.isVertical=i=>wve===ca(t.direction,e.direction||(i?e.symbolDirection:e.gradientDirection)),n.gradientLength=()=>ca(t.gradientLength,e.gradientLength||e.gradientWidth),n.gradientThickness=()=>ca(t.gradientThickness,e.gradientThickness||e.gradientHeight),n.entryColumns=()=>ca(t.columns,ca(e.columns,+n.isVertical(!0))),n}function wZ(t,e){const n=e&&(e.update&&e.update[t]||e.enter&&e.enter[t]);return n&&n.signal?n:n?n.value:null}function Nve(t,e,n){const i=e.config.style[n];return i&&i[t]}function s5(t,e,n){return`item.anchor === '${Lve}' ? ${t} : item.anchor === '${Tve}' ? ${e} : ${n}`}const DI=s5(Te(q2),Te(G2),Te(yZ));function Cve(t){const e=t("tickBand");let n=t("tickOffset"),i,s;return e?e.signal?(i={signal:`(${e.signal}) === 'extent' ? 1 : 0.5`},s={signal:`(${e.signal}) === 'extent'`},Me(n)||(n={signal:`(${e.signal}) === 'extent' ? 0 : ${n}`})):e==="extent"?(i=1,s=!0,n=0):(i=.5,s=!1):(i=t("bandPosition"),s=t("tickExtra")),{extra:s,band:i,offset:n}}function LZ(t,e){return e?t?Me(t)?Object.assign({},t,{offset:LZ(t.offset,e)}):{value:t,offset:e}:e:t}function vr(t,e){return e?(t.name=e.name,t.style=e.style||t.style,t.interactive=!!e.interactive,t.encode=V2(t.encode,e,k_)):t.interactive=!1,t}function Rve(t,e,n,i){const s=tr(t,n),a=s.isVertical(),c=s.gradientThickness(),d=s.gradientLength();let f,u,o,g,y;a?(u=[0,1],o=[0,0],g=c,y=d):(u=[0,0],o=[1,0],g=d,y=c);const m={enter:f={opacity:Ut,x:Ut,y:Ut,width:gi(g),height:gi(y)},update:mt({},f,{opacity:Hr,fill:{gradient:e,start:u,stop:o}}),exit:{opacity:Ut}};return Mi(m,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),vr({type:mZ,role:cTe,encode:m},i)}function Dve(t,e,n,i,s){const a=tr(t,n),c=a.isVertical(),d=a.gradientThickness(),f=a.gradientLength();let u,o,g,y,m="";c?(u="y",g="y2",o="x",y="width",m="1-"):(u="x",g="x2",o="y",y="height");const l={opacity:Ut,fill:{scale:e,field:zr}};l[u]={signal:m+"datum."+p2,mult:f},l[o]=Ut,l[g]={signal:m+"datum."+Eve,mult:f},l[y]=gi(d);const b={enter:l,update:mt({},l,{opacity:Hr}),exit:{opacity:Ut}};return Mi(b,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),vr({type:mZ,role:oTe,key:zr,from:s,encode:b},i)}const Pve=`datum.${p2}<=0?"${q2}":datum.${p2}>=1?"${G2}":"${yZ}"`,$ve=`datum.${p2}<=0?"${vd}":datum.${p2}>=1?"${Ua}":"${bve}"`;function LR(t,e,n,i){const s=tr(t,e),a=s.isVertical(),c=gi(s.gradientThickness()),d=s.gradientLength();let f=s("labelOverlap"),u,o,g,y,m="";const l={enter:u={opacity:Ut},update:o={opacity:Hr,text:{field:OI}},exit:{opacity:Ut}};return Mi(l,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:ca(t.labelLimit,e.gradientLabelLimit)}),a?(u.align={value:"left"},u.baseline=o.baseline={signal:$ve},g="y",y="x",m="1-"):(u.align=o.align={signal:Pve},u.baseline={value:"top"},g="x",y="y"),u[g]=o[g]={signal:m+"datum."+p2,mult:d},u[y]=o[y]=c,c.offset=ca(t.labelOffset,e.gradientLabelOffset)||0,f=f?{separation:s("labelSeparation"),method:f,order:"datum."+gT}:void 0,vr({type:Ju,role:tZ,style:I_,key:zr,from:i,encode:l,overlap:f},n)}function Uve(t,e,n,i,s){const a=tr(t,e),c=n.entries,d=!!(c&&c.interactive),f=c?c.name:void 0,u=a("clipHeight"),o=a("symbolOffset"),g={data:"value"},y=`(${s}) ? datum.${vve} : datum.${mT}`,m=u?gi(u):{field:mT},l=`datum.${gT}`,b=`max(1, ${s})`;let L,E,S,x,k;m.mult=.5,L={enter:E={opacity:Ut,x:{signal:y,mult:.5,offset:o},y:m},update:S={opacity:Hr,x:E.x,y:E.y},exit:{opacity:Ut}};let B=null,A=null;t.fill||(B=e.symbolBaseFillColor,A=e.symbolBaseStrokeColor),Mi(L,{fill:a("symbolFillColor",B),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",A),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),CI.forEach(D=>{t[D]&&(S[D]=E[D]={scale:t[D],field:zr})});const M=vr({type:Ove,role:dTe,key:zr,from:g,clip:u?!0:void 0,encode:L},n.symbols),C=gi(o);C.offset=a("labelOffset"),L={enter:E={opacity:Ut,x:{signal:y,offset:C},y:m},update:S={opacity:Hr,text:{field:OI},x:E.x,y:E.y},exit:{opacity:Ut}},Mi(L,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});const R=vr({type:Ju,role:tZ,style:I_,key:zr,from:g,encode:L},n.labels);return L={enter:{noBound:{value:!u},width:Ut,height:u?gi(u):Ut,opacity:Ut},exit:{opacity:Ut},update:S={opacity:Hr,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(x=`ceil(item.mark.items.length / ${b})`,S.row.signal=`${l}%${x}`,S.column.signal=`floor(${l} / ${x})`,k={field:["row",l]}):(S.row.signal=`floor(${l} / ${b})`,S.column.signal=`${l} % ${b}`,k={field:l}),S.column.signal=`(${s})?${S.column.signal}:${l}`,i={facet:{data:i,name:"value",groupby:gT}},T3({role:FI,from:i,encode:V2(L,c,k_),marks:[M,R],name:f,interactive:d,sort:k})}function zve(t,e){const n=tr(t,e);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const PI='item.orient === "left"',$I='item.orient === "right"',r5=`(${PI} || ${$I})`,Hve=`datum.vgrad && ${r5}`,jve=s5('"top"','"bottom"','"middle"'),Vve=s5('"right"','"left"','"center"'),qve=`datum.vgrad && ${$I} ? (${Vve}) : (${r5} && !(datum.vgrad && ${PI})) ? "left" : ${DI}`,Gve=`item._anchor || (${r5} ? "middle" : "start")`,Wve=`${Hve} ? (${PI} ? -90 : 90) : 0`,Yve=`${r5} ? (datum.vgrad ? (${$I} ? "bottom" : "top") : ${jve}) : "top"`;function Xve(t,e,n,i){const s=tr(t,e),a={enter:{opacity:Ut},update:{opacity:Hr,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ut}};return Mi(a,{orient:s("titleOrient"),_anchor:s("titleAnchor"),anchor:{signal:Gve},angle:{signal:Wve},align:{signal:qve},baseline:{signal:Yve},text:t.title,fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit"),lineHeight:s("titleLineHeight")},{align:s("titleAlign"),baseline:s("titleBaseline")}),vr({type:Ju,role:fTe,style:NI,from:i,encode:a},n)}function Kve(t,e){let n;return Me(t)&&(t.signal?n=t.signal:t.path?n="pathShape("+bR(t.path)+")":t.sphere&&(n="geoShape("+bR(t.sphere)+', {type: "Sphere"})')),n?e.signalRef(n):!!t}function bR(t){return Me(t)&&t.signal?t.signal:Te(t)}function bZ(t){const e=t.role||"";return!e.indexOf("axis")||!e.indexOf("legend")||!e.indexOf("title")?e:t.type===i5?FI:e||II}function Zve(t){return{marktype:t.type,name:t.name||void 0,role:t.role||bZ(t),zindex:+t.zindex||void 0,aria:t.aria,description:t.description}}function Jve(t,e){return t&&t.signal?e.signalRef(t.signal):t!==!1}function UI(t,e){const n=BW(t.type);n||de("Unrecognized transform type: "+Te(t.type));const i=e5(n.type.toLowerCase(),null,TZ(n,t,e));return t.signal&&e.addSignal(t.signal,e.proxy(i)),i.metadata=n.metadata||{},i}function TZ(t,e,n){const i={},s=t.params.length;for(let a=0;a<s;++a){const c=t.params[a];i[c.name]=Qve(c,e,n)}return i}function Qve(t,e,n){const i=t.type,s=e[t.name];if(i==="index")return eEe(t,e,n);if(s===void 0){t.required&&de("Missing required "+Te(e.type)+" parameter: "+Te(t.name));return}else{if(i==="param")return tEe(t,e,n);if(i==="projection")return n.projectionRef(e[t.name])}return t.array&&!ai(s)?s.map(a=>TR(t,a,n)):TR(t,s,n)}function TR(t,e,n){const i=t.type;if(ai(e))return ER(i)?de("Expression references can not be signals."):B9(i)?n.fieldRef(e):SR(i)?n.compareRef(e):n.signalRef(e.signal);{const s=t.expr||B9(i);return s&&nEe(e)?n.exprRef(e.expr,e.as):s&&iEe(e)?L3(e.field,e.as):ER(i)?jo(e,n):sEe(i)?Re(n.getData(e).values):B9(i)?L3(e):SR(i)?n.compareRef(e):e}}function eEe(t,e,n){return Ie(e.from)||de('Lookup "from" parameter must be a string literal.'),n.getData(e.from).lookupRef(n,e.key)}function tEe(t,e,n){const i=e[t.name];return t.array?(ue(i)||de("Expected an array of sub-parameters. Instead: "+Te(i)),i.map(s=>vR(t,s,n))):vR(t,i,n)}function vR(t,e,n){const i=t.params.length;let s;for(let c=0;c<i;++c){s=t.params[c];for(const d in s.key)if(s.key[d]!==e[d]){s=null;break}if(s)break}s||de("Unsupported parameter: "+Te(e));const a=mt(TZ(s,e,n),s.key);return Re(n.add(JTe(a)))}const nEe=t=>t&&t.expr,iEe=t=>t&&t.field,sEe=t=>t==="data",ER=t=>t==="expr",B9=t=>t==="field",SR=t=>t==="compare";function rEe(t,e,n){let i,s,a,c,d;return t?(i=t.facet)&&(e||de("Only group marks can be faceted."),i.field!=null?c=d=Wm(i,n):(t.data?d=Re(n.getData(t.data).aggregate):(a=UI(mt({type:"aggregate",groupby:ke(i.groupby)},i.aggregate),n),a.params.key=n.keyRef(i.groupby),a.params.pulse=Wm(i,n),c=d=Re(n.add(a))),s=n.keyRef(i.groupby,!0))):c=Re(n.add($a(null,[{}]))),c||(c=Wm(t,n)),{key:s,pulse:c,parent:d}}function Wm(t,e){return t.$ref?t:t.data&&t.data.$ref?t.data:Re(e.getData(t.data).output)}function Eu(t,e,n,i,s){this.scope=t,this.input=e,this.output=n,this.values=i,this.aggregate=s,this.index={}}Eu.fromEntries=function(t,e){const n=e.length,i=e[n-1],s=e[n-2];let a=e[0],c=null,d=1;for(a&&a.type==="load"&&(a=e[1]),t.add(e[0]);d<n;++d)e[d].params.pulse=Re(e[d-1]),t.add(e[d]),e[d].type==="aggregate"&&(c=e[d]);return new Eu(t,a,s,i,c)};function vZ(t){return Ie(t)?t:null}function xR(t,e,n){const i=t5(n.op,n.field);let s;if(e.ops){for(let a=0,c=e.as.length;a<c;++a)if(e.as[a]===i)return}else e.ops=["count"],e.fields=[null],e.as=["count"];n.op&&(e.ops.push((s=n.op.signal)?t.signalRef(s):n.op),e.fields.push(t.fieldRef(n.field)),e.as.push(i))}function b0(t,e,n,i,s,a,c){const d=e[n]||(e[n]={}),f=ITe(a);let u=vZ(s),o,g;if(u!=null&&(t=e.scope,u=u+(f?"|"+f:""),o=d[u]),!o){const y=a?{field:hT,pulse:e.countsRef(t,s,a)}:{field:t.fieldRef(s),pulse:Re(e.output)};f&&(y.sort=t.sortRef(a)),g=t.add(e5(i,void 0,y)),c&&(e.index[s]=g),o=Re(g),u!=null&&(d[u]=o)}return o}Eu.prototype={countsRef(t,e,n){const i=this,s=i.counts||(i.counts={}),a=vZ(e);let c,d,f;return a!=null&&(t=i.scope,c=s[a]),c?n&&n.field&&xR(t,c.agg.params,n):(f={groupby:t.fieldRef(e,"key"),pulse:Re(i.output)},n&&n.field&&xR(t,f,n),d=t.add(oZ(f)),c=t.add($a({pulse:Re(d)})),c={agg:d,ref:Re(c)},a!=null&&(s[a]=c)),c.ref},tuplesRef(){return Re(this.values)},extentRef(t,e){return b0(t,this,"extent","extent",e,!1)},domainRef(t,e){return b0(t,this,"domain","values",e,!1)},valuesRef(t,e,n){return b0(t,this,"vals","values",e,n||!0)},lookupRef(t,e){return b0(t,this,"lookup","tupleindex",e,!1)},indataRef(t,e){return b0(t,this,"indata","tupleindex",e,!0,!0)}};function aEe(t,e,n){const i=t.from.facet,s=i.name,a=Wm(i,e);let c;i.name||de("Facet must have a name: "+Te(i)),i.data||de("Facet must reference a data set: "+Te(i)),i.field?c=e.add(dZ({field:e.fieldRef(i.field),pulse:a})):i.groupby?c=e.add(jTe({key:e.keyRef(i.groupby),group:Re(e.proxy(n.parent)),pulse:a})):de("Facet must specify groupby or field: "+Te(i));const d=e.fork(),f=d.add($a()),u=d.add(Zu({pulse:Re(f)}));d.addData(s,new Eu(d,f,f,u)),d.addSignal("parent",null),c.params.subflow={$subflow:d.parse(t).toRuntime()}}function oEe(t,e,n){const i=e.add(dZ({pulse:n.pulse})),s=e.fork();s.add(Zu()),s.addSignal("parent",null),i.params.subflow={$subflow:s.parse(t).toRuntime()}}function EZ(t,e,n){const i=t.remove,s=t.insert,a=t.toggle,c=t.modify,d=t.values,f=e.add(n6()),u="if("+t.trigger+',modify("'+n+'",'+[s,i,a,c,d].map(g=>g??"null").join(",")+"),0)",o=jo(u,e);f.update=o.$expr,f.params=o.$params}function a5(t,e){const n=bZ(t),i=t.type===i5,s=t.from&&t.from.facet,a=t.overlap;let c=t.layout||n===FI||n===kI,d,f,u,o,g,y,m;const l=n===II||c||s,b=rEe(t.from,i,e);f=e.add(zTe({key:b.key||(t.key?L3(t.key):void 0),pulse:b.pulse,clean:!i}));const L=Re(f);f=u=e.add($a({pulse:L})),f=e.add(YTe({markdef:Zve(t),interactive:Jve(t.interactive,e),clip:Kve(t.clip,e),context:{$context:!0},groups:e.lookup(),parent:e.signals.parent?e.signalRef("parent"):null,index:e.markpath(),pulse:Re(f)}));const E=Re(f);f=o=e.add(cZ(rZ(t.encode,t.type,n,t.style,e,{mod:!1,pulse:E}))),f.params.parent=e.encode(),t.transform&&t.transform.forEach(A=>{const M=UI(A,e),C=M.metadata;(C.generates||C.changes)&&de("Mark transforms should not generate new data."),C.nomod||(o.params.mod=!0),M.params.pulse=Re(f),e.add(f=M)}),t.sort&&(f=e.add(ive({sort:e.compareRef(t.sort),pulse:Re(f)})));const S=Re(f);(s||c)&&(c=e.add(uZ({layout:e.objectProperty(t.layout),legends:e.legends,mark:E,pulse:S})),y=Re(c));const x=e.add(lZ({mark:E,pulse:y||S}));m=Re(x),i&&(l&&(d=e.operators,d.pop(),c&&d.pop()),e.pushState(S,y||m,L),s?aEe(t,e,b):l?oEe(t,e,b):e.parse(t),e.popState(),l&&(c&&d.push(c),d.push(x))),a&&(m=lEe(a,m,e));const k=e.add(fZ({pulse:m})),B=e.add(Zu({pulse:Re(k)},void 0,e.parent()));t.name!=null&&(g=t.name,e.addData(g,new Eu(e,u,k,B)),t.on&&t.on.forEach(A=>{(A.insert||A.remove||A.toggle)&&de("Marks only support modify triggers."),EZ(A,e,g)}))}function lEe(t,e,n){const i=t.method,s=t.bound,a=t.separation,c={separation:ai(a)?n.signalRef(a.signal):a,method:ai(i)?n.signalRef(i.signal):i,pulse:e};if(t.order&&(c.sort=n.compareRef({field:t.order})),s){const d=s.tolerance;c.boundTolerance=ai(d)?n.signalRef(d.signal):+d,c.boundScale=n.scaleRef(s.scale),c.boundOrient=s.orient}return Re(n.add(ZTe(c)))}function cEe(t,e){const n=e.config.legend,i=t.encode||{},s=tr(t,n),a=i.legend||{},c=a.name||void 0,d=a.interactive,f=a.style,u={};let o=0,g,y,m;CI.forEach(x=>t[x]?(u[x]=t[x],o=o||t[x]):0),o||de("Missing valid scale for legend.");const l=dEe(t,e.scaleType(o)),b={title:t.title!=null,scales:u,type:l,vgrad:l!=="symbol"&&s.isVertical()},L=Re(e.add($a(null,[b]))),E={enter:{x:{value:0},y:{value:0}}},S=Re(e.add(GTe(y={type:l,scale:e.scaleRef(o),count:e.objectProperty(s("tickCount")),limit:e.property(s("symbolLimit")),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)})));return l===Gm?(m=[Rve(t,o,n,i.gradient),LR(t,n,i.labels,S)],y.count=y.count||e.signalRef(`max(2,2*floor((${nu(s.gradientLength())})/100))`)):l===yT?m=[Dve(t,o,n,i.gradient,S),LR(t,n,i.labels,S)]:(g=zve(t,n),m=[Uve(t,n,i,S,nu(g.columns))],y.size=hEe(t,e,m[0].marks)),m=[T3({role:lTe,from:L,encode:E,marks:m,layout:g,interactive:d})],b.title&&m.push(Xve(t,n,i.title,L)),a5(T3({role:aTe,from:L,encode:V2(uEe(s,t,n),a,k_),marks:m,aria:s("aria"),description:s("description"),zindex:s("zindex"),name:c,interactive:d,style:f}),e)}function dEe(t,e){let n=t.type||wR;return!t.type&&fEe(t)===1&&(t.fill||t.stroke)&&(n=Yx(e)?Gm:A7(e)?yT:wR),n!==Gm?n:A7(e)?yT:Gm}function fEe(t){return CI.reduce((e,n)=>e+(t[n]?1:0),0)}function uEe(t,e,n){const i={enter:{},update:{}};return Mi(i,{orient:t("orient"),offset:t("offset"),padding:t("padding"),titlePadding:t("titlePadding"),cornerRadius:t("cornerRadius"),fill:t("fillColor"),stroke:t("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:t("legendX"),y:t("legendY"),format:e.format,formatType:e.formatType}),i}function hEe(t,e,n){const i=nu(BR("size",t,n)),s=nu(BR("strokeWidth",t,n)),a=nu(pEe(n[1].encode,e,I_));return jo(`max(ceil(sqrt(${i})+${s}),${a})`,e)}function BR(t,e,n){return e[t]?`scale("${e[t]}",datum)`:wZ(t,n[0].encode)}function pEe(t,e,n){return wZ("fontSize",t)||Nve("fontSize",e,n)}const _Ee=`item.orient==="${q2}"?-90:item.orient==="${G2}"?90:0`;function gEe(t,e){t=Ie(t)?{text:t}:t;const n=tr(t,e.config.title),i=t.encode||{},s=i.group||{},a=s.name||void 0,c=s.interactive,d=s.style,f=[],u={},o=Re(e.add($a(null,[u])));return f.push(wEe(t,n,yEe(t),o)),t.subtitle&&f.push(LEe(t,n,i.subtitle,o)),a5(T3({role:uTe,from:o,encode:mEe(n,s),marks:f,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:a,interactive:c,style:d}),e)}function yEe(t){const e=t.encode;return e&&e.title||mt({name:t.name,interactive:t.interactive,style:t.style},e)}function mEe(t,e){const n={enter:{},update:{}};return Mi(n,{orient:t("orient"),anchor:t("anchor"),align:{signal:DI},angle:{signal:_Ee},limit:t("limit"),frame:t("frame"),offset:t("offset")||0,padding:t("subtitlePadding")}),V2(n,e,k_)}function wEe(t,e,n,i){const s={value:0},a=t.text,c={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return Mi(c,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("color"),font:e("font"),fontSize:e("fontSize"),fontStyle:e("fontStyle"),fontWeight:e("fontWeight"),lineHeight:e("lineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),vr({type:Ju,role:hTe,style:Sve,from:i,encode:c},n)}function LEe(t,e,n,i){const s={value:0},a=t.subtitle,c={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return Mi(c,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("subtitleColor"),font:e("subtitleFont"),fontSize:e("subtitleFontSize"),fontStyle:e("subtitleFontStyle"),fontWeight:e("subtitleFontWeight"),lineHeight:e("subtitleLineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),vr({type:Ju,role:pTe,style:xve,from:i,encode:c},n)}function bEe(t,e){const n=[];t.transform&&t.transform.forEach(i=>{n.push(UI(i,e))}),t.on&&t.on.forEach(i=>{EZ(i,e,t.name)}),e.addDataPipeline(t.name,TEe(t,e,n))}function TEe(t,e,n){const i=[];let s=null,a=!1,c=!1,d,f,u,o,g;for(t.values?ai(t.values)||Vm(t.format)?(i.push(IR(e,t)),i.push(s=rf())):i.push(s=rf({$ingest:t.values,$format:t.format})):t.url?Vm(t.url)||Vm(t.format)?(i.push(IR(e,t)),i.push(s=rf())):i.push(s=rf({$request:t.url,$format:t.format})):t.source&&(s=d=ke(t.source).map(y=>Re(e.getData(y).output)),i.push(null)),f=0,u=n.length;f<u;++f)o=n[f],g=o.metadata,!s&&!g.source&&i.push(s=rf()),i.push(o),g.generates&&(c=!0),g.modifies&&!c&&(a=!0),g.source?s=o:g.changes&&(s=null);return d&&(u=d.length-1,i[0]=tve({derive:a,pulse:u?d:d[0]}),(a||u)&&i.splice(1,0,rf())),s||i.push(rf()),i.push(Zu({})),i}function rf(t){const e=$a({},t);return e.metadata={source:!0},e}function IR(t,e){return WTe({url:e.url?t.property(e.url):void 0,async:e.async?t.property(e.async):void 0,values:e.values?t.property(e.values):void 0,format:t.objectProperty(e.format)})}const SZ=t=>t===vd||t===Ua,o5=(t,e,n)=>ai(t)?xEe(t.signal,e,n):t===q2||t===Ua?e:n,yi=(t,e,n)=>ai(t)?EEe(t.signal,e,n):SZ(t)?e:n,Ea=(t,e,n)=>ai(t)?SEe(t.signal,e,n):SZ(t)?n:e,xZ=(t,e,n)=>ai(t)?BEe(t.signal,e,n):t===Ua?{value:e}:{value:n},vEe=(t,e,n)=>ai(t)?IEe(t.signal,e,n):t===G2?{value:e}:{value:n},EEe=(t,e,n)=>BZ(`${t} === '${Ua}' || ${t} === '${vd}'`,e,n),SEe=(t,e,n)=>BZ(`${t} !== '${Ua}' && ${t} !== '${vd}'`,e,n),xEe=(t,e,n)=>zI(`${t} === '${q2}' || ${t} === '${Ua}'`,e,n),BEe=(t,e,n)=>zI(`${t} === '${Ua}'`,e,n),IEe=(t,e,n)=>zI(`${t} === '${G2}'`,e,n),BZ=(t,e,n)=>(e=e!=null?gi(e):e,n=n!=null?gi(n):n,kR(e)&&kR(n)?(e=e?e.signal||Te(e.value):null,n=n?n.signal||Te(n.value):null,{signal:`${t} ? (${e}) : (${n})`}):[mt({test:t},e)].concat(n||[])),kR=t=>t==null||Object.keys(t).length===1,zI=(t,e,n)=>({signal:`${t} ? (${i1(e)}) : (${i1(n)})`}),kEe=(t,e,n,i,s)=>({signal:(i!=null?`${t} === '${q2}' ? (${i1(i)}) : `:"")+(n!=null?`${t} === '${vd}' ? (${i1(n)}) : `:"")+(s!=null?`${t} === '${G2}' ? (${i1(s)}) : `:"")+(e!=null?`${t} === '${Ua}' ? (${i1(e)}) : `:"")+"(null)"}),i1=t=>ai(t)?t.signal:t==null?null:Te(t),FEe=(t,e)=>e===0?0:ai(t)?{signal:`(${t.signal}) * ${e}`}:{value:t*e},b1=(t,e)=>{const n=t.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+e.signal}:t};function yh(t,e,n,i){let s;if(e&&$e(e,t))return e[t];if($e(n,t))return n[t];if(t.startsWith("title")){switch(t){case"titleColor":s="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":s=t[5].toLowerCase()+t.slice(6)}return i[NI][s]}else if(t.startsWith("label")){switch(t){case"labelColor":s="fill";break;case"labelFont":case"labelFontSize":s=t[5].toLowerCase()+t.slice(6)}return i[I_][s]}return null}function FR(t){const e={};for(const n of t)if(n)for(const i in n)e[i]=1;return Object.keys(e)}function MEe(t,e){var n=e.config,i=n.style,s=n.axis,a=e.scaleType(t.scale)==="band"&&n.axisBand,c=t.orient,d,f,u;if(ai(c)){const g=FR([n.axisX,n.axisY]),y=FR([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);d={};for(u of g)d[u]=yi(c,yh(u,n.axisX,s,i),yh(u,n.axisY,s,i));f={};for(u of y)f[u]=kEe(c.signal,yh(u,n.axisTop,s,i),yh(u,n.axisBottom,s,i),yh(u,n.axisLeft,s,i),yh(u,n.axisRight,s,i))}else d=c===Ua||c===vd?n.axisX:n.axisY,f=n["axis"+c[0].toUpperCase()+c.slice(1)];return d||f||a?mt({},s,d,f,a):s}function AEe(t,e,n,i){const s=tr(t,e),a=t.orient;let c,d;const f={enter:c={opacity:Ut},update:d={opacity:Hr},exit:{opacity:Ut}};Mi(f,{stroke:s("domainColor"),strokeCap:s("domainCap"),strokeDash:s("domainDash"),strokeDashOffset:s("domainDashOffset"),strokeWidth:s("domainWidth"),strokeOpacity:s("domainOpacity")});const u=MR(t,0),o=MR(t,1);return c.x=d.x=yi(a,u,Ut),c.x2=d.x2=yi(a,o),c.y=d.y=Ea(a,u,Ut),c.y2=d.y2=Ea(a,o),vr({type:RI,role:tTe,from:i,encode:f},n)}function MR(t,e){return{scale:t.scale,range:e}}function OEe(t,e,n,i,s){const a=tr(t,e),c=t.orient,d=t.gridScale,f=o5(c,1,-1),u=NEe(t.offset,f);let o,g,y;const m={enter:o={opacity:Ut},update:y={opacity:Hr},exit:g={opacity:Ut}};Mi(m,{stroke:a("gridColor"),strokeCap:a("gridCap"),strokeDash:a("gridDash"),strokeDashOffset:a("gridDashOffset"),strokeOpacity:a("gridOpacity"),strokeWidth:a("gridWidth")});const l={scale:t.scale,field:zr,band:s.band,extra:s.extra,offset:s.offset,round:a("tickRound")},b=yi(c,{signal:"height"},{signal:"width"}),L=d?{scale:d,range:0,mult:f,offset:u}:{value:0,offset:u},E=d?{scale:d,range:1,mult:f,offset:u}:mt(b,{mult:f,offset:u});return o.x=y.x=yi(c,l,L),o.y=y.y=Ea(c,l,L),o.x2=y.x2=Ea(c,E),o.y2=y.y2=yi(c,E),g.x=yi(c,l),g.y=Ea(c,l),vr({type:RI,role:nTe,key:zr,from:i,encode:m},n)}function NEe(t,e){if(e!==1)if(!Me(t))t=ai(e)?{signal:`(${e.signal}) * (${t||0})`}:e*(t||0);else{let n=t=mt({},t);for(;n.mult!=null;)if(Me(n.mult))n=n.mult=mt({},n.mult);else return n.mult=ai(e)?{signal:`(${n.mult}) * (${e.signal})`}:n.mult*e,t;n.mult=e}return t}function CEe(t,e,n,i,s,a){const c=tr(t,e),d=t.orient,f=o5(d,-1,1);let u,o,g;const y={enter:u={opacity:Ut},update:g={opacity:Hr},exit:o={opacity:Ut}};Mi(y,{stroke:c("tickColor"),strokeCap:c("tickCap"),strokeDash:c("tickDash"),strokeDashOffset:c("tickDashOffset"),strokeOpacity:c("tickOpacity"),strokeWidth:c("tickWidth")});const m=gi(s);m.mult=f;const l={scale:t.scale,field:zr,band:a.band,extra:a.extra,offset:a.offset,round:c("tickRound")};return g.y=u.y=yi(d,Ut,l),g.y2=u.y2=yi(d,m),o.x=yi(d,l),g.x=u.x=Ea(d,Ut,l),g.x2=u.x2=Ea(d,m),o.y=Ea(d,l),vr({type:RI,role:sTe,key:zr,from:i,encode:y},n)}function I9(t,e,n,i,s){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+e+","+n+","+i+","+s+")"}}function REe(t,e,n,i,s,a){const c=tr(t,e),d=t.orient,f=t.scale,u=o5(d,-1,1),o=nu(c("labelFlush")),g=nu(c("labelFlushOffset")),y=c("labelAlign"),m=c("labelBaseline");let l=o===0||!!o,b;const L=gi(s);L.mult=u,L.offset=gi(c("labelPadding")||0),L.offset.mult=u;const E={scale:f,field:zr,band:.5,offset:LZ(a.offset,c("labelOffset"))},S=yi(d,l?I9(f,o,'"left"','"right"','"center"'):{value:"center"},vEe(d,"left","right")),x=yi(d,xZ(d,"bottom","top"),l?I9(f,o,'"top"','"bottom"','"middle"'):{value:"middle"}),k=I9(f,o,`-(${g})`,g,0);l=l&&g;const B={opacity:Ut,x:yi(d,E,L),y:Ea(d,E,L)},A={enter:B,update:b={opacity:Hr,text:{field:OI},x:B.x,y:B.y,align:S,baseline:x},exit:{opacity:Ut,x:B.x,y:B.y}};Mi(A,{dx:!y&&l?yi(d,k):null,dy:!m&&l?Ea(d,k):null}),Mi(A,{angle:c("labelAngle"),fill:c("labelColor"),fillOpacity:c("labelOpacity"),font:c("labelFont"),fontSize:c("labelFontSize"),fontWeight:c("labelFontWeight"),fontStyle:c("labelFontStyle"),limit:c("labelLimit"),lineHeight:c("labelLineHeight")},{align:y,baseline:m});const M=c("labelBound");let C=c("labelOverlap");return C=C||M?{separation:c("labelSeparation"),method:C,order:"datum.index",bound:M?{scale:f,orient:d,tolerance:M}:null}:void 0,b.align!==S&&(b.align=b1(b.align,S)),b.baseline!==x&&(b.baseline=b1(b.baseline,x)),vr({type:Ju,role:iTe,style:I_,key:zr,from:i,encode:A,overlap:C},n)}function DEe(t,e,n,i){const s=tr(t,e),a=t.orient,c=o5(a,-1,1);let d,f;const u={enter:d={opacity:Ut,anchor:gi(s("titleAnchor",null)),align:{signal:DI}},update:f=mt({},d,{opacity:Hr,text:gi(t.title)}),exit:{opacity:Ut}},o={signal:`lerp(range("${t.scale}"), ${s5(0,1,.5)})`};return f.x=yi(a,o),f.y=Ea(a,o),d.angle=yi(a,Ut,FEe(c,90)),d.baseline=yi(a,xZ(a,vd,Ua),{value:vd}),f.angle=d.angle,f.baseline=d.baseline,Mi(u,{fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit"),lineHeight:s("titleLineHeight")},{align:s("titleAlign"),angle:s("titleAngle"),baseline:s("titleBaseline")}),PEe(s,a,u,n),u.update.align=b1(u.update.align,d.align),u.update.angle=b1(u.update.angle,d.angle),u.update.baseline=b1(u.update.baseline,d.baseline),vr({type:Ju,role:rTe,style:NI,from:i,encode:u},n)}function PEe(t,e,n,i){const s=(d,f)=>d!=null?(n.update[f]=b1(gi(d),n.update[f]),!1):!Gh(f,i),a=s(t("titleX"),"x"),c=s(t("titleY"),"y");n.enter.auto=c===a?gi(c):yi(e,gi(c),gi(a))}function $Ee(t,e){const n=MEe(t,e),i=t.encode||{},s=i.axis||{},a=s.name||void 0,c=s.interactive,d=s.style,f=tr(t,n),u=Cve(f),o={scale:t.scale,ticks:!!f("ticks"),labels:!!f("labels"),grid:!!f("grid"),domain:!!f("domain"),title:t.title!=null},g=Re(e.add($a({},[o]))),y=Re(e.add(UTe({scale:e.scaleRef(t.scale),extra:e.property(u.extra),count:e.objectProperty(t.tickCount),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)}))),m=[];let l;return o.grid&&m.push(OEe(t,n,i.grid,y,u)),o.ticks&&(l=f("tickSize"),m.push(CEe(t,n,i.ticks,y,l,u))),o.labels&&(l=o.ticks?l:0,m.push(REe(t,n,i.labels,y,l,u))),o.domain&&m.push(AEe(t,n,i.domain,g)),o.title&&m.push(DEe(t,n,i.title,g)),a5(T3({role:eTe,from:g,encode:V2(UEe(f,t),s,k_),marks:m,aria:f("aria"),description:f("description"),zindex:f("zindex"),name:a,interactive:c,style:d}),e)}function UEe(t,e){const n={enter:{},update:{}};return Mi(n,{orient:t("orient"),offset:t("offset")||0,position:ca(e.position,0),titlePadding:t("titlePadding"),minExtent:t("minExtent"),maxExtent:t("maxExtent"),range:{signal:`abs(span(range("${e.scale}")))`},translate:t("translate"),format:e.format,formatType:e.formatType}),n}function IZ(t,e,n){const i=ke(t.signals),s=ke(t.scales);return n||i.forEach(a=>aZ(a,e)),ke(t.projections).forEach(a=>mve(a,e)),s.forEach(a=>ave(a,e)),ke(t.data).forEach(a=>bEe(a,e)),s.forEach(a=>ove(a,e)),(n||i).forEach(a=>$Te(a,e)),ke(t.axes).forEach(a=>$Ee(a,e)),ke(t.marks).forEach(a=>a5(a,e)),ke(t.legends).forEach(a=>cEe(a,e)),t.title&&gEe(t.title,e),e.parseLambdas(),e}const zEe=t=>V2({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t);function HEe(t,e){const n=e.config,i=Re(e.root=e.add(n6())),s=jEe(t,n);s.forEach(u=>aZ(u,e)),e.description=t.description||n.description,e.eventConfig=n.events,e.legends=e.objectProperty(n.legend&&n.legend.layout),e.locale=n.locale;const a=e.add($a()),c=e.add(cZ(rZ(zEe(t.encode),i5,kI,t.style,e,{pulse:Re(a)}))),d=e.add(uZ({layout:e.objectProperty(t.layout),legends:e.legends,autosize:e.signalRef("autosize"),mark:i,pulse:Re(c)}));e.operators.pop(),e.pushState(Re(c),Re(d),null),IZ(t,e,s),e.operators.push(d);let f=e.add(lZ({mark:i,pulse:Re(d)}));return f=e.add(fZ({pulse:Re(f)})),f=e.add(Zu({pulse:Re(f)})),e.addData("root",new Eu(e,a,a,f)),e}function T0(t,e){return e&&e.signal?{name:t,update:e.signal}:{name:t,value:e}}function jEe(t,e){const n=c=>ca(t[c],e[c]),i=[T0("background",n("background")),T0("autosize",Z7e(n("autosize"))),T0("padding",Q7e(n("padding"))),T0("width",n("width")||0),T0("height",n("height")||0)],s=i.reduce((c,d)=>(c[d.name]=d,c),{}),a={};return ke(t.signals).forEach(c=>{$e(s,c.name)?c=mt(s[c.name],c):i.push(c),a[c.name]=c}),ke(e.signals).forEach(c=>{!$e(a,c.name)&&!$e(s,c.name)&&i.push(c)}),i}function kZ(t,e){this.config=t||{},this.options=e||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function AR(t){this.config=t.config,this.options=t.options,this.legends=t.legends,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}kZ.prototype=AR.prototype={parse(t){return IZ(t,this)},fork(){return new AR(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach(e=>{e.$ref=t.id}),t.refs=null),t},proxy(t){const e=t instanceof uT?Re(t):t;return this.add(eve({value:e}))},addStream(t){return this.streams.push(t),t.id=this.id(),t},addUpdate(t){return this.updates.push(t),t},finish(){let t,e;this.root&&(this.root.root=!0);for(t in this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;function n(i,s,a){let c,d;i&&(c=i.data||(i.data={}),d=c[s]||(c[s]=[]),d.push(a))}for(t in this.data){e=this.data[t],n(e.input,t,"input"),n(e.output,t,"output"),n(e.values,t,"values");for(const i in e.index)n(e.index[i],t,"index:"+i)}return this},pushState(t,e,n){this._encode.push(Re(this.add(Zu({pulse:t})))),this._parent.push(e),this._lookup.push(n?Re(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Ct(this._parent)},encode(){return Ct(this._encode)},lookup(){return Ct(this._lookup)},markpath(){const t=this._markpath;return++t[t.length-1]},fieldRef(t,e){if(Ie(t))return L3(t,e);t.signal||de("Unsupported field reference: "+Te(t));const n=t.signal;let i=this.field[n];if(!i){const s={name:this.signalRef(n)};e&&(s.as=e),this.field[n]=i=Re(this.add(VTe(s)))}return i},compareRef(t){let e=!1;const n=a=>ai(a)?(e=!0,this.signalRef(a.signal)):kTe(a)?(e=!0,this.exprRef(a.expr)):a,i=ke(t.field).map(n),s=ke(t.order).map(n);return e?Re(this.add(mR({fields:i,orders:s}))):gR(i,s)},keyRef(t,e){let n=!1;const i=a=>ai(a)?(n=!0,Re(s[a.signal])):a,s=this.signals;return t=ke(t).map(i),n?Re(this.add(qTe({fields:t,flat:e}))):STe(t,e)},sortRef(t){if(!t)return t;const e=t5(t.op,t.field),n=t.order||xTe;return n.signal?Re(this.add(mR({fields:e,orders:this.signalRef(n.signal)}))):gR(e,n)},event(t,e){const n=t+":"+e;if(!this.events[n]){const i=this.id();this.streams.push({id:i,source:t,type:e}),this.events[n]=i}return this.events[n]},hasOwnSignal(t){return $e(this.signals,t)},addSignal(t,e){this.hasOwnSignal(t)&&de("Duplicate signal name: "+Te(t));const n=e instanceof uT?e:this.add(n6(e));return this.signals[t]=n},getSignal(t){return this.signals[t]||de("Unrecognized signal name: "+Te(t)),this.signals[t]},signalRef(t){return this.signals[t]?Re(this.signals[t]):($e(this.lambdas,t)||(this.lambdas[t]=this.add(n6(null))),Re(this.lambdas[t]))},parseLambdas(){const t=Object.keys(this.lambdas);for(let e=0,n=t.length;e<n;++e){const i=t[e],s=jo(i,this),a=this.lambdas[i];a.params=s.$params,a.update=s.$expr}},property(t){return t&&t.signal?this.signalRef(t.signal):t},objectProperty(t){return!t||!Me(t)?t:this.signalRef(t.signal||HI(t))},exprRef(t,e){const n={expr:jo(t,this)};return e&&(n.expr.$name=e),Re(this.add(HTe(n)))},addBinding(t,e){this.bindings||de("Nested signals do not support binding: "+Te(t)),this.bindings.push(mt({signal:t},e))},addScaleProj(t,e){$e(this.scales,t)&&de("Duplicate scale or projection name: "+Te(t)),this.scales[t]=this.add(e)},addScale(t,e){this.addScaleProj(t,nve(e))},addProjection(t,e){this.addScaleProj(t,QTe(e))},getScale(t){return this.scales[t]||de("Unrecognized scale name: "+Te(t)),this.scales[t]},scaleRef(t){return Re(this.getScale(t))},scaleType(t){return this.getScale(t).params.type},projectionRef(t){return this.scaleRef(t)},projectionType(t){return this.scaleType(t)},addData(t,e){return $e(this.data,t)&&de("Duplicate data set name: "+Te(t)),this.data[t]=e},getData(t){return this.data[t]||de("Undefined data set name: "+Te(t)),this.data[t]},addDataPipeline(t,e){return $e(this.data,t)&&de("Duplicate data set name: "+Te(t)),this.addData(t,Eu.fromEntries(this,e))}};function HI(t){return(ue(t)?VEe:qEe)(t)}function VEe(t){const e=t.length;let n="[";for(let i=0;i<e;++i){const s=t[i];n+=(i>0?",":"")+(Me(s)?s.signal||HI(s):Te(s))}return n+"]"}function qEe(t){let e="{",n=0,i,s;for(i in t)s=t[i],e+=(++n>1?",":"")+Te(i)+":"+(Me(s)?s.signal||HI(s):Te(s));return e+"}"}function GEe(){const t="sans-serif",i="#4c78a8",s="#000",a="#888",c="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:i},area:{fill:i},image:null,line:{stroke:i,strokeWidth:2},path:{stroke:i},rect:{fill:i},rule:{stroke:s},shape:{stroke:i},symbol:{fill:i,size:64},text:{fill:s,font:t,fontSize:11},trail:{fill:i,size:2},style:{"guide-label":{fill:s,font:t,fontSize:10},"guide-title":{fill:s,font:t,fontSize:11,fontWeight:"bold"},"group-title":{fill:s,font:t,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:s,font:t,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:c},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:a,grid:!1,gridWidth:1,gridColor:c,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:a,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:c,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:a,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function WEe(t,e,n){return Me(t)||de("Input Vega specification must be an object."),e=D2(GEe(),e,t.config),HEe(t,new kZ(e,n)).toRuntime()}var YEe="5.25.0";mt(r2,qye,A6e,dLe,zLe,YLe,b5e,e5e,v5e,x5e,R5e,j5e);const XEe=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Xn,CanvasHandler:v_,CanvasRenderer:Vw,DATE:Ys,DAY:$i,DAYOFYEAR:Ho,Dataflow:L1,Debug:bG,Error:KS,EventStream:IL,Gradient:SY,GroupItem:RL,HOURS:Lr,Handler:bd,Info:LG,Item:CL,MILLISECONDS:Fa,MINUTES:br,MONTH:Vi,Marks:Tr,MultiPulse:gx,None:wG,Operator:_n,Parameters:BL,Pulse:Qc,QUARTER:Ws,RenderType:qc,Renderer:el,ResourceLoader:iB,SECONDS:Kr,SVGHandler:bB,SVGRenderer:BB,SVGStringRenderer:IB,Scenegraph:wB,TIME_UNITS:lx,Transform:ae,View:WK,WEEK:ni,Warn:ZS,YEAR:ki,accessor:er,accessorFields:ji,accessorName:zn,array:ke,ascending:bL,bandwidthNRD:QE,bin:eS,bootstrapCI:dV,boundClip:wX,boundContext:w_,boundItem:$7,boundMark:VY,boundStroke:cc,changeset:Yu,clampRange:AG,codegenExpression:bK,compare:nx,constant:Xi,cumulativeLogNormal:aS,cumulativeNormal:dL,cumulativeUniform:dS,dayofyear:VG,debounce:ix,defaultLocale:fx,definition:BW,densityLogNormal:rS,densityNormal:tS,densityUniform:cS,domChild:As,domClear:pa,domCreate:jc,domFind:LB,dotbin:fV,error:de,expressionFunction:Zn,extend:mt,extent:zo,extentIndex:OG,falsy:Bc,fastmap:$2,field:Gs,flush:NG,font:zL,fontFamily:T_,fontSize:Qo,format:km,formatLocale:Ow,formats:px,hasOwnProperty:$e,id:l_,identity:Yi,inferType:gW,inferTypes:yW,ingest:Kt,inherits:ve,inrange:e1,interpolate:Xx,interpolateColors:OL,interpolateRange:fY,intersect:_X,intersectBoxLine:t1,intersectPath:sB,intersectPoint:rB,intersectRule:OY,isArray:ue,isBoolean:jd,isDate:Jc,isFunction:wt,isIterable:CG,isNumber:dn,isObject:Me,isRegExp:RG,isString:Ie,isTuple:SL,key:sx,lerp:DG,lineHeight:wd,loader:vL,locale:pW,logger:JS,lruCache:PG,markup:xB,merge:$G,mergeConfig:D2,multiLineOffset:gB,one:R2,pad:UG,panLinear:xG,panLog:BG,panPow:IG,panSymlog:kG,parse:WEe,parseExpression:_I,parseSelector:qd,path:G6,pathCurves:eB,pathEqual:LX,pathParse:c2,pathRectangle:IY,pathRender:f3,pathSymbols:BY,pathTrail:kY,peek:Ct,point:jL,projection:UB,quantileLogNormal:oS,quantileNormal:fL,quantileUniform:fS,quantiles:ZE,quantizeInterpolator:uY,quarter:FG,quartiles:JE,get random(){return Wr},randomInteger:c2e,randomKDE:iS,randomLCG:l2e,randomLogNormal:hV,randomMixture:pV,randomNormal:nS,randomUniform:_V,read:LW,regressionConstant:uS,regressionExp:yV,regressionLinear:hS,regressionLoess:LV,regressionLog:gV,regressionPoly:wV,regressionPow:mV,regressionQuad:pS,renderModule:VL,repeat:Q0,resetDefaultLocale:rge,resetSVGClipId:MY,resetSVGDefIds:Kwe,responseType:wW,runtimeContext:NK,sampleCurve:hL,sampleLogNormal:sS,sampleNormal:cL,sampleUniform:lS,scale:jt,sceneEqual:kB,sceneFromJSON:GY,scenePickVisit:Pw,sceneToJSON:qY,sceneVisit:Ma,sceneZOrder:aB,scheme:Kx,serializeXML:oX,setRandom:a2e,span:c_,splitAccessPath:Jo,stringValue:Te,textMetrics:va,timeBin:oW,timeFloor:ZG,timeFormatLocale:l3,timeInterval:U2,timeOffset:eW,timeSequence:iW,timeUnitSpecifier:jG,timeUnits:cx,toBoolean:rx,toDate:ax,toNumber:Ui,toSet:ka,toString:ox,transform:IW,transforms:r2,truncate:zG,truthy:Xr,tupleid:De,typeParsers:k7,utcFloor:JG,utcInterval:z2,utcOffset:tW,utcSequence:sW,utcdayofyear:WG,utcquarter:MG,utcweek:YG,version:YEe,visitArray:Cc,week:qG,writeConfig:P2,zero:Uc,zoomLinear:QS,zoomLog:ex,zoomPow:Aw,zoomSymlog:tx},Symbol.toStringTag,{value:"Module"}));function KEe(t,e,n){let i;e.x2&&(e.x?(n&&t.x>t.x2&&(i=t.x,t.x=t.x2,t.x2=i),t.width=t.x2-t.x):t.x=t.x2-(t.width||0)),e.xc&&(t.x=t.xc-(t.width||0)/2),e.y2&&(e.y?(n&&t.y>t.y2&&(i=t.y,t.y=t.y2,t.y2=i),t.height=t.y2-t.y):t.y=t.y2-(t.height||0)),e.yc&&(t.y=t.yc-(t.height||0)/2)}var ZEe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},JEe={"*":(t,e)=>t*e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,">":(t,e)=>t>e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,">=":(t,e)=>t>=e,"==":(t,e)=>t==e,"!=":(t,e)=>t!=e,"===":(t,e)=>t===e,"!==":(t,e)=>t!==e,"&":(t,e)=>t&e,"|":(t,e)=>t|e,"^":(t,e)=>t^e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e},QEe={"+":t=>+t,"-":t=>-t,"~":t=>~t,"!":t=>!t};const eSe=Array.prototype.slice,af=(t,e,n)=>{const i=n?n(e[0]):e[0];return i[t].apply(i,eSe.call(e,1))},tSe=(t,e,n,i,s,a,c)=>new Date(t,e||0,n??1,i||0,s||0,a||0,c||0);var nSe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(t,e,n)=>Math.max(e,Math.min(n,t)),now:Date.now,utc:Date.UTC,datetime:tSe,date:t=>new Date(t).getDate(),day:t=>new Date(t).getDay(),year:t=>new Date(t).getFullYear(),month:t=>new Date(t).getMonth(),hours:t=>new Date(t).getHours(),minutes:t=>new Date(t).getMinutes(),seconds:t=>new Date(t).getSeconds(),milliseconds:t=>new Date(t).getMilliseconds(),time:t=>new Date(t).getTime(),timezoneoffset:t=>new Date(t).getTimezoneOffset(),utcdate:t=>new Date(t).getUTCDate(),utcday:t=>new Date(t).getUTCDay(),utcyear:t=>new Date(t).getUTCFullYear(),utcmonth:t=>new Date(t).getUTCMonth(),utchours:t=>new Date(t).getUTCHours(),utcminutes:t=>new Date(t).getUTCMinutes(),utcseconds:t=>new Date(t).getUTCSeconds(),utcmilliseconds:t=>new Date(t).getUTCMilliseconds(),length:t=>t.length,join:function(){return af("join",arguments)},indexof:function(){return af("indexOf",arguments)},lastindexof:function(){return af("lastIndexOf",arguments)},slice:function(){return af("slice",arguments)},reverse:t=>t.slice().reverse(),parseFloat,parseInt,upper:t=>String(t).toUpperCase(),lower:t=>String(t).toLowerCase(),substring:function(){return af("substring",arguments,String)},split:function(){return af("split",arguments,String)},replace:function(){return af("replace",arguments,String)},trim:t=>String(t).trim(),regexp:RegExp,test:(t,e)=>RegExp(t).test(e)};const iSe=["view","item","group","xy","x","y"],wT=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&wT.add(setImmediate);const sSe={Literal:(t,e)=>e.value,Identifier:(t,e)=>{const n=e.name;return t.memberDepth>0?n:n==="datum"?t.datum:n==="event"?t.event:n==="item"?t.item:ZEe[n]||t.params["$"+n]},MemberExpression:(t,e)=>{const n=!e.computed,i=t(e.object);n&&(t.memberDepth+=1);const s=t(e.property);if(n&&(t.memberDepth-=1),wT.has(i[s])){console.error(`Prevented interpretation of member "${s}" which could lead to insecure code execution`);return}return i[s]},CallExpression:(t,e)=>{const n=e.arguments;let i=e.callee.name;return i.startsWith("_")&&(i=i.slice(1)),i==="if"?t(n[0])?t(n[1]):t(n[2]):(t.fn[i]||nSe[i]).apply(t.fn,n.map(t))},ArrayExpression:(t,e)=>e.elements.map(t),BinaryExpression:(t,e)=>JEe[e.operator](t(e.left),t(e.right)),UnaryExpression:(t,e)=>QEe[e.operator](t(e.argument)),ConditionalExpression:(t,e)=>t(e.test)?t(e.consequent):t(e.alternate),LogicalExpression:(t,e)=>e.operator==="&&"?t(e.left)&&t(e.right):t(e.left)||t(e.right),ObjectExpression:(t,e)=>e.properties.reduce((n,i)=>{t.memberDepth+=1;const s=t(i.key);return t.memberDepth-=1,wT.has(t(i.value))?console.error(`Prevented interpretation of property "${s}" which could lead to insecure code execution`):n[s]=t(i.value),n},{})};function v0(t,e,n,i,s,a){const c=d=>sSe[d.type](c,d);return c.memberDepth=0,c.fn=Object.create(e),c.params=n,c.datum=i,c.event=s,c.item=a,iSe.forEach(d=>c.fn[d]=function(){return s.vega[d](...arguments)}),c(t)}var rSe={operator(t,e){const n=e.ast,i=t.functions;return s=>v0(n,i,s)},parameter(t,e){const n=e.ast,i=t.functions;return(s,a)=>v0(n,i,a,s)},event(t,e){const n=e.ast,i=t.functions;return s=>v0(n,i,void 0,void 0,s)},handler(t,e){const n=e.ast,i=t.functions;return(s,a)=>{const c=a.item&&a.item.datum;return v0(n,i,s,c,a)}},encode(t,e){const{marktype:n,channels:i}=e,s=t.functions,a=n==="group"||n==="image"||n==="rect";return(c,d)=>{const f=c.datum;let u=0,o;for(const g in i)o=v0(i[g].ast,s,d,f,void 0,c),c[g]!==o&&(c[g]=o,u=1);return n!=="rule"&&KEe(c,i,a),u}}};const aSe="vega-lite",oSe='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',lSe="5.9.0",cSe=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],dSe="https://vega.github.io/vega-lite/",fSe="Vega-Lite is a concise high-level language for interactive visualization.",uSe=["vega","chart","visualization"],hSe="build/vega-lite.js",pSe="build/vega-lite.min.js",_Se="build/vega-lite.min.js",gSe="build/src/index",ySe="build/src/index.d.ts",mSe={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},wSe=["bin","build","src","vega-lite*","tsconfig.json"],LSe={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},bSe={type:"git",url:"https://github.com/vega/vega-lite.git"},TSe="BSD-3-Clause",vSe={url:"https://github.com/vega/vega-lite/issues"},ESe={"@babel/core":"^7.21.4","@babel/preset-env":"^7.21.4","@babel/preset-typescript":"^7.21.4","@release-it/conventional-changelog":"^5.1.1","@rollup/plugin-alias":"^5.0.0","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.1.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-terser":"^0.4.1","@types/chai":"^4.3.4","@types/d3":"^7.4.0","@types/jest":"^27.4.1","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.59.1","@typescript-eslint/parser":"^5.59.1","ajv-formats":"^2.1.1",ajv:"^8.12.0",chai:"^4.3.7",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^2.2.2",d3:"^7.8.4","del-cli":"^5.0.0","eslint-config-prettier":"^8.8.0","eslint-plugin-jest":"^27.2.1","eslint-plugin-prettier":"^4.2.1",eslint:"^8.39.0","highlight.js":"^11.7.0","jest-dev-server":"^6.1.1",jest:"^27.5.1",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^2.8.8",puppeteer:"^15.0.0","release-it":"^15.10.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3",rollup:"^3.21.0",serve:"^14.2.0",terser:"^5.17.1","ts-jest":"^29.1.0","ts-json-schema-generator":"^1.2.0",typescript:"~4.9.5","vega-cli":"^5.25.0","vega-datasets":"^2.7.0","vega-embed":"^6.22.1","vega-tooltip":"^0.32.0","yaml-front-matter":"^4.1.1"},SSe={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.5.0","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.1"},xSe={vega:"^5.24.0"},BSe={node:">=16"},ISe={name:aSe,author:oSe,version:lSe,collaborators:cSe,homepage:dSe,description:fSe,keywords:uSe,main:hSe,unpkg:pSe,jsdelivr:_Se,module:gSe,types:ySe,bin:mSe,files:wSe,scripts:LSe,repository:bSe,license:TSe,bugs:vSe,devDependencies:ESe,dependencies:SSe,peerDependencies:xSe,engines:BSe};var FZ={exports:{}};(function(t){var e=function(){function n(y,m){return m!=null&&y instanceof m}var i;try{i=Map}catch{i=function(){}}var s;try{s=Set}catch{s=function(){}}var a;try{a=Promise}catch{a=function(){}}function c(y,m,l,b,L){typeof m=="object"&&(l=m.depth,b=m.prototype,L=m.includeNonEnumerable,m=m.circular);var E=[],S=[],x=typeof Buffer<"u";typeof m>"u"&&(m=!0),typeof l>"u"&&(l=1/0);function k(B,A){if(B===null)return null;if(A===0)return B;var M,C;if(typeof B!="object")return B;if(n(B,i))M=new i;else if(n(B,s))M=new s;else if(n(B,a))M=new a(function(X,G){B.then(function(le){X(k(le,A-1))},function(le){G(k(le,A-1))})});else if(c.__isArray(B))M=[];else if(c.__isRegExp(B))M=new RegExp(B.source,g(B)),B.lastIndex&&(M.lastIndex=B.lastIndex);else if(c.__isDate(B))M=new Date(B.getTime());else{if(x&&Buffer.isBuffer(B))return Buffer.allocUnsafe?M=Buffer.allocUnsafe(B.length):M=new Buffer(B.length),B.copy(M),M;n(B,Error)?M=Object.create(B):typeof b>"u"?(C=Object.getPrototypeOf(B),M=Object.create(C)):(M=Object.create(b),C=b)}if(m){var R=E.indexOf(B);if(R!=-1)return S[R];E.push(B),S.push(M)}n(B,i)&&B.forEach(function(X,G){var le=k(G,A-1),pe=k(X,A-1);M.set(le,pe)}),n(B,s)&&B.forEach(function(X){var G=k(X,A-1);M.add(G)});for(var D in B){var $;C&&($=Object.getOwnPropertyDescriptor(C,D)),!($&&$.set==null)&&(M[D]=k(B[D],A-1))}if(Object.getOwnPropertySymbols)for(var Y=Object.getOwnPropertySymbols(B),D=0;D<Y.length;D++){var z=Y[D],H=Object.getOwnPropertyDescriptor(B,z);H&&!H.enumerable&&!L||(M[z]=k(B[z],A-1),H.enumerable||Object.defineProperty(M,z,{enumerable:!1}))}if(L)for(var q=Object.getOwnPropertyNames(B),D=0;D<q.length;D++){var W=q[D],H=Object.getOwnPropertyDescriptor(B,W);H&&H.enumerable||(M[W]=k(B[W],A-1),Object.defineProperty(M,W,{enumerable:!1}))}return M}return k(y,l)}c.clonePrototype=function(m){if(m===null)return null;var l=function(){};return l.prototype=m,new l};function d(y){return Object.prototype.toString.call(y)}c.__objToStr=d;function f(y){return typeof y=="object"&&d(y)==="[object Date]"}c.__isDate=f;function u(y){return typeof y=="object"&&d(y)==="[object Array]"}c.__isArray=u;function o(y){return typeof y=="object"&&d(y)==="[object RegExp]"}c.__isRegExp=o;function g(y){var m="";return y.global&&(m+="g"),y.ignoreCase&&(m+="i"),y.multiline&&(m+="m"),m}return c.__getRegExpFlags=g,c}();t.exports&&(t.exports=e)})(FZ);var kSe=FZ.exports;const FSe=Cd(kSe);var MSe=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,s,a;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),i=a.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[s]))return!1;for(s=i;s--!==0;){var c=a[s];if(!t(e[c],n[c]))return!1}return!0}return e!==e&&n!==n};const jI=Cd(MSe);var ASe=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var n=typeof e.cycles=="boolean"?e.cycles:!1,i=e.cmp&&function(a){return function(c){return function(d,f){var u={key:d,value:c[d]},o={key:f,value:c[f]};return a(u,o)}}}(e.cmp),s=[];return function a(c){if(c&&c.toJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),c!==void 0){if(typeof c=="number")return isFinite(c)?""+c:"null";if(typeof c!="object")return JSON.stringify(c);var d,f;if(Array.isArray(c)){for(f="[",d=0;d<c.length;d++)d&&(f+=","),f+=a(c[d])||"null";return f+"]"}if(c===null)return"null";if(s.indexOf(c)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=s.push(c)-1,o=Object.keys(c).sort(i&&i(c));for(f="",d=0;d<o.length;d++){var g=o[d],y=a(c[g]);y&&(f&&(f+=","),f+=JSON.stringify(g)+":"+y)}return s.splice(u,1),"{"+f+"}"}}(t)};const VI=Cd(ASe);function qI(t){return!!t.or}function GI(t){return!!t.and}function WI(t){return!!t.not}function Ym(t,e){if(WI(t))Ym(t.not,e);else if(GI(t))for(const n of t.and)Ym(n,e);else if(qI(t))for(const n of t.or)Ym(n,e);else e(t)}function T1(t,e){return WI(t)?{not:T1(t.not,e)}:GI(t)?{and:t.and.map(n=>T1(n,e))}:qI(t)?{or:t.or.map(n=>T1(n,e))}:e(t)}const To=jI,et=FSe;function MZ(t){throw new Error(t)}function _2(t,e){const n={};for(const i of e)$e(t,i)&&(n[i]=t[i]);return n}function Ds(t,e){const n={...t};for(const i of e)delete n[i];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(t=>VI(t)).join(",")})`};const Ln=VI;function Rt(t){if(dn(t))return t;const e=Ie(t)?t:VI(t);if(e.length<250)return e;let n=0;for(let i=0;i<e.length;i++){const s=e.charCodeAt(i);n=(n<<5)-n+s,n=n&n}return n}function LT(t){return t===!1||t===null}function Mt(t,e){return t.includes(e)}function Su(t,e){let n=0;for(const[i,s]of t.entries())if(e(s,i,n++))return!0;return!1}function YI(t,e){let n=0;for(const[i,s]of t.entries())if(!e(s,i,n++))return!1;return!0}function AZ(t,...e){for(const n of e)OSe(t,n??{});return t}function OSe(t,e){for(const n of me(e))P2(t,n,e[n],!0)}function vo(t,e){const n=[],i={};let s;for(const a of t)s=e(a),!(s in i)&&(i[s]=1,n.push(a));return n}function NSe(t,e){const n=me(t),i=me(e);if(n.length!==i.length)return!1;for(const s of n)if(t[s]!==e[s])return!1;return!0}function OZ(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function XI(t,e){for(const n of t)if(e.has(n))return!0;return!1}function bT(t){const e=new Set;for(const n of t){const s=Jo(n).map((c,d)=>d===0?c:`[${c}]`),a=s.map((c,d)=>s.slice(0,d+1).join(""));for(const c of a)e.add(c)}return e}function KI(t,e){return t===void 0||e===void 0?!0:XI(bT(t),bT(e))}function cn(t){return me(t).length===0}const me=Object.keys,Fi=Object.values,Ed=Object.entries;function v3(t){return t===!0||t===!1}function kn(t){const e=t.replace(/\W/g,"_");return(t.match(/^\d+/)?"_":"")+e}function Bp(t,e){return WI(t)?`!(${Bp(t.not,e)})`:GI(t)?`(${t.and.map(n=>Bp(n,e)).join(") && (")})`:qI(t)?`(${t.or.map(n=>Bp(n,e)).join(") || (")})`:e(t)}function i6(t,e){if(e.length===0)return!0;const n=e.shift();return n in t&&i6(t[n],e)&&delete t[n],cn(t)}function F_(t){return t.charAt(0).toUpperCase()+t.substr(1)}function ZI(t,e="datum"){const n=Jo(t),i=[];for(let s=1;s<=n.length;s++){const a=`[${n.slice(0,s).map(Te).join("][")}]`;i.push(`${e}${a}`)}return i.join(" && ")}function NZ(t,e="datum"){return`${e}[${Te(Jo(t).join("."))}]`}function CSe(t){return t.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Zr(t){return`${Jo(t).map(CSe).join("\\.")}`}function xu(t,e,n){return t.replace(new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function JI(t){return`${Jo(t).join(".")}`}function g2(t){return t?Jo(t).length:0}function Kn(...t){for(const e of t)if(e!==void 0)return e}let CZ=42;function RZ(t){const e=++CZ;return t?String(t)+e:e}function RSe(){CZ=42}function DZ(t){return PZ(t)?t:`__${t}`}function PZ(t){return t.startsWith("__")}function E3(t){if(t!==void 0)return(t%360+360)%360}function l5(t){return dn(t)?!0:!isNaN(t)&&!isNaN(parseFloat(t))}const Hl="row",jl="column",c5="facet",Fn="x",bi="y",za="x2",nl="y2",Gd="xOffset",W2="yOffset",Ha="radius",uc="radius2",ea="theta",hc="theta2",ja="latitude",Va="longitude",qa="latitude2",Jr="longitude2",Xs="color",il="fill",sl="stroke",Ks="shape",pc="size",Qu="angle",_c="opacity",Wd="fillOpacity",Yd="strokeOpacity",Xd="strokeWidth",Kd="strokeDash",M_="text",A_="order",O_="detail",d5="key",Bu="tooltip",f5="href",u5="url",h5="description",DSe={x:1,y:1,x2:1,y2:1},$Z={theta:1,theta2:1,radius:1,radius2:1};function UZ(t){return t in $Z}const QI={longitude:1,longitude2:1,latitude:1,latitude2:1};function zZ(t){switch(t){case ja:return"y";case qa:return"y2";case Va:return"x";case Jr:return"x2"}}function HZ(t){return t in QI}const PSe=me(QI),ek={...DSe,...$Z,...QI,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function v1(t){return t===Xs||t===il||t===sl}const jZ={row:1,column:1,facet:1},$r=me(jZ),tk={...ek,...jZ},$Se=me(tk),{order:y$e,detail:m$e,tooltip:w$e,...USe}=tk,{row:L$e,column:b$e,facet:T$e,...zSe}=USe;function HSe(t){return!!zSe[t]}function VZ(t){return!!tk[t]}const jSe=[za,nl,qa,Jr,hc,uc];function qZ(t){return eh(t)!==t}function eh(t){switch(t){case za:return Fn;case nl:return bi;case qa:return ja;case Jr:return Va;case hc:return ea;case uc:return Ha}return t}function Sd(t){if(UZ(t))switch(t){case ea:return"startAngle";case hc:return"endAngle";case Ha:return"outerRadius";case uc:return"innerRadius"}return t}function rl(t){switch(t){case Fn:return za;case bi:return nl;case ja:return qa;case Va:return Jr;case ea:return hc;case Ha:return uc}}function Zs(t){switch(t){case Fn:case za:return"width";case bi:case nl:return"height"}}function GZ(t){switch(t){case Fn:return"xOffset";case bi:return"yOffset";case za:return"x2Offset";case nl:return"y2Offset";case ea:return"thetaOffset";case Ha:return"radiusOffset";case hc:return"theta2Offset";case uc:return"radius2Offset"}}function nk(t){switch(t){case Fn:return"xOffset";case bi:return"yOffset"}}function WZ(t){switch(t){case"xOffset":return"x";case"yOffset":return"y"}}const VSe=me(ek),{x:v$e,y:E$e,x2:S$e,y2:x$e,xOffset:B$e,yOffset:I$e,latitude:k$e,longitude:F$e,latitude2:M$e,longitude2:A$e,theta:O$e,theta2:N$e,radius:C$e,radius2:R$e,...ik}=ek,qSe=me(ik),sk={x:1,y:1},al=me(sk);function Ti(t){return t in sk}const rk={theta:1,radius:1},GSe=me(rk);function p5(t){return t==="width"?Fn:bi}const YZ={xOffset:1,yOffset:1};function Y2(t){return t in YZ}const{text:D$e,tooltip:P$e,href:$$e,url:U$e,description:z$e,detail:H$e,key:j$e,order:V$e,...XZ}=ik,WSe=me(XZ);function YSe(t){return!!ik[t]}function XSe(t){switch(t){case Xs:case il:case sl:case pc:case Ks:case _c:case Xd:case Kd:return!0;case Wd:case Yd:case Qu:return!1}}const KZ={...sk,...rk,...YZ,...XZ},_5=me(KZ);function gc(t){return!!KZ[t]}function KSe(t,e){return JSe(t)[e]}const ZZ={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:q$e,...ZSe}=ZZ;function JSe(t){switch(t){case Xs:case il:case sl:case h5:case O_:case d5:case Bu:case f5:case A_:case _c:case Wd:case Yd:case Xd:case c5:case Hl:case jl:return ZZ;case Fn:case bi:case Gd:case W2:case ja:case Va:return ZSe;case za:case nl:case qa:case Jr:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case pc:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Kd:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Ks:return{point:"always",geoshape:"always"};case M_:return{text:"always"};case Qu:return{point:"always",square:"always",text:"always"};case u5:return{image:"always"};case ea:return{text:"always",arc:"always"};case Ha:return{text:"always",arc:"always"};case hc:case uc:return{arc:"always"}}}function k9(t){switch(t){case Fn:case bi:case ea:case Ha:case Gd:case W2:case pc:case Qu:case Xd:case _c:case Wd:case Yd:case za:case nl:case hc:case uc:return;case c5:case Hl:case jl:case Ks:case Kd:case M_:case Bu:case f5:case u5:case h5:return"discrete";case Xs:case il:case sl:return"flexible";case ja:case Va:case qa:case Jr:case O_:case d5:case A_:return}}const QSe={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},exe={count:1,min:1,max:1};function tc(t){return!!t&&!!t.argmin}function Zd(t){return!!t&&!!t.argmax}function ak(t){return Ie(t)&&!!QSe[t]}const txe=new Set(["count","valid","missing","distinct"]);function JZ(t){return Ie(t)&&txe.has(t)}function nxe(t){return Ie(t)&&Mt(["min","max"],t)}const ixe=new Set(["count","sum","distinct","valid","missing"]),sxe=new Set(["mean","average","median","q1","q3","min","max"]);function QZ(t){return jd(t)&&(t=B5(t,void 0)),"bin"+me(t).map(e=>g5(t[e])?kn(`_${e}_${Ed(t[e])}`):kn(`_${e}_${t[e]}`)).join("")}function bn(t){return t===!0||th(t)&&!t.binned}function Si(t){return t==="binned"||th(t)&&t.binned===!0}function th(t){return Me(t)}function g5(t){return t==null?void 0:t.param}function OR(t){switch(t){case Hl:case jl:case pc:case Xs:case il:case sl:case Xd:case _c:case Wd:case Yd:case Ks:return 6;case Kd:return 4;default:return 10}}function N_(t){return!!(t!=null&&t.expr)}function Fs(t){const e=me(t||{}),n={};for(const i of e)n[i]=ur(t[i]);return n}function eJ(t){const{anchor:e,frame:n,offset:i,orient:s,angle:a,limit:c,color:d,subtitleColor:f,subtitleFont:u,subtitleFontSize:o,subtitleFontStyle:g,subtitleFontWeight:y,subtitleLineHeight:m,subtitlePadding:l,...b}=t,L={...b,...d?{fill:d}:{}},E={...e?{anchor:e}:{},...n?{frame:n}:{},...i?{offset:i}:{},...s?{orient:s}:{},...a!==void 0?{angle:a}:{},...c!==void 0?{limit:c}:{}},S={...f?{subtitleColor:f}:{},...u?{subtitleFont:u}:{},...o?{subtitleFontSize:o}:{},...g?{subtitleFontStyle:g}:{},...y?{subtitleFontWeight:y}:{},...m?{subtitleLineHeight:m}:{},...l?{subtitlePadding:l}:{}},x=_2(t,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:L,subtitleMarkConfig:x,nonMarkTitleProperties:E,subtitle:S}}function Pc(t){return Ie(t)||ue(t)&&Ie(t[0])}function Ce(t){return!!(t!=null&&t.signal)}function Jd(t){return!!t.step}function rxe(t){return ue(t)?!1:"fields"in t&&!("data"in t)}function axe(t){return ue(t)?!1:"fields"in t&&"data"in t}function Dl(t){return ue(t)?!1:"field"in t&&"data"in t}const oxe={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},lxe=me(oxe),cxe={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},TT=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function tJ(t){const e=ue(t.condition)?t.condition.map(NR):NR(t.condition);return{...ur(t),condition:e}}function ur(t){if(N_(t)){const{expr:e,...n}=t;return{signal:e,...n}}return t}function NR(t){if(N_(t)){const{expr:e,...n}=t;return{signal:e,...n}}return t}function Bn(t){if(N_(t)){const{expr:e,...n}=t;return{signal:e,...n}}return Ce(t)?t:t!==void 0?{value:t}:void 0}function dxe(t){return Ce(t)?t.signal:Te(t)}function CR(t){return Ce(t)?t.signal:Te(t.value)}function Vl(t){return Ce(t)?t.signal:t==null?null:Te(t)}function fxe(t,e,n){for(const i of n){const s=Iu(i,e.markDef,e.config);s!==void 0&&(t[i]=Bn(s))}return t}function nJ(t){return[].concat(t.type,t.style??[])}function sn(t,e,n,i={}){const{vgChannel:s,ignoreVgConfig:a}=i;return s&&e[s]!==void 0?e[s]:e[t]!==void 0?e[t]:a&&(!s||s===t)?void 0:Iu(t,e,n,i)}function Iu(t,e,n,{vgChannel:i}={}){return Kn(i?s6(t,e,n.style):void 0,s6(t,e,n.style),i?n[e.type][i]:void 0,n[e.type][t],i?n.mark[i]:n.mark[t])}function s6(t,e,n){return iJ(t,nJ(e),n)}function iJ(t,e,n){e=ke(e);let i;for(const s of e){const a=n[s];a&&a[t]!==void 0&&(i=a[t])}return i}function sJ(t,e){return ke(t).reduce((n,i)=>(n.field.push(Se(i,e)),n.order.push(i.sort??"ascending"),n),{field:[],order:[]})}function rJ(t,e){const n=[...t];return e.forEach(i=>{for(const s of n)if(To(s,i))return;n.push(i)}),n}function aJ(t,e){return To(t,e)||!e?t:t?[...ke(t),...ke(e)].join(", "):e}function oJ(t,e){const n=t.value,i=e.value;if(n==null||i===null)return{explicit:t.explicit,value:null};if((Pc(n)||Ce(n))&&(Pc(i)||Ce(i)))return{explicit:t.explicit,value:aJ(n,i)};if(Pc(n)||Ce(n))return{explicit:t.explicit,value:n};if(Pc(i)||Ce(i))return{explicit:t.explicit,value:i};if(!Pc(n)&&!Ce(n)&&!Pc(i)&&!Ce(i))return{explicit:t.explicit,value:rJ(n,i)};throw new Error("It should never reach here")}function ok(t){return`Invalid specification ${Ln(t)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const uxe='Autosize "fit" only works for single views and layered views.';function RR(t){return`${t=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function DR(t){const e=t=="width"?"Width":"Height",n=t=="width"?"x":"y";return`${e} "container" only works well with autosize "fit" or "fit-${n}".`}function PR(t){return t?`Dropping "fit-${t}" because spec has discrete ${Zs(t)}.`:'Dropping "fit" because spec has discrete size.'}function lk(t){return`Unknown field for ${t}. Cannot calculate view size.`}function $R(t){return`Cannot project a selection on encoding channel "${t}", which has no field.`}function hxe(t,e){return`Cannot project a selection on encoding channel "${t}" as it uses an aggregate function ("${e}").`}function pxe(t){return`The "nearest" transform is not supported for ${t} marks.`}function lJ(t){return`Selection not supported for ${t} yet.`}function _xe(t){return`Cannot find a selection named "${t}".`}const gxe="Scale bindings are currently only supported for scales with unbinned, continuous domains.",yxe="Legend bindings are only supported for selections over an individual field or encoding channel.";function mxe(t){return`Lookups can only be performed on selection parameters. "${t}" is a variable parameter.`}function wxe(t){return`Cannot define and lookup the "${t}" selection in the same view. Try moving the lookup into a second, layered view?`}const Lxe="The same selection must be used to override scale domains in a layered view.",bxe='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function Txe(t){return`Unknown repeated value "${t}".`}function UR(t){return`The "columns" property cannot be used when "${t}" has nested row/column.`}const vxe="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function Exe(t){return`Unrecognized parse "${t}".`}function zR(t,e,n){return`An ancestor parsed field "${t}" as ${n} but a child wants to parse the field as ${e}.`}const Sxe="Attempt to add the same child twice.";function xxe(t){return`Ignoring an invalid transform: ${Ln(t)}.`}const Bxe='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function HR(t){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${t} are dropped.`}function Ixe(t){const{parentProjection:e,projection:n}=t;return`Layer's shared projection ${Ln(e)} is overridden by a child projection ${Ln(n)}.`}const kxe="Arc marks uses theta channel rather than angle, replacing angle with theta.";function Fxe(t){return`${t}Offset dropped because ${t} is continuous`}function Mxe(t){return`There is no ${t} encoding. Replacing ${t}Offset encoding as ${t}.`}function Axe(t,e,n){return`Channel ${t} is a ${e}. Converted to {value: ${Ln(n)}}.`}function cJ(t){return`Invalid field type "${t}".`}function Oxe(t,e){return`Invalid field type "${t}" for aggregate: "${e}", using "quantitative" instead.`}function Nxe(t){return`Invalid aggregation operator "${t}".`}function dJ(t,e){const{fill:n,stroke:i}=e;return`Dropping color ${t} as the plot also has ${n&&i?"fill and stroke":n?"fill":"stroke"}.`}function Cxe(t){return`Position range does not support relative band size for ${t}.`}function vT(t,e){return`Dropping ${Ln(t)} from channel "${e}" since it does not contain any data field, datum, value, or signal.`}const Rxe="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function y5(t,e,n){return`${t} dropped as it is incompatible with "${e}"${n?` when ${n}`:""}.`}function Dxe(t){return`${t} encoding has no scale, so specified scale is ignored.`}function Pxe(t){return`${t}-encoding is dropped as ${t} is not a valid encoding channel.`}function $xe(t){return`${t} encoding should be discrete (ordinal / nominal / binned).`}function Uxe(t){return`${t} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function zxe(t){return`Facet encoding dropped as ${t.join(" and ")} ${t.length>1?"are":"is"} also specified.`}function F9(t,e){return`Using discrete channel "${t}" to encode "${e}" field can be misleading as it does not encode ${e==="ordinal"?"order":"magnitude"}.`}function Hxe(t){return`The ${t} for range marks cannot be an expression`}function jxe(t,e){return`Line mark is for continuous lines and thus cannot be used with ${t&&e?"x2 and y2":t?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function Vxe(t,e){return`Specified orient "${t}" overridden with "${e}".`}function qxe(t){return`Cannot use the scale property "${t}" with non-color channel.`}function Gxe(t){return`Cannot use the relative band size with ${t} scale.`}function Wxe(t){return`Using unaggregated domain with raw field has no effect (${Ln(t)}).`}function Yxe(t){return`Unaggregated domain not applicable for "${t}" since it produces values outside the origin domain of the source data.`}function Xxe(t){return`Unaggregated domain is currently unsupported for log scale (${Ln(t)}).`}function Kxe(t){return`Cannot apply size to non-oriented mark "${t}".`}function Zxe(t,e,n){return`Channel "${t}" does not work with "${e}" scale. We are using "${n}" scale instead.`}function Jxe(t,e){return`FieldDef does not work with "${t}" scale. We are using "${e}" scale instead.`}function fJ(t,e,n){return`${n}-scale's "${e}" is dropped as it does not work with ${t} scale.`}function uJ(t){return`The step for "${t}" is dropped because the ${t==="width"?"x":"y"} is continuous.`}function Qxe(t,e,n,i){return`Conflicting ${e.toString()} property "${t.toString()}" (${Ln(n)} and ${Ln(i)}). Using ${Ln(n)}.`}function eBe(t,e,n,i){return`Conflicting ${e.toString()} property "${t.toString()}" (${Ln(n)} and ${Ln(i)}). Using the union of the two domains.`}function tBe(t){return`Setting the scale to be independent for "${t}" means we also have to set the guide (axis or legend) to be independent.`}function nBe(t){return`Dropping sort property ${Ln(t)} as unioned domains only support boolean or op "count", "min", and "max".`}const jR="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",iBe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",sBe="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",rBe="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function aBe(t){return`Cannot stack "${t}" if there is already "${t}2".`}function oBe(t){return`Cannot stack non-linear scale (${t}).`}function lBe(t){return`Stacking is applied even though the aggregate function is non-summative ("${t}").`}function r6(t,e){return`Invalid ${t}: ${Ln(e)}.`}function cBe(t){return`Dropping day from datetime ${Ln(t)} as day cannot be combined with other units.`}function dBe(t,e){return`${e?"extent ":""}${e&&t?"and ":""}${t?"center ":""}${e&&t?"are ":"is "}not needed when data are aggregated.`}function fBe(t,e,n){return`${t} is not usually used with ${e} for ${n}.`}function uBe(t,e){return`Continuous axis should not have customized aggregation function ${t}; ${e} already agregates the axis.`}function VR(t){return`1D error band does not support ${t}.`}function hJ(t){return`Channel ${t} is required for "binned" bin.`}function hBe(t){return`Channel ${t} should not be used with "binned" bin.`}function pBe(t){return`Domain for ${t} is required for threshold scale.`}globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;const pJ=JS(ZS);let y2=pJ;function _Be(t){return y2=t,y2}function gBe(){return y2=pJ,y2}function Le(...t){y2.warn(...t)}function yBe(...t){y2.debug(...t)}function nh(t){if(t&&Me(t)){for(const e of dk)if(e in t)return!0}return!1}const _J=["january","february","march","april","may","june","july","august","september","october","november","december"],mBe=_J.map(t=>t.substr(0,3)),gJ=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],wBe=gJ.map(t=>t.substr(0,3));function LBe(t){if(l5(t)&&(t=+t),dn(t))return t>4&&Le(r6("quarter",t)),t-1;throw new Error(r6("quarter",t))}function bBe(t){if(l5(t)&&(t=+t),dn(t))return t-1;{const e=t.toLowerCase(),n=_J.indexOf(e);if(n!==-1)return n;const i=e.substr(0,3),s=mBe.indexOf(i);if(s!==-1)return s;throw new Error(r6("month",t))}}function TBe(t){if(l5(t)&&(t=+t),dn(t))return t%7;{const e=t.toLowerCase(),n=gJ.indexOf(e);if(n!==-1)return n;const i=e.substr(0,3),s=wBe.indexOf(i);if(s!==-1)return s;throw new Error(r6("day",t))}}function ck(t,e){const n=[];if(e&&t.day!==void 0&&me(t).length>1&&(Le(cBe(t)),t=et(t),delete t.day),t.year!==void 0?n.push(t.year):n.push(2012),t.month!==void 0){const i=e?bBe(t.month):t.month;n.push(i)}else if(t.quarter!==void 0){const i=e?LBe(t.quarter):t.quarter;n.push(dn(i)?i*3:`${i}*3`)}else n.push(0);if(t.date!==void 0)n.push(t.date);else if(t.day!==void 0){const i=e?TBe(t.day):t.day;n.push(dn(i)?i+1:`${i}+1`)}else n.push(1);for(const i of["hours","minutes","seconds","milliseconds"]){const s=t[i];n.push(typeof s>"u"?0:s)}return n}function ku(t){const n=ck(t,!0).join(", ");return t.utc?`utc(${n})`:`datetime(${n})`}function vBe(t){const n=ck(t,!1).join(", ");return t.utc?`utc(${n})`:`datetime(${n})`}function EBe(t){const e=ck(t,!0);return t.utc?+new Date(Date.UTC(...e)):+new Date(...e)}const yJ={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},dk=me(yJ);function SBe(t){return!!yJ[t]}function fk(t){return t.startsWith("utc")}function xBe(t){return t.substr(3)}const BBe={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function m5(t){return dk.filter(e=>mJ(t,e))}function IBe(t){const e=m5(t);return e[e.length-1]}function mJ(t,e){const n=t.indexOf(e);return!(n<0||n>0&&e==="seconds"&&t.charAt(n-1)==="i"||t.length>n+3&&e==="day"&&t.charAt(n+3)==="o"||n>0&&e==="year"&&t.charAt(n-1)==="f")}function kBe(t,e,{end:n}={end:!1}){const i=ZI(e),s=fk(t)?"utc":"";function a(f){return f==="quarter"?`(${s}quarter(${i})-1)`:`${s}${f}(${i})`}let c;const d={};for(const f of dk)mJ(t,f)&&(d[f]=a(f),c=f);return n&&(d[c]+="+1"),vBe(d)}function wJ(t){if(!t)return;const e=m5(t);return`timeUnitSpecifier(${Ln(e)}, ${Ln(BBe)})`}function FBe(t,e,n){if(!t)return;const i=wJ(t);return`${n||fk(t)?"utc":"time"}Format(${e}, ${i})`}function Ai(t){if(!t)return;let e;return Ie(t)?e={unit:t}:Me(t)&&(e={...t,...t.unit?{unit:t.unit}:{}}),fk(e.unit)&&(e.utc=!0,e.unit=xBe(e.unit)),e}function MBe(t){const{utc:e,...n}=Ai(t);return n.unit?(e?"utc":"")+me(n).map(i=>kn(`${i==="unit"?"":`_${i}_`}${n[i]}`)).join(""):(e?"utc":"")+"timeunit"+me(n).map(i=>kn(`_${i}_${n[i]}`)).join("")}function LJ(t,e=n=>n){const n=Ai(t),i=IBe(n.unit);if(i&&i!=="day"){const s={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},a=n.step||1,c={...s,...i==="quarter"?{month:+s.month+a*3}:{[i]:+s[i]+a}};return`${e(ku(c))} - ${e(ku(s))}`}}function ABe(t){return t==null?void 0:t.param}function uk(t){return!!(t!=null&&t.field)&&t.equal!==void 0}function hk(t){return!!(t!=null&&t.field)&&t.lt!==void 0}function pk(t){return!!(t!=null&&t.field)&&t.lte!==void 0}function _k(t){return!!(t!=null&&t.field)&&t.gt!==void 0}function gk(t){return!!(t!=null&&t.field)&&t.gte!==void 0}function yk(t){if(t!=null&&t.field){if(ue(t.range)&&t.range.length===2)return!0;if(Ce(t.range))return!0}return!1}function mk(t){return!!(t!=null&&t.field)&&(ue(t.oneOf)||ue(t.in))}function OBe(t){return!!(t!=null&&t.field)&&t.valid!==void 0}function bJ(t){return mk(t)||uk(t)||yk(t)||hk(t)||_k(t)||pk(t)||gk(t)}function Ja(t,e){return I5(t,{timeUnit:e,wrapTime:!0})}function NBe(t,e){return t.map(n=>Ja(n,e))}function TJ(t,e=!0){var a;const{field:n}=t,i=(a=Ai(t.timeUnit))==null?void 0:a.unit,s=i?`time(${kBe(i,n)})`:Se(t,{expr:"datum"});if(uk(t))return`${s}===${Ja(t.equal,i)}`;if(hk(t)){const c=t.lt;return`${s}<${Ja(c,i)}`}else if(_k(t)){const c=t.gt;return`${s}>${Ja(c,i)}`}else if(pk(t)){const c=t.lte;return`${s}<=${Ja(c,i)}`}else if(gk(t)){const c=t.gte;return`${s}>=${Ja(c,i)}`}else{if(mk(t))return`indexof([${NBe(t.oneOf,i).join(",")}], ${s}) !== -1`;if(OBe(t))return wk(s,t.valid);if(yk(t)){const{range:c}=t,d=Ce(c)?{signal:`${c.signal}[0]`}:c[0],f=Ce(c)?{signal:`${c.signal}[1]`}:c[1];if(d!==null&&f!==null&&e)return"inrange("+s+", ["+Ja(d,i)+", "+Ja(f,i)+"])";const u=[];return d!==null&&u.push(`${s} >= ${Ja(d,i)}`),f!==null&&u.push(`${s} <= ${Ja(f,i)}`),u.length>0?u.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Ln(t)}`)}function wk(t,e=!0){return e?`isValid(${t}) && isFinite(+${t})`:`!isValid(${t}) || !isFinite(+${t})`}function CBe(t){var e;return bJ(t)&&t.timeUnit?{...t,timeUnit:(e=Ai(t.timeUnit))==null?void 0:e.unit}:t}const C_={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function RBe(t){return t==="quantitative"||t==="temporal"}function vJ(t){return t==="ordinal"||t==="nominal"}const Fu=C_.quantitative,Lk=C_.ordinal,m2=C_.temporal,bk=C_.nominal,X2=C_.geojson;function DBe(t){if(t)switch(t=t.toLowerCase(),t){case"q":case Fu:return"quantitative";case"t":case m2:return"temporal";case"o":case Lk:return"ordinal";case"n":case bk:return"nominal";case X2:return"geojson"}}const Ps={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},ET={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function PBe(t,e){const n=ET[t],i=ET[e];return n===i||n==="ordinal-position"&&i==="time"||i==="ordinal-position"&&n==="time"}const $Be={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function qR(t){return $Be[t]}const EJ=new Set(["linear","log","pow","sqrt","symlog"]),SJ=new Set([...EJ,"time","utc"]);function xJ(t){return EJ.has(t)}const BJ=new Set(["quantile","quantize","threshold"]),UBe=new Set([...SJ,...BJ,"sequential","identity"]),zBe=new Set(["ordinal","bin-ordinal","point","band"]);function vi(t){return zBe.has(t)}function Er(t){return UBe.has(t)}function ma(t){return SJ.has(t)}function w2(t){return BJ.has(t)}const HBe={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function jBe(t){return!Ie(t)&&!!t.name}function IJ(t){return t==null?void 0:t.param}function VBe(t){return t==null?void 0:t.unionWith}function qBe(t){return Me(t)&&"field"in t}const GBe={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:G$e,domain:W$e,range:Y$e,rangeMax:X$e,rangeMin:K$e,scheme:Z$e,...WBe}=GBe,YBe=me(WBe);function ST(t,e){switch(e){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(t);case"bins":return!["point","band","identity","ordinal"].includes(t);case"round":return ma(t)||t==="band"||t==="point";case"padding":case"rangeMin":case"rangeMax":return ma(t)||["point","band"].includes(t);case"paddingOuter":case"align":return["point","band"].includes(t);case"paddingInner":return t==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return ma(t);case"nice":return ma(t)||t==="quantize"||t==="threshold";case"exponent":return t==="pow";case"base":return t==="log";case"constant":return t==="symlog";case"zero":return Er(t)&&!Mt(["log","time","utc","threshold","quantile"],t)}}function kJ(t,e){switch(e){case"interpolate":case"scheme":case"domainMid":return v1(t)?void 0:qxe(e);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function XBe(t,e){return Mt([Lk,bk],e)?t===void 0||vi(t):e===m2?Mt([Ps.TIME,Ps.UTC,void 0],t):e===Fu?xJ(t)||w2(t)||t===void 0:!0}function KBe(t,e,n=!1){if(!gc(t))return!1;switch(t){case Fn:case bi:case Gd:case W2:case ea:case Ha:return ma(e)||e==="band"?!0:e==="point"?!n:!1;case pc:case Xd:case _c:case Wd:case Yd:case Qu:return ma(e)||w2(e)||Mt(["band","point","ordinal"],e);case Xs:case il:case sl:return e!=="band";case Kd:case Ks:return e==="ordinal"||w2(e)}}const bs={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},FJ=bs.arc,w5=bs.area,L5=bs.bar,ZBe=bs.image,b5=bs.line,T5=bs.point,JBe=bs.rect,a6=bs.rule,MJ=bs.text,Tk=bs.tick,QBe=bs.trail,vk=bs.circle,Ek=bs.square,AJ=bs.geoshape;function Qd(t){return["line","area","trail"].includes(t)}function OJ(t){return["rect","bar","image","arc"].includes(t)}const eIe=new Set(me(bs));function Vo(t){return t.type}const tIe=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],nIe=["fill","fillOpacity"],iIe=[...tIe,...nIe],sIe={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},GR=me(sIe),rIe={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},aIe={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},oIe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},NJ=me(oIe);function Mu(t){return t&&t.band!=null}const lIe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},CJ=5,cIe={binSpacing:1,continuousBandSize:CJ,timeUnitBandPosition:.5},dIe={binSpacing:0,continuousBandSize:CJ,timeUnitBandPosition:.5},fIe={thickness:1};function uIe(t){return Vo(t)?t.type:t}function Sk(t){const{channel:e,channelDef:n,markDef:i,scale:s,config:a}=t,c=Bk(t);return be(n)&&!JZ(n.aggregate)&&s&&ma(s.get("type"))?hIe({fieldDef:n,channel:e,markDef:i,ref:c,config:a}):c}function hIe({fieldDef:t,channel:e,markDef:n,ref:i,config:s}){return Qd(n.type)?i:sn("invalid",n,s)===null?[pIe(t,e),i]:i}function pIe(t,e){const n=xk(t,!0),s=eh(e)==="y"?{field:{group:"height"}}:{value:0};return{test:n,...s}}function xk(t,e=!0){return wk(Ie(t)?t:Se(t,{expr:"datum"}),!e)}function _Ie(t){const{datum:e}=t;return nh(e)?ku(e):`${Ln(e)}`}function iu(t,e,n,i){const s={};if(e&&(s.scale=e),ol(t)){const{datum:a}=t;nh(a)?s.signal=ku(a):Ce(a)?s.signal=a.signal:N_(a)?s.signal=a.expr:s.value=a}else s.field=Se(t,n);if(i){const{offset:a,band:c}=i;a&&(s.offset=a),c&&(s.band=c)}return s}function o6({scaleName:t,fieldOrDatumDef:e,fieldOrDatumDef2:n,offset:i,startSuffix:s,bandPosition:a=.5}){const c=0<a&&a<1?"datum":void 0,d=Se(e,{expr:c,suffix:s}),f=n!==void 0?Se(n,{expr:c}):Se(e,{suffix:"end",expr:c}),u={};if(a===0||a===1){u.scale=t;const o=a===0?d:f;u.field=o}else{const o=Ce(a)?`${a.signal} * ${d} + (1-${a.signal}) * ${f}`:`${a} * ${d} + ${1-a} * ${f}`;u.signal=`scale("${t}", ${o})`}return i&&(u.offset=i),u}function Bk({channel:t,channelDef:e,channel2Def:n,markDef:i,config:s,scaleName:a,scale:c,stack:d,offset:f,defaultRef:u,bandPosition:o}){if(e){if(Qe(e)){const g=c==null?void 0:c.get("type");if(gs(e)){o??(o=jJ({fieldDef:e,fieldDef2:n,markDef:i,config:s}));const{bin:y,timeUnit:m,type:l}=e;if(bn(y)||o&&m&&l===m2)return d!=null&&d.impute?iu(e,a,{binSuffix:"mid"},{offset:f}):o&&!vi(g)?o6({scaleName:a,fieldOrDatumDef:e,bandPosition:o,offset:f}):iu(e,a,$_(e,t)?{binSuffix:"range"}:{},{offset:f});if(Si(y)){if(be(n))return o6({scaleName:a,fieldOrDatumDef:e,fieldOrDatumDef2:n,bandPosition:o,offset:f});Le(hJ(t===Fn?za:nl))}}return iu(e,a,vi(g)?{binSuffix:"range"}:{},{offset:f,band:g==="band"?o??e.bandPosition??.5:void 0})}else if(Aa(e)){const g=e.value,y=f?{offset:f}:{};return{...Ip(t,g),...y}}}return wt(u)&&(u=u()),u&&{...u,...f?{offset:f}:{}}}function Ip(t,e){return Mt(["x","x2"],t)&&e==="width"?{field:{group:"width"}}:Mt(["y","y2"],t)&&e==="height"?{field:{group:"height"}}:Bn(e)}function Au(t){return t&&t!=="number"&&t!=="time"}function RJ(t,e,n){return`${t}(${e}${n?`, ${Ln(n)}`:""})`}const gIe="  ";function Ik({fieldOrDatumDef:t,format:e,formatType:n,expr:i,normalizeStack:s,config:a}){var f,u;if(Au(n))return wa({fieldOrDatumDef:t,format:e,formatType:n,expr:i,config:a});const c=DJ(t,i,s),d=L2(t);if(e===void 0&&n===void 0&&a.customFormatTypes){if(d==="quantitative"){if(s&&a.normalizedNumberFormatType)return wa({fieldOrDatumDef:t,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:i,config:a});if(a.numberFormatType)return wa({fieldOrDatumDef:t,format:a.numberFormat,formatType:a.numberFormatType,expr:i,config:a})}if(d==="temporal"&&a.timeFormatType&&be(t)&&t.timeUnit===void 0)return wa({fieldOrDatumDef:t,format:a.timeFormat,formatType:a.timeFormatType,expr:i,config:a})}if(T2(t)){const o=mIe({field:c,timeUnit:be(t)?(f=Ai(t.timeUnit))==null?void 0:f.unit:void 0,format:e,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:ih(t)&&((u=t.scale)==null?void 0:u.type)===Ps.UTC});return o?{signal:o}:void 0}if(e=xT({type:d,specifiedFormat:e,config:a,normalizeStack:s}),be(t)&&bn(t.bin)){const o=Se(t,{expr:i,binSuffix:"end"});return{signal:R_(c,o,e,n,a)}}else return e||L2(t)==="quantitative"?{signal:`${UJ(c,e)}`}:{signal:`isValid(${c}) ? ${c} : ""+${c}`}}function DJ(t,e,n){return be(t)?n?`${Se(t,{expr:e,suffix:"end"})}-${Se(t,{expr:e,suffix:"start"})}`:Se(t,{expr:e}):_Ie(t)}function wa({fieldOrDatumDef:t,format:e,formatType:n,expr:i,normalizeStack:s,config:a,field:c}){if(c??(c=DJ(t,i,s)),c!=="datum.value"&&be(t)&&bn(t.bin)){const d=Se(t,{expr:i,binSuffix:"end"});return{signal:R_(c,d,e,n,a)}}return{signal:RJ(n,c,e)}}function PJ(t,e,n,i,s,a){var c;if(!(Ie(i)&&Au(i))&&!(n===void 0&&i===void 0&&s.customFormatTypes&&L2(t)==="quantitative"&&(s.normalizedNumberFormatType&&b2(t)&&t.stack==="normalize"||s.numberFormatType))){if(b2(t)&&t.stack==="normalize"&&s.normalizedNumberFormat)return xT({type:"quantitative",config:s,normalizeStack:!0});if(T2(t)){const d=be(t)?(c=Ai(t.timeUnit))==null?void 0:c.unit:void 0;return d===void 0&&s.customFormatTypes&&s.timeFormatType?void 0:yIe({specifiedFormat:n,timeUnit:d,config:s,omitTimeFormatConfig:a})}return xT({type:e,specifiedFormat:n,config:s})}}function $J(t,e,n){var i;if(t&&(Ce(t)||t==="number"||t==="time"))return t;if(T2(e)&&n!=="time"&&n!=="utc")return be(e)&&((i=Ai(e==null?void 0:e.timeUnit))!=null&&i.utc)?"utc":"time"}function xT({type:t,specifiedFormat:e,config:n,normalizeStack:i}){if(Ie(e))return e;if(t===Fu)return i?n.normalizedNumberFormat:n.numberFormat}function yIe({specifiedFormat:t,timeUnit:e,config:n,omitTimeFormatConfig:i}){return t||(e?{signal:wJ(e)}:i?void 0:n.timeFormat)}function UJ(t,e){return`format(${t}, "${e||""}")`}function WR(t,e,n,i){return Au(n)?RJ(n,t,e):UJ(t,(Ie(e)?e:void 0)??i.numberFormat)}function R_(t,e,n,i,s){if(n===void 0&&i===void 0&&s.customFormatTypes&&s.numberFormatType)return R_(t,e,s.numberFormat,s.numberFormatType,s);const a=WR(t,n,i,s),c=WR(e,n,i,s);return`${wk(t,!1)} ? "null" : ${a} + "${gIe}" + ${c}`}function mIe({field:t,timeUnit:e,format:n,formatType:i,rawTimeFormat:s,isUTCScale:a}){return!e||n?!e&&i?`${i}(${t}, '${n}')`:(n=Ie(n)?n:s,`${a?"utc":"time"}Format(${t}, '${n}')`):FBe(e,t,a)}const v5="min",wIe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function YR(t){return t in wIe}function zJ(t){return!!(t!=null&&t.encoding)}function Bo(t){return t&&(t.op==="count"||!!t.field)}function HJ(t){return t&&ue(t)}function D_(t){return"row"in t||"column"in t}function kk(t){return!!t&&"header"in t}function E5(t){return"facet"in t}function LIe(t){return t.param}function bIe(t){return t&&!Ie(t)&&"repeat"in t}function XR(t){const{field:e,timeUnit:n,bin:i,aggregate:s}=t;return{...n?{timeUnit:n}:{},...i?{bin:i}:{},...s?{aggregate:s}:{},field:e}}function Fk(t){return"sort"in t}function jJ({fieldDef:t,fieldDef2:e,markDef:n,config:i}){if(Qe(t)&&t.bandPosition!==void 0)return t.bandPosition;if(be(t)){const{timeUnit:s,bin:a}=t;if(s&&!e)return OJ(n.type)?0:Iu("timeUnitBandPosition",n,i);if(bn(a))return .5}}function VJ({channel:t,fieldDef:e,fieldDef2:n,markDef:i,config:s,scaleType:a,useVlSizeChannel:c}){var u,o,g;const d=Zs(t),f=sn(c?"size":d,i,s,{vgChannel:d});if(f!==void 0)return f;if(be(e)){const{timeUnit:y,bin:m}=e;if(y&&!n)return{band:Iu("timeUnitBandSize",i,s)};if(bn(m)&&!vi(a))return{band:1}}if(OJ(i.type))return a?vi(a)?((u=s[i.type])==null?void 0:u.discreteBandSize)||{band:1}:(o=s[i.type])==null?void 0:o.continuousBandSize:(g=s[i.type])==null?void 0:g.discreteBandSize}function qJ(t,e,n,i){return bn(t.bin)||t.timeUnit&&gs(t)&&t.type==="temporal"?jJ({fieldDef:t,fieldDef2:e,markDef:n,config:i})!==void 0:!1}function S5(t){return t&&"condition"in t}function x5(t){const e=t==null?void 0:t.condition;return!!e&&!ue(e)&&be(e)}function P_(t){const e=t==null?void 0:t.condition;return!!e&&!ue(e)&&Qe(e)}function TIe(t){const e=t==null?void 0:t.condition;return!!e&&(ue(e)||Aa(e))}function be(t){return t&&(!!t.field||t.aggregate==="count")}function L2(t){return t==null?void 0:t.type}function ol(t){return t&&"datum"in t}function Xc(t){return gs(t)&&!c6(t)||l6(t)}function KR(t){return gs(t)&&t.type==="quantitative"&&!t.bin||l6(t)}function l6(t){return ol(t)&&dn(t.datum)}function Qe(t){return be(t)||ol(t)}function gs(t){return t&&("field"in t||t.aggregate==="count")&&"type"in t}function Aa(t){return t&&"value"in t&&"value"in t}function ih(t){return t&&("scale"in t||"sort"in t)}function b2(t){return t&&("axis"in t||"stack"in t||"impute"in t)}function GJ(t){return t&&"legend"in t}function WJ(t){return t&&("format"in t||"formatType"in t)}function vIe(t){return Ds(t,["legend","axis","header","scale"])}function EIe(t){return"op"in t}function Se(t,e={}){let n=t.field;const i=e.prefix;let s=e.suffix,a="";if(xIe(t))n=DZ("count");else{let c;if(!e.nofn)if(EIe(t))c=t.op;else{const{bin:d,aggregate:f,timeUnit:u}=t;bn(d)?(c=QZ(d),s=(e.binSuffix??"")+(e.suffix??"")):f?Zd(f)?(a=`["${n}"]`,n=`argmax_${f.argmax}`):tc(f)?(a=`["${n}"]`,n=`argmin_${f.argmin}`):c=String(f):u&&(c=MBe(u),s=(!["range","mid"].includes(e.binSuffix)&&e.binSuffix||"")+(e.suffix??""))}c&&(n=n?`${c}_${n}`:c)}return s&&(n=`${n}_${s}`),i&&(n=`${i}_${n}`),e.forAs?JI(n):e.expr?NZ(n,e.expr)+a:Zr(n)+a}function c6(t){switch(t.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return be(t)&&!!t.bin;case"temporal":return!1}throw new Error(cJ(t.type))}function SIe(t){var e;return ih(t)&&w2((e=t.scale)==null?void 0:e.type)}function xIe(t){return t.aggregate==="count"}function BIe(t,e){var c;const{field:n,bin:i,timeUnit:s,aggregate:a}=t;if(a==="count")return e.countTitle;if(bn(i))return`${n} (binned)`;if(s){const d=(c=Ai(s))==null?void 0:c.unit;if(d)return`${n} (${m5(d).join("-")})`}else if(a)return Zd(a)?`${n} for max ${a.argmax}`:tc(a)?`${n} for min ${a.argmin}`:`${F_(a)} of ${n}`;return n}function IIe(t){const{aggregate:e,bin:n,timeUnit:i,field:s}=t;if(Zd(e))return`${s} for argmax(${e.argmax})`;if(tc(e))return`${s} for argmin(${e.argmin})`;const a=Ai(i),c=e||(a==null?void 0:a.unit)||(a==null?void 0:a.maxbins)&&"timeunit"||bn(n)&&"bin";return c?`${c.toUpperCase()}(${s})`:s}const YJ=(t,e)=>{switch(e.fieldTitle){case"plain":return t.field;case"functional":return IIe(t);default:return BIe(t,e)}};let XJ=YJ;function KJ(t){XJ=t}function kIe(){KJ(YJ)}function E1(t,e,{allowDisabling:n,includeDefault:i=!0}){var d;const s=(d=Mk(t))==null?void 0:d.title;if(!be(t))return s??t.title;const a=t,c=i?Ak(a,e):void 0;return n?Kn(s,a.title,c):s??a.title??c}function Mk(t){if(b2(t)&&t.axis)return t.axis;if(GJ(t)&&t.legend)return t.legend;if(kk(t)&&t.header)return t.header}function Ak(t,e){return XJ(t,e)}function d6(t){if(WJ(t)){const{format:e,formatType:n}=t;return{format:e,formatType:n}}else{const e=Mk(t)??{},{format:n,formatType:i}=e;return{format:n,formatType:i}}}function FIe(t,e){var a;switch(e){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Fk(t)&&ue(t.sort))return"ordinal";const{aggregate:n,bin:i,timeUnit:s}=t;if(s)return"temporal";if(i||n&&!Zd(n)&&!tc(n))return"quantitative";if(ih(t)&&((a=t.scale)!=null&&a.type))switch(ET[t.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function qo(t){if(be(t))return t;if(x5(t))return t.condition}function ii(t){if(Qe(t))return t;if(P_(t))return t.condition}function ZJ(t,e,n,i={}){if(Ie(t)||dn(t)||jd(t)){const s=Ie(t)?"string":dn(t)?"number":"boolean";return Le(Axe(e,s,t)),{value:t}}return Qe(t)?f6(t,e,n,i):P_(t)?{...t,condition:f6(t.condition,e,n,i)}:t}function f6(t,e,n,i){if(WJ(t)){const{format:s,formatType:a,...c}=t;if(Au(a)&&!n.customFormatTypes)return Le(HR(e)),f6(c,e,n,i)}else{const s=b2(t)?"axis":GJ(t)?"legend":kk(t)?"header":null;if(s&&t[s]){const{format:a,formatType:c,...d}=t[s];if(Au(c)&&!n.customFormatTypes)return Le(HR(e)),f6({...t,[s]:d},e,n,i)}}return be(t)?Ok(t,e,i):MIe(t)}function MIe(t){let e=t.type;if(e)return t;const{datum:n}=t;return e=dn(n)?"quantitative":Ie(n)?"nominal":nh(n)?"temporal":void 0,{...t,type:e}}function Ok(t,e,{compositeMark:n=!1}={}){const{aggregate:i,timeUnit:s,bin:a,field:c}=t,d={...t};if(!n&&i&&!ak(i)&&!Zd(i)&&!tc(i)&&(Le(Nxe(i)),delete d.aggregate),s&&(d.timeUnit=Ai(s)),c&&(d.field=`${c}`),bn(a)&&(d.bin=B5(a,e)),Si(a)&&!Ti(e)&&Le(hBe(e)),gs(d)){const{type:f}=d,u=DBe(f);f!==u&&(d.type=u),f!=="quantitative"&&JZ(i)&&(Le(Oxe(f,i)),d.type="quantitative")}else if(!qZ(e)){const f=FIe(d,e);d.type=f}if(gs(d)){const{compatible:f,warning:u}=AIe(d,e)||{};f===!1&&Le(u)}if(Fk(d)&&Ie(d.sort)){const{sort:f}=d;if(YR(f))return{...d,sort:{encoding:f}};const u=f.substr(1);if(f.charAt(0)==="-"&&YR(u))return{...d,sort:{encoding:u,order:"descending"}}}if(kk(d)){const{header:f}=d;if(f){const{orient:u,...o}=f;if(u)return{...d,header:{...o,labelOrient:f.labelOrient||u,titleOrient:f.titleOrient||u}}}}return d}function B5(t,e){return jd(t)?{maxbins:OR(e)}:t==="binned"?{binned:!0}:!t.maxbins&&!t.step?{...t,maxbins:OR(e)}:t}const mh={compatible:!0};function AIe(t,e){const n=t.type;if(n==="geojson"&&e!=="shape")return{compatible:!1,warning:`Channel ${e} should not be used with a geojson data.`};switch(e){case Hl:case jl:case c5:return c6(t)?mh:{compatible:!1,warning:$xe(e)};case Fn:case bi:case Gd:case W2:case Xs:case il:case sl:case M_:case O_:case d5:case Bu:case f5:case u5:case Qu:case ea:case Ha:case h5:return mh;case Va:case Jr:case ja:case qa:return n!==Fu?{compatible:!1,warning:`Channel ${e} should be used with a quantitative field only, not ${t.type} field.`}:mh;case _c:case Wd:case Yd:case Xd:case pc:case hc:case uc:case za:case nl:return n==="nominal"&&!t.sort?{compatible:!1,warning:`Channel ${e} should not be used with an unsorted discrete field.`}:mh;case Ks:case Kd:return!c6(t)&&!SIe(t)?{compatible:!1,warning:Uxe(e)}:mh;case A_:return t.type==="nominal"&&!("sort"in t)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:mh}}function T2(t){const{formatType:e}=d6(t);return e==="time"||!e&&OIe(t)}function OIe(t){return t&&(t.type==="temporal"||be(t)&&!!t.timeUnit)}function I5(t,{timeUnit:e,type:n,wrapTime:i,undefinedIfExprNotRequired:s}){var f;const a=e&&((f=Ai(e))==null?void 0:f.unit);let c=a||n==="temporal",d;return N_(t)?d=t.expr:Ce(t)?d=t.signal:nh(t)?(c=!0,d=ku(t)):(Ie(t)||dn(t))&&c&&(d=`datetime(${Ln(t)})`,SBe(a)&&(dn(t)&&t<1e4||Ie(t)&&isNaN(Date.parse(t)))&&(d=ku({[a]:t}))),d?i&&c?`time(${d})`:d:s?void 0:Ln(t)}function JJ(t,e){const{type:n}=t;return e.map(i=>{const s=I5(i,{timeUnit:be(t)?t.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:i})}function $_(t,e){return bn(t.bin)?gc(e)&&["ordinal","nominal"].includes(t.type):(console.warn("Only call this method for binned field defs."),!1)}const ZR={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function U_(t){return t==null?void 0:t.condition}const QJ=["domain","grid","labels","ticks","title"],NIe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},eQ={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},CIe={...eQ,style:1,labelExpr:1,encoding:1};function JR(t){return!!CIe[t]}const RIe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},tQ=me(RIe);function yc(t){return"mark"in t}class k5{constructor(e,n){this.name=e,this.run=n}hasMatchingType(e){return yc(e)?uIe(e.mark)===this.name:!1}}function su(t,e){const n=t&&t[e];return n?ue(n)?Su(n,i=>!!i.field):be(n)||x5(n):!1}function nQ(t,e){const n=t&&t[e];return n?ue(n)?Su(n,i=>!!i.field):be(n)||ol(n)||P_(n):!1}function BT(t,e){if(Ti(e)){const n=t[e];if((be(n)||ol(n))&&(vJ(n.type)||be(n)&&n.timeUnit)){const i=nk(e);return nQ(t,i)}}return!1}function Nk(t){return Su($Se,e=>{if(su(t,e)){const n=t[e];if(ue(n))return Su(n,i=>!!i.aggregate);{const i=qo(n);return i&&!!i.aggregate}}return!1})}function iQ(t,e){const n=[],i=[],s=[],a=[],c={};return Ck(t,(d,f)=>{if(be(d)){const{field:u,aggregate:o,bin:g,timeUnit:y,...m}=d;if(o||y||g){const l=Mk(d),b=l==null?void 0:l.title;let L=Se(d,{forAs:!0});const E={...b?[]:{title:E1(d,e,{allowDisabling:!0})},...m,field:L};if(o){let S;if(Zd(o)?(S="argmax",L=Se({op:"argmax",field:o.argmax},{forAs:!0}),E.field=`${L}.${u}`):tc(o)?(S="argmin",L=Se({op:"argmin",field:o.argmin},{forAs:!0}),E.field=`${L}.${u}`):o!=="boxplot"&&o!=="errorbar"&&o!=="errorband"&&(S=o),S){const x={op:S,as:L};u&&(x.field=u),a.push(x)}}else if(n.push(L),gs(d)&&bn(g)){if(i.push({bin:g,field:u,as:L}),n.push(Se(d,{binSuffix:"end"})),$_(d,f)&&n.push(Se(d,{binSuffix:"range"})),Ti(f)){const S={field:`${L}_end`};c[`${f}2`]=S}E.bin="binned",qZ(f)||(E.type=Fu)}else if(y){s.push({timeUnit:y,field:u,as:L});const S=gs(d)&&d.type!==m2&&"time";S&&(f===M_||f===Bu?E.formatType=S:YSe(f)?E.legend={formatType:S,...E.legend}:Ti(f)&&(E.axis={formatType:S,...E.axis}))}c[f]=E}else n.push(u),c[f]=t[f]}else c[f]=t[f]}),{bins:i,timeUnits:s,aggregate:a,groupby:n,encoding:c}}function DIe(t,e,n){const i=KSe(e,n);if(i){if(i==="binned"){const s=t[e===za?Fn:bi];return!!(be(s)&&be(t[e])&&Si(s.bin))}}else return!1;return!0}function PIe(t,e,n,i){const s={};for(const a of me(t))VZ(a)||Le(Pxe(a));for(let a of VSe){if(!t[a])continue;const c=t[a];if(Y2(a)){const d=WZ(a),f=s[d];if(be(f)){if(RBe(f.type)&&be(c)&&!f.timeUnit){Le(Fxe(d));continue}}else a=d,Le(Mxe(d))}if(a==="angle"&&e==="arc"&&!t.theta&&(Le(kxe),a=ea),!DIe(t,a,e)){Le(y5(a,e));continue}if(a===pc&&e==="line"){const d=qo(t[a]);if(d!=null&&d.aggregate){Le(Rxe);continue}}if(a===Xs&&(n?"fill"in t:"stroke"in t)){Le(dJ("encoding",{fill:"fill"in t,stroke:"stroke"in t}));continue}if(a===O_||a===A_&&!ue(c)&&!Aa(c)||a===Bu&&ue(c))c&&(s[a]=ke(c).reduce((d,f)=>(be(f)?d.push(Ok(f,a)):Le(vT(f,a)),d),[]));else{if(a===Bu&&c===null)s[a]=null;else if(!be(c)&&!ol(c)&&!Aa(c)&&!S5(c)&&!Ce(c)){Le(vT(c,a));continue}s[a]=ZJ(c,a,i)}}return s}function F5(t,e){const n={};for(const i of me(t)){const s=ZJ(t[i],i,e,{compositeMark:!0});n[i]=s}return n}function $Ie(t){const e=[];for(const n of me(t))if(su(t,n)){const i=t[n],s=ke(i);for(const a of s)be(a)?e.push(a):x5(a)&&e.push(a.condition)}return e}function Ck(t,e,n){if(t)for(const i of me(t)){const s=t[i];if(ue(s))for(const a of s)e.call(n,a,i);else e.call(n,s,i)}}function UIe(t,e,n,i){return t?me(t).reduce((s,a)=>{const c=t[a];return ue(c)?c.reduce((d,f)=>e.call(i,d,f,a),s):e.call(i,s,c,a)},n):n}function sQ(t,e){return me(e).reduce((n,i)=>{switch(i){case Fn:case bi:case f5:case h5:case u5:case za:case nl:case Gd:case W2:case ea:case hc:case Ha:case uc:case ja:case Va:case qa:case Jr:case M_:case Ks:case Qu:case Bu:return n;case A_:if(t==="line"||t==="trail")return n;case O_:case d5:{const s=e[i];if(ue(s)||be(s))for(const a of ke(s))a.aggregate||n.push(Se(a,{}));return n}case pc:if(t==="trail")return n;case Xs:case il:case sl:case _c:case Wd:case Yd:case Kd:case Xd:{const s=qo(e[i]);return s&&!s.aggregate&&n.push(Se(s,{})),n}}},[])}function zIe(t){const{tooltip:e,...n}=t;if(!e)return{filteredEncoding:n};let i,s;if(ue(e)){for(const a of e)a.aggregate?(i||(i=[]),i.push(a)):(s||(s=[]),s.push(a));i&&(n.tooltip=i)}else e.aggregate?n.tooltip=e:s=e;return ue(s)&&s.length===1&&(s=s[0]),{customTooltipWithoutAggregatedField:s,filteredEncoding:n}}function IT(t,e,n,i=!0){if("tooltip"in n)return{tooltip:n.tooltip};const s=t.map(({fieldPrefix:c,titlePrefix:d})=>{const f=i?` of ${Rk(e)}`:"";return{field:c+e.field,type:e.type,title:Ce(d)?{signal:`${d}"${escape(f)}"`}:d+f}}),a=$Ie(n).map(vIe);return{tooltip:[...s,...vo(a,Rt)]}}function Rk(t){const{title:e,field:n}=t;return Kn(e,n)}function Dk(t,e,n,i,s){const{scale:a,axis:c}=n;return({partName:d,mark:f,positionPrefix:u,endPositionPrefix:o=void 0,extraEncoding:g={}})=>{const y=Rk(n);return rQ(t,d,s,{mark:f,encoding:{[e]:{field:`${u}_${n.field}`,type:n.type,...y!==void 0?{title:y}:{},...a!==void 0?{scale:a}:{},...c!==void 0?{axis:c}:{}},...Ie(o)?{[`${e}2`]:{field:`${o}_${n.field}`}}:{},...i,...g}})}}function rQ(t,e,n,i){const{clip:s,color:a,opacity:c}=t,d=t.type;return t[e]||t[e]===void 0&&n[e]?[{...i,mark:{...n[e],...s?{clip:s}:{},...a?{color:a}:{},...c?{opacity:c}:{},...Vo(i.mark)?i.mark:{type:i.mark},style:`${d}-${String(e)}`,...jd(t[e])?{}:t[e]}}]:[]}function aQ(t,e,n){const{encoding:i}=t,s=e==="vertical"?"y":"x",a=i[s],c=i[`${s}2`],d=i[`${s}Error`],f=i[`${s}Error2`];return{continuousAxisChannelDef:Hy(a,n),continuousAxisChannelDef2:Hy(c,n),continuousAxisChannelDefError:Hy(d,n),continuousAxisChannelDefError2:Hy(f,n),continuousAxis:s}}function Hy(t,e){if(t!=null&&t.aggregate){const{aggregate:n,...i}=t;return n!==e&&Le(uBe(n,e)),i}else return t}function oQ(t,e){const{mark:n,encoding:i}=t,{x:s,y:a}=i;if(Vo(n)&&n.orient)return n.orient;if(Xc(s)){if(Xc(a)){const c=be(s)&&s.aggregate,d=be(a)&&a.aggregate;if(!c&&d===e)return"vertical";if(!d&&c===e)return"horizontal";if(c===e&&d===e)throw new Error("Both x and y cannot have aggregate");return T2(a)&&!T2(s)?"horizontal":"vertical"}return"horizontal"}else{if(Xc(a))return"vertical";throw new Error(`Need a valid continuous axis for ${e}s`)}}const u6="boxplot",HIe=["box","median","outliers","rule","ticks"],jIe=new k5(u6,cQ);function lQ(t){return dn(t)?"tukey":t}function cQ(t,{config:e}){t={...t,encoding:F5(t.encoding,e)};const{mark:n,encoding:i,params:s,projection:a,...c}=t,d=Vo(n)?n:{type:n};s&&Le(lJ("boxplot"));const f=d.extent??e.boxplot.extent,u=sn("size",d,e),o=d.invalid,g=lQ(f),{bins:y,timeUnits:m,transform:l,continuousAxisChannelDef:b,continuousAxis:L,groupby:E,aggregate:S,encodingWithoutContinuousAxis:x,ticksOrient:k,boxOrient:B,customTooltipWithoutAggregatedField:A}=VIe(t,f,e),{color:M,size:C,...R}=x,D=re=>Dk(d,L,b,re,e.boxplot),$=D(R),Y=D(x),z=D({...R,...C?{size:C}:{}}),H=IT([{fieldPrefix:g==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:g==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],b,x),q={type:"tick",color:"black",opacity:1,orient:k,invalid:o,aria:!1},W=g==="min-max"?H:IT([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],b,x),X=[...$({partName:"rule",mark:{type:"rule",invalid:o,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:W}),...$({partName:"rule",mark:{type:"rule",invalid:o,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:W}),...$({partName:"ticks",mark:q,positionPrefix:"lower_whisker",extraEncoding:W}),...$({partName:"ticks",mark:q,positionPrefix:"upper_whisker",extraEncoding:W})],G=[...g!=="tukey"?X:[],...Y({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:B,invalid:o,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:H}),...z({partName:"median",mark:{type:"tick",invalid:o,...Me(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},...u?{size:u}:{},orient:k,aria:!1},positionPrefix:"mid_box",extraEncoding:H})];if(g==="min-max")return{...c,transform:(c.transform??[]).concat(l),layer:G};const le=`datum["lower_box_${b.field}"]`,pe=`datum["upper_box_${b.field}"]`,ie=`(${pe} - ${le})`,Ae=`${le} - ${f} * ${ie}`,fe=`${pe} + ${f} * ${ie}`,Fe=`datum["${b.field}"]`,je={joinaggregate:dQ(b.field),groupby:E},yt={transform:[{filter:`(${Ae} <= ${Fe}) && (${Fe} <= ${fe})`},{aggregate:[{op:"min",field:b.field,as:`lower_whisker_${b.field}`},{op:"max",field:b.field,as:`upper_whisker_${b.field}`},{op:"min",field:`lower_box_${b.field}`,as:`lower_box_${b.field}`},{op:"max",field:`upper_box_${b.field}`,as:`upper_box_${b.field}`},...S],groupby:E}],layer:X},{tooltip:Pt,...qt}=R,{scale:_e,axis:V}=b,j=Rk(b),P=Ds(V,["title"]),Z=rQ(d,"outliers",e.boxplot,{transform:[{filter:`(${Fe} < ${Ae}) || (${Fe} > ${fe})`}],mark:"point",encoding:{[L]:{field:b.field,type:b.type,...j!==void 0?{title:j}:{},..._e!==void 0?{scale:_e}:{},...cn(P)?{}:{axis:P}},...qt,...M?{color:M}:{},...A?{tooltip:A}:{}}})[0];let Q;const oe=[...y,...m,je];return Z?Q={transform:oe,layer:[Z,yt]}:(Q=yt,Q.transform.unshift(...oe)),{...c,layer:[Q,{transform:l,layer:G}]}}function dQ(t){return[{op:"q1",field:t,as:`lower_box_${t}`},{op:"q3",field:t,as:`upper_box_${t}`}]}function VIe(t,e,n){const i=oQ(t,u6),{continuousAxisChannelDef:s,continuousAxis:a}=aQ(t,i,u6),c=s.field,d=lQ(e),f=[...dQ(c),{op:"median",field:c,as:`mid_box_${c}`},{op:"min",field:c,as:(d==="min-max"?"lower_whisker_":"min_")+c},{op:"max",field:c,as:(d==="min-max"?"upper_whisker_":"max_")+c}],u=d==="min-max"||d==="tukey"?[]:[{calculate:`datum["upper_box_${c}"] - datum["lower_box_${c}"]`,as:`iqr_${c}`},{calculate:`min(datum["upper_box_${c}"] + datum["iqr_${c}"] * ${e}, datum["max_${c}"])`,as:`upper_whisker_${c}`},{calculate:`max(datum["lower_box_${c}"] - datum["iqr_${c}"] * ${e}, datum["min_${c}"])`,as:`lower_whisker_${c}`}],{[a]:o,...g}=t.encoding,{customTooltipWithoutAggregatedField:y,filteredEncoding:m}=zIe(g),{bins:l,timeUnits:b,aggregate:L,groupby:E,encoding:S}=iQ(m,n),x=i==="vertical"?"horizontal":"vertical",k=i,B=[...l,...b,{aggregate:[...L,...f],groupby:E},...u];return{bins:l,timeUnits:b,transform:B,groupby:E,aggregate:L,continuousAxisChannelDef:s,continuousAxis:a,encodingWithoutContinuousAxis:S,ticksOrient:x,boxOrient:k,customTooltipWithoutAggregatedField:y}}const Pk="errorbar",qIe=["ticks","rule"],GIe=new k5(Pk,fQ);function fQ(t,{config:e}){t={...t,encoding:F5(t.encoding,e)};const{transform:n,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:a,ticksOrient:c,markDef:d,outerSpec:f,tooltipEncoding:u}=uQ(t,Pk,e);delete a.size;const o=Dk(d,s,i,a,e.errorbar),g=d.thickness,y=d.size,m={type:"tick",orient:c,aria:!1,...g!==void 0?{thickness:g}:{},...y!==void 0?{size:y}:{}},l=[...o({partName:"ticks",mark:m,positionPrefix:"lower",extraEncoding:u}),...o({partName:"ticks",mark:m,positionPrefix:"upper",extraEncoding:u}),...o({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...g!==void 0?{size:g}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...f,transform:n,...l.length>1?{layer:l}:{...l[0]}}}function WIe(t,e){const{encoding:n}=t;if(YIe(n))return{orient:oQ(t,e),inputType:"raw"};const i=XIe(n),s=KIe(n),a=n.x,c=n.y;if(i){if(s)throw new Error(`${e} cannot be both type aggregated-upper-lower and aggregated-error`);const d=n.x2,f=n.y2;if(Qe(d)&&Qe(f))throw new Error(`${e} cannot have both x2 and y2`);if(Qe(d)){if(Xc(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${e}`)}else if(Qe(f)){if(Xc(c))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${e}`)}throw new Error("No ranged axis")}else{const d=n.xError,f=n.xError2,u=n.yError,o=n.yError2;if(Qe(f)&&!Qe(d))throw new Error(`${e} cannot have xError2 without xError`);if(Qe(o)&&!Qe(u))throw new Error(`${e} cannot have yError2 without yError`);if(Qe(d)&&Qe(u))throw new Error(`${e} cannot have both xError and yError with both are quantiative`);if(Qe(d)){if(Xc(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Qe(u)){if(Xc(c))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function YIe(t){return(Qe(t.x)||Qe(t.y))&&!Qe(t.x2)&&!Qe(t.y2)&&!Qe(t.xError)&&!Qe(t.xError2)&&!Qe(t.yError)&&!Qe(t.yError2)}function XIe(t){return Qe(t.x2)||Qe(t.y2)}function KIe(t){return Qe(t.xError)||Qe(t.xError2)||Qe(t.yError)||Qe(t.yError2)}function uQ(t,e,n){const{mark:i,encoding:s,params:a,projection:c,...d}=t,f=Vo(i)?i:{type:i};a&&Le(lJ(e));const{orient:u,inputType:o}=WIe(t,e),{continuousAxisChannelDef:g,continuousAxisChannelDef2:y,continuousAxisChannelDefError:m,continuousAxisChannelDefError2:l,continuousAxis:b}=aQ(t,u,e),{errorBarSpecificAggregate:L,postAggregateCalculates:E,tooltipSummary:S,tooltipTitleWithFieldName:x}=ZIe(f,g,y,m,l,o,e,n),{[b]:k,[b==="x"?"x2":"y2"]:B,[b==="x"?"xError":"yError"]:A,[b==="x"?"xError2":"yError2"]:M,...C}=s,{bins:R,timeUnits:D,aggregate:$,groupby:Y,encoding:z}=iQ(C,n),H=[...$,...L],q=o!=="raw"?[]:Y,W=IT(S,g,z,x);return{transform:[...d.transform??[],...R,...D,...H.length===0?[]:[{aggregate:H,groupby:q}],...E],groupby:q,continuousAxisChannelDef:g,continuousAxis:b,encodingWithoutContinuousAxis:z,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:f,outerSpec:d,tooltipEncoding:W}}function ZIe(t,e,n,i,s,a,c,d){let f=[],u=[];const o=e.field;let g,y=!1;if(a==="raw"){const m=t.center?t.center:t.extent?t.extent==="iqr"?"median":"mean":d.errorbar.center,l=t.extent?t.extent:m==="mean"?"stderr":"iqr";if(m==="median"!=(l==="iqr")&&Le(fBe(m,l,c)),l==="stderr"||l==="stdev")f=[{op:l,field:o,as:`extent_${o}`},{op:m,field:o,as:`center_${o}`}],u=[{calculate:`datum["center_${o}"] + datum["extent_${o}"]`,as:`upper_${o}`},{calculate:`datum["center_${o}"] - datum["extent_${o}"]`,as:`lower_${o}`}],g=[{fieldPrefix:"center_",titlePrefix:F_(m)},{fieldPrefix:"upper_",titlePrefix:QR(m,l,"+")},{fieldPrefix:"lower_",titlePrefix:QR(m,l,"-")}],y=!0;else{let b,L,E;l==="ci"?(b="mean",L="ci0",E="ci1"):(b="median",L="q1",E="q3"),f=[{op:L,field:o,as:`lower_${o}`},{op:E,field:o,as:`upper_${o}`},{op:b,field:o,as:`center_${o}`}],g=[{fieldPrefix:"upper_",titlePrefix:E1({field:o,aggregate:E,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:E1({field:o,aggregate:L,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:E1({field:o,aggregate:b,type:"quantitative"},d,{allowDisabling:!1})}]}}else{(t.center||t.extent)&&Le(dBe(t.center,t.extent)),a==="aggregated-upper-lower"?(g=[],u=[{calculate:`datum["${n.field}"]`,as:`upper_${o}`},{calculate:`datum["${o}"]`,as:`lower_${o}`}]):a==="aggregated-error"&&(g=[{fieldPrefix:"",titlePrefix:o}],u=[{calculate:`datum["${o}"] + datum["${i.field}"]`,as:`upper_${o}`}],s?u.push({calculate:`datum["${o}"] + datum["${s.field}"]`,as:`lower_${o}`}):u.push({calculate:`datum["${o}"] - datum["${i.field}"]`,as:`lower_${o}`}));for(const m of u)g.push({fieldPrefix:m.as.substring(0,6),titlePrefix:xu(xu(m.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:f,tooltipSummary:g,tooltipTitleWithFieldName:y}}function QR(t,e,n){return`${F_(t)} ${n} ${e}`}const $k="errorband",JIe=["band","borders"],QIe=new k5($k,hQ);function hQ(t,{config:e}){t={...t,encoding:F5(t.encoding,e)};const{transform:n,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:a,markDef:c,outerSpec:d,tooltipEncoding:f}=uQ(t,$k,e),u=c,o=Dk(u,s,i,a,e.errorband),g=t.encoding.x!==void 0&&t.encoding.y!==void 0;let y={type:g?"area":"rect"},m={type:g?"line":"rule"};const l={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return g?(y={...y,...l,ariaRoleDescription:"errorband"},m={...m,...l,aria:!1}):u.interpolate?Le(VR("interpolate")):u.tension&&Le(VR("tension")),{...d,transform:n,layer:[...o({partName:"band",mark:y,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f}),...o({partName:"borders",mark:m,positionPrefix:"lower",extraEncoding:f}),...o({partName:"borders",mark:m,positionPrefix:"upper",extraEncoding:f})]}}const pQ={};function Uk(t,e,n){const i=new k5(t,e);pQ[t]={normalizer:i,parts:n}}function eke(){return me(pQ)}Uk(u6,cQ,HIe);Uk(Pk,fQ,qIe);Uk($k,hQ,JIe);const tke=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],_Q={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},gQ={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},nke=me(_Q),ike=me(gQ),ske={header:1,headerRow:1,headerColumn:1,headerFacet:1},yQ=me(ske),mQ=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],rke={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},ake={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Oa="_vgsid_",oke={point:{on:"click",fields:[Oa],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function zk(t){return t==="legend"||!!(t!=null&&t.legend)}function M9(t){return zk(t)&&Me(t)}function Hk(t){return!!(t!=null&&t.select)}function wQ(t){const e=[];for(const n of t||[]){if(Hk(n))continue;const{expr:i,bind:s,...a}=n;if(s&&i){const c={...a,bind:s,init:i};e.push(c)}else{const c={...a,...i?{update:i}:{},...s?{bind:s}:{}};e.push(c)}}return e}function lke(t){return M5(t)||Vk(t)||jk(t)}function jk(t){return"concat"in t}function M5(t){return"vconcat"in t}function Vk(t){return"hconcat"in t}function LQ({step:t,offsetIsDiscrete:e}){return e?t.for??"offset":"position"}function Go(t){return Me(t)&&t.step!==void 0}function eD(t){return t.view||t.width||t.height}const tD=20,cke={align:1,bounds:1,center:1,columns:1,spacing:1},dke=me(cke);function fke(t,e,n){const i=n[e],s={},{spacing:a,columns:c}=i;a!==void 0&&(s.spacing=a),c!==void 0&&(E5(t)&&!D_(t.facet)||jk(t))&&(s.columns=c),M5(t)&&(s.columns=1);for(const d of dke)if(t[d]!==void 0)if(d==="spacing"){const f=t[d];s[d]=dn(f)?f:{row:f.row??a,column:f.column??a}}else s[d]=t[d];return s}function kT(t,e){return t[e]??t[e==="width"?"continuousWidth":"continuousHeight"]}function h6(t,e){const n=p6(t,e);return Go(n)?n.step:bQ}function p6(t,e){const n=t[e]??t[e==="width"?"discreteWidth":"discreteHeight"];return Kn(n,{step:t.step})}const bQ=20,uke={continuousWidth:200,continuousHeight:200,step:bQ},hke={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:uke,mark:aIe,arc:{},area:{},bar:cIe,circle:{},geoshape:{},image:{},line:{},point:{},rect:dIe,rule:{color:"black"},square:{},text:{color:"black"},tick:fIe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:HBe,projection:{},legend:rke,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:oke,style:{},title:{},facet:{spacing:tD},concat:{spacing:tD},normalizedNumberFormat:".0%"},hl=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],nD={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},iD={blue:hl[0],orange:hl[1],red:hl[2],teal:hl[3],green:hl[4],yellow:hl[5],purple:hl[6],pink:hl[7],brown:hl[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function pke(t={}){return{signals:[{name:"color",value:Me(t)?{...iD,...t}:iD}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function _ke(t){return{signals:[{name:"fontSize",value:Me(t)?{...nD,...t}:nD}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function gke(t){return{text:{font:t},style:{"guide-label":{font:t},"guide-title":{font:t},"group-title":{font:t},"group-subtitle":{font:t}}}}function TQ(t){const e=me(t||{}),n={};for(const i of e){const s=t[i];n[i]=U_(s)?tJ(s):ur(s)}return n}function yke(t){const e=me(t),n={};for(const i of e)n[i]=TQ(t[i]);return n}const mke=[...NJ,...tQ,...yQ,"background","padding","legend","lineBreak","scale","style","title","view"];function vQ(t={}){const{color:e,font:n,fontSize:i,selection:s,...a}=t,c=D2({},et(hke),n?gke(n):{},e?pke(e):{},i?_ke(i):{},a||{});s&&P2(c,"selection",s,!0);const d=Ds(c,mke);for(const f of["background","lineBreak","padding"])c[f]&&(d[f]=ur(c[f]));for(const f of NJ)c[f]&&(d[f]=Fs(c[f]));for(const f of tQ)c[f]&&(d[f]=TQ(c[f]));for(const f of yQ)c[f]&&(d[f]=Fs(c[f]));return c.legend&&(d.legend=Fs(c.legend)),c.scale&&(d.scale=Fs(c.scale)),c.style&&(d.style=yke(c.style)),c.title&&(d.title=Fs(c.title)),c.view&&(d.view=Fs(c.view)),d}const wke=new Set(["view",...eIe]),Lke=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],bke={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...rIe};function Tke(t){t=et(t);for(const e of Lke)delete t[e];if(t.axis)for(const e in t.axis)U_(t.axis[e])&&delete t.axis[e];if(t.legend)for(const e of tke)delete t.legend[e];if(t.mark){for(const e of GR)delete t.mark[e];t.mark.tooltip&&Me(t.mark.tooltip)&&delete t.mark.tooltip}t.params&&(t.signals=(t.signals||[]).concat(wQ(t.params)),delete t.params);for(const e of wke){for(const i of GR)delete t[e][i];const n=bke[e];if(n)for(const i of n)delete t[e][i];Eke(t,e)}for(const e of eke())delete t[e];vke(t);for(const e in t)Me(t[e])&&cn(t[e])&&delete t[e];return cn(t)?void 0:t}function vke(t){const{titleMarkConfig:e,subtitleMarkConfig:n,subtitle:i}=eJ(t.title);cn(e)||(t.style["group-title"]={...t.style["group-title"],...e}),cn(n)||(t.style["group-subtitle"]={...t.style["group-subtitle"],...n}),cn(i)?delete t.title:t.title=i}function Eke(t,e,n,i){const s=i?t[e][i]:t[e];e==="view"&&(n="cell");const a={...s,...t.style[n??e]};cn(a)||(t.style[n??e]=a),i||delete t[e]}function A5(t){return"layer"in t}function Ske(t){return"repeat"in t}function xke(t){return!ue(t.repeat)&&t.repeat.layer}class qk{map(e,n){return E5(e)?this.mapFacet(e,n):Ske(e)?this.mapRepeat(e,n):Vk(e)?this.mapHConcat(e,n):M5(e)?this.mapVConcat(e,n):jk(e)?this.mapConcat(e,n):this.mapLayerOrUnit(e,n)}mapLayerOrUnit(e,n){if(A5(e))return this.mapLayer(e,n);if(yc(e))return this.mapUnit(e,n);throw new Error(ok(e))}mapLayer(e,n){return{...e,layer:e.layer.map(i=>this.mapLayerOrUnit(i,n))}}mapHConcat(e,n){return{...e,hconcat:e.hconcat.map(i=>this.map(i,n))}}mapVConcat(e,n){return{...e,vconcat:e.vconcat.map(i=>this.map(i,n))}}mapConcat(e,n){const{concat:i,...s}=e;return{...s,concat:i.map(a=>this.map(a,n))}}mapFacet(e,n){return{...e,spec:this.map(e.spec,n)}}mapRepeat(e,n){return{...e,spec:this.map(e.spec,n)}}}const Bke={zero:1,center:1,normalize:1};function Ike(t){return t in Bke}const kke=new Set([FJ,L5,w5,a6,T5,vk,Ek,b5,MJ,Tk]),Fke=new Set([L5,w5,FJ]);function wh(t){return be(t)&&L2(t)==="quantitative"&&!t.bin}function sD(t,e,{orient:n,type:i}){const s=e==="x"?"y":"radius",a=e==="x",c=t[e],d=t[s];if(be(c)&&be(d))if(wh(c)&&wh(d)){if(c.stack)return e;if(d.stack)return s;const f=be(c)&&!!c.aggregate,u=be(d)&&!!d.aggregate;if(f!==u)return f?e:s;if(a&&i==="bar"){if(n==="vertical")return s;if(n==="horizontal")return e}}else{if(wh(c))return e;if(wh(d))return s}else{if(wh(c))return e;if(wh(d))return s}}function Mke(t){switch(t){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function EQ(t,e){var y,m;const n=Vo(t)?t:{type:t},i=n.type;if(!kke.has(i))return null;const s=sD(e,"x",n)||sD(e,"theta",n);if(!s)return null;const a=e[s],c=be(a)?Se(a,{}):void 0,d=Mke(s),f=[],u=new Set;if(e[d]){const l=e[d],b=be(l)?Se(l,{}):void 0;b&&b!==c&&(f.push(d),u.add(b));const L=d==="x"?"xOffset":"yOffset",E=e[L],S=be(E)?Se(E,{}):void 0;S&&S!==c&&(f.push(L),u.add(S))}const o=qSe.reduce((l,b)=>{if(b!=="tooltip"&&su(e,b)){const L=e[b];for(const E of ke(L)){const S=qo(E);if(S.aggregate)continue;const x=Se(S,{});(!x||!u.has(x))&&l.push({channel:b,fieldDef:S})}}return l},[]);let g;return a.stack!==void 0?jd(a.stack)?g=a.stack?"zero":null:g=a.stack:Fke.has(i)&&(g="zero"),!g||!Ike(g)||Nk(e)&&o.length===0?null:(y=a==null?void 0:a.scale)!=null&&y.type&&((m=a==null?void 0:a.scale)==null?void 0:m.type)!==Ps.LINEAR?(a!=null&&a.stack&&Le(oBe(a.scale.type)),null):Qe(e[rl(s)])?(a.stack!==void 0&&Le(aBe(s)),null):(be(a)&&a.aggregate&&!ixe.has(a.aggregate)&&Le(lBe(a.aggregate)),{groupbyChannels:f,groupbyFields:u,fieldChannel:s,impute:a.impute===null?!1:Qd(i),stackBy:o,offset:g})}function Ake(t){const{point:e,line:n,...i}=t;return me(i).length>1?i:i.type}function Oke(t){for(const e of["line","area","rule","trail"])t[e]&&(t={...t,[e]:Ds(t[e],["point","line"])});return t}function A9(t,e={},n){return t.point==="transparent"?{opacity:0}:t.point?Me(t.point)?t.point:{}:t.point!==void 0?null:e.point||n.shape?Me(e.point)?e.point:{}:void 0}function rD(t,e={}){return t.line?t.line===!0?{}:t.line:t.line!==void 0?null:e.line?e.line===!0?{}:e.line:void 0}class Nke{constructor(){this.name="path-overlay"}hasMatchingType(e,n){if(yc(e)){const{mark:i,encoding:s}=e,a=Vo(i)?i:{type:i};switch(a.type){case"line":case"rule":case"trail":return!!A9(a,n[a.type],s);case"area":return!!A9(a,n[a.type],s)||!!rD(a,n[a.type])}}return!1}run(e,n,i){const{config:s}=n,{params:a,projection:c,mark:d,name:f,encoding:u,...o}=e,g=F5(u,s),y=Vo(d)?d:{type:d},m=A9(y,s[y.type],g),l=y.type==="area"&&rD(y,s[y.type]),b=[{name:f,...a?{params:a}:{},mark:Ake({...y.type==="area"&&y.opacity===void 0&&y.fillOpacity===void 0?{opacity:.7}:{},...y}),encoding:Ds(g,["shape"])}],L=EQ(y,g);let E=g;if(L){const{fieldChannel:S,offset:x}=L;E={...g,[S]:{...g[S],...x?{stack:x}:{}}}}return E=Ds(E,["y2","x2"]),l&&b.push({...c?{projection:c}:{},mark:{type:"line",..._2(y,["clip","interpolate","tension","tooltip"]),...l},encoding:E}),m&&b.push({...c?{projection:c}:{},mark:{type:"point",opacity:1,filled:!0,..._2(y,["clip","tooltip"]),...m},encoding:E}),i({...o,layer:b},{...n,config:Oke(s)})}}function Cke(t,e){return e?D_(t)?xQ(t,e):SQ(t,e):t}function O9(t,e){return e?xQ(t,e):t}function FT(t,e,n){const i=e[t];if(bIe(i)){if(i.repeat in n)return{...e,[t]:n[i.repeat]};Le(Txe(i.repeat));return}return e}function SQ(t,e){if(t=FT("field",t,e),t!==void 0){if(t===null)return null;if(Fk(t)&&Bo(t.sort)){const n=FT("field",t.sort,e);t={...t,...n?{sort:n}:{}}}return t}}function aD(t,e){if(be(t))return SQ(t,e);{const n=FT("datum",t,e);return n!==t&&!n.type&&(n.type="nominal"),n}}function oD(t,e){if(Qe(t)){const n=aD(t,e);if(n)return n;if(S5(t))return{condition:t.condition}}else{if(P_(t)){const n=aD(t.condition,e);if(n)return{...t,condition:n};{const{condition:i,...s}=t;return s}}return t}}function xQ(t,e){const n={};for(const i in t)if($e(t,i)){const s=t[i];if(ue(s))n[i]=s.map(a=>oD(a,e)).filter(a=>a);else{const a=oD(s,e);a!==void 0&&(n[i]=a)}}return n}class Rke{constructor(){this.name="RuleForRangedLine"}hasMatchingType(e){if(yc(e)){const{encoding:n,mark:i}=e;if(i==="line"||Vo(i)&&i.type==="line")for(const s of jSe){const a=eh(s),c=n[a];if(n[s]&&(be(c)&&!Si(c.bin)||ol(c)))return!0}}return!1}run(e,n,i){const{encoding:s,mark:a}=e;return Le(jxe(!!s.x2,!!s.y2)),i({...e,mark:Me(a)?{...a,type:"rule"}:"rule"},n)}}class Dke extends qk{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[jIe,GIe,QIe,new Nke,new Rke]}map(e,n){if(yc(e)){const i=su(e.encoding,Hl),s=su(e.encoding,jl),a=su(e.encoding,c5);if(i||s||a)return this.mapFacetedUnit(e,n)}return super.map(e,n)}mapUnit(e,n){const{parentEncoding:i,parentProjection:s}=n,a=O9(e.encoding,n.repeater),c={...e,...e.name?{name:[n.repeaterPrefix,e.name].filter(f=>f).join("_")}:{},...a?{encoding:a}:{}};if(i||s)return this.mapUnitWithParentEncodingOrProjection(c,n);const d=this.mapLayerOrUnit.bind(this);for(const f of this.nonFacetUnitNormalizers)if(f.hasMatchingType(c,n.config))return f.run(c,n,d);return c}mapRepeat(e,n){return xke(e)?this.mapLayerRepeat(e,n):this.mapNonLayerRepeat(e,n)}mapLayerRepeat(e,n){const{repeat:i,spec:s,...a}=e,{row:c,column:d,layer:f}=i,{repeater:u={},repeaterPrefix:o=""}=n;return c||d?this.mapRepeat({...e,repeat:{...c?{row:c}:{},...d?{column:d}:{}},spec:{repeat:{layer:f},spec:s}},n):{...a,layer:f.map(g=>{const y={...u,layer:g},m=`${(s.name?`${s.name}_`:"")+o}child__layer_${kn(g)}`,l=this.mapLayerOrUnit(s,{...n,repeater:y,repeaterPrefix:m});return l.name=m,l})}}mapNonLayerRepeat(e,n){const{repeat:i,spec:s,data:a,...c}=e;!ue(i)&&e.columns&&(e=Ds(e,["columns"]),Le(UR("repeat")));const d=[],{repeater:f={},repeaterPrefix:u=""}=n,o=!ue(i)&&i.row||[f?f.row:null],g=!ue(i)&&i.column||[f?f.column:null],y=ue(i)&&i||[f?f.repeat:null];for(const l of y)for(const b of o)for(const L of g){const E={repeat:l,row:b,column:L,layer:f.layer},S=(s.name?`${s.name}_`:"")+u+"child__"+(ue(i)?`${kn(l)}`:(i.row?`row_${kn(b)}`:"")+(i.column?`column_${kn(L)}`:"")),x=this.map(s,{...n,repeater:E,repeaterPrefix:S});x.name=S,d.push(Ds(x,["data"]))}const m=ue(i)?e.columns:i.column?i.column.length:1;return{data:s.data??a,align:"all",...c,columns:m,concat:d}}mapFacet(e,n){const{facet:i}=e;return D_(i)&&e.columns&&(e=Ds(e,["columns"]),Le(UR("facet"))),super.mapFacet(e,n)}mapUnitWithParentEncodingOrProjection(e,n){const{encoding:i,projection:s}=e,{parentEncoding:a,parentProjection:c,config:d}=n,f=cD({parentProjection:c,projection:s}),u=lD({parentEncoding:a,encoding:O9(i,n.repeater)});return this.mapUnit({...e,...f?{projection:f}:{},...u?{encoding:u}:{}},{config:d})}mapFacetedUnit(e,n){const{row:i,column:s,facet:a,...c}=e.encoding,{mark:d,width:f,projection:u,height:o,view:g,params:y,encoding:m,...l}=e,{facetMapping:b,layout:L}=this.getFacetMappingAndLayout({row:i,column:s,facet:a},n),E=O9(c,n.repeater);return this.mapFacet({...l,...L,facet:b,spec:{...f?{width:f}:{},...o?{height:o}:{},...g?{view:g}:{},...u?{projection:u}:{},mark:d,encoding:E,...y?{params:y}:{}}},n)}getFacetMappingAndLayout(e,n){const{row:i,column:s,facet:a}=e;if(i||s){a&&Le(zxe([...i?[Hl]:[],...s?[jl]:[]]));const c={},d={};for(const f of[Hl,jl]){const u=e[f];if(u){const{align:o,center:g,spacing:y,columns:m,...l}=u;c[f]=l;for(const b of["align","center","spacing"])u[b]!==void 0&&(d[b]??(d[b]={}),d[b][f]=u[b])}}return{facetMapping:c,layout:d}}else{const{align:c,center:d,spacing:f,columns:u,...o}=a;return{facetMapping:Cke(o,n.repeater),layout:{...c?{align:c}:{},...d?{center:d}:{},...f?{spacing:f}:{},...u?{columns:u}:{}}}}}mapLayer(e,{parentEncoding:n,parentProjection:i,...s}){const{encoding:a,projection:c,...d}=e,f={...s,parentEncoding:lD({parentEncoding:n,encoding:a,layer:!0}),parentProjection:cD({parentProjection:i,projection:c})};return super.mapLayer({...d,...e.name?{name:[f.repeaterPrefix,e.name].filter(u=>u).join("_")}:{}},f)}}function lD({parentEncoding:t,encoding:e={},layer:n}){let i={};if(t){const s=new Set([...me(t),...me(e)]);for(const a of s){const c=e[a],d=t[a];if(Qe(c)){const f={...d,...c};i[a]=f}else P_(c)?i[a]={...c,condition:{...d,...c.condition}}:c||c===null?i[a]=c:(n||Aa(d)||Ce(d)||Qe(d)||ue(d))&&(i[a]=d)}}else i=e;return!i||cn(i)?void 0:i}function cD(t){const{parentProjection:e,projection:n}=t;return e&&n&&Le(Ixe({parentProjection:e,projection:n})),n??e}function Gk(t){return"filter"in t}function Pke(t){return(t==null?void 0:t.stop)!==void 0}function BQ(t){return"lookup"in t}function $ke(t){return"data"in t}function Uke(t){return"param"in t}function zke(t){return"pivot"in t}function Hke(t){return"density"in t}function jke(t){return"quantile"in t}function Vke(t){return"regression"in t}function qke(t){return"loess"in t}function Gke(t){return"sample"in t}function Wke(t){return"window"in t}function Yke(t){return"joinaggregate"in t}function Xke(t){return"flatten"in t}function Kke(t){return"calculate"in t}function IQ(t){return"bin"in t}function Zke(t){return"impute"in t}function Jke(t){return"timeUnit"in t}function Qke(t){return"aggregate"in t}function eFe(t){return"stack"in t}function tFe(t){return"fold"in t}function nFe(t){return t.map(e=>Gk(e)?{filter:T1(e.filter,CBe)}:e)}class iFe extends qk{map(e,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),e=dD(e,n),super.map(e,n)}mapLayerOrUnit(e,n){if(e=dD(e,n),e.encoding){const i={};for(const[s,a]of Ed(e.encoding))i[s]=kQ(a,n);e={...e,encoding:i}}return super.mapLayerOrUnit(e,n)}mapUnit(e,n){const{selection:i,...s}=e;return i?{...s,params:Ed(i).map(([a,c])=>{const{init:d,bind:f,empty:u,...o}=c;o.type==="single"?(o.type="point",o.toggle=!1):o.type==="multi"&&(o.type="point"),n.emptySelections[a]=u!=="none";for(const g of Fi(n.selectionPredicates[a]??{}))g.empty=u!=="none";return{name:a,value:d,select:o,bind:f}})}:e}}function dD(t,e){const{transform:n,...i}=t;if(n){const s=n.map(a=>{if(Gk(a))return{filter:MT(a,e)};if(IQ(a)&&th(a.bin))return{...a,bin:FQ(a.bin)};if(BQ(a)){const{selection:c,...d}=a.from;return c?{...a,from:{param:c,...d}}:a}return a});return{...i,transform:s}}return t}function kQ(t,e){var i,s;const n=et(t);if(be(n)&&th(n.bin)&&(n.bin=FQ(n.bin)),ih(n)&&((s=(i=n.scale)==null?void 0:i.domain)!=null&&s.selection)){const{selection:a,...c}=n.scale.domain;n.scale.domain={...c,...a?{param:a}:{}}}if(S5(n))if(ue(n.condition))n.condition=n.condition.map(a=>{const{selection:c,param:d,test:f,...u}=a;return d?a:{...u,test:MT(a,e)}});else{const{selection:a,param:c,test:d,...f}=kQ(n.condition,e);n.condition=c?n.condition:{...f,test:MT(n.condition,e)}}return n}function FQ(t){const e=t.extent;if(e!=null&&e.selection){const{selection:n,...i}=e;return{...t,extent:{...i,param:n}}}return t}function MT(t,e){const n=i=>T1(i,s=>{var a;const c=e.emptySelections[s]??!0,d={param:s,empty:c};return(a=e.selectionPredicates)[s]??(a[s]=[]),e.selectionPredicates[s].push(d),d});return t.selection?n(t.selection):T1(t.test||t.filter,i=>i.selection?n(i.selection):i)}class AT extends qk{map(e,n){const i=n.selections??[];if(e.params&&!yc(e)){const s=[];for(const a of e.params)Hk(a)?i.push(a):s.push(a);e.params=s}return n.selections=i,super.map(e,n)}mapUnit(e,n){const i=n.selections;if(!i||!i.length)return e;const s=(n.path??[]).concat(e.name),a=[];for(const c of i)if(!c.views||!c.views.length)a.push(c);else for(const d of c.views)(Ie(d)&&(d===e.name||s.includes(d))||ue(d)&&d.map(f=>s.indexOf(f)).every((f,u,o)=>f!==-1&&(u===0||f>o[u-1])))&&a.push(c);return a.length&&(e.params=a),e}}for(const t of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const e=AT.prototype[t];AT.prototype[t]=function(n,i){return e.call(this,n,sFe(n,i))}}function sFe(t,e){return t.name?{...e,path:(e.path??[]).concat(t.name)}:e}function MQ(t,e){e===void 0&&(e=vQ(t.config));const n=lFe(t,e),{width:i,height:s}=t,a=cFe(n,{width:i,height:s,autosize:t.autosize},e);return{...n,...a?{autosize:a}:{}}}const rFe=new Dke,aFe=new iFe,oFe=new AT;function lFe(t,e={}){const n={config:e};return oFe.map(rFe.map(aFe.map(t,n),n),n)}function fD(t){return Ie(t)?{type:t}:t??{}}function cFe(t,e,n){let{width:i,height:s}=e;const a=yc(t)||A5(t),c={};a?i=="container"&&s=="container"?(c.type="fit",c.contains="padding"):i=="container"?(c.type="fit-x",c.contains="padding"):s=="container"&&(c.type="fit-y",c.contains="padding"):(i=="container"&&(Le(RR("width")),i=void 0),s=="container"&&(Le(RR("height")),s=void 0));const d={type:"pad",...c,...n?fD(n.autosize):{},...fD(t.autosize)};if(d.type==="fit"&&!a&&(Le(uxe),d.type="pad"),i=="container"&&!(d.type=="fit"||d.type=="fit-x")&&Le(DR("width")),s=="container"&&!(d.type=="fit"||d.type=="fit-y")&&Le(DR("height")),!To(d,{type:"pad"}))return d}function dFe(t){return t==="fit"||t==="fit-x"||t==="fit-y"}function fFe(t){return t?`fit-${p5(t)}`:"fit"}const uFe=["background","padding"];function uD(t,e){const n={};for(const i of uFe)t&&t[i]!==void 0&&(n[i]=ur(t[i]));return e&&(n.params=t.params),n}class mc{constructor(e={},n={}){this.explicit=e,this.implicit=n}clone(){return new mc(et(this.explicit),et(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(e){return Kn(this.explicit[e],this.implicit[e])}getWithExplicit(e){return this.explicit[e]!==void 0?{explicit:!0,value:this.explicit[e]}:this.implicit[e]!==void 0?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}setWithExplicit(e,{value:n,explicit:i}){n!==void 0&&this.set(e,n,i)}set(e,n,i){return delete this[i?"implicit":"explicit"][e],this[i?"explicit":"implicit"][e]=n,this}copyKeyFromSplit(e,{explicit:n,implicit:i}){n[e]!==void 0?this.set(e,n[e],!0):i[e]!==void 0&&this.set(e,i[e],!1)}copyKeyFromObject(e,n){n[e]!==void 0&&this.set(e,n[e],!0)}copyAll(e){for(const n of me(e.combine())){const i=e.getWithExplicit(n);this.setWithExplicit(n,i)}}}function ro(t){return{explicit:!0,value:t}}function sr(t){return{explicit:!1,value:t}}function AQ(t){return(e,n,i,s)=>{const a=t(e.value,n.value);return a>0?e:a<0?n:O5(e,n,i,s)}}function O5(t,e,n,i){return t.explicit&&e.explicit&&Le(Qxe(n,i,t.value,e.value)),t}function xd(t,e,n,i,s=O5){return t===void 0||t.value===void 0?e:t.explicit&&!e.explicit?t:e.explicit&&!t.explicit?e:To(t.value,e.value)?t:s(t,e,n,i)}class hFe extends mc{constructor(e={},n={},i=!1){super(e,n),this.explicit=e,this.implicit=n,this.parseNothing=i}clone(){const e=super.clone();return e.parseNothing=this.parseNothing,e}}function v2(t){return"url"in t}function S3(t){return"values"in t}function OQ(t){return"name"in t&&!v2(t)&&!S3(t)&&!td(t)}function td(t){return t&&(NQ(t)||CQ(t)||Wk(t))}function NQ(t){return"sequence"in t}function CQ(t){return"sphere"in t}function Wk(t){return"graticule"in t}var wn;(function(t){t[t.Raw=0]="Raw",t[t.Main=1]="Main",t[t.Row=2]="Row",t[t.Column=3]="Column",t[t.Lookup=4]="Lookup"})(wn||(wn={}));function RQ(t){const{signals:e,hasLegend:n,index:i,...s}=t;return s.field=Zr(s.field),s}function Ou(t,e=!0,n=Yi){if(ue(t)){const i=t.map(s=>Ou(s,e,n));return e?`[${i.join(", ")}]`:i}else if(nh(t))return n(e?ku(t):EBe(t));return e?n(Ln(t)):t}function pFe(t,e){for(const n of Fi(t.component.selection??{})){const i=n.name;let s=`${i}${Id}, ${n.resolve==="global"?"true":`{unit: ${ru(t)}}`}`;for(const a of C5)a.defined(n)&&(a.signals&&(e=a.signals(t,n,e)),a.modifyExpr&&(s=a.modifyExpr(t,n,s)));e.push({name:i+GFe,on:[{events:{signal:n.name+Id},update:`modify(${Te(n.name+Nu)}, ${s})`}]})}return Yk(e)}function _Fe(t,e){if(t.component.selection&&me(t.component.selection).length){const n=Te(t.getName("cell"));e.unshift({name:"facet",value:{},on:[{events:qd("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return Yk(e)}function gFe(t,e){let n=!1;for(const i of Fi(t.component.selection??{})){const s=i.name,a=Te(s+Nu);if(e.filter(d=>d.name===s).length===0){const d=i.resolve==="global"?"union":i.resolve,f=i.type==="point"?", true, true)":")";e.push({name:i.name,update:`${QQ}(${a}, ${Te(d)}${f}`})}n=!0;for(const d of C5)d.defined(i)&&d.topLevelSignals&&(e=d.topLevelSignals(t,i,e))}return n&&e.filter(s=>s.name==="unit").length===0&&e.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),Yk(e)}function yFe(t,e){const n=[...e],i=ru(t,{escape:!1});for(const s of Fi(t.component.selection??{})){const a={name:s.name+Nu};if(s.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:Oa}}]),s.init){const d=s.project.items.map(RQ);a.values=s.project.hasSelectionId?s.init.map(f=>({unit:i,[Oa]:Ou(f,!1)[0]})):s.init.map(f=>({unit:i,fields:d,values:Ou(f,!1)}))}n.filter(d=>d.name===s.name+Nu).length||n.push(a)}return n}function DQ(t,e){for(const n of Fi(t.component.selection??{}))for(const i of C5)i.defined(n)&&i.marks&&(e=i.marks(t,n,e));return e}function mFe(t,e){for(const n of t.children)Vn(n)&&(e=DQ(n,e));return e}function wFe(t,e,n,i){const s=see(t,e.param,e);return{signal:Er(n.get("type"))&&ue(i)&&i[0]>i[1]?`isValid(${s}) && reverse(${s})`:s}}function Yk(t){return t.map(e=>(e.on&&!e.on.length&&delete e.on,e))}class un{constructor(e,n){this.debugName=n,this._children=[],this._parent=null,e&&(this.parent=e)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(e){this._parent=e,e&&e.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(e,n){if(this._children.includes(e)){Le(Sxe);return}n!==void 0?this._children.splice(n,0,e):this._children.push(e)}removeChild(e){const n=this._children.indexOf(e);return this._children.splice(n,1),n}remove(){let e=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,e++)}insertAsParentOf(e){const n=e.parent;n.removeChild(this),this.parent=n,e.parent=this}swapWithParent(){const e=this._parent,n=e.parent;for(const s of this._children)s.parent=e;this._children=[],e.removeChild(this);const i=e.parent.removeChild(e);this._parent=n,n.addChild(this,i),e.parent=this}}class hs extends un{clone(){const e=new this.constructor;return e.debugName=`clone_${this.debugName}`,e._source=this._source,e._name=`clone_${this._name}`,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}constructor(e,n,i,s){super(e,n),this.type=i,this.refCounts=s,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${RZ()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(e){this._source=e}}class Io extends un{clone(){return new Io(null,et(this.formula))}constructor(e,n){super(e),this.formula=n}static makeFromEncoding(e,n){const i=n.reduceFieldDef((s,a)=>{const{field:c,timeUnit:d}=a;if(d){const f=Se(a,{forAs:!0});s[Rt({as:f,field:c,timeUnit:d})]={as:f,field:c,timeUnit:d}}return s},{});return cn(i)?null:new Io(e,i)}static makeFromTransform(e,n){const{timeUnit:i,...s}={...n},a=Ai(i),c={...s,timeUnit:a};return new Io(e,{[Rt(c)]:c})}merge(e){this.formula={...this.formula};for(const n in e.formula)this.formula[n]||(this.formula[n]=e.formula[n]);for(const n of e.children)e.removeChild(n),n.parent=this;e.remove()}removeFormulas(e){const n={};for(const[i,s]of Ed(this.formula))e.has(s.as)||(n[i]=s);this.formula=n}producedFields(){return new Set(Fi(this.formula).map(e=>e.as))}dependentFields(){return new Set(Fi(this.formula).map(e=>e.field))}hash(){return`TimeUnit ${Rt(this.formula)}`}assemble(){const e=[];for(const n of Fi(this.formula)){const{field:i,as:s,timeUnit:a}=n,{unit:c,utc:d,...f}=Ai(a);e.push({field:Zr(i),type:"timeunit",...c?{units:m5(c)}:{},...d?{timezone:"utc"}:{},...f,as:[s,`${s}_end`]})}return e}}const z_="_tuple_fields";class LFe{constructor(...e){this.items=e,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const bFe={defined:()=>!0,parse:(t,e,n)=>{const i=e.name,s=e.project??(e.project=new LFe),a={},c={},d=new Set,f=(l,b)=>{const L=b==="visual"?l.channel:l.field;let E=kn(`${i}_${L}`);for(let S=1;d.has(E);S++)E=kn(`${i}_${L}_${S}`);return d.add(E),{[b]:E}},u=e.type,o=t.config.selection[u],g=n.value!==void 0?ke(n.value):null;let{fields:y,encodings:m}=Me(n.select)?n.select:{};if(!y&&!m&&g){for(const l of g)if(Me(l))for(const b of me(l))HSe(b)?(m||(m=[])).push(b):u==="interval"?(Le(bxe),m=o.encodings):(y??(y=[])).push(b)}!y&&!m&&(m=o.encodings,"fields"in o&&(y=o.fields));for(const l of m??[]){const b=t.fieldDef(l);if(b){let L=b.field;if(b.aggregate){Le(hxe(l,b.aggregate));continue}else if(!L){Le($R(l));continue}if(b.timeUnit){L=t.vgField(l);const E={timeUnit:b.timeUnit,as:L,field:b.field};c[Rt(E)]=E}if(!a[L]){const E=u==="interval"&&gc(l)&&Er(t.getScaleComponent(l).get("type"))?"R":b.bin?"R-RE":"E",S={field:L,channel:l,type:E,index:s.items.length};S.signals={...f(S,"data"),...f(S,"visual")},s.items.push(a[L]=S),s.hasField[L]=a[L],s.hasSelectionId=s.hasSelectionId||L===Oa,HZ(l)?(S.geoChannel=l,S.channel=zZ(l),s.hasChannel[S.channel]=a[L]):s.hasChannel[l]=a[L]}}else Le($R(l))}for(const l of y??[]){if(s.hasField[l])continue;const b={type:"E",field:l,index:s.items.length};b.signals={...f(b,"data")},s.items.push(b),s.hasField[l]=b,s.hasSelectionId=s.hasSelectionId||l===Oa}g&&(e.init=g.map(l=>s.items.map(b=>Me(l)?l[b.geoChannel||b.channel]!==void 0?l[b.geoChannel||b.channel]:l[b.field]:l))),cn(c)||(s.timeUnit=new Io(null,c))},signals:(t,e,n)=>{const i=e.name+z_;return n.filter(a=>a.name===i).length>0||e.project.hasSelectionId?n:n.concat({name:i,value:e.project.items.map(RQ)})}},ql={defined:t=>t.type==="interval"&&t.resolve==="global"&&t.bind&&t.bind==="scales",parse:(t,e)=>{const n=e.scales=[];for(const i of e.project.items){const s=i.channel;if(!gc(s))continue;const a=t.getScaleComponent(s),c=a?a.get("type"):void 0;if(!a||!Er(c)){Le(gxe);continue}a.set("selectionExtent",{param:e.name,field:i.field},!0),n.push(i)}},topLevelSignals:(t,e,n)=>{const i=e.scales.filter(c=>n.filter(d=>d.name===c.signals.data).length===0);if(!t.parent||hD(t)||i.length===0)return n;const s=n.filter(c=>c.name===e.name)[0];let a=s.update;if(a.indexOf(QQ)>=0)s.update=`{${i.map(c=>`${Te(Zr(c.field))}: ${c.signals.data}`).join(", ")}}`;else{for(const c of i){const d=`${Te(Zr(c.field))}: ${c.signals.data}`;a.includes(d)||(a=`${a.substring(0,a.length-1)}, ${d}}`)}s.update=a}return n.concat(i.map(c=>({name:c.signals.data})))},signals:(t,e,n)=>{if(t.parent&&!hD(t))for(const i of e.scales){const s=n.filter(a=>a.name===i.signals.data)[0];s.push="outer",delete s.value,delete s.update}return n}};function OT(t,e){return`domain(${Te(t.scaleName(e))})`}function hD(t){return t.parent&&e0(t.parent)&&!t.parent.parent}const S1="_brush",PQ="_scale_trigger",E0="geo_interval_init_tick",$Q="_init",TFe="_center",vFe={defined:t=>t.type==="interval",parse:(t,e,n)=>{var i;if(t.hasProjection){const s={...Me(n.select)?n.select:{}};s.fields=[Oa],s.encodings||(s.encodings=n.value?me(n.value):[Va,ja]),n.select={type:"interval",...s}}if(e.translate&&!ql.defined(e)){const s=`!event.item || event.item.mark.name !== ${Te(e.name+S1)}`;for(const a of e.events){if(!a.between){Le(`${a} is not an ordered event stream for interval selections.`);continue}const c=ke((i=a.between[0]).filter??(i.filter=[]));c.indexOf(s)<0&&c.push(s)}}},signals:(t,e,n)=>{const i=e.name,s=i+Id,a=Fi(e.project.hasChannel).filter(d=>d.channel===Fn||d.channel===bi),c=e.init?e.init[0]:null;if(n.push(...a.reduce((d,f)=>d.concat(EFe(t,e,f,c&&c[f.index])),[])),t.hasProjection){const d=Te(t.projectionName()),f=t.projectionName()+TFe,{x:u,y:o}=e.project.hasChannel,g=u&&u.signals.visual,y=o&&o.signals.visual,m=u?c&&c[u.index]:`${f}[0]`,l=o?c&&c[o.index]:`${f}[1]`,b=B=>t.getSizeSignalRef(B).signal,L=`[[${g?g+"[0]":"0"}, ${y?y+"[0]":"0"}],[${g?g+"[1]":b("width")}, ${y?y+"[1]":b("height")}]]`;c&&(n.unshift({name:i+$Q,init:`[scale(${d}, [${u?m[0]:m}, ${o?l[0]:l}]), scale(${d}, [${u?m[1]:m}, ${o?l[1]:l}])]`}),(!u||!o)&&(n.find(A=>A.name===f)||n.unshift({name:f,update:`invert(${d}, [${b("width")}/2, ${b("height")}/2])`})));const E=`intersect(${L}, {markname: ${Te(t.getName("marks"))}}, unit.mark)`,S=`{unit: ${ru(t)}}`,x=`vlSelectionTuples(${E}, ${S})`,k=a.map(B=>B.signals.visual);return n.concat({name:s,on:[{events:[...k.length?[{signal:k.join(" || ")}]:[],...c?[{signal:E0}]:[]],update:x}]})}else{if(!ql.defined(e)){const u=i+PQ,o=a.map(g=>{const y=g.channel,{data:m,visual:l}=g.signals,b=Te(t.scaleName(y)),L=t.getScaleComponent(y).get("type"),E=Er(L)?"+":"";return`(!isArray(${m}) || (${E}invert(${b}, ${l})[0] === ${E}${m}[0] && ${E}invert(${b}, ${l})[1] === ${E}${m}[1]))`});o.length&&n.push({name:u,value:{},on:[{events:a.map(g=>({scale:t.scaleName(g.channel)})),update:o.join(" && ")+` ? ${u} : {}`}]})}const d=a.map(u=>u.signals.data),f=`unit: ${ru(t)}, fields: ${i+z_}, values`;return n.concat({name:s,...c?{init:`{${f}: ${Ou(c)}}`}:{},...d.length?{on:[{events:[{signal:d.join(" || ")}],update:`${d.join(" && ")} ? {${f}: [${d}]} : null`}]}:{}})}},topLevelSignals:(t,e,n)=>(Vn(t)&&t.hasProjection&&e.init&&(n.filter(s=>s.name===E0).length||n.unshift({name:E0,value:null,on:[{events:"timer{1}",update:`${E0} === null ? {} : ${E0}`}]})),n),marks:(t,e,n)=>{const i=e.name,{x:s,y:a}=e.project.hasChannel,c=s==null?void 0:s.signals.visual,d=a==null?void 0:a.signals.visual,f=`data(${Te(e.name+Nu)})`;if(ql.defined(e)||!s&&!a)return n;const u={x:s!==void 0?{signal:`${c}[0]`}:{value:0},y:a!==void 0?{signal:`${d}[0]`}:{value:0},x2:s!==void 0?{signal:`${c}[1]`}:{field:{group:"width"}},y2:a!==void 0?{signal:`${d}[1]`}:{field:{group:"height"}}};if(e.resolve==="global")for(const b of me(u))u[b]=[{test:`${f}.length && ${f}[0].unit === ${ru(t)}`,...u[b]},{value:0}];const{fill:o,fillOpacity:g,cursor:y,...m}=e.mark,l=me(m).reduce((b,L)=>(b[L]=[{test:[s!==void 0&&`${c}[0] !== ${c}[1]`,a!==void 0&&`${d}[0] !== ${d}[1]`].filter(E=>E).join(" && "),value:m[L]},{value:null}],b),{});return[{name:`${i+S1}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:o},fillOpacity:{value:g}},update:u}},...n,{name:i+S1,type:"rect",clip:!0,encode:{enter:{...y?{cursor:{value:y}}:{},fill:{value:"transparent"}},update:{...u,...l}}}]}};function EFe(t,e,n,i){const s=!t.hasProjection,a=n.channel,c=n.signals.visual,d=Te(s?t.scaleName(a):t.projectionName()),f=y=>`scale(${d}, ${y})`,u=t.getSizeSignalRef(a===Fn?"width":"height").signal,o=`${a}(unit)`,g=e.events.reduce((y,m)=>[...y,{events:m.between[0],update:`[${o}, ${o}]`},{events:m,update:`[${c}[0], clamp(${o}, 0, ${u})]`}],[]);if(s){const y=n.signals.data,m=ql.defined(e),l=t.getScaleComponent(a),b=l?l.get("type"):void 0,L=i?{init:Ou(i,!0,f)}:{value:[]};return g.push({events:{signal:e.name+PQ},update:Er(b)?`[${f(`${y}[0]`)}, ${f(`${y}[1]`)}]`:"[0, 0]"}),m?[{name:y,on:[]}]:[{name:c,...L,on:g},{name:y,...i?{init:Ou(i)}:{},on:[{events:{signal:c},update:`${c}[0] === ${c}[1] ? null : invert(${d}, ${c})`}]}]}else{const y=a===Fn?0:1,m=e.name+$Q,l=i?{init:`[${m}[0][${y}], ${m}[1][${y}]]`}:{value:[]};return[{name:c,...l,on:g}]}}const SFe={defined:t=>t.type==="point",signals:(t,e,n)=>{const i=e.name,s=i+z_,a=e.project,c="(item().isVoronoi ? datum.datum : datum)",d=Fi(t.component.selection??{}).reduce((g,y)=>y.type==="interval"?g.concat(y.name+S1):g,[]).map(g=>`indexof(item().mark.name, '${g}') < 0`).join(" && "),f=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${d?` && ${d}`:""}`;let u=`unit: ${ru(t)}, `;if(e.project.hasSelectionId)u+=`${Oa}: ${c}[${Te(Oa)}]`;else{const g=a.items.map(y=>{const m=t.fieldDef(y.channel);return m!=null&&m.bin?`[${c}[${Te(t.vgField(y.channel,{}))}], ${c}[${Te(t.vgField(y.channel,{binSuffix:"end"}))}]]`:`${c}[${Te(y.field)}]`}).join(", ");u+=`fields: ${s}, values: [${g}]`}const o=e.events;return n.concat([{name:i+Id,on:o?[{events:o,update:`${f} ? {${u}} : null`,force:!0}]:[]}])}};function K2(t,e,n,i){const s=S5(e)&&e.condition,a=i(e);if(s){const d=ke(s).map(f=>{const u=i(f);if(LIe(f)){const{param:o,empty:g}=f;return{test:iee(t,{param:o,empty:g}),...u}}else return{test:y6(t,f.test),...u}});return{[n]:[...d,...a!==void 0?[a]:[]]}}else return a!==void 0?{[n]:a}:{}}function Xk(t,e="text"){const n=t.encoding[e];return K2(t,n,e,i=>N5(i,t.config))}function N5(t,e,n="datum"){if(t){if(Aa(t))return Bn(t.value);if(Qe(t)){const{format:i,formatType:s}=d6(t);return Ik({fieldOrDatumDef:t,format:i,formatType:s,expr:n,config:e})}}}function UQ(t,e={}){const{encoding:n,markDef:i,config:s,stack:a}=t,c=n.tooltip;if(ue(c))return{tooltip:pD({tooltip:c},a,s,e)};{const d=e.reactiveGeom?"datum.datum":"datum";return K2(t,c,"tooltip",f=>{const u=N5(f,s,d);if(u)return u;if(f===null)return;let o=sn("tooltip",i,s);if(o===!0&&(o={content:"encoding"}),Ie(o))return{value:o};if(Me(o))return Ce(o)?o:o.content==="encoding"?pD(n,a,s,e):{signal:d}})}}function zQ(t,e,n,{reactiveGeom:i}={}){const s={...n,...n.tooltipFormat},a={},c=i?"datum.datum":"datum",d=[];function f(o,g){const y=eh(g),m=gs(o)?o:{...o,type:t[y].type},l=m.title||Ak(m,s),b=ke(l).join(", ");let L;if(Ti(g)){const E=g==="x"?"x2":"y2",S=qo(t[E]);if(Si(m.bin)&&S){const x=Se(m,{expr:c}),k=Se(S,{expr:c}),{format:B,formatType:A}=d6(m);L=R_(x,k,B,A,s),a[E]=!0}}if((Ti(g)||g===ea||g===Ha)&&e&&e.fieldChannel===g&&e.offset==="normalize"){const{format:E,formatType:S}=d6(m);L=Ik({fieldOrDatumDef:m,format:E,formatType:S,expr:c,config:s,normalizeStack:!0}).signal}L??(L=N5(m,s,c).signal),d.push({channel:g,key:b,value:L})}Ck(t,(o,g)=>{be(o)?f(o,g):x5(o)&&f(o.condition,g)});const u={};for(const{channel:o,key:g,value:y}of d)!a[o]&&!u[g]&&(u[g]=y);return u}function pD(t,e,n,{reactiveGeom:i}={}){const s=zQ(t,e,n,{reactiveGeom:i}),a=Ed(s).map(([c,d])=>`"${c}": ${d}`);return a.length>0?{signal:`{${a.join(", ")}}`}:void 0}function xFe(t){const{markDef:e,config:n}=t,i=sn("aria",e,n);return i===!1?{}:{...i?{aria:i}:{},...BFe(t),...IFe(t)}}function BFe(t){const{mark:e,markDef:n,config:i}=t;if(i.aria===!1)return{};const s=sn("ariaRoleDescription",n,i);return s!=null?{ariaRoleDescription:{value:s}}:e in cxe?{}:{ariaRoleDescription:{value:e}}}function IFe(t){const{encoding:e,markDef:n,config:i,stack:s}=t,a=e.description;if(a)return K2(t,a,"description",f=>N5(f,t.config));const c=sn("description",n,i);if(c!=null)return{description:Bn(c)};if(i.aria===!1)return{};const d=zQ(e,s,i);if(!cn(d))return{description:{signal:Ed(d).map(([f,u],o)=>`"${o>0?"; ":""}${f}: " + (${u})`).join(" + ")}}}function ui(t,e,n={}){const{markDef:i,encoding:s,config:a}=e,{vgChannel:c}=n;let{defaultRef:d,defaultValue:f}=n;d===void 0&&(f??(f=sn(t,i,a,{vgChannel:c,ignoreVgConfig:!0})),f!==void 0&&(d=Bn(f)));const u=s[t];return K2(e,u,c??t,o=>Bk({channel:t,channelDef:o,markDef:i,config:a,scaleName:e.scaleName(t),scale:e.getScaleComponent(t),stack:null,defaultRef:d}))}function HQ(t,e={filled:void 0}){const{markDef:n,encoding:i,config:s}=t,{type:a}=n,c=e.filled??sn("filled",n,s),d=Mt(["bar","point","circle","square","geoshape"],a)?"transparent":void 0,f=sn(c===!0?"color":void 0,n,s,{vgChannel:"fill"})??s.mark[c===!0&&"color"]??d,u=sn(c===!1?"color":void 0,n,s,{vgChannel:"stroke"})??s.mark[c===!1&&"color"],o=c?"fill":"stroke",g={...f?{fill:Bn(f)}:{},...u?{stroke:Bn(u)}:{}};return n.color&&(c?n.fill:n.stroke)&&Le(dJ("property",{fill:"fill"in n,stroke:"stroke"in n})),{...g,...ui("color",t,{vgChannel:o,defaultValue:c?f:u}),...ui("fill",t,{defaultValue:i.fill?f:void 0}),...ui("stroke",t,{defaultValue:i.stroke?u:void 0})}}function kFe(t){const{encoding:e,mark:n}=t,i=e.order;return!Qd(n)&&Aa(i)?K2(t,i,"zindex",s=>Bn(s.value)):{}}function x3({channel:t,markDef:e,encoding:n={},model:i,bandPosition:s}){const a=`${t}Offset`,c=e[a],d=n[a];if((a==="xOffset"||a==="yOffset")&&d)return{offsetType:"encoding",offset:Bk({channel:a,channelDef:d,markDef:e,config:i==null?void 0:i.config,scaleName:i.scaleName(a),scale:i.getScaleComponent(a),stack:null,defaultRef:Bn(c),bandPosition:s})};const f=e[a];return f?{offsetType:"visual",offset:f}:{}}function zi(t,e,{defaultPos:n,vgChannel:i}){const{encoding:s,markDef:a,config:c,stack:d}=e,f=s[t],u=s[rl(t)],o=e.scaleName(t),g=e.getScaleComponent(t),{offset:y,offsetType:m}=x3({channel:t,markDef:a,encoding:s,model:e,bandPosition:.5}),l=Kk({model:e,defaultPos:n,channel:t,scaleName:o,scale:g}),b=!f&&Ti(t)&&(s.latitude||s.longitude)?{field:e.getName(t)}:FFe({channel:t,channelDef:f,channel2Def:u,markDef:a,config:c,scaleName:o,scale:g,stack:d,offset:y,defaultRef:l,bandPosition:m==="encoding"?0:void 0});return b?{[i||t]:b}:void 0}function FFe(t){const{channel:e,channelDef:n,scaleName:i,stack:s,offset:a,markDef:c}=t;if(Qe(n)&&s&&e===s.fieldChannel){if(be(n)){let d=n.bandPosition;if(d===void 0&&c.type==="text"&&(e==="radius"||e==="theta")&&(d=.5),d!==void 0)return o6({scaleName:i,fieldOrDatumDef:n,startSuffix:"start",bandPosition:d,offset:a})}return iu(n,i,{suffix:"end"},{offset:a})}return Sk(t)}function Kk({model:t,defaultPos:e,channel:n,scaleName:i,scale:s}){const{markDef:a,config:c}=t;return()=>{const d=eh(n),f=Sd(n),u=sn(n,a,c,{vgChannel:f});if(u!==void 0)return Ip(n,u);switch(e){case"zeroOrMin":case"zeroOrMax":if(i){const o=s.get("type");if(!Mt([Ps.LOG,Ps.TIME,Ps.UTC],o)){if(s.domainDefinitelyIncludesZero())return{scale:i,value:0}}}if(e==="zeroOrMin")return d==="y"?{field:{group:"height"}}:{value:0};switch(d){case"radius":return{signal:`min(${t.width.signal},${t.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...t[Zs(n)],mult:.5}}}}const MFe={left:"x",center:"xc",right:"x2"},AFe={top:"y",middle:"yc",bottom:"y2"};function jQ(t,e,n,i="middle"){if(t==="radius"||t==="theta")return Sd(t);const s=t==="x"?"align":"baseline",a=sn(s,e,n);let c;return Ce(a)?(Le(Hxe(s)),c=void 0):c=a,t==="x"?MFe[c||(i==="top"?"left":"center")]:AFe[c||i]}function _6(t,e,{defaultPos:n,defaultPos2:i,range:s}){return s?VQ(t,e,{defaultPos:n,defaultPos2:i}):zi(t,e,{defaultPos:n})}function VQ(t,e,{defaultPos:n,defaultPos2:i}){const{markDef:s,config:a}=e,c=rl(t),d=Zs(t),f=OFe(e,i,c),u=f[d]?jQ(t,s,a):Sd(t);return{...zi(t,e,{defaultPos:n,vgChannel:u}),...f}}function OFe(t,e,n){const{encoding:i,mark:s,markDef:a,stack:c,config:d}=t,f=eh(n),u=Zs(n),o=Sd(n),g=i[f],y=t.scaleName(f),m=t.getScaleComponent(f),{offset:l}=n in i||n in a?x3({channel:n,markDef:a,encoding:i,model:t}):x3({channel:f,markDef:a,encoding:i,model:t});if(!g&&(n==="x2"||n==="y2")&&(i.latitude||i.longitude)){const L=Zs(n),E=t.markDef[L];return E!=null?{[L]:{value:E}}:{[o]:{field:t.getName(n)}}}const b=NFe({channel:n,channelDef:g,channel2Def:i[n],markDef:a,config:d,scaleName:y,scale:m,stack:c,offset:l,defaultRef:void 0});return b!==void 0?{[o]:b}:jy(n,a)||jy(n,{[n]:s6(n,a,d.style),[u]:s6(u,a,d.style)})||jy(n,d[s])||jy(n,d.mark)||{[o]:Kk({model:t,defaultPos:e,channel:n,scaleName:y,scale:m})()}}function NFe({channel:t,channelDef:e,channel2Def:n,markDef:i,config:s,scaleName:a,scale:c,stack:d,offset:f,defaultRef:u}){return Qe(e)&&d&&t.charAt(0)===d.fieldChannel.charAt(0)?iu(e,a,{suffix:"start"},{offset:f}):Sk({channel:t,channelDef:n,scaleName:a,scale:c,stack:d,markDef:i,config:s,offset:f,defaultRef:u})}function jy(t,e){const n=Zs(t),i=Sd(t);if(e[i]!==void 0)return{[i]:Ip(t,e[i])};if(e[t]!==void 0)return{[i]:Ip(t,e[t])};if(e[n]){const s=e[n];if(Mu(s))Le(Cxe(n));else return{[n]:Ip(t,s)}}}function Bd(t,e){const{config:n,encoding:i,markDef:s}=t,a=s.type,c=rl(e),d=Zs(e),f=i[e],u=i[c],o=t.getScaleComponent(e),g=o?o.get("type"):void 0,y=s.orient,m=i[d]??i.size??sn("size",s,n,{vgChannel:d}),l=GZ(e),b=a==="bar"&&(e==="x"?y==="vertical":y==="horizontal");return be(f)&&(bn(f.bin)||Si(f.bin)||f.timeUnit&&!u)&&!(m&&!Mu(m))&&!i[l]&&!vi(g)?DFe({fieldDef:f,fieldDef2:u,channel:e,model:t}):(Qe(f)&&vi(g)||b)&&!u?RFe(f,e,t):VQ(e,t,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function CFe(t,e,n,i,s){if(Mu(s))if(n){const c=n.get("type");if(c==="band"){let d=`bandwidth('${e}')`;return s.band!==1&&(d=`${s.band} * ${d}`),{signal:`max(0.25, ${d})`}}else s.band!==1&&(Le(Gxe(c)),s=void 0)}else return{mult:s.band,field:{group:t}};else{if(Ce(s))return s;if(s)return{value:s}}if(n){const c=n.get("range");if(Jd(c)&&dn(c.step))return{value:c.step-2}}return{value:h6(i.view,t)-2}}function RFe(t,e,n){const{markDef:i,encoding:s,config:a,stack:c}=n,d=i.orient,f=n.scaleName(e),u=n.getScaleComponent(e),o=Zs(e),g=rl(e),y=GZ(e),m=n.scaleName(y),l=n.getScaleComponent(nk(e)),b=d==="horizontal"&&e==="y"||d==="vertical"&&e==="x";let L;(s.size||i.size)&&(b?L=ui("size",n,{vgChannel:o,defaultRef:Bn(i.size)}):Le(Kxe(i.type)));const E=!!L,S=VJ({channel:e,fieldDef:t,markDef:i,config:a,scaleType:u==null?void 0:u.get("type"),useVlSizeChannel:b});L=L||{[o]:CFe(o,m||f,l||u,a,S)};const x=(u==null?void 0:u.get("type"))==="band"&&Mu(S)&&!E?"top":"middle",k=jQ(e,i,a,x),B=k==="xc"||k==="yc",{offset:A,offsetType:M}=x3({channel:e,markDef:i,encoding:s,model:n,bandPosition:B?.5:0}),C=Sk({channel:e,channelDef:t,markDef:i,config:a,scaleName:f,scale:u,stack:c,offset:A,defaultRef:Kk({model:n,defaultPos:"mid",channel:e,scaleName:f,scale:u}),bandPosition:B?M==="encoding"?0:.5:Ce(S)?{signal:`(1-${S})/2`}:Mu(S)?(1-S.band)/2:0});if(o)return{[k]:C,...L};{const R=Sd(g),D=L[o],$=A?{...D,offset:A}:D;return{[k]:C,[R]:ue(C)?[C[0],{...C[1],offset:$}]:{...C,offset:$}}}}function S0(t,e,n,i,s){if(UZ(t))return 0;const a=t==="x"||t==="y2"?-e/2:e/2;if(Ce(n)||Ce(s)||Ce(i)){const c=Vl(n),d=Vl(s),f=Vl(i),u=f?`${f} + `:"",o=c?`(${c} ? -1 : 1) * `:"",g=d?`(${d} + ${a})`:a;return{signal:u+o+g}}else return s=s||0,i+(n?-s-a:+s+a)}function DFe({fieldDef:t,fieldDef2:e,channel:n,model:i}){var k;const{config:s,markDef:a,encoding:c}=i,d=i.getScaleComponent(n),f=i.scaleName(n),u=d?d.get("type"):void 0,o=d.get("reverse"),g=VJ({channel:n,fieldDef:t,markDef:a,config:s,scaleType:u}),y=(k=i.component.axes[n])==null?void 0:k[0],m=(y==null?void 0:y.get("translate"))??.5,l=Ti(n)?sn("binSpacing",a,s)??0:0,b=rl(n),L=Sd(n),E=Sd(b),{offset:S}=x3({channel:n,markDef:a,encoding:c,model:i,bandPosition:0}),x=Ce(g)?{signal:`(1-${g.signal})/2`}:Mu(g)?(1-g.band)/2:.5;if(bn(t.bin)||t.timeUnit)return{[E]:_D({fieldDef:t,scaleName:f,bandPosition:x,offset:S0(b,l,o,m,S)}),[L]:_D({fieldDef:t,scaleName:f,bandPosition:Ce(x)?{signal:`1-${x.signal}`}:1-x,offset:S0(n,l,o,m,S)})};if(Si(t.bin)){const B=iu(t,f,{},{offset:S0(b,l,o,m,S)});if(be(e))return{[E]:B,[L]:iu(e,f,{},{offset:S0(n,l,o,m,S)})};if(th(t.bin)&&t.bin.step)return{[E]:B,[L]:{signal:`scale("${f}", ${Se(t,{expr:"datum"})} + ${t.bin.step})`,offset:S0(n,l,o,m,S)}}}Le(hJ(b))}function _D({fieldDef:t,scaleName:e,bandPosition:n,offset:i}){return o6({scaleName:e,fieldOrDatumDef:t,bandPosition:n,offset:i})}const PFe=new Set(["aria","width","height"]);function ta(t,e){const{fill:n=void 0,stroke:i=void 0}=e.color==="include"?HQ(t):{};return{...$Fe(t.markDef,e),...gD(t,"fill",n),...gD(t,"stroke",i),...ui("opacity",t),...ui("fillOpacity",t),...ui("strokeOpacity",t),...ui("strokeWidth",t),...ui("strokeDash",t),...kFe(t),...UQ(t),...Xk(t,"href"),...xFe(t)}}function gD(t,e,n){const{config:i,mark:s,markDef:a}=t;if(sn("invalid",a,i)==="hide"&&n&&!Qd(s)){const d=UFe(t,{invalid:!0,channels:_5});if(d)return{[e]:[{test:d,value:null},...ke(n)]}}return n?{[e]:n}:{}}function $Fe(t,e){return lxe.reduce((n,i)=>(!PFe.has(i)&&t[i]!==void 0&&e[i]!=="ignore"&&(n[i]=Bn(t[i])),n),{})}function UFe(t,{invalid:e=!1,channels:n}){const i=n.reduce((a,c)=>{const d=t.getScaleComponent(c);if(d){const f=d.get("type"),u=t.vgField(c,{expr:"datum"});u&&Er(f)&&(a[u]=!0)}return a},{}),s=me(i);if(s.length>0){const a=e?"||":"&&";return s.map(c=>xk(c,e)).join(` ${a} `)}}function Zk(t){const{config:e,markDef:n}=t;if(sn("invalid",n,e)){const s=zFe(t,{channels:al});if(s)return{defined:{signal:s}}}return{}}function zFe(t,{invalid:e=!1,channels:n}){const i=n.reduce((a,c)=>{var f;const d=t.getScaleComponent(c);if(d){const u=d.get("type"),o=t.vgField(c,{expr:"datum",binSuffix:(f=t.stack)!=null&&f.impute?"mid":void 0});o&&Er(u)&&(a[o]=!0)}return a},{}),s=me(i);if(s.length>0){const a=e?"||":"&&";return s.map(c=>xk(c,e)).join(` ${a} `)}}function yD(t,e){if(e!==void 0)return{[t]:Bn(e)}}const N9="voronoi",qQ={defined:t=>t.type==="point"&&t.nearest,parse:(t,e)=>{if(e.events)for(const n of e.events)n.markname=t.getName(N9)},marks:(t,e,n)=>{const{x:i,y:s}=e.project.hasChannel,a=t.mark;if(Qd(a))return Le(pxe(a)),n;const c={name:t.getName(N9),type:"path",interactive:!0,from:{data:t.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...UQ(t,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:i||!s?"datum.datum.x || 0":"0"},y:{expr:s||!i?"datum.datum.y || 0":"0"},size:[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]}]};let d=0,f=!1;return n.forEach((u,o)=>{const g=u.name??"";g===t.component.mark[0].name?d=o:g.indexOf(N9)>=0&&(f=!0)}),f||n.splice(d+1,0,c),n}},GQ={defined:t=>t.type==="point"&&t.resolve==="global"&&t.bind&&t.bind!=="scales"&&!zk(t.bind),parse:(t,e,n)=>eee(e,n),topLevelSignals:(t,e,n)=>{const i=e.name,s=e.project,a=e.bind,c=e.init&&e.init[0],d=qQ.defined(e)?"(item().isVoronoi ? datum.datum : datum)":"datum";return s.items.forEach((f,u)=>{const o=kn(`${i}_${f.field}`);n.filter(y=>y.name===o).length||n.unshift({name:o,...c?{init:Ou(c[u])}:{value:null},on:e.events?[{events:e.events,update:`datum && item().mark.marktype !== 'group' ? ${d}[${Te(f.field)}] : null`}]:[],bind:a[f.field]??a[f.channel]??a})}),n},signals:(t,e,n)=>{const i=e.name,s=e.project,a=n.filter(u=>u.name===i+Id)[0],c=i+z_,d=s.items.map(u=>kn(`${i}_${u.field}`)),f=d.map(u=>`${u} !== null`).join(" && ");return d.length&&(a.update=`${f} ? {fields: ${c}, values: [${d.join(", ")}]} : null`),delete a.value,delete a.on,n}},g6="_toggle",WQ={defined:t=>t.type==="point"&&!!t.toggle,signals:(t,e,n)=>n.concat({name:e.name+g6,value:!1,on:[{events:e.events,update:e.toggle}]}),modifyExpr:(t,e)=>{const n=e.name+Id,i=e.name+g6;return`${i} ? null : ${n}, `+(e.resolve==="global"?`${i} ? null : true, `:`${i} ? null : {unit: ${ru(t)}}, `)+`${i} ? ${n} : null`}},HFe={defined:t=>t.clear!==void 0&&t.clear!==!1,parse:(t,e)=>{e.clear&&(e.clear=Ie(e.clear)?qd(e.clear,"view"):e.clear)},topLevelSignals:(t,e,n)=>{if(GQ.defined(e))for(const i of e.project.items){const s=n.findIndex(a=>a.name===kn(`${e.name}_${i.field}`));s!==-1&&n[s].on.push({events:e.clear,update:"null"})}return n},signals:(t,e,n)=>{function i(s,a){s!==-1&&n[s].on&&n[s].on.push({events:e.clear,update:a})}if(e.type==="interval")for(const s of e.project.items){const a=n.findIndex(c=>c.name===s.signals.visual);if(i(a,"[0, 0]"),a===-1){const c=n.findIndex(d=>d.name===s.signals.data);i(c,"null")}}else{let s=n.findIndex(a=>a.name===e.name+Id);i(s,"null"),WQ.defined(e)&&(s=n.findIndex(a=>a.name===e.name+g6),i(s,"false"))}return n}},YQ={defined:t=>{const e=t.resolve==="global"&&t.bind&&zk(t.bind),n=t.project.items.length===1&&t.project.items[0].field!==Oa;return e&&!n&&Le(yxe),e&&n},parse:(t,e,n)=>{const i=et(n);if(i.select=Ie(i.select)?{type:i.select,toggle:e.toggle}:{...i.select,toggle:e.toggle},eee(e,i),Me(n.select)&&(n.select.on||n.select.clear)){const c='event.item && indexof(event.item.mark.role, "legend") < 0';for(const d of e.events)d.filter=ke(d.filter??[]),d.filter.includes(c)||d.filter.push(c)}const s=M9(e.bind)?e.bind.legend:"click",a=Ie(s)?qd(s,"view"):ke(s);e.bind={legend:{merge:a}}},topLevelSignals:(t,e,n)=>{const i=e.name,s=M9(e.bind)&&e.bind.legend,a=c=>d=>{const f=et(d);return f.markname=c,f};for(const c of e.project.items){if(!c.hasLegend)continue;const d=`${kn(c.field)}_legend`,f=`${i}_${d}`;if(n.filter(o=>o.name===f).length===0){const o=s.merge.map(a(`${d}_symbols`)).concat(s.merge.map(a(`${d}_labels`))).concat(s.merge.map(a(`${d}_entries`)));n.unshift({name:f,...e.init?{}:{value:null},on:[{events:o,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:s.merge,update:`!event.item || !datum ? null : ${f}`,force:!0}]})}}return n},signals:(t,e,n)=>{const i=e.name,s=e.project,a=n.find(y=>y.name===i+Id),c=i+z_,d=s.items.filter(y=>y.hasLegend).map(y=>kn(`${i}_${kn(y.field)}_legend`)),u=`${d.map(y=>`${y} !== null`).join(" && ")} ? {fields: ${c}, values: [${d.join(", ")}]} : null`;e.events&&d.length>0?a.on.push({events:d.map(y=>({signal:y})),update:u}):d.length>0&&(a.update=u,delete a.value,delete a.on);const o=n.find(y=>y.name===i+g6),g=M9(e.bind)&&e.bind.legend;return o&&(e.events?o.on.push({...o.on[0],events:g}):o.on[0].events=g),n}};function jFe(t,e,n){var s;const i=(s=t.fieldDef(e))==null?void 0:s.field;for(const a of Fi(t.component.selection??{})){const c=a.project.hasField[i]??a.project.hasChannel[e];if(c&&YQ.defined(a)){const d=n.get("selections")??[];d.push(a.name),n.set("selections",d,!1),c.hasLegend=!0}}}const XQ="_translate_anchor",KQ="_translate_delta",VFe={defined:t=>t.type==="interval"&&t.translate,signals:(t,e,n)=>{const i=e.name,s=ql.defined(e),a=i+XQ,{x:c,y:d}=e.project.hasChannel;let f=qd(e.translate,"scope");return s||(f=f.map(u=>(u.between[0].markname=i+S1,u))),n.push({name:a,value:{},on:[{events:f.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(c!==void 0?`, extent_x: ${s?OT(t,Fn):`slice(${c.signals.visual})`}`:"")+(d!==void 0?`, extent_y: ${s?OT(t,bi):`slice(${d.signals.visual})`}`:"")+"}"}]},{name:i+KQ,value:{},on:[{events:f,update:`{x: ${a}.x - x(unit), y: ${a}.y - y(unit)}`}]}),c!==void 0&&mD(t,e,c,"width",n),d!==void 0&&mD(t,e,d,"height",n),n}};function mD(t,e,n,i,s){const a=e.name,c=a+XQ,d=a+KQ,f=n.channel,u=ql.defined(e),o=s.filter(B=>B.name===n.signals[u?"data":"visual"])[0],g=t.getSizeSignalRef(i).signal,y=t.getScaleComponent(f),m=y&&y.get("type"),l=y&&y.get("reverse"),b=u?f===Fn?l?"":"-":l?"-":"":"",L=`${c}.extent_${f}`,E=`${b}${d}.${f} / ${u?`${g}`:`span(${L})`}`,S=!u||!y?"panLinear":m==="log"?"panLog":m==="symlog"?"panSymlog":m==="pow"?"panPow":"panLinear",x=u?m==="pow"?`, ${y.get("exponent")??1}`:m==="symlog"?`, ${y.get("constant")??1}`:"":"",k=`${S}(${L}, ${E}${x})`;o.on.push({events:{signal:d},update:u?k:`clampRange(${k}, 0, ${g})`})}const ZQ="_zoom_anchor",JQ="_zoom_delta",qFe={defined:t=>t.type==="interval"&&t.zoom,signals:(t,e,n)=>{const i=e.name,s=ql.defined(e),a=i+JQ,{x:c,y:d}=e.project.hasChannel,f=Te(t.scaleName(Fn)),u=Te(t.scaleName(bi));let o=qd(e.zoom,"scope");return s||(o=o.map(g=>(g.markname=i+S1,g))),n.push({name:i+ZQ,on:[{events:o,update:s?"{"+[f?`x: invert(${f}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(g=>g).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:o,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),c!==void 0&&wD(t,e,c,"width",n),d!==void 0&&wD(t,e,d,"height",n),n}};function wD(t,e,n,i,s){const a=e.name,c=n.channel,d=ql.defined(e),f=s.filter(S=>S.name===n.signals[d?"data":"visual"])[0],u=t.getSizeSignalRef(i).signal,o=t.getScaleComponent(c),g=o&&o.get("type"),y=d?OT(t,c):f.name,m=a+JQ,l=`${a}${ZQ}.${c}`,b=!d||!o?"zoomLinear":g==="log"?"zoomLog":g==="symlog"?"zoomSymlog":g==="pow"?"zoomPow":"zoomLinear",L=d?g==="pow"?`, ${o.get("exponent")??1}`:g==="symlog"?`, ${o.get("constant")??1}`:"":"",E=`${b}(${y}, ${l}, ${m}${L})`;f.on.push({events:{signal:m},update:d?E:`clampRange(${E}, 0, ${u})`})}const Nu="_store",Id="_tuple",GFe="_modify",QQ="vlSelectionResolve",C5=[SFe,vFe,bFe,WQ,GQ,ql,YQ,HFe,VFe,qFe,qQ];function WFe(t){let e=t.parent;for(;e&&!xa(e);)e=e.parent;return e}function ru(t,{escape:e}={escape:!0}){let n=e?Te(t.name):t.name;const i=WFe(t);if(i){const{facet:s}=i;for(const a of $r)s[a]&&(n+=` + '__facet_${a}_' + (facet[${Te(i.vgField(a))}])`)}return n}function Jk(t){return Fi(t.component.selection??{}).reduce((e,n)=>e||n.project.hasSelectionId,!1)}function eee(t,e){(Ie(e.select)||!e.select.on)&&delete t.events,(Ie(e.select)||!e.select.clear)&&delete t.clear,(Ie(e.select)||!e.select.toggle)&&delete t.toggle}function NT(t){const e=[];return t.type==="Identifier"?[t.name]:t.type==="Literal"?[t.value]:(t.type==="MemberExpression"&&(e.push(...NT(t.object)),e.push(...NT(t.property))),e)}function tee(t){return t.object.type==="MemberExpression"?tee(t.object):t.object.name==="datum"}function nee(t){const e=_I(t),n=new Set;return e.visit(i=>{i.type==="MemberExpression"&&tee(i)&&n.add(NT(i).slice(1).join("."))}),n}class Z2 extends un{clone(){return new Z2(null,this.model,et(this.filter))}constructor(e,n,i){super(e),this.model=n,this.filter=i,this.expr=y6(this.model,this.filter,this),this._dependentFields=nee(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function YFe(t,e){const n={},i=t.config.selection;if(!e||!e.length)return n;for(const s of e){const a=kn(s.name),c=s.select,d=Ie(c)?c:c.type,f=Me(c)?et(c):{type:d},u=i[d];for(const y in u)y==="fields"||y==="encodings"||(y==="mark"&&(f[y]={...u[y],...f[y]}),(f[y]===void 0||f[y]===!0)&&(f[y]=et(u[y]??f[y])));const o=n[a]={...f,name:a,type:d,init:s.value,bind:s.bind,events:Ie(f.on)?qd(f.on,"scope"):ke(et(f.on))},g=et(s);for(const y of C5)y.defined(o)&&y.parse&&y.parse(t,o,g)}return n}function iee(t,e,n,i="datum"){const s=Ie(e)?e:e.param,a=kn(s),c=Te(a+Nu);let d;try{d=t.getSelectionComponent(a,s)}catch{return`!!${a}`}if(d.project.timeUnit){const y=n??t.component.data.raw,m=d.project.timeUnit.clone();y.parent?m.insertAsParentOf(y):y.parent=m}const f=d.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=d.resolve==="global"?")":`, ${Te(d.resolve)})`,o=`${f}${c}, ${i}${u}`,g=`length(data(${c}))`;return e.empty===!1?`${g} && ${o}`:`!${g} || ${o}`}function see(t,e,n){const i=kn(e),s=n.encoding;let a=n.field,c;try{c=t.getSelectionComponent(i,e)}catch{return i}if(!s&&!a)a=c.project.items[0].field,c.project.items.length>1&&Le(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Te(a)}.`);else if(s&&!a){const d=c.project.items.filter(f=>f.channel===s);!d.length||d.length>1?(a=c.project.items[0].field,Le((d.length?"Multiple ":"No ")+`matching ${Te(s)} encoding found for selection ${Te(n.param)}. Using "field": ${Te(a)}.`)):a=d[0].field}return`${c.name}[${Te(Zr(a))}]`}function XFe(t,e){for(const[n,i]of Ed(t.component.selection??{})){const s=t.getName(`lookup_${n}`);t.component.data.outputNodes[s]=i.materialized=new hs(new Z2(e,t,{param:n}),s,wn.Lookup,t.component.data.outputNodeRefCounts)}}function y6(t,e,n){return Bp(e,i=>Ie(i)?i:ABe(i)?iee(t,i,n):TJ(i))}function KFe(t,e){if(t)return ue(t)&&!Pc(t)?t.map(n=>Ak(n,e)).join(", "):t}function C9(t,e,n,i){var s,a;t.encode??(t.encode={}),(s=t.encode)[e]??(s[e]={}),(a=t.encode[e]).update??(a.update={}),t.encode[e].update[n]=i}function dp(t,e,n,i={header:!1}){var g,y;const{disable:s,orient:a,scale:c,labelExpr:d,title:f,zindex:u,...o}=t.combine();if(!s){for(const m in o){const l=NIe[m],b=o[m];if(l&&l!==e&&l!=="both")delete o[m];else if(U_(b)){const{condition:L,...E}=b,S=ke(L),x=ZR[m];if(x){const{vgProp:k,part:B}=x,A=[...S.map(M=>{const{test:C,...R}=M;return{test:y6(null,C),...R}}),E];C9(o,B,k,A),delete o[m]}else if(x===null){const k={signal:S.map(B=>{const{test:A,...M}=B;return`${y6(null,A)} ? ${CR(M)} : `}).join("")+CR(E)};o[m]=k}}else if(Ce(b)){const L=ZR[m];if(L){const{vgProp:E,part:S}=L;C9(o,S,E,b),delete o[m]}}Mt(["labelAlign","labelBaseline"],m)&&o[m]===null&&delete o[m]}if(e==="grid"){if(!o.grid)return;if(o.encode){const{grid:m}=o.encode;o.encode={...m?{grid:m}:{}},cn(o.encode)&&delete o.encode}return{scale:c,orient:a,...o,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Kn(u,0)}}else{if(!i.header&&t.mainExtracted)return;if(d!==void 0){let l=d;(y=(g=o.encode)==null?void 0:g.labels)!=null&&y.update&&Ce(o.encode.labels.update.text)&&(l=xu(d,"datum.label",o.encode.labels.update.text.signal)),C9(o,"labels","text",{signal:l})}if(o.labelAlign===null&&delete o.labelAlign,o.encode){for(const l of QJ)t.hasAxisPart(l)||delete o.encode[l];cn(o.encode)&&delete o.encode}const m=KFe(f,n);return{scale:c,orient:a,grid:!1,...m?{title:m}:{},...o,...n.aria===!1?{aria:!1}:{},zindex:Kn(u,0)}}}}function ree(t){const{axes:e}=t.component,n=[];for(const i of al)if(e[i]){for(const s of e[i])if(!s.get("disable")&&!s.get("gridScale")){const a=i==="x"?"height":"width",c=t.getSizeSignalRef(a).signal;a!==c&&n.push({name:a,update:c})}}return n}function ZFe(t,e){const{x:n=[],y:i=[]}=t;return[...n.map(s=>dp(s,"grid",e)),...i.map(s=>dp(s,"grid",e)),...n.map(s=>dp(s,"main",e)),...i.map(s=>dp(s,"main",e))].filter(s=>s)}function LD(t,e,n,i){return Object.assign.apply(null,[{},...t.map(s=>{if(s==="axisOrient"){const a=n==="x"?"bottom":"left",c=e[n==="x"?"axisBottom":"axisLeft"]||{},d=e[n==="x"?"axisTop":"axisRight"]||{},f=new Set([...me(c),...me(d)]),u={};for(const o of f.values())u[o]={signal:`${i.signal} === "${a}" ? ${Vl(c[o])} : ${Vl(d[o])}`};return u}return e[s]})])}function JFe(t,e,n,i){const s=e==="band"?["axisDiscrete","axisBand"]:e==="point"?["axisDiscrete","axisPoint"]:xJ(e)?["axisQuantitative"]:e==="time"||e==="utc"?["axisTemporal"]:[],a=t==="x"?"axisX":"axisY",c=Ce(n)?"axisOrient":`axis${F_(n)}`,d=[...s,...s.map(u=>a+u.substr(4))],f=["axis",c,a];return{vlOnlyAxisConfig:LD(d,i,t,n),vgAxisConfig:LD(f,i,t,n),axisConfigStyle:QFe([...f,...d],i)}}function QFe(t,e){var i;const n=[{}];for(const s of t){let a=(i=e[s])==null?void 0:i.style;if(a){a=ke(a);for(const c of a)n.push(e.style[c])}}return Object.assign.apply(null,n)}function CT(t,e,n,i={}){var a;const s=iJ(t,n,e);if(s!==void 0)return{configFrom:"style",configValue:s};for(const c of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((a=i[c])==null?void 0:a[t])!==void 0)return{configFrom:c,configValue:i[c][t]};return{}}const bD={scale:({model:t,channel:e})=>t.scaleName(e),format:({format:t})=>t,formatType:({formatType:t})=>t,grid:({fieldOrDatumDef:t,axis:e,scaleType:n})=>e.grid??eMe(n,t),gridScale:({model:t,channel:e})=>tMe(t,e),labelAlign:({axis:t,labelAngle:e,orient:n,channel:i})=>t.labelAlign||oee(e,n,i),labelAngle:({labelAngle:t})=>t,labelBaseline:({axis:t,labelAngle:e,orient:n,channel:i})=>t.labelBaseline||aee(e,n,i),labelFlush:({axis:t,fieldOrDatumDef:e,channel:n})=>t.labelFlush??iMe(e.type,n),labelOverlap:({axis:t,fieldOrDatumDef:e,scaleType:n})=>t.labelOverlap??sMe(e.type,n,be(e)&&!!e.timeUnit,be(e)?e.sort:void 0),orient:({orient:t})=>t,tickCount:({channel:t,model:e,axis:n,fieldOrDatumDef:i,scaleType:s})=>{const a=t==="x"?"width":t==="y"?"height":void 0,c=a?e.getSizeSignalRef(a):void 0;return n.tickCount??aMe({fieldOrDatumDef:i,scaleType:s,size:c,values:n.values})},tickMinStep:oMe,title:({axis:t,model:e,channel:n})=>{if(t.title!==void 0)return t.title;const i=lee(e,n);if(i!==void 0)return i;const s=e.typedFieldDef(n),a=n==="x"?"x2":"y2",c=e.fieldDef(a);return rJ(s?[XR(s)]:[],be(c)?[XR(c)]:[])},values:({axis:t,fieldOrDatumDef:e})=>lMe(t,e),zindex:({axis:t,fieldOrDatumDef:e,mark:n})=>t.zindex??cMe(n,e)};function eMe(t,e){return!vi(t)&&be(e)&&!bn(e==null?void 0:e.bin)&&!Si(e==null?void 0:e.bin)}function tMe(t,e){const n=e==="x"?"y":"x";if(t.getScaleComponent(n))return t.scaleName(n)}function nMe(t,e,n,i,s){const a=e==null?void 0:e.labelAngle;if(a!==void 0)return Ce(a)?a:E3(a);{const{configValue:c}=CT("labelAngle",i,e==null?void 0:e.style,s);return c!==void 0?E3(c):n===Fn&&Mt([bk,Lk],t.type)&&!(be(t)&&t.timeUnit)?270:void 0}}function RT(t){return`(((${t.signal} % 360) + 360) % 360)`}function aee(t,e,n,i){if(t!==void 0)if(n==="x"){if(Ce(t)){const s=RT(t),a=Ce(e)?`(${e.signal} === "top")`:e==="top";return{signal:`(45 < ${s} && ${s} < 135) || (225 < ${s} && ${s} < 315) ? "middle" :(${s} <= 45 || 315 <= ${s}) === ${a} ? "bottom" : "top"`}}if(45<t&&t<135||225<t&&t<315)return"middle";if(Ce(e)){const s=t<=45||315<=t?"===":"!==";return{signal:`${e.signal} ${s} "top" ? "bottom" : "top"`}}return(t<=45||315<=t)==(e==="top")?"bottom":"top"}else{if(Ce(t)){const s=RT(t),a=Ce(e)?`(${e.signal} === "left")`:e==="left";return{signal:`${s} <= 45 || 315 <= ${s} || (135 <= ${s} && ${s} <= 225) ? ${i?'"middle"':"null"} : (45 <= ${s} && ${s} <= 135) === ${a} ? "top" : "bottom"`}}if(t<=45||315<=t||135<=t&&t<=225)return i?"middle":null;if(Ce(e)){const s=45<=t&&t<=135?"===":"!==";return{signal:`${e.signal} ${s} "left" ? "top" : "bottom"`}}return(45<=t&&t<=135)==(e==="left")?"top":"bottom"}}function oee(t,e,n){if(t===void 0)return;const i=n==="x",s=i?0:90,a=i?"bottom":"left";if(Ce(t)){const c=RT(t),d=Ce(e)?`(${e.signal} === "${a}")`:e===a;return{signal:`(${s?`(${c} + 90)`:c} % 180 === 0) ? ${i?null:'"center"'} :(${s} < ${c} && ${c} < ${180+s}) === ${d} ? "left" : "right"`}}if((t+s)%180===0)return i?null:"center";if(Ce(e)){const c=s<t&&t<180+s?"===":"!==";return{signal:`${`${e.signal} ${c} "${a}"`} ? "left" : "right"`}}return(s<t&&t<180+s)==(e===a)?"left":"right"}function iMe(t,e){if(e==="x"&&Mt(["quantitative","temporal"],t))return!0}function sMe(t,e,n,i){if(n&&!Me(i)||t!=="nominal"&&t!=="ordinal")return e==="log"||e==="symlog"?"greedy":!0}function rMe(t){return t==="x"?"bottom":"left"}function aMe({fieldOrDatumDef:t,scaleType:e,size:n,values:i}){var s;if(!i&&!vi(e)&&e!=="log"){if(be(t)){if(bn(t.bin))return{signal:`ceil(${n.signal}/10)`};if(t.timeUnit&&Mt(["month","hours","day","quarter"],(s=Ai(t.timeUnit))==null?void 0:s.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function oMe({format:t,fieldOrDatumDef:e}){if(t==="d")return 1;if(be(e)){const{timeUnit:n}=e;if(n){const i=LJ(n);if(i)return{signal:i}}}}function lee(t,e){const n=e==="x"?"x2":"y2",i=t.fieldDef(e),s=t.fieldDef(n),a=i?i.title:void 0,c=s?s.title:void 0;if(a&&c)return aJ(a,c);if(a)return a;if(c)return c;if(a!==void 0)return a;if(c!==void 0)return c}function lMe(t,e){const n=t.values;if(ue(n))return JJ(e,n);if(Ce(n))return n}function cMe(t,e){return t==="rect"&&c6(e)?1:0}class E2 extends un{clone(){return new E2(null,et(this.transform))}constructor(e,n){super(e),this.transform=n,this._dependentFields=nee(this.transform.calculate)}static parseAllForSortIndex(e,n){return n.forEachFieldDef((i,s)=>{if(ih(i)&&HJ(i.sort)){const{field:a,timeUnit:c}=i,d=i.sort,f=d.map((u,o)=>`${TJ({field:a,timeUnit:c,equal:u})} ? ${o} : `).join("")+d.length;e=new E2(e,{calculate:f,as:S2(i,s,{forAs:!0})})}}),e}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Rt(this.transform)}`}}function S2(t,e,n){return Se(t,{prefix:e,suffix:"sort_index",...n??{}})}function R5(t,e){return Mt(["top","bottom"],e)?"column":Mt(["left","right"],e)||t==="row"?"row":"column"}function x2(t,e,n,i){const s=i==="row"?n.headerRow:i==="column"?n.headerColumn:n.headerFacet;return Kn((e||{})[t],s[t],n.header[t])}function D5(t,e,n,i){const s={};for(const a of t){const c=x2(a,e||{},n,i);c!==void 0&&(s[a]=c)}return s}const Qk=["row","column"],eF=["header","footer"];function dMe(t,e){const n=t.component.layoutHeaders[e].title,i=t.config?t.config:void 0,s=t.component.layoutHeaders[e].facetFieldDef?t.component.layoutHeaders[e].facetFieldDef:void 0,{titleAnchor:a,titleAngle:c,titleOrient:d}=D5(["titleAnchor","titleAngle","titleOrient"],s.header,i,e),f=R5(e,d),u=E3(c);return{name:`${e}-title`,type:"group",role:`${f}-title`,title:{text:n,...e==="row"?{orient:"left"}:{},style:"guide-title",...dee(u,f),...cee(f,u,a),...fee(i,s,e,nke,_Q)}}}function cee(t,e,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const i=oee(e,t==="row"?"left":"top",t==="row"?"y":"x");return i?{align:i}:{}}function dee(t,e){const n=aee(t,e==="row"?"left":"top",e==="row"?"y":"x",!0);return n?{baseline:n}:{}}function fMe(t,e){const n=t.component.layoutHeaders[e],i=[];for(const s of eF)if(n[s])for(const a of n[s]){const c=hMe(t,e,s,n,a);c!=null&&i.push(c)}return i}function uMe(t,e){const{sort:n}=t;return Bo(n)?{field:Se(n,{expr:"datum"}),order:n.order??"ascending"}:ue(n)?{field:S2(t,e,{expr:"datum"}),order:"ascending"}:{field:Se(t,{expr:"datum"}),order:n??"ascending"}}function DT(t,e,n){const{format:i,formatType:s,labelAngle:a,labelAnchor:c,labelOrient:d,labelExpr:f}=D5(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],t.header,n,e),u=Ik({fieldOrDatumDef:t,format:i,formatType:s,expr:"parent",config:n}).signal,o=R5(e,d);return{text:{signal:f?xu(xu(f,"datum.label",u),"datum.value",Se(t,{expr:"parent"})):u},...e==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...dee(a,o),...cee(o,a,c),...fee(n,t,e,ike,gQ)}}function hMe(t,e,n,i,s){if(s){let a=null;const{facetFieldDef:c}=i,d=t.config?t.config:void 0;if(c&&s.labels){const{labelOrient:g}=D5(["labelOrient"],c.header,d,e);(e==="row"&&!Mt(["top","bottom"],g)||e==="column"&&!Mt(["left","right"],g))&&(a=DT(c,e,d))}const f=xa(t)&&!D_(t.facet),u=s.axes,o=(u==null?void 0:u.length)>0;if(a||o){const g=e==="row"?"height":"width";return{name:t.getName(`${e}_${n}`),type:"group",role:`${e}-${n}`,...i.facetFieldDef?{from:{data:t.getName(`${e}_domain`)},sort:uMe(c,e)}:{},...o&&f?{from:{data:t.getName(`facet_domain_${e}`)}}:{},...a?{title:a}:{},...s.sizeSignal?{encode:{update:{[g]:s.sizeSignal}}}:{},...o?{axes:u}:{}}}}return null}const pMe={column:{start:0,end:1},row:{start:1,end:0}};function _Me(t,e){return pMe[e][t]}function gMe(t,e){const n={};for(const i of $r){const s=t[i];if(s!=null&&s.facetFieldDef){const{titleAnchor:a,titleOrient:c}=D5(["titleAnchor","titleOrient"],s.facetFieldDef.header,e,i),d=R5(i,c),f=_Me(a,d);f!==void 0&&(n[d]=f)}}return cn(n)?void 0:n}function fee(t,e,n,i,s){const a={};for(const c of i){if(!s[c])continue;const d=x2(c,e==null?void 0:e.header,t,n);d!==void 0&&(a[s[c]]=d)}return a}function tF(t){return[...Vy(t,"width"),...Vy(t,"height"),...Vy(t,"childWidth"),...Vy(t,"childHeight")]}function Vy(t,e){const n=e==="width"?"x":"y",i=t.component.layoutSize.get(e);if(!i||i==="merged")return[];const s=t.getSizeSignalRef(e).signal;if(i==="step"){const a=t.getScaleComponent(n);if(a){const c=a.get("type"),d=a.get("range");if(vi(c)&&Jd(d)){const f=t.scaleName(n);return xa(t.parent)&&t.parent.component.resolve.scale[n]==="independent"?[TD(f,d)]:[TD(f,d),{name:s,update:uee(f,a,`domain('${f}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(i=="container"){const a=s.endsWith("width"),c=a?"containerSize()[0]":"containerSize()[1]",d=kT(t.config.view,a?"width":"height"),f=`isFinite(${c}) ? ${c} : ${d}`;return[{name:s,init:f,on:[{update:f,events:"window:resize"}]}]}else return[{name:s,value:i}]}function TD(t,e){const n=`${t}_step`;return Ce(e.step)?{name:n,update:e.step.signal}:{name:n,value:e.step}}function uee(t,e,n){const i=e.get("type"),s=e.get("padding"),a=Kn(e.get("paddingOuter"),s);let c=e.get("paddingInner");return c=i==="band"?c!==void 0?c:s:1,`bandspace(${n}, ${Vl(c)}, ${Vl(a)}) * ${t}_step`}function hee(t){return t==="childWidth"?"width":t==="childHeight"?"height":t}function pee(t,e){return me(t).reduce((n,i)=>{const s=t[i];return{...n,...K2(e,s,i,a=>Bn(a.value))}},{})}function _ee(t,e){if(xa(e))return t==="theta"?"independent":"shared";if(e0(e))return"shared";if(lF(e))return Ti(t)||t==="theta"||t==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function nF(t,e){const n=t.scale[e],i=Ti(e)?"axis":"legend";return n==="independent"?(t[i][e]==="shared"&&Le(tBe(e)),"independent"):t[i][e]||"shared"}const yMe={...ake,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},gee=me(yMe);class mMe extends mc{}const vD={symbols:wMe,gradient:LMe,labels:bMe,entries:TMe};function wMe(t,{fieldOrDatumDef:e,model:n,channel:i,legendCmpt:s,legendType:a}){if(a!=="symbol")return;const{markDef:c,encoding:d,config:f,mark:u}=n,o=c.filled&&u!=="trail";let g={...fxe({},n,iIe),...HQ(n,{filled:o})};const y=s.get("symbolOpacity")??f.legend.symbolOpacity,m=s.get("symbolFillColor")??f.legend.symbolFillColor,l=s.get("symbolStrokeColor")??f.legend.symbolStrokeColor,b=y===void 0?yee(d.opacity)??c.opacity:void 0;if(g.fill){if(i==="fill"||o&&i===Xs)delete g.fill;else if(g.fill.field)m?delete g.fill:(g.fill=Bn(f.legend.symbolBaseFillColor??"black"),g.fillOpacity=Bn(b??1));else if(ue(g.fill)){const L=PT(d.fill??d.color)??c.fill??(o&&c.color);L&&(g.fill=Bn(L))}}if(g.stroke){if(i==="stroke"||!o&&i===Xs)delete g.stroke;else if(g.stroke.field||l)delete g.stroke;else if(ue(g.stroke)){const L=Kn(PT(d.stroke||d.color),c.stroke,o?c.color:void 0);L&&(g.stroke={value:L})}}if(i!==_c){const L=be(e)&&wee(n,s,e);L?g.opacity=[{test:L,...Bn(b??1)},Bn(f.legend.unselectedOpacity)]:b&&(g.opacity=Bn(b))}return g={...g,...t},cn(g)?void 0:g}function LMe(t,{model:e,legendType:n,legendCmpt:i}){if(n!=="gradient")return;const{config:s,markDef:a,encoding:c}=e;let d={};const u=(i.get("gradientOpacity")??s.legend.gradientOpacity)===void 0?yee(c.opacity)||a.opacity:void 0;return u&&(d.opacity=Bn(u)),d={...d,...t},cn(d)?void 0:d}function bMe(t,{fieldOrDatumDef:e,model:n,channel:i,legendCmpt:s}){const a=n.legend(i)||{},c=n.config,d=be(e)?wee(n,s,e):void 0,f=d?[{test:d,value:1},{value:c.legend.unselectedOpacity}]:void 0,{format:u,formatType:o}=a;let g;Au(o)?g=wa({fieldOrDatumDef:e,field:"datum.value",format:u,formatType:o,config:c}):u===void 0&&o===void 0&&c.customFormatTypes&&(e.type==="quantitative"&&c.numberFormatType?g=wa({fieldOrDatumDef:e,field:"datum.value",format:c.numberFormat,formatType:c.numberFormatType,config:c}):e.type==="temporal"&&c.timeFormatType&&be(e)&&e.timeUnit===void 0&&(g=wa({fieldOrDatumDef:e,field:"datum.value",format:c.timeFormat,formatType:c.timeFormatType,config:c})));const y={...f?{opacity:f}:{},...g?{text:g}:{},...t};return cn(y)?void 0:y}function TMe(t,{legendCmpt:e}){const n=e.get("selections");return n!=null&&n.length?{...t,fill:{value:"transparent"}}:t}function yee(t){return mee(t,(e,n)=>Math.max(e,n.value))}function PT(t){return mee(t,(e,n)=>Kn(e,n.value))}function mee(t,e){if(TIe(t))return ke(t.condition).reduce(e,t.value);if(Aa(t))return t.value}function wee(t,e,n){const i=e.get("selections");if(!(i!=null&&i.length))return;const s=Te(n.field);return i.map(a=>`(!length(data(${Te(kn(a)+Nu)})) || (${a}[${s}] && indexof(${a}[${s}], datum.value) >= 0))`).join(" || ")}const ED={direction:({direction:t})=>t,format:({fieldOrDatumDef:t,legend:e,config:n})=>{const{format:i,formatType:s}=e;return PJ(t,t.type,i,s,n,!1)},formatType:({legend:t,fieldOrDatumDef:e,scaleType:n})=>{const{formatType:i}=t;return $J(i,e,n)},gradientLength:t=>{const{legend:e,legendConfig:n}=t;return e.gradientLength??n.gradientLength??kMe(t)},labelOverlap:({legend:t,legendConfig:e,scaleType:n})=>t.labelOverlap??e.labelOverlap??FMe(n),symbolType:({legend:t,markDef:e,channel:n,encoding:i})=>t.symbolType??EMe(e.type,n,i.shape,e.shape),title:({fieldOrDatumDef:t,config:e})=>E1(t,e,{allowDisabling:!0}),type:({legendType:t,scaleType:e,channel:n})=>{if(v1(n)&&ma(e)){if(t==="gradient")return}else if(t==="symbol")return;return t},values:({fieldOrDatumDef:t,legend:e})=>vMe(e,t)};function vMe(t,e){const n=t.values;if(ue(n))return JJ(e,n);if(Ce(n))return n}function EMe(t,e,n,i){if(e!=="shape"){const s=PT(n)??i;if(s)return s}switch(t){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function SMe(t){const{legend:e}=t;return Kn(e.type,xMe(t))}function xMe({channel:t,timeUnit:e,scaleType:n}){if(v1(t)){if(Mt(["quarter","month","day"],e))return"symbol";if(ma(n))return"gradient"}return"symbol"}function BMe({legendConfig:t,legendType:e,orient:n,legend:i}){return i.direction??t[e?"gradientDirection":"symbolDirection"]??IMe(n,e)}function IMe(t,e){switch(t){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return e==="gradient"?"horizontal":void 0}}function kMe({legendConfig:t,model:e,direction:n,orient:i,scaleType:s}){const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:c,gradientVerticalMaxLength:d,gradientVerticalMinLength:f}=t;if(ma(s))return n==="horizontal"?i==="top"||i==="bottom"?SD(e,"width",c,a):c:SD(e,"height",f,d)}function SD(t,e,n,i){return{signal:`clamp(${t.getSizeSignalRef(e).signal}, ${n}, ${i})`}}function FMe(t){if(Mt(["quantile","threshold","log","symlog"],t))return"greedy"}function Lee(t){const e=Vn(t)?MMe(t):CMe(t);return t.component.legends=e,e}function MMe(t){const{encoding:e}=t,n={};for(const i of[Xs,...mQ]){const s=ii(e[i]);!s||!t.getScaleComponent(i)||i===Ks&&be(s)&&s.type===X2||(n[i]=NMe(t,i))}return n}function AMe(t,e){const n=t.scaleName(e);if(t.mark==="trail"){if(e==="color")return{stroke:n};if(e==="size")return{strokeWidth:n}}return e==="color"?t.markDef.filled?{fill:n}:{stroke:n}:{[e]:n}}function OMe(t,e,n,i){switch(e){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(e==="title"&&t===(i==null?void 0:i.title))return!0}return t===(n||{})[e]}function NMe(t,e){var k;let n=t.legend(e);const{markDef:i,encoding:s,config:a}=t,c=a.legend,d=new mMe({},AMe(t,e));jFe(t,e,d);const f=n!==void 0?!n:c.disable;if(d.set("disable",f,n!==void 0),f)return d;n=n||{};const u=t.getScaleComponent(e).get("type"),o=ii(s[e]),g=be(o)?(k=Ai(o.timeUnit))==null?void 0:k.unit:void 0,y=n.orient||a.legend.orient||"right",m=SMe({legend:n,channel:e,timeUnit:g,scaleType:u}),l=BMe({legend:n,legendType:m,orient:y,legendConfig:c}),b={legend:n,channel:e,model:t,markDef:i,encoding:s,fieldOrDatumDef:o,legendConfig:c,config:a,scaleType:u,orient:y,legendType:m,direction:l};for(const B of gee){if(m==="gradient"&&B.startsWith("symbol")||m==="symbol"&&B.startsWith("gradient"))continue;const A=B in ED?ED[B](b):n[B];if(A!==void 0){const M=OMe(A,B,n,t.fieldDef(e));(M||a.legend[B]===void 0)&&d.set(B,A,M)}}const L=(n==null?void 0:n.encoding)??{},E=d.get("selections"),S={},x={fieldOrDatumDef:o,model:t,channel:e,legendCmpt:d,legendType:m};for(const B of["labels","legend","title","symbols","gradient","entries"]){const A=pee(L[B]??{},t),M=B in vD?vD[B](A,x):A;M!==void 0&&!cn(M)&&(S[B]={...E!=null&&E.length&&be(o)?{name:`${kn(o.field)}_legend_${B}`}:{},...E!=null&&E.length?{interactive:!!E}:{},update:M})}return cn(S)||d.set("encode",S,!!(n!=null&&n.encoding)),d}function CMe(t){const{legends:e,resolve:n}=t.component;for(const i of t.children){Lee(i);for(const s of me(i.component.legends))n.legend[s]=nF(t.component.resolve,s),n.legend[s]==="shared"&&(e[s]=bee(e[s],i.component.legends[s]),e[s]||(n.legend[s]="independent",delete e[s]))}for(const i of me(e))for(const s of t.children)s.component.legends[i]&&n.legend[i]==="shared"&&delete s.component.legends[i];return e}function bee(t,e){var a,c,d,f;if(!t)return e.clone();const n=t.getWithExplicit("orient"),i=e.getWithExplicit("orient");if(n.explicit&&i.explicit&&n.value!==i.value)return;let s=!1;for(const u of gee){const o=xd(t.getWithExplicit(u),e.getWithExplicit(u),u,"legend",(g,y)=>{switch(u){case"symbolType":return RMe(g,y);case"title":return oJ(g,y);case"type":return s=!0,sr("symbol")}return O5(g,y,u,"legend")});t.setWithExplicit(u,o)}return s&&((c=(a=t.implicit)==null?void 0:a.encode)!=null&&c.gradient&&i6(t.implicit,["encode","gradient"]),(f=(d=t.explicit)==null?void 0:d.encode)!=null&&f.gradient&&i6(t.explicit,["encode","gradient"])),t}function RMe(t,e){return e.value==="circle"?e:t}function DMe(t,e,n,i){var s,a;t.encode??(t.encode={}),(s=t.encode)[e]??(s[e]={}),(a=t.encode[e]).update??(a.update={}),t.encode[e].update[n]=i}function Tee(t){const e=t.component.legends,n={};for(const s of me(e)){const a=t.getScaleComponent(s),c=Ln(a.get("domains"));if(n[c])for(const d of n[c])bee(d,e[s])||n[c].push(e[s]);else n[c]=[e[s].clone()]}return Fi(n).flat().map(s=>PMe(s,t.config)).filter(s=>s!==void 0)}function PMe(t,e){var c,d,f;const{disable:n,labelExpr:i,selections:s,...a}=t.combine();if(!n){if(e.aria===!1&&a.aria==null&&(a.aria=!1),(c=a.encode)!=null&&c.symbols){const u=a.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!a.stroke&&(u.stroke={value:"transparent"});for(const o of mQ)a[o]&&delete u[o]}if(a.title||delete a.title,i!==void 0){let u=i;(f=(d=a.encode)==null?void 0:d.labels)!=null&&f.update&&Ce(a.encode.labels.update.text)&&(u=xu(i,"datum.label",a.encode.labels.update.text.signal)),DMe(a,"labels","text",{signal:u})}return a}}function $Me(t){return e0(t)||lF(t)?UMe(t):vee(t)}function UMe(t){return t.children.reduce((e,n)=>e.concat(n.assembleProjections()),vee(t))}function vee(t){const e=t.component.projection;if(!e||e.merged)return[];const n=e.combine(),{name:i}=n;if(e.data){const s={signal:`[${e.size.map(c=>c.signal).join(", ")}]`},a=e.data.reduce((c,d)=>{const f=Ce(d)?d.signal:`data('${t.lookupDataSource(d)}')`;return Mt(c,f)||c.push(f),c},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:i,size:s,fit:{signal:a.length>1?`[${a.join(", ")}]`:a[0]},...n}]}else return[{name:i,translate:{signal:"[width / 2, height / 2]"},...n}]}const zMe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Eee extends mc{constructor(e,n,i,s){super({...n},{name:e}),this.specifiedProjection=n,this.size=i,this.data=s,this.merged=!1}get isFit(){return!!this.data}}function See(t){t.component.projection=Vn(t)?HMe(t):qMe(t)}function HMe(t){if(t.hasProjection){const e=Fs(t.specifiedProjection),n=!(e&&(e.scale!=null||e.translate!=null)),i=n?[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]:void 0,s=n?jMe(t):void 0,a=new Eee(t.projectionName(!0),{...Fs(t.config.projection)??{},...e??{}},i,s);return a.get("type")||a.set("type","equalEarth",!1),a}}function jMe(t){const e=[],{encoding:n}=t;for(const i of[[Va,ja],[Jr,qa]])(ii(n[i[0]])||ii(n[i[1]]))&&e.push({signal:t.getName(`geojson_${e.length}`)});return t.channelHasField(Ks)&&t.typedFieldDef(Ks).type===X2&&e.push({signal:t.getName(`geojson_${e.length}`)}),e.length===0&&e.push(t.requestDataName(wn.Main)),e}function VMe(t,e){const n=YI(zMe,s=>!!(!$e(t.explicit,s)&&!$e(e.explicit,s)||$e(t.explicit,s)&&$e(e.explicit,s)&&To(t.get(s),e.get(s))));if(To(t.size,e.size)){if(n)return t;if(To(t.explicit,{}))return e;if(To(e.explicit,{}))return t}return null}function qMe(t){if(t.children.length===0)return;let e;for(const i of t.children)See(i);const n=YI(t.children,i=>{const s=i.component.projection;if(s)if(e){const a=VMe(e,s);return a&&(e=a),!!a}else return e=s,!0;else return!0});if(e&&n){const i=t.projectionName(!0),s=new Eee(i,e.specifiedProjection,e.size,et(e.data));for(const a of t.children){const c=a.component.projection;c&&(c.isFit&&s.data.push(...a.component.projection.data),a.renameProjection(c.get("name"),i),c.merged=!0)}return s}}function GMe(t,e,n,i){if($_(e,n)){const s=Vn(t)?t.axis(n)??t.legend(n)??{}:{},a=Se(e,{expr:"datum"}),c=Se(e,{expr:"datum",binSuffix:"end"});return{formulaAs:Se(e,{binSuffix:"range",forAs:!0}),formula:R_(a,c,s.format,s.formatType,i)}}return{}}function xee(t,e){return`${QZ(t)}_${e}`}function WMe(t,e){return{signal:t.getName(`${e}_bins`),extentSignal:t.getName(`${e}_extent`)}}function iF(t,e,n){const i=B5(n,void 0)??{},s=xee(i,e);return t.getName(`${s}_bins`)}function YMe(t){return"as"in t}function xD(t,e,n){let i,s;YMe(t)?i=Ie(t.as)?[t.as,`${t.as}_end`]:[t.as[0],t.as[1]]:i=[Se(t,{forAs:!0}),Se(t,{binSuffix:"end",forAs:!0})];const a={...B5(e,void 0)},c=xee(a,t.field),{signal:d,extentSignal:f}=WMe(n,c);if(g5(a.extent)){const o=a.extent;s=see(n,o.param,o),delete a.extent}const u={bin:a,field:t.field,as:[i],...d?{signal:d}:{},...f?{extentSignal:f}:{},...s?{span:s}:{}};return{key:c,binComponent:u}}class ko extends un{clone(){return new ko(null,et(this.bins))}constructor(e,n){super(e),this.bins=n}static makeFromEncoding(e,n){const i=n.reduceFieldDef((s,a,c)=>{if(gs(a)&&bn(a.bin)){const{key:d,binComponent:f}=xD(a,a.bin,n);s[d]={...f,...s[d],...GMe(n,a,c,n.config)}}return s},{});return cn(i)?null:new ko(e,i)}static makeFromTransform(e,n,i){const{key:s,binComponent:a}=xD(n,n.bin,i);return new ko(e,{[s]:a})}merge(e,n){for(const i of me(e.bins))i in this.bins?(n(e.bins[i].signal,this.bins[i].signal),this.bins[i].as=vo([...this.bins[i].as,...e.bins[i].as],Rt)):this.bins[i]=e.bins[i];for(const i of e.children)e.removeChild(i),i.parent=this;e.remove()}producedFields(){return new Set(Fi(this.bins).map(e=>e.as).flat(2))}dependentFields(){return new Set(Fi(this.bins).map(e=>e.field))}hash(){return`Bin ${Rt(this.bins)}`}assemble(){return Fi(this.bins).flatMap(e=>{const n=[],[i,...s]=e.as,{extent:a,...c}=e.bin,d={type:"bin",field:Zr(e.field),as:i,signal:e.signal,...g5(a)?{extent:null}:{extent:a},...e.span?{span:{signal:`span(${e.span})`}}:{},...c};!a&&e.extentSignal&&(n.push({type:"extent",field:Zr(e.field),signal:e.extentSignal}),d.extent={signal:e.extentSignal}),n.push(d);for(const f of s)for(let u=0;u<2;u++)n.push({type:"formula",expr:Se({field:i[u]},{expr:"datum"}),as:f[u]});return e.formula&&n.push({type:"formula",expr:e.formula,as:e.formulaAs}),n})}}function XMe(t,e,n,i){var a;const s=Vn(i)?i.encoding[rl(e)]:void 0;if(gs(n)&&Vn(i)&&qJ(n,s,i.markDef,i.config))t.add(Se(n,{})),t.add(Se(n,{suffix:"end"})),n.bin&&$_(n,e)&&t.add(Se(n,{binSuffix:"range"}));else if(HZ(e)){const c=zZ(e);t.add(i.getName(c))}else t.add(Se(n));return ih(n)&&qBe((a=n.scale)==null?void 0:a.range)&&t.add(n.scale.range.field),t}function KMe(t,e){for(const n of me(e)){const i=e[n];for(const s of me(i))n in t?t[n][s]=new Set([...t[n][s]??[],...i[s]]):t[n]={[s]:i[s]}}}class Sa extends un{clone(){return new Sa(null,new Set(this.dimensions),et(this.measures))}constructor(e,n,i){super(e),this.dimensions=n,this.measures=i}get groupBy(){return this.dimensions}static makeFromEncoding(e,n){let i=!1;n.forEachFieldDef(c=>{c.aggregate&&(i=!0)});const s={},a=new Set;return!i||(n.forEachFieldDef((c,d)=>{const{aggregate:f,field:u}=c;if(f)if(f==="count")s["*"]??(s["*"]={}),s["*"].count=new Set([Se(c,{forAs:!0})]);else{if(tc(f)||Zd(f)){const o=tc(f)?"argmin":"argmax",g=f[o];s[g]??(s[g]={}),s[g][o]=new Set([Se({op:o,field:g},{forAs:!0})])}else s[u]??(s[u]={}),s[u][f]=new Set([Se(c,{forAs:!0})]);gc(d)&&n.scaleDomain(d)==="unaggregated"&&(s[u]??(s[u]={}),s[u].min=new Set([Se({field:u,aggregate:"min"},{forAs:!0})]),s[u].max=new Set([Se({field:u,aggregate:"max"},{forAs:!0})]))}else XMe(a,d,c,n)}),a.size+me(s).length===0)?null:new Sa(e,a,s)}static makeFromTransform(e,n){const i=new Set,s={};for(const a of n.aggregate){const{op:c,field:d,as:f}=a;c&&(c==="count"?(s["*"]??(s["*"]={}),s["*"].count=new Set([f||Se(a,{forAs:!0})])):(s[d]??(s[d]={}),s[d][c]=new Set([f||Se(a,{forAs:!0})])))}for(const a of n.groupby??[])i.add(a);return i.size+me(s).length===0?null:new Sa(e,i,s)}merge(e){return OZ(this.dimensions,e.dimensions)?(KMe(this.measures,e.measures),!0):(yBe("different dimensions, cannot merge"),!1)}addDimensions(e){e.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...me(this.measures)])}producedFields(){const e=new Set;for(const n of me(this.measures))for(const i of me(this.measures[n])){const s=this.measures[n][i];s.size===0?e.add(`${i}_${n}`):s.forEach(e.add,e)}return e}hash(){return`Aggregate ${Rt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const e=[],n=[],i=[];for(const a of me(this.measures))for(const c of me(this.measures[a]))for(const d of this.measures[a][c])i.push(d),e.push(c),n.push(a==="*"?null:Zr(a));return{type:"aggregate",groupby:[...this.dimensions].map(Zr),ops:e,fields:n,as:i}}}class J2 extends un{constructor(e,n,i,s){super(e),this.model=n,this.name=i,this.data=s;for(const a of $r){const c=n.facet[a];if(c){const{bin:d,sort:f}=c;this[a]={name:n.getName(`${a}_domain`),fields:[Se(c),...bn(d)?[Se(c,{binSuffix:"end"})]:[]],...Bo(f)?{sortField:f}:ue(f)?{sortIndexField:S2(c,a)}:{}}}}this.childModel=n.child}hash(){let e="Facet";for(const n of $r)this[n]&&(e+=` ${n.charAt(0)}:${Rt(this[n])}`);return e}get fields(){var n;const e=[];for(const i of $r)(n=this[i])!=null&&n.fields&&e.push(...this[i].fields);return e}dependentFields(){const e=new Set(this.fields);for(const n of $r)this[n]&&(this[n].sortField&&e.add(this[n].sortField.field),this[n].sortIndexField&&e.add(this[n].sortIndexField));return e}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const e={};for(const n of al){const i=this.childModel.component.scales[n];if(i&&!i.merged){const s=i.get("type"),a=i.get("range");if(vi(s)&&Jd(a)){const c=P5(this.childModel,n),d=oF(c);d?e[n]=d:Le(lk(n))}}}return e}assembleRowColumnHeaderData(e,n,i){const s={row:"y",column:"x",facet:void 0}[e],a=[],c=[],d=[];s&&i&&i[s]&&(n?(a.push(`distinct_${i[s]}`),c.push("max")):(a.push(i[s]),c.push("distinct")),d.push(`distinct_${i[s]}`));const{sortField:f,sortIndexField:u}=this[e];if(f){const{op:o=v5,field:g}=f;a.push(g),c.push(o),d.push(Se(f,{forAs:!0}))}else u&&(a.push(u),c.push("max"),d.push(u));return{name:this[e].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[e].fields,...a.length?{fields:a,ops:c,as:d}:{}}]}}assembleFacetHeaderData(e){var f;const{columns:n}=this.model.layout,{layoutHeaders:i}=this.model.component,s=[],a={};for(const u of Qk){for(const o of eF){const g=(i[u]&&i[u][o])??[];for(const y of g)if(((f=y.axes)==null?void 0:f.length)>0){a[u]=!0;break}}if(a[u]){const o=`length(data("${this.facet.name}"))`,g=u==="row"?n?{signal:`ceil(${o} / ${n})`}:1:n?{signal:`min(${o}, ${n})`}:{signal:o};s.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:g}]})}}const{row:c,column:d}=a;return(c||d)&&s.unshift(this.assembleRowColumnHeaderData("facet",null,e)),s}assemble(){const e=[];let n=null;const i=this.getChildIndependentFieldsWithStep(),{column:s,row:a,facet:c}=this;if(s&&a&&(i.x||i.y)){n=`cross_${this.column.name}_${this.row.name}`;const d=[].concat(i.x??[],i.y??[]),f=d.map(()=>"distinct");e.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:d,ops:f}]})}for(const d of[jl,Hl])this[d]&&e.push(this.assembleRowColumnHeaderData(d,n,i));if(c){const d=this.assembleFacetHeaderData(i);d&&e.push(...d)}return e}}function BD(t){return t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1):t}function ZMe(t,e){const n=ZI(t);if(e==="number")return`toNumber(${n})`;if(e==="boolean")return`toBoolean(${n})`;if(e==="string")return`toString(${n})`;if(e==="date")return`toDate(${n})`;if(e==="flatten")return n;if(e.startsWith("date:")){const i=BD(e.slice(5,e.length));return`timeParse(${n},'${i}')`}else if(e.startsWith("utc:")){const i=BD(e.slice(4,e.length));return`utcParse(${n},'${i}')`}else return Le(Exe(e)),null}function JMe(t){const e={};return Ym(t.filter,n=>{if(bJ(n)){let i=null;uk(n)?i=ur(n.equal):pk(n)?i=ur(n.lte):hk(n)?i=ur(n.lt):_k(n)?i=ur(n.gt):gk(n)?i=ur(n.gte):yk(n)?i=n.range[0]:mk(n)&&(i=(n.oneOf??n.in)[0]),i&&(nh(i)?e[n.field]="date":dn(i)?e[n.field]="number":Ie(i)&&(e[n.field]="string")),n.timeUnit&&(e[n.field]="date")}}),e}function QMe(t){const e={};function n(i){T2(i)?e[i.field]="date":i.type==="quantitative"&&nxe(i.aggregate)?e[i.field]="number":g2(i.field)>1?i.field in e||(e[i.field]="flatten"):ih(i)&&Bo(i.sort)&&g2(i.sort.field)>1&&(i.sort.field in e||(e[i.sort.field]="flatten"))}if((Vn(t)||xa(t))&&t.forEachFieldDef((i,s)=>{if(gs(i))n(i);else{const a=eh(s),c=t.fieldDef(a);n({...i,type:c.type})}}),Vn(t)){const{mark:i,markDef:s,encoding:a}=t;if(Qd(i)&&!t.encoding.order){const c=s.orient==="horizontal"?"y":"x",d=a[c];be(d)&&d.type==="quantitative"&&!(d.field in e)&&(e[d.field]="number")}}return e}function eAe(t){const e={};if(Vn(t)&&t.component.selection)for(const n of me(t.component.selection)){const i=t.component.selection[n];for(const s of i.project.items)!s.channel&&g2(s.field)>1&&(e[s.field]="flatten")}return e}class Hi extends un{clone(){return new Hi(null,et(this._parse))}constructor(e,n){super(e),this._parse=n}hash(){return`Parse ${Rt(this._parse)}`}static makeExplicit(e,n,i){var c;let s={};const a=n.data;return!td(a)&&((c=a==null?void 0:a.format)!=null&&c.parse)&&(s=a.format.parse),this.makeWithAncestors(e,s,{},i)}static makeWithAncestors(e,n,i,s){for(const d of me(i)){const f=s.getWithExplicit(d);f.value!==void 0&&(f.explicit||f.value===i[d]||f.value==="derived"||i[d]==="flatten"?delete i[d]:Le(zR(d,i[d],f.value)))}for(const d of me(n)){const f=s.get(d);f!==void 0&&(f===n[d]?delete n[d]:Le(zR(d,n[d],f)))}const a=new mc(n,i);s.copyAll(a);const c={};for(const d of me(a.combine())){const f=a.get(d);f!==null&&(c[d]=f)}return me(c).length===0||s.parseNothing?null:new Hi(e,c)}get parse(){return this._parse}merge(e){this._parse={...this._parse,...e.parse},e.remove()}assembleFormatParse(){const e={};for(const n of me(this._parse)){const i=this._parse[n];g2(n)===1&&(e[n]=i)}return e}producedFields(){return new Set(me(this._parse))}dependentFields(){return new Set(me(this._parse))}assembleTransforms(e=!1){return me(this._parse).filter(n=>e?g2(n)>1:!0).map(n=>{const i=ZMe(n,this._parse[n]);return i?{type:"formula",expr:i,as:JI(n)}:null}).filter(n=>n!==null)}}class kd extends un{clone(){return new kd(null)}constructor(e){super(e)}dependentFields(){return new Set}producedFields(){return new Set([Oa])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Oa}}}class H_ extends un{clone(){return new H_(null,this.params)}constructor(e,n){super(e),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Rt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class j_ extends un{clone(){return new j_(null,this.params)}constructor(e,n){super(e),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Rt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Cu extends un{constructor(e){super(null),e??(e={name:"source"});let n;if(td(e)||(n=e.format?{...Ds(e.format,["parse"])}:{}),S3(e))this._data={values:e.values};else if(v2(e)){if(this._data={url:e.url},!n.type){let i=/(?:\.([^.]+))?$/.exec(e.url)[1];Mt(["json","csv","tsv","dsv","topojson"],i)||(i="json"),n.type=i}}else CQ(e)?this._data={values:[{type:"Sphere"}]}:(OQ(e)||td(e))&&(this._data={});this._generator=td(e),e.name&&(this._name=e.name),n&&!cn(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(e){this._name=e}set parent(e){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var ID=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},tAe=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},fp;function sF(t){return t instanceof Cu||t instanceof H_||t instanceof j_}class rF{constructor(){fp.set(this,void 0),ID(this,fp,!1,"f")}setModified(){ID(this,fp,!0,"f")}get modifiedFlag(){return tAe(this,fp,"f")}}fp=new WeakMap;class sh extends rF{getNodeDepths(e,n,i){i.set(e,n);for(const s of e.children)this.getNodeDepths(s,n+1,i);return i}optimize(e){const i=[...this.getNodeDepths(e,0,new Map).entries()].sort((s,a)=>a[1]-s[1]);for(const s of i)this.run(s[0]);return this.modifiedFlag}}class aF extends rF{optimize(e){this.run(e);for(const n of e.children)this.optimize(n);return this.modifiedFlag}}class nAe extends aF{mergeNodes(e,n){const i=n.shift();for(const s of n)e.removeChild(s),s.parent=i,s.remove()}run(e){const n=e.children.map(s=>s.hash()),i={};for(let s=0;s<n.length;s++)i[n[s]]===void 0?i[n[s]]=[e.children[s]]:i[n[s]].push(e.children[s]);for(const s of me(i))i[s].length>1&&(this.setModified(),this.mergeNodes(e,i[s]))}}class iAe extends aF{constructor(e){super(),this.requiresSelectionId=e&&Jk(e)}run(e){e instanceof kd&&(this.requiresSelectionId&&(sF(e.parent)||e.parent instanceof Sa||e.parent instanceof Hi)||(this.setModified(),e.remove()))}}class sAe extends rF{optimize(e){return this.run(e,new Set),this.modifiedFlag}run(e,n){let i=new Set;e instanceof Io&&(i=e.producedFields(),XI(i,n)&&(this.setModified(),e.removeFormulas(n),e.producedFields.length===0&&e.remove()));for(const s of e.children)this.run(s,new Set([...n,...i]))}}class rAe extends aF{constructor(){super()}run(e){e instanceof hs&&!e.isRequired()&&(this.setModified(),e.remove())}}class aAe extends sh{run(e){if(!sF(e)&&!(e.numChildren()>1)){for(const n of e.children)if(n instanceof Hi)if(e instanceof Hi)this.setModified(),e.merge(n);else{if(KI(e.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class oAe extends sh{run(e){const n=[...e.children],i=e.children.filter(s=>s instanceof Hi);if(e.numChildren()>1&&i.length>=1){const s={},a=new Set;for(const c of i){const d=c.parse;for(const f of me(d))f in s?s[f]!==d[f]&&a.add(f):s[f]=d[f]}for(const c of a)delete s[c];if(!cn(s)){this.setModified();const c=new Hi(e,s);for(const d of n){if(d instanceof Hi)for(const f of me(s))delete d.parse[f];e.removeChild(d),d.parent=c,d instanceof Hi&&me(d.parse).length===0&&d.remove()}}}}}class lAe extends sh{run(e){e instanceof hs||e.numChildren()>0||e instanceof J2||e instanceof Cu||(this.setModified(),e.remove())}}class cAe extends sh{run(e){const n=e.children.filter(s=>s instanceof Io),i=n.pop();for(const s of n)this.setModified(),i.merge(s)}}class dAe extends sh{run(e){const n=e.children.filter(s=>s instanceof Sa),i={};for(const s of n){const a=Rt(s.groupBy);a in i||(i[a]=[]),i[a].push(s)}for(const s of me(i)){const a=i[s];if(a.length>1){const c=a.pop();for(const d of a)c.merge(d)&&(e.removeChild(d),d.parent=c,d.remove(),this.setModified())}}}}class fAe extends sh{constructor(e){super(),this.model=e}run(e){const n=!(sF(e)||e instanceof Z2||e instanceof Hi||e instanceof kd),i=[],s=[];for(const a of e.children)a instanceof ko&&(n&&!KI(e.producedFields(),a.dependentFields())?i.push(a):s.push(a));if(i.length>0){const a=i.pop();for(const c of i)a.merge(c,this.model.renameSignal.bind(this.model));this.setModified(),e instanceof ko?e.merge(a,this.model.renameSignal.bind(this.model)):a.swapWithParent()}if(s.length>1){const a=s.pop();for(const c of s)a.merge(c,this.model.renameSignal.bind(this.model));this.setModified()}}}class uAe extends sh{run(e){const n=[...e.children];if(!Su(n,c=>c instanceof hs)||e.numChildren()<=1)return;const s=[];let a;for(const c of n)if(c instanceof hs){let d=c;for(;d.numChildren()===1;){const[f]=d.children;if(f instanceof hs)d=f;else break}s.push(...d.children),a?(e.removeChild(c),c.parent=a.parent,a.parent.removeChild(a),a.parent=d,this.setModified()):a=d}else s.push(c);if(s.length){this.setModified();for(const c of s)c.parent.removeChild(c),c.parent=a}}}class rh extends un{clone(){return new rh(null,et(this.transform))}constructor(e,n){super(e),this.transform=n}addDimensions(e){this.transform.groupby=vo(this.transform.groupby.concat(e),n=>n)}dependentFields(){const e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(e.add,e),e}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(e){return e.as??Se(e)}hash(){return`JoinAggregateTransform ${Rt(this.transform)}`}assemble(){const e=[],n=[],i=[];for(const a of this.transform.joinaggregate)n.push(a.op),i.push(this.getDefaultName(a)),e.push(a.field===void 0?null:a.field);const s=this.transform.groupby;return{type:"joinaggregate",as:i,ops:n,fields:e,...s!==void 0?{groupby:s}:{}}}}function hAe(t){return t.stack.stackBy.reduce((e,n)=>{const i=n.fieldDef,s=Se(i);return s&&e.push(s),e},[])}function pAe(t){return ue(t)&&t.every(e=>Ie(e))&&t.length>1}class Gl extends un{clone(){return new Gl(null,et(this._stack))}constructor(e,n){super(e),this._stack=n}static makeFromTransform(e,n){const{stack:i,groupby:s,as:a,offset:c="zero"}=n,d=[],f=[];if(n.sort!==void 0)for(const g of n.sort)d.push(g.field),f.push(Kn(g.order,"ascending"));const u={field:d,order:f};let o;return pAe(a)?o=a:Ie(a)?o=[a,`${a}_end`]:o=[`${n.stack}_start`,`${n.stack}_end`],new Gl(e,{dimensionFieldDefs:[],stackField:i,groupby:s,offset:c,sort:u,facetby:[],as:o})}static makeFromEncoding(e,n){const i=n.stack,{encoding:s}=n;if(!i)return null;const{groupbyChannels:a,fieldChannel:c,offset:d,impute:f}=i,u=a.map(m=>{const l=s[m];return qo(l)}).filter(m=>!!m),o=hAe(n),g=n.encoding.order;let y;return ue(g)||be(g)?y=sJ(g):y=o.reduce((m,l)=>(m.field.push(l),m.order.push(c==="y"?"descending":"ascending"),m),{field:[],order:[]}),new Gl(e,{dimensionFieldDefs:u,stackField:n.vgField(c),facetby:[],stackby:o,sort:y,offset:d,impute:f,as:[n.vgField(c,{suffix:"start",forAs:!0}),n.vgField(c,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(e){this._stack.facetby.push(...e)}dependentFields(){const e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Rt(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:e,impute:n,groupby:i}=this._stack;return e.length>0?e.map(s=>s.bin?n?[Se(s,{binSuffix:"mid"})]:[Se(s,{}),Se(s,{binSuffix:"end"})]:[Se(s)]).flat():i??[]}assemble(){const e=[],{facetby:n,dimensionFieldDefs:i,stackField:s,stackby:a,sort:c,offset:d,impute:f,as:u}=this._stack;if(f)for(const o of i){const{bandPosition:g=.5,bin:y}=o;if(y){const m=Se(o,{expr:"datum"}),l=Se(o,{expr:"datum",binSuffix:"end"});e.push({type:"formula",expr:`${g}*${m}+${1-g}*${l}`,as:Se(o,{binSuffix:"mid",forAs:!0})})}e.push({type:"impute",field:s,groupby:[...a,...n],key:Se(o,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:s,sort:c,as:u,offset:d}),e}}class Q2 extends un{clone(){return new Q2(null,et(this.transform))}constructor(e,n){super(e),this.transform=n}addDimensions(e){this.transform.groupby=vo(this.transform.groupby.concat(e),n=>n)}dependentFields(){const e=new Set;return(this.transform.groupby??[]).forEach(e.add,e),(this.transform.sort??[]).forEach(n=>e.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(e.add,e),e}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(e){return e.as??Se(e)}hash(){return`WindowTransform ${Rt(this.transform)}`}assemble(){const e=[],n=[],i=[],s=[];for(const g of this.transform.window)n.push(g.op),i.push(this.getDefaultName(g)),s.push(g.param===void 0?null:g.param),e.push(g.field===void 0?null:g.field);const a=this.transform.frame,c=this.transform.groupby;if(a&&a[0]===null&&a[1]===null&&n.every(g=>ak(g)))return{type:"joinaggregate",as:i,ops:n,fields:e,...c!==void 0?{groupby:c}:{}};const d=[],f=[];if(this.transform.sort!==void 0)for(const g of this.transform.sort)d.push(g.field),f.push(g.order??"ascending");const u={field:d,order:f},o=this.transform.ignorePeers;return{type:"window",params:s,as:i,ops:n,fields:e,sort:u,...o!==void 0?{ignorePeers:o}:{},...c!==void 0?{groupby:c}:{},...a!==void 0?{frame:a}:{}}}}function _Ae(t){function e(n){if(!(n instanceof J2)){const i=n.clone();if(i instanceof hs){const s=UT+i.getSource();i.setSource(s),t.model.component.data.outputNodes[s]=i}else(i instanceof Sa||i instanceof Gl||i instanceof Q2||i instanceof rh)&&i.addDimensions(t.fields);for(const s of n.children.flatMap(e))s.parent=i;return[i]}return n.children.flatMap(e)}return e}function $T(t){if(t instanceof J2)if(t.numChildren()===1&&!(t.children[0]instanceof hs)){const e=t.children[0];(e instanceof Sa||e instanceof Gl||e instanceof Q2||e instanceof rh)&&e.addDimensions(t.fields),e.swapWithParent(),$T(t)}else{const e=t.model.component.data.main;Bee(e);const n=_Ae(t),i=t.children.map(n).flat();for(const s of i)s.parent=e}else t.children.map($T)}function Bee(t){if(t instanceof hs&&t.type===wn.Main&&t.numChildren()===1){const e=t.children[0];e instanceof J2||(e.swapWithParent(),Bee(t))}}const UT="scale_",qy=5;function zT(t){for(const e of t){for(const n of e.children)if(n.parent!==e)return!1;if(!zT(e.children))return!1}return!0}function na(t,e){let n=!1;for(const i of e)n=t.optimize(i)||n;return n}function kD(t,e,n){let i=t.sources,s=!1;return s=na(new rAe,i)||s,s=na(new iAe(e),i)||s,i=i.filter(a=>a.numChildren()>0),s=na(new lAe,i)||s,i=i.filter(a=>a.numChildren()>0),n||(s=na(new aAe,i)||s,s=na(new fAe(e),i)||s,s=na(new sAe,i)||s,s=na(new oAe,i)||s,s=na(new dAe,i)||s,s=na(new cAe,i)||s,s=na(new nAe,i)||s,s=na(new uAe,i)||s),t.sources=i,s}function gAe(t,e){zT(t.sources);let n=0,i=0;for(let s=0;s<qy&&kD(t,e,!0);s++)n++;t.sources.map($T);for(let s=0;s<qy&&kD(t,e,!1);s++)i++;zT(t.sources),Math.max(n,i)===qy&&Le(`Maximum optimization runs(${qy}) reached.`)}class $s{constructor(e){Object.defineProperty(this,"signal",{enumerable:!0,get:e})}static fromName(e,n){return new $s(()=>e(n))}}function Iee(t){Vn(t)?yAe(t):mAe(t)}function yAe(t){const e=t.component.scales;for(const n of me(e)){const i=LAe(t,n);if(e[n].setWithExplicit("domains",i),TAe(t,n),t.component.data.isFaceted){let a=t;for(;!xa(a)&&a.parent;)a=a.parent;if(a.component.resolve.scale[n]==="shared")for(const d of i.value)Dl(d)&&(d.data=UT+d.data.replace(UT,""))}}}function mAe(t){for(const n of t.children)Iee(n);const e=t.component.scales;for(const n of me(e)){let i,s=null;for(const a of t.children){const c=a.component.scales[n];if(c){i===void 0?i=c.getWithExplicit("domains"):i=xd(i,c.getWithExplicit("domains"),"domains","scale",HT);const d=c.get("selectionExtent");s&&d&&s.param!==d.param&&Le(Lxe),s=d}}e[n].setWithExplicit("domains",i),s&&e[n].set("selectionExtent",s,!0)}}function wAe(t,e,n,i){if(t==="unaggregated"){const{valid:s,reason:a}=FD(e,n);if(!s){Le(a);return}}else if(t===void 0&&i.useUnaggregatedDomain){const{valid:s}=FD(e,n);if(s)return"unaggregated"}return t}function LAe(t,e){const n=t.getScaleComponent(e).get("type"),{encoding:i}=t,s=wAe(t.scaleDomain(e),t.typedFieldDef(e),n,t.config.scale);return s!==t.scaleDomain(e)&&(t.specifiedScales[e]={...t.specifiedScales[e],domain:s}),e==="x"&&ii(i.x2)?ii(i.x)?xd(kc(n,s,t,"x"),kc(n,s,t,"x2"),"domain","scale",HT):kc(n,s,t,"x2"):e==="y"&&ii(i.y2)?ii(i.y)?xd(kc(n,s,t,"y"),kc(n,s,t,"y2"),"domain","scale",HT):kc(n,s,t,"y2"):kc(n,s,t,e)}function bAe(t,e,n){return t.map(i=>({signal:`{data: ${I5(i,{timeUnit:n,type:e})}}`}))}function R9(t,e,n){var s;const i=(s=Ai(n))==null?void 0:s.unit;return e==="temporal"||i?bAe(t,e,i):[t]}function kc(t,e,n,i){const{encoding:s}=n,a=ii(s[i]),{type:c}=a,d=a.timeUnit;if(VBe(e)){const g=kc(t,void 0,n,i),y=R9(e.unionWith,c,d);return ro([...y,...g.value])}else{if(Ce(e))return ro([e]);if(e&&e!=="unaggregated"&&!IJ(e))return ro(R9(e,c,d))}const f=n.stack;if(f&&i===f.fieldChannel){if(f.offset==="normalize")return sr([[0,1]]);const g=n.requestDataName(wn.Main);return sr([{data:g,field:n.vgField(i,{suffix:"start"})},{data:g,field:n.vgField(i,{suffix:"end"})}])}const u=gc(i)&&be(a)?vAe(n,i,t):void 0;if(ol(a)){const g=R9([a.datum],c,d);return sr(g)}const o=a;if(e==="unaggregated"){const g=n.requestDataName(wn.Main),{field:y}=a;return sr([{data:g,field:Se({field:y,aggregate:"min"})},{data:g,field:Se({field:y,aggregate:"max"})}])}else if(bn(o.bin)){if(vi(t))return sr(t==="bin-ordinal"?[]:[{data:v3(u)?n.requestDataName(wn.Main):n.requestDataName(wn.Raw),field:n.vgField(i,$_(o,i)?{binSuffix:"range"}:{}),sort:u===!0||!Me(u)?{field:n.vgField(i,{}),op:"min"}:u}]);{const{bin:g}=o;if(bn(g)){const y=iF(n,o.field,g);return sr([new $s(()=>{const m=n.getSignalName(y);return`[${m}.start, ${m}.stop]`})])}else return sr([{data:n.requestDataName(wn.Main),field:n.vgField(i,{})}])}}else if(o.timeUnit&&Mt(["time","utc"],t)&&qJ(o,Vn(n)?n.encoding[rl(i)]:void 0,n.markDef,n.config)){const g=n.requestDataName(wn.Main);return sr([{data:g,field:n.vgField(i)},{data:g,field:n.vgField(i,{suffix:"end"})}])}else return sr(u?[{data:v3(u)?n.requestDataName(wn.Main):n.requestDataName(wn.Raw),field:n.vgField(i),sort:u}]:[{data:n.requestDataName(wn.Main),field:n.vgField(i)}])}function D9(t,e){const{op:n,field:i,order:s}=t;return{op:n??(e?"sum":v5),...i?{field:Zr(i)}:{},...s?{order:s}:{}}}function TAe(t,e){var d;const n=t.component.scales[e],i=t.specifiedScales[e].domain,s=(d=t.fieldDef(e))==null?void 0:d.bin,a=IJ(i)&&i,c=th(s)&&g5(s.extent)&&s.extent;(a||c)&&n.set("selectionExtent",a??c,!0)}function vAe(t,e,n){if(!vi(n))return;const i=t.fieldDef(e),s=i.sort;if(HJ(s))return{op:"min",field:S2(i,e),order:"ascending"};const{stack:a}=t,c=a?new Set([...a.groupbyFields,...a.stackBy.map(d=>d.fieldDef.field)]):void 0;if(Bo(s)){const d=a&&!c.has(s.field);return D9(s,d)}else if(zJ(s)){const{encoding:d,order:f}=s,u=t.fieldDef(d),{aggregate:o,field:g}=u,y=a&&!c.has(g);if(tc(o)||Zd(o))return D9({field:Se(u),order:f},y);if(ak(o)||!o)return D9({op:o,field:g,order:f},y)}else{if(s==="descending")return{op:"min",field:t.vgField(e),order:"descending"};if(Mt(["ascending",void 0],s))return!0}}function FD(t,e){const{aggregate:n,type:i}=t;return n?Ie(n)&&!sxe.has(n)?{valid:!1,reason:Yxe(n)}:i==="quantitative"&&e==="log"?{valid:!1,reason:Xxe(t)}:{valid:!0}:{valid:!1,reason:Wxe(t)}}function HT(t,e,n,i){return t.explicit&&e.explicit&&Le(eBe(n,i,t.value,e.value)),{explicit:t.explicit,value:[...t.value,...e.value]}}function EAe(t){const e=vo(t.map(c=>{if(Dl(c)){const{sort:d,...f}=c;return f}return c}),Rt),n=vo(t.map(c=>{if(Dl(c)){const d=c.sort;return d!==void 0&&!v3(d)&&("op"in d&&d.op==="count"&&delete d.field,d.order==="ascending"&&delete d.order),d}}).filter(c=>c!==void 0),Rt);if(e.length===0)return;if(e.length===1){const c=t[0];if(Dl(c)&&n.length>0){let d=n[0];if(n.length>1){Le(jR);const f=n.filter(u=>Me(u)&&"op"in u&&u.op!=="min");n.every(u=>Me(u)&&"op"in u)&&f.length===1?d=f[0]:d=!0}else if(Me(d)&&"field"in d){const f=d.field;c.field===f&&(d=d.order?{order:d.order}:!0)}return{...c,sort:d}}return c}const i=vo(n.map(c=>v3(c)||!("op"in c)||Ie(c.op)&&c.op in exe?c:(Le(nBe(c)),!0)),Rt);let s;i.length===1?s=i[0]:i.length>1&&(Le(jR),s=!0);const a=vo(t.map(c=>Dl(c)?c.data:null),c=>c);return a.length===1&&a[0]!==null?{data:a[0],fields:e.map(d=>d.field),...s?{sort:s}:{}}:{fields:e,...s?{sort:s}:{}}}function oF(t){if(Dl(t)&&Ie(t.field))return t.field;if(rxe(t)){let e;for(const n of t.fields)if(Dl(n)&&Ie(n.field)){if(!e)e=n.field;else if(e!==n.field)return Le(iBe),e}return Le(sBe),e}else if(axe(t)){Le(rBe);const e=t.fields[0];return Ie(e)?e:void 0}}function P5(t,e){const i=t.component.scales[e].get("domains").map(s=>(Dl(s)&&(s.data=t.lookupDataSource(s.data)),s));return EAe(i)}function kee(t){return e0(t)||lF(t)?t.children.reduce((e,n)=>e.concat(kee(n)),MD(t)):MD(t)}function MD(t){return me(t.component.scales).reduce((e,n)=>{const i=t.component.scales[n];if(i.merged)return e;const s=i.combine(),{name:a,type:c,selectionExtent:d,domains:f,range:u,reverse:o,...g}=s,y=SAe(s.range,a,n,t),m=P5(t,n),l=d?wFe(t,d,i,m):null;return e.push({name:a,type:c,...m?{domain:m}:{},...l?{domainRaw:l}:{},range:y,...o!==void 0?{reverse:o}:{},...g}),e},[])}function SAe(t,e,n,i){if(Ti(n)){if(Jd(t))return{step:{signal:`${e}_step`}}}else if(Me(t)&&Dl(t))return{...t,data:i.lookupDataSource(t.data)};return t}class Fee extends mc{constructor(e,n){super({},{name:e}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:Su(this.get("domains"),e=>ue(e)&&e.length===2&&e[0]<=0&&e[1]>=0)}}const xAe=["range","scheme"];function BAe(t){const e=t.component.scales;for(const n of _5){const i=e[n];if(!i)continue;const s=IAe(n,t);i.setWithExplicit("range",s)}}function AD(t,e){const n=t.fieldDef(e);if(n!=null&&n.bin){const{bin:i,field:s}=n,a=Zs(e),c=t.getName(a);if(Me(i)&&i.binned&&i.step!==void 0)return new $s(()=>{const d=t.scaleName(e),f=`(domain("${d}")[1] - domain("${d}")[0]) / ${i.step}`;return`${t.getSignalName(c)} / (${f})`});if(bn(i)){const d=iF(t,s,i);return new $s(()=>{const f=t.getSignalName(d),u=`(${f}.stop - ${f}.start) / ${f}.step`;return`${t.getSignalName(c)} / (${u})`})}}}function IAe(t,e){const n=e.specifiedScales[t],{size:i}=e,a=e.getScaleComponent(t).get("type");for(const g of xAe)if(n[g]!==void 0){const y=ST(a,g),m=kJ(t,g);if(!y)Le(fJ(a,g,t));else if(m)Le(m);else switch(g){case"range":{const l=n.range;if(ue(l)){if(Ti(t))return ro(l.map(b=>{if(b==="width"||b==="height"){const L=e.getName(b),E=e.getSignalName.bind(e);return $s.fromName(E,L)}return b}))}else if(Me(l))return ro({data:e.requestDataName(wn.Main),field:l.field,sort:{op:"min",field:e.vgField(t)}});return ro(l)}case"scheme":return ro(kAe(n[g]))}}const c=t===Fn||t==="xOffset"?"width":"height",d=i[c];if(Go(d)){if(Ti(t))if(vi(a)){const g=Mee(d,e,t);if(g)return ro({step:g})}else Le(uJ(c));else if(Y2(t)){const g=t===Gd?"x":"y";if(e.getScaleComponent(g).get("type")==="band"){const l=Aee(d,a);if(l)return ro(l)}}}const{rangeMin:f,rangeMax:u}=n,o=FAe(t,e);return(f!==void 0||u!==void 0)&&ST(a,"rangeMin")&&ue(o)&&o.length===2?ro([f??o[0],u??o[1]]):sr(o)}function kAe(t){return jBe(t)?{scheme:t.name,...Ds(t,["name"])}:{scheme:t}}function FAe(t,e){const{size:n,config:i,mark:s,encoding:a}=e,c=e.getSignalName.bind(e),{type:d}=ii(a[t]),u=e.getScaleComponent(t).get("type"),{domain:o,domainMid:g}=e.specifiedScales[t];switch(t){case Fn:case bi:{if(Mt(["point","band"],u)){const l=Oee(t,n,i.view);if(Go(l))return{step:Mee(l,e,t)}}const y=Zs(t),m=e.getName(y);return t===bi&&Er(u)?[$s.fromName(c,m),0]:[0,$s.fromName(c,m)]}case Gd:case W2:return MAe(t,e,u);case pc:{const y=e.component.scales[t].get("zero"),m=Nee(s,y,i),l=NAe(s,n,e,i);return w2(u)?OAe(m,l,AAe(u,i,o,t)):[m,l]}case ea:return[0,Math.PI*2];case Qu:return[0,360];case Ha:return[0,new $s(()=>{const y=e.getSignalName("width"),m=e.getSignalName("height");return`min(${y},${m})/2`})];case Xd:return[i.scale.minStrokeWidth,i.scale.maxStrokeWidth];case Kd:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Ks:return"symbol";case Xs:case il:case sl:return u==="ordinal"?d==="nominal"?"category":"ordinal":g!==void 0?"diverging":s==="rect"||s==="geoshape"?"heatmap":"ramp";case _c:case Wd:case Yd:return[i.scale.minOpacity,i.scale.maxOpacity]}}function Mee(t,e,n){const{encoding:i}=e,s=e.getScaleComponent(n),a=nk(n),c=i[a];if(LQ({step:t,offsetIsDiscrete:Qe(c)&&vJ(c.type)})==="offset"&&nQ(i,a)){const f=e.getScaleComponent(a);let o=`domain('${e.scaleName(a)}').length`;if(f.get("type")==="band"){const y=f.get("paddingInner")??f.get("padding")??0,m=f.get("paddingOuter")??f.get("padding")??0;o=`bandspace(${o}, ${y}, ${m})`}const g=s.get("paddingInner")??s.get("padding");return{signal:`${t.step} * ${o} / (1-${dxe(g)})`}}else return t.step}function Aee(t,e){if(LQ({step:t,offsetIsDiscrete:vi(e)})==="offset")return{step:t.step}}function MAe(t,e,n){const i=t===Gd?"x":"y",a=e.getScaleComponent(i).get("type"),c=e.scaleName(i);if(a==="band"){const d=Oee(i,e.size,e.config.view);if(Go(d)){const f=Aee(d,n);if(f)return f}return[0,{signal:`bandwidth('${c}')`}]}else{const d=e.encoding[i];return be(d)&&d.timeUnit?[0,{signal:LJ(d.timeUnit,u=>`scale('${c}', ${u})`)}]:MZ(`Cannot use ${t} scale if ${i} scale is not discrete.`)}}function Oee(t,e,n){const i=t===Fn?"width":"height",s=e[i];return s||p6(n,i)}function AAe(t,e,n,i){switch(t){case"quantile":return e.scale.quantileCount;case"quantize":return e.scale.quantizeCount;case"threshold":return n!==void 0&&ue(n)?n.length+1:(Le(pBe(i)),3)}}function OAe(t,e,n){const i=()=>{const s=Vl(e),a=Vl(t),c=`(${s} - ${a}) / (${n} - 1)`;return`sequence(${a}, ${s} + ${c}, ${c})`};return Ce(e)?new $s(i):{signal:i()}}function Nee(t,e,n){if(e)return Ce(e)?{signal:`${e.signal} ? 0 : ${Nee(t,!1,n)}`}:0;switch(t){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(y5("size",t))}const OD=.95;function NAe(t,e,n,i){const s={x:AD(n,"x"),y:AD(n,"y")};switch(t){case"bar":case"tick":{if(i.scale.maxBandSize!==void 0)return i.scale.maxBandSize;const a=ND(e,s,i.view);return dn(a)?a-1:new $s(()=>`${a.signal} - 1`)}case"line":case"trail":case"rule":return i.scale.maxStrokeWidth;case"text":return i.scale.maxFontSize;case"point":case"square":case"circle":{if(i.scale.maxSize)return i.scale.maxSize;const a=ND(e,s,i.view);return dn(a)?Math.pow(OD*a,2):new $s(()=>`pow(${OD} * ${a.signal}, 2)`)}}throw new Error(y5("size",t))}function ND(t,e,n){const i=Go(t.width)?t.width.step:h6(n,"width"),s=Go(t.height)?t.height.step:h6(n,"height");return e.x||e.y?new $s(()=>`min(${[e.x?e.x.signal:i,e.y?e.y.signal:s].join(", ")})`):Math.min(i,s)}function Cee(t,e){Vn(t)?CAe(t,e):Dee(t,e)}function CAe(t,e){const n=t.component.scales,{config:i,encoding:s,markDef:a,specifiedScales:c}=t;for(const d of me(n)){const f=c[d],u=n[d],o=t.getScaleComponent(d),g=ii(s[d]),y=f[e],m=o.get("type"),l=o.get("padding"),b=o.get("paddingInner"),L=ST(m,e),E=kJ(d,e);if(y!==void 0&&(L?E&&Le(E):Le(fJ(m,e,d))),L&&E===void 0)if(y!==void 0){const S=g.timeUnit,x=g.type;switch(e){case"domainMax":case"domainMin":nh(f[e])||x==="temporal"||S?u.set(e,{signal:I5(f[e],{type:x,timeUnit:S})},!0):u.set(e,f[e],!0);break;default:u.copyKeyFromObject(e,f)}}else{const S=e in CD?CD[e]({model:t,channel:d,fieldOrDatumDef:g,scaleType:m,scalePadding:l,scalePaddingInner:b,domain:f.domain,domainMin:f.domainMin,domainMax:f.domainMax,markDef:a,config:i,hasNestedOffsetScale:BT(s,d),hasSecondaryRangeChannel:!!s[rl(d)]}):i.scale[e];S!==void 0&&u.set(e,S,!1)}}}const CD={bins:({model:t,fieldOrDatumDef:e})=>be(e)?RAe(t,e):void 0,interpolate:({channel:t,fieldOrDatumDef:e})=>DAe(t,e.type),nice:({scaleType:t,channel:e,domain:n,domainMin:i,domainMax:s,fieldOrDatumDef:a})=>PAe(t,e,n,i,s,a),padding:({channel:t,scaleType:e,fieldOrDatumDef:n,markDef:i,config:s})=>$Ae(t,e,s.scale,n,i,s.bar),paddingInner:({scalePadding:t,channel:e,markDef:n,scaleType:i,config:s,hasNestedOffsetScale:a})=>UAe(t,e,n.type,i,s.scale,a),paddingOuter:({scalePadding:t,channel:e,scaleType:n,scalePaddingInner:i,config:s,hasNestedOffsetScale:a})=>zAe(t,e,n,i,s.scale,a),reverse:({fieldOrDatumDef:t,scaleType:e,channel:n,config:i})=>{const s=be(t)?t.sort:void 0;return HAe(e,s,n,i.scale)},zero:({channel:t,fieldOrDatumDef:e,domain:n,markDef:i,scaleType:s,config:a,hasSecondaryRangeChannel:c})=>jAe(t,e,n,i,s,a.scale,c)};function Ree(t){Vn(t)?BAe(t):Dee(t,"range")}function Dee(t,e){const n=t.component.scales;for(const i of t.children)e==="range"?Ree(i):Cee(i,e);for(const i of me(n)){let s;for(const a of t.children){const c=a.component.scales[i];if(c){const d=c.getWithExplicit(e);s=xd(s,d,e,"scale",AQ((f,u)=>{switch(e){case"range":return f.step&&u.step?f.step-u.step:0}return 0}))}}n[i].setWithExplicit(e,s)}}function RAe(t,e){const n=e.bin;if(bn(n)){const i=iF(t,e.field,n);return new $s(()=>t.getSignalName(i))}else if(Si(n)&&th(n)&&n.step!==void 0)return{step:n.step}}function DAe(t,e){if(Mt([Xs,il,sl],t)&&e!=="nominal")return"hcl"}function PAe(t,e,n,i,s,a){var c;if(!((c=qo(a))!=null&&c.bin||ue(n)||s!=null||i!=null||Mt([Ps.TIME,Ps.UTC],t)))return Ti(e)?!0:void 0}function $Ae(t,e,n,i,s,a){if(Ti(t)){if(ma(e)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:c,orient:d}=s;if(c==="bar"&&!(be(i)&&(i.bin||i.timeUnit))&&(d==="vertical"&&t==="x"||d==="horizontal"&&t==="y"))return a.continuousBandSize}if(e===Ps.POINT)return n.pointPadding}}function UAe(t,e,n,i,s,a=!1){if(t===void 0){if(Ti(e)){const{bandPaddingInner:c,barBandPaddingInner:d,rectBandPaddingInner:f,bandWithNestedOffsetPaddingInner:u}=s;return a?u:Kn(c,n==="bar"?d:f)}else if(Y2(e)&&i===Ps.BAND)return s.offsetBandPaddingInner}}function zAe(t,e,n,i,s,a=!1){if(t===void 0){if(Ti(e)){const{bandPaddingOuter:c,bandWithNestedOffsetPaddingOuter:d}=s;if(a)return d;if(n===Ps.BAND)return Kn(c,Ce(i)?{signal:`${i.signal}/2`}:i/2)}else if(Y2(e)){if(n===Ps.POINT)return .5;if(n===Ps.BAND)return s.offsetBandPaddingOuter}}}function HAe(t,e,n,i){if(n==="x"&&i.xReverse!==void 0)return Er(t)&&e==="descending"?Ce(i.xReverse)?{signal:`!${i.xReverse.signal}`}:!i.xReverse:i.xReverse;if(Er(t)&&e==="descending")return!0}function jAe(t,e,n,i,s,a,c){if(!!n&&n!=="unaggregated"&&Er(s)){if(ue(n)){const f=n[0],u=n[n.length-1];if(f<=0&&u>=0)return!0}return!1}if(t==="size"&&e.type==="quantitative"&&!w2(s))return!0;if(!(be(e)&&e.bin)&&Mt([...al,...GSe],t)){const{orient:f,type:u}=i;return Mt(["bar","area","line","trail"],u)&&(f==="horizontal"&&t==="y"||f==="vertical"&&t==="x")?!1:Mt(["bar","area"],u)&&!c?!0:a==null?void 0:a.zero}return!1}function VAe(t,e,n,i,s=!1){const a=qAe(e,n,i,s),{type:c}=t;return gc(e)?c!==void 0?KBe(e,c)?be(n)&&!XBe(c,n.type)?(Le(Jxe(c,a)),a):c:(Le(Zxe(e,c,a)),a):a:null}function qAe(t,e,n,i){var s;switch(e.type){case"nominal":case"ordinal":{if(v1(t)||k9(t)==="discrete")return t==="shape"&&e.type==="ordinal"&&Le(F9(t,"ordinal")),"ordinal";if(Ti(t)||Y2(t)){if(Mt(["rect","bar","image","rule"],n.type)||i)return"band"}else if(n.type==="arc"&&t in rk)return"band";const a=n[Zs(t)];return Mu(a)||b2(e)&&((s=e.axis)!=null&&s.tickBand)?"band":"point"}case"temporal":return v1(t)?"time":k9(t)==="discrete"?(Le(F9(t,"temporal")),"ordinal"):be(e)&&e.timeUnit&&Ai(e.timeUnit).utc?"utc":"time";case"quantitative":return v1(t)?be(e)&&bn(e.bin)?"bin-ordinal":"linear":k9(t)==="discrete"?(Le(F9(t,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(cJ(e.type))}function GAe(t,{ignoreRange:e}={}){Pee(t),Iee(t);for(const n of YBe)Cee(t,n);e||Ree(t)}function Pee(t){Vn(t)?t.component.scales=WAe(t):t.component.scales=XAe(t)}function WAe(t){const{encoding:e,mark:n,markDef:i}=t,s={};for(const a of _5){const c=ii(e[a]);if(c&&n===AJ&&a===Ks&&c.type===X2)continue;let d=c&&c.scale;if(Y2(a)){const f=WZ(a);if(!BT(e,f)){d&&Le(Dxe(a));continue}}if(c&&d!==null&&d!==!1){d??(d={});const f=BT(e,a),u=VAe(d,a,c,i,f);s[a]=new Fee(t.scaleName(`${a}`,!0),{value:u,explicit:d.type===u})}}return s}const YAe=AQ((t,e)=>qR(t)-qR(e));function XAe(t){var e;const n=t.component.scales={},i={},s=t.component.resolve;for(const a of t.children){Pee(a);for(const c of me(a.component.scales))if((e=s.scale)[c]??(e[c]=_ee(c,t)),s.scale[c]==="shared"){const d=i[c],f=a.component.scales[c].getWithExplicit("type");d?PBe(d.value,f.value)?i[c]=xd(d,f,"type","scale",YAe):(s.scale[c]="independent",delete i[c]):i[c]=f}}for(const a of me(i)){const c=t.scaleName(a,!0),d=i[a];n[a]=new Fee(c,d);for(const f of t.children){const u=f.component.scales[a];u&&(f.renameScale(u.get("name"),c),u.merged=!0)}}return n}class P9{constructor(){this.nameMap={}}rename(e,n){this.nameMap[e]=n}has(e){return this.nameMap[e]!==void 0}get(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}function Vn(t){return(t==null?void 0:t.type)==="unit"}function xa(t){return(t==null?void 0:t.type)==="facet"}function lF(t){return(t==null?void 0:t.type)==="concat"}function e0(t){return(t==null?void 0:t.type)==="layer"}class cF{constructor(e,n,i,s,a,c,d){this.type=n,this.parent=i,this.config=a,this.correctDataNames=f=>{var u,o,g;return(u=f.from)!=null&&u.data&&(f.from.data=this.lookupDataSource(f.from.data)),(g=(o=f.from)==null?void 0:o.facet)!=null&&g.data&&(f.from.facet.data=this.lookupDataSource(f.from.facet.data)),f},this.parent=i,this.config=a,this.view=Fs(d),this.name=e.name??s,this.title=Pc(e.title)?{text:e.title}:e.title?Fs(e.title):void 0,this.scaleNameMap=i?i.scaleNameMap:new P9,this.projectionNameMap=i?i.projectionNameMap:new P9,this.signalNameMap=i?i.signalNameMap:new P9,this.data=e.data,this.description=e.description,this.transforms=nFe(e.transform??[]),this.layout=n==="layer"||n==="unit"?{}:fke(e,n,a),this.component={data:{sources:i?i.component.data.sources:[],outputNodes:i?i.component.data.outputNodes:{},outputNodeRefCounts:i?i.component.data.outputNodeRefCounts:{},isFaceted:E5(e)||(i==null?void 0:i.component.data.isFaceted)&&e.data===void 0},layoutSize:new mc,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...c?et(c):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){GAe(this)}parseProjection(){See(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Lee(this)}assembleEncodeFromView(e){const{style:n,...i}=e,s={};for(const a of me(i)){const c=i[a];c!==void 0&&(s[a]=Bn(c))}return s}assembleGroupEncodeEntry(e){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!e&&(this.description&&(n.description=Bn(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n??{}}:cn(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:e,...n}=this.layout,{component:i,config:s}=this,a=gMe(i.layoutHeaders,s);return{padding:e,...this.assembleDefaultLayout(),...n,...a?{titleBand:a}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:e}=this.component;let n=[];for(const i of $r)e[i].title&&n.push(dMe(this,i));for(const i of Qk)n=n.concat(fMe(this,i));return n}assembleAxes(){return ZFe(this.component.axes,this.config)}assembleLegends(){return Tee(this)}assembleProjections(){return $Me(this)}assembleTitle(){const{encoding:e,...n}=this.title??{},i={...eJ(this.config.title).nonMarkTitleProperties,...n,...e?{encode:{update:e}}:{}};if(i.text)return Mt(["unit","layer"],this.type)?Mt(["middle",void 0],i.anchor)&&(i.frame??(i.frame="group")):i.anchor??(i.anchor="start"),cn(i)?void 0:i}assembleGroup(e=[]){const n={};e=e.concat(this.assembleSignals()),e.length>0&&(n.signals=e);const i=this.assembleLayout();i&&(n.layout=i),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const s=!this.parent||xa(this.parent)?kee(this):[];s.length>0&&(n.scales=s);const a=this.assembleAxes();a.length>0&&(n.axes=a);const c=this.assembleLegends();return c.length>0&&(n.legends=c),n}getName(e){return kn((this.name?`${this.name}_`:"")+e)}getDataName(e){return this.getName(wn[e].toLowerCase())}requestDataName(e){const n=this.getDataName(e),i=this.component.data.outputNodeRefCounts;return i[n]=(i[n]||0)+1,n}getSizeSignalRef(e){if(xa(this.parent)){const n=hee(e),i=p5(n),s=this.component.scales[i];if(s&&!s.merged){const a=s.get("type"),c=s.get("range");if(vi(a)&&Jd(c)){const d=s.get("name"),f=P5(this,i),u=oF(f);if(u){const o=Se({aggregate:"distinct",field:u},{expr:"datum"});return{signal:uee(d,s,o)}}else return Le(lk(i)),null}}}return{signal:this.signalNameMap.get(this.getName(e))}}lookupDataSource(e){const n=this.component.data.outputNodes[e];return n?n.getSource():e}getSignalName(e){return this.signalNameMap.get(e)}renameSignal(e,n){this.signalNameMap.rename(e,n)}renameScale(e,n){this.scaleNameMap.rename(e,n)}renameProjection(e,n){this.projectionNameMap.rename(e,n)}scaleName(e,n){if(n)return this.getName(e);if(VZ(e)&&gc(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e)))return this.scaleNameMap.get(this.getName(e))}projectionName(e){if(e)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[e];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(e):void 0}getSelectionComponent(e,n){let i=this.component.selection[e];if(!i&&this.parent&&(i=this.parent.getSelectionComponent(e,n)),!i)throw new Error(_xe(n));return i}hasAxisOrientSignalRef(){var e,n;return((e=this.component.axes.x)==null?void 0:e.some(i=>i.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(i=>i.hasOrientSignalRef()))}}class $ee extends cF{vgField(e,n={}){const i=this.fieldDef(e);if(i)return Se(i,n)}reduceFieldDef(e,n){return UIe(this.getMapping(),(i,s,a)=>{const c=qo(s);return c?e(i,c,a):i},n)}forEachFieldDef(e,n){Ck(this.getMapping(),(i,s)=>{const a=qo(i);a&&e(a,s)},n)}}class $5 extends un{clone(){return new $5(null,et(this.transform))}constructor(e,n){super(e),this.transform=n,this.transform=et(n);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"value",i[1]??"density"],n.groupby&&n.minsteps==null&&n.maxsteps==null&&n.steps==null&&(this.transform.steps=200)}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Rt(this.transform)}`}assemble(){const{density:e,...n}=this.transform;return{type:"kde",field:e,...n}}}class B3 extends un{clone(){return new B3(null,{...this.filter})}constructor(e,n){super(e),this.filter=n}static make(e,n){const{config:i,mark:s,markDef:a}=n;if(sn("invalid",a,i)!=="filter")return null;const d=n.reduceFieldDef((f,u,o)=>{const g=gc(o)&&n.getScaleComponent(o);if(g){const y=g.get("type");Er(y)&&u.aggregate!=="count"&&!Qd(s)&&(f[u.field]=u)}return f},{});return me(d).length?new B3(e,d):null}dependentFields(){return new Set(me(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Rt(this.filter)}`}assemble(){const e=me(this.filter).reduce((n,i)=>{const s=this.filter[i],a=Se(s,{expr:"datum"});return s!==null&&(s.type==="temporal"?n.push(`(isDate(${a}) || (isValid(${a}) && isFinite(+${a})))`):s.type==="quantitative"&&(n.push(`isValid(${a})`),n.push(`isFinite(+${a})`))),n},[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}class U5 extends un{clone(){return new U5(this.parent,et(this.transform))}constructor(e,n){super(e),this.transform=n,this.transform=et(n);const{flatten:i,as:s=[]}=this.transform;this.transform.as=i.map((a,c)=>s[c]??a)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Rt(this.transform)}`}assemble(){const{flatten:e,as:n}=this.transform;return{type:"flatten",fields:e,as:n}}}class z5 extends un{clone(){return new z5(null,et(this.transform))}constructor(e,n){super(e),this.transform=n,this.transform=et(n);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"key",i[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Rt(this.transform)}`}assemble(){const{fold:e,as:n}=this.transform;return{type:"fold",fields:e,as:n}}}class x1 extends un{clone(){return new x1(null,et(this.fields),this.geojson,this.signal)}static parseAll(e,n){if(n.component.projection&&!n.component.projection.isFit)return e;let i=0;for(const s of[[Va,ja],[Jr,qa]]){const a=s.map(c=>{const d=ii(n.encoding[c]);return be(d)?d.field:ol(d)?{expr:`${d.datum}`}:Aa(d)?{expr:`${d.value}`}:void 0});(a[0]||a[1])&&(e=new x1(e,a,null,n.getName(`geojson_${i++}`)))}if(n.channelHasField(Ks)){const s=n.typedFieldDef(Ks);s.type===X2&&(e=new x1(e,null,s.field,n.getName(`geojson_${i++}`)))}return e}constructor(e,n,i,s){super(e),this.fields=n,this.geojson=i,this.signal=s}dependentFields(){const e=(this.fields??[]).filter(Ie);return new Set([...this.geojson?[this.geojson]:[],...e])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Rt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class I3 extends un{clone(){return new I3(null,this.projection,et(this.fields),et(this.as))}constructor(e,n,i,s){super(e),this.projection=n,this.fields=i,this.as=s}static parseAll(e,n){if(!n.projectionName())return e;for(const i of[[Va,ja],[Jr,qa]]){const s=i.map(c=>{const d=ii(n.encoding[c]);return be(d)?d.field:ol(d)?{expr:`${d.datum}`}:Aa(d)?{expr:`${d.value}`}:void 0}),a=i[0]===Jr?"2":"";(s[0]||s[1])&&(e=new I3(e,n.projectionName(),s,[n.getName(`x${a}`),n.getName(`y${a}`)]))}return e}dependentFields(){return new Set(this.fields.filter(Ie))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Rt(this.fields)} ${Rt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class au extends un{clone(){return new au(null,et(this.transform))}constructor(e,n){super(e),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:n=0,stop:i,step:s}=e;return{signal:`sequence(${[n,i,...s?[s]:[]].join(",")})`}}static makeFromTransform(e,n){return new au(e,n)}static makeFromEncoding(e,n){const i=n.encoding,s=i.x,a=i.y;if(be(s)&&be(a)){const c=s.impute?s:a.impute?a:void 0;if(c===void 0)return;const d=s.impute?a:a.impute?s:void 0,{method:f,value:u,frame:o,keyvals:g}=c.impute,y=sQ(n.mark,i);return new au(e,{impute:c.field,key:d.field,...f?{method:f}:{},...u!==void 0?{value:u}:{},...o?{frame:o}:{},...g!==void 0?{keyvals:g}:{},...y.length?{groupby:y}:{}})}return null}hash(){return`Impute ${Rt(this.transform)}`}assemble(){const{impute:e,key:n,keyvals:i,method:s,groupby:a,value:c,frame:d=[null,null]}=this.transform,f={type:"impute",field:e,key:n,...i?{keyvals:Pke(i)?this.processSequence(i):i}:{},method:"value",...a?{groupby:a}:{},value:!s||s==="value"?c:null};if(s&&s!=="value"){const u={type:"window",as:[`imputed_${e}_value`],ops:[s],fields:[e],frame:d,ignorePeers:!1,...a?{groupby:a}:{}},o={type:"formula",expr:`datum.${e} === null ? datum.imputed_${e}_value : datum.${e}`,as:e};return[f,u,o]}else return[f]}}class H5 extends un{clone(){return new H5(null,et(this.transform))}constructor(e,n){super(e),this.transform=n,this.transform=et(n);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??n.on,i[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Rt(this.transform)}`}assemble(){const{loess:e,on:n,...i}=this.transform;return{type:"loess",x:n,y:e,...i}}}class k3 extends un{clone(){return new k3(null,et(this.transform),this.secondary)}constructor(e,n,i){super(e),this.transform=n,this.secondary=i}static make(e,n,i,s){const a=n.component.data.sources,{from:c}=i;let d=null;if($ke(c)){let f=Hee(c.data,a);f||(f=new Cu(c.data),a.push(f));const u=n.getName(`lookup_${s}`);d=new hs(f,u,wn.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=d}else if(Uke(c)){const f=c.param;i={as:f,...i};let u;try{u=n.getSelectionComponent(kn(f),f)}catch{throw new Error(mxe(f))}if(d=u.materialized,!d)throw new Error(wxe(f))}return new k3(e,i,d.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?ke(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Rt({transform:this.transform,secondary:this.secondary})}`}assemble(){let e;if(this.transform.from.fields)e={values:this.transform.from.fields,...this.transform.as?{as:ke(this.transform.as)}:{}};else{let n=this.transform.as;Ie(n)||(Le(Bxe),n="_lookup"),e={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...e,...this.transform.default?{default:this.transform.default}:{}}}}class j5 extends un{clone(){return new j5(null,et(this.transform))}constructor(e,n){super(e),this.transform=n,this.transform=et(n);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"prob",i[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Rt(this.transform)}`}assemble(){const{quantile:e,...n}=this.transform;return{type:"quantile",field:e,...n}}}class V5 extends un{clone(){return new V5(null,et(this.transform))}constructor(e,n){super(e),this.transform=n,this.transform=et(n);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??n.on,i[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Rt(this.transform)}`}assemble(){const{regression:e,on:n,...i}=this.transform;return{type:"regression",x:n,y:e,...i}}}class q5 extends un{clone(){return new q5(null,et(this.transform))}constructor(e,n){super(e),this.transform=n}addDimensions(e){this.transform.groupby=vo((this.transform.groupby??[]).concat(e),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Rt(this.transform)}`}assemble(){const{pivot:e,value:n,groupby:i,limit:s,op:a}=this.transform;return{type:"pivot",field:e,value:n,...s!==void 0?{limit:s}:{},...a!==void 0?{op:a}:{},...i!==void 0?{groupby:i}:{}}}}class G5 extends un{clone(){return new G5(null,et(this.transform))}constructor(e,n){super(e),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Rt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Uee(t){let e=0;function n(i,s){if(i instanceof Cu&&!i.isGenerator&&!v2(i.data)&&(t.push(s),s={name:null,source:s.name,transform:[]}),i instanceof Hi&&(i.parent instanceof Cu&&!s.source?(s.format={...s.format??{},parse:i.assembleFormatParse()},s.transform.push(...i.assembleTransforms(!0))):s.transform.push(...i.assembleTransforms())),i instanceof J2){s.name||(s.name=`data_${e++}`),!s.source||s.transform.length>0?(t.push(s),i.data=s.name):i.data=s.source,t.push(...i.assemble());return}switch((i instanceof H_||i instanceof j_||i instanceof B3||i instanceof Z2||i instanceof E2||i instanceof I3||i instanceof Sa||i instanceof k3||i instanceof Q2||i instanceof rh||i instanceof z5||i instanceof U5||i instanceof $5||i instanceof H5||i instanceof j5||i instanceof V5||i instanceof kd||i instanceof G5||i instanceof q5)&&s.transform.push(i.assemble()),(i instanceof ko||i instanceof Io||i instanceof au||i instanceof Gl||i instanceof x1)&&s.transform.push(...i.assemble()),i instanceof hs&&(s.source&&s.transform.length===0?i.setSource(s.source):i.parent instanceof hs?i.setSource(s.name):(s.name||(s.name=`data_${e++}`),i.setSource(s.name),i.numChildren()===1&&(t.push(s),s={name:null,source:s.name,transform:[]}))),i.numChildren()){case 0:i instanceof hs&&(!s.source||s.transform.length>0)&&t.push(s);break;case 1:n(i.children[0],s);break;default:{s.name||(s.name=`data_${e++}`);let a=s.name;!s.source||s.transform.length>0?t.push(s):a=s.source;for(const c of i.children)n(c,{name:null,source:a,transform:[]});break}}}return n}function KAe(t){const e=[],n=Uee(e);for(const i of t.children)n(i,{source:t.name,name:null,transform:[]});return e}function ZAe(t,e){const n=[],i=Uee(n);let s=0;for(const c of t.sources){c.hasName()||(c.dataName=`source_${s++}`);const d=c.assemble();i(c,d)}for(const c of n)c.transform.length===0&&delete c.transform;let a=0;for(const[c,d]of n.entries())(d.transform??[]).length===0&&!d.source&&n.splice(a++,0,n.splice(c,1)[0]);for(const c of n)for(const d of c.transform??[])d.type==="lookup"&&(d.from=t.outputNodes[d.from].getSource());for(const c of n)c.name in e&&(c.values=e[c.name]);return n}function JAe(t){return t==="top"||t==="left"||Ce(t)?"header":"footer"}function QAe(t){for(const e of $r)eOe(t,e);RD(t,"x"),RD(t,"y")}function eOe(t,e){var c;const{facet:n,config:i,child:s,component:a}=t;if(t.channelHasField(e)){const d=n[e],f=x2("title",null,i,e);let u=E1(d,i,{allowDisabling:!0,includeDefault:f===void 0||!!f});s.component.layoutHeaders[e].title&&(u=ue(u)?u.join(", "):u,u+=` / ${s.component.layoutHeaders[e].title}`,s.component.layoutHeaders[e].title=null);const o=x2("labelOrient",d.header,i,e),g=d.header!==null?Kn((c=d.header)==null?void 0:c.labels,i.header.labels,!0):!1,y=Mt(["bottom","right"],o)?"footer":"header";a.layoutHeaders[e]={title:d.header!==null?u:null,facetFieldDef:d,[y]:e==="facet"?[]:[zee(t,e,g)]}}}function zee(t,e,n){const i=e==="row"?"height":"width";return{labels:n,sizeSignal:t.child.component.layoutSize.get(i)?t.child.getSizeSignalRef(i):void 0,axes:[]}}function RD(t,e){const{child:n}=t;if(n.component.axes[e]){const{layoutHeaders:i,resolve:s}=t.component;if(s.axis[e]=nF(s,e),s.axis[e]==="shared"){const a=e==="x"?"column":"row",c=i[a];for(const d of n.component.axes[e]){const f=JAe(d.get("orient"));c[f]??(c[f]=[zee(t,a,!1)]);const u=dp(d,"main",t.config,{header:!0});u&&c[f][0].axes.push(u),d.mainExtracted=!0}}}}function tOe(t){dF(t),m6(t,"width"),m6(t,"height")}function nOe(t){dF(t);const e=t.layout.columns===1?"width":"childWidth",n=t.layout.columns===void 0?"height":"childHeight";m6(t,e),m6(t,n)}function dF(t){for(const e of t.children)e.parseLayoutSize()}function m6(t,e){const n=hee(e),i=p5(n),s=t.component.resolve,a=t.component.layoutSize;let c;for(const d of t.children){const f=d.component.layoutSize.getWithExplicit(n),u=s.scale[i]??_ee(i,t);if(u==="independent"&&f.value==="step"){c=void 0;break}if(c){if(u==="independent"&&c.value!==f.value){c=void 0;break}c=xd(c,f,n,"")}else c=f}if(c){for(const d of t.children)t.renameSignal(d.getName(n),t.getName(e)),d.component.layoutSize.set(n,"merged",!1);a.setWithExplicit(e,c)}else a.setWithExplicit(e,{explicit:!1,value:void 0})}function iOe(t){const{size:e,component:n}=t;for(const i of al){const s=Zs(i);if(e[s]){const a=e[s];n.layoutSize.set(s,Go(a)?"step":a,!0)}else{const a=sOe(t,s);n.layoutSize.set(s,a,!1)}}}function sOe(t,e){const n=e==="width"?"x":"y",i=t.config,s=t.getScaleComponent(n);if(s){const a=s.get("type"),c=s.get("range");if(vi(a)){const d=p6(i.view,e);return Jd(c)||Go(d)?"step":d}else return kT(i.view,e)}else{if(t.hasProjection||t.mark==="arc")return kT(i.view,e);{const a=p6(i.view,e);return Go(a)?a.step:a}}}function jT(t,e,n){return Se(e,{suffix:`by_${Se(t)}`,...n??{}})}class kp extends $ee{constructor(e,n,i,s){super(e,"facet",n,i,s,e.resolve),this.child=_F(e.spec,this,this.getName("child"),void 0,s),this.children=[this.child],this.facet=this.initFacet(e.facet)}initFacet(e){if(!D_(e))return{facet:this.initFacetFieldDef(e,"facet")};const n=me(e),i={};for(const s of n){if(![Hl,jl].includes(s)){Le(y5(s,"facet"));break}const a=e[s];if(a.field===void 0){Le(vT(a,s));break}i[s]=this.initFacetFieldDef(a,s)}return i}initFacetFieldDef(e,n){const i=Ok(e,n);return i.header?i.header=Fs(i.header):i.header===null&&(i.header=null),i}channelHasField(e){return!!this.facet[e]}fieldDef(e){return this.facet[e]}parseData(){this.component.data=W5(this),this.child.parseData()}parseLayoutSize(){dF(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),QAe(this)}assembleSelectionTopLevelSignals(e){return this.child.assembleSelectionTopLevelSignals(e)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(e){return this.child.assembleSelectionData(e)}getHeaderLayoutMixins(){const e={};for(const n of $r)for(const i of eF){const s=this.component.layoutHeaders[n],a=s[i],{facetFieldDef:c}=s;if(c){const d=x2("titleOrient",c.header,this.config,n);if(["right","bottom"].includes(d)){const f=R5(n,d);e.titleAnchor??(e.titleAnchor={}),e.titleAnchor[f]="end"}}if(a!=null&&a[0]){const d=n==="row"?"height":"width",f=i==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(d)&&(e[f]??(e[f]={}),e[f][n]=.5),s.title&&(e.offset??(e.offset={}),e.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return e}assembleDefaultLayout(){const{column:e,row:n}=this.facet,i=e?this.columnDistinctSignal():n?1:void 0;let s="all";return(!n&&this.component.resolve.scale.x==="independent"||!e&&this.component.resolve.scale.y==="independent")&&(s="none"),{...this.getHeaderLayoutMixins(),...i?{columns:i}:{},bounds:"full",align:s}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof kp))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(e){return this.parent&&this.parent instanceof kp?{...this.channelHasField("column")?{encode:{update:{columns:{field:Se(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(e)}:super.assembleGroup(e)}getCardinalityAggregateForChild(){const e=[],n=[],i=[];if(this.child instanceof kp){if(this.child.channelHasField("column")){const s=Se(this.child.facet.column);e.push(s),n.push("distinct"),i.push(`distinct_${s}`)}}else for(const s of al){const a=this.child.component.scales[s];if(a&&!a.merged){const c=a.get("type"),d=a.get("range");if(vi(c)&&Jd(d)){const f=P5(this.child,s),u=oF(f);u?(e.push(u),n.push("distinct"),i.push(`distinct_${u}`)):Le(lk(s))}}}return{fields:e,ops:n,as:i}}assembleFacet(){const{name:e,data:n}=this.component.data.facetRoot,{row:i,column:s}=this.facet,{fields:a,ops:c,as:d}=this.getCardinalityAggregateForChild(),f=[];for(const o of $r){const g=this.facet[o];if(g){f.push(Se(g));const{bin:y,sort:m}=g;if(bn(y)&&f.push(Se(g,{binSuffix:"end"})),Bo(m)){const{field:l,op:b=v5}=m,L=jT(g,m);i&&s?(a.push(L),c.push("max"),d.push(L)):(a.push(l),c.push(b),d.push(L))}else if(ue(m)){const l=S2(g,o);a.push(l),c.push("max"),d.push(l)}}}const u=!!i&&!!s;return{name:e,data:n,groupby:f,...u||a.length>0?{aggregate:{...u?{cross:u}:{},...a.length?{fields:a,ops:c,as:d}:{}}}:{}}}facetSortFields(e){const{facet:n}=this,i=n[e];return i?Bo(i.sort)?[jT(i,i.sort,{expr:"datum"})]:ue(i.sort)?[S2(i,e,{expr:"datum"})]:[Se(i,{expr:"datum"})]:[]}facetSortOrder(e){const{facet:n}=this,i=n[e];if(i){const{sort:s}=i;return[(Bo(s)?s.order:!ue(s)&&s)||"ascending"]}return[]}assembleLabelTitle(){var s;const{facet:e,config:n}=this;if(e.facet)return DT(e.facet,"facet",n);const i={row:["top","bottom"],column:["left","right"]};for(const a of Qk)if(e[a]){const c=x2("labelOrient",(s=e[a])==null?void 0:s.header,n,a);if(i[a].includes(c))return DT(e[a],a,n)}}assembleMarks(){const{child:e}=this,n=this.component.data.facetRoot,i=KAe(n),s=e.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||e.assembleTitle(),c=e.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...a?{title:a}:{},...c?{style:c}:{},from:{facet:this.assembleFacet()},sort:{field:$r.map(f=>this.facetSortFields(f)).flat(),order:$r.map(f=>this.facetSortOrder(f)).flat()},...i.length>0?{data:i}:{},...s?{encode:{update:s}}:{},...e.assembleGroup(_Fe(this,[]))}]}getMapping(){return this.facet}}function rOe(t,e){const{row:n,column:i}=e;if(n&&i){let s=null;for(const a of[n,i])if(Bo(a.sort)){const{field:c,op:d=v5}=a.sort;t=s=new rh(t,{joinaggregate:[{op:d,field:c,as:jT(a,a.sort,{forAs:!0})}],groupby:[Se(a)]})}return s}return null}function Hee(t,e){var n,i,s,a;for(const c of e){const d=c.data;if(t.name&&c.hasName()&&t.name!==c.dataName)continue;const f=(n=t.format)==null?void 0:n.mesh,u=(i=d.format)==null?void 0:i.feature;if(f&&u)continue;const o=(s=t.format)==null?void 0:s.feature;if((o||u)&&o!==u)continue;const g=(a=d.format)==null?void 0:a.mesh;if(!((f||g)&&f!==g)){if(S3(t)&&S3(d)){if(To(t.values,d.values))return c}else if(v2(t)&&v2(d)){if(t.url===d.url)return c}else if(OQ(t)&&t.name===c.dataName)return c}}return null}function aOe(t,e){if(t.data||!t.parent){if(t.data===null){const i=new Cu({values:[]});return e.push(i),i}const n=Hee(t.data,e);if(n)return td(t.data)||(n.data.format=AZ({},t.data.format,n.data.format)),!n.hasName()&&t.data.name&&(n.dataName=t.data.name),n;{const i=new Cu(t.data);return e.push(i),i}}else return t.parent.component.data.facetRoot?t.parent.component.data.facetRoot:t.parent.component.data.main}function oOe(t,e,n){let i=0;for(const s of e.transforms){let a,c;if(Kke(s))c=t=new E2(t,s),a="derived";else if(Gk(s)){const d=JMe(s);c=t=Hi.makeWithAncestors(t,{},d,n)??t,t=new Z2(t,e,s.filter)}else if(IQ(s))c=t=ko.makeFromTransform(t,s,e),a="number";else if(Jke(s))a="date",n.getWithExplicit(s.field).value===void 0&&(t=new Hi(t,{[s.field]:a}),n.set(s.field,a,!1)),c=t=Io.makeFromTransform(t,s);else if(Qke(s))c=t=Sa.makeFromTransform(t,s),a="number",Jk(e)&&(t=new kd(t));else if(BQ(s))c=t=k3.make(t,e,s,i++),a="derived";else if(Wke(s))c=t=new Q2(t,s),a="number";else if(Yke(s))c=t=new rh(t,s),a="number";else if(eFe(s))c=t=Gl.makeFromTransform(t,s),a="derived";else if(tFe(s))c=t=new z5(t,s),a="derived";else if(Xke(s))c=t=new U5(t,s),a="derived";else if(zke(s))c=t=new q5(t,s),a="derived";else if(Gke(s))t=new G5(t,s);else if(Zke(s))c=t=au.makeFromTransform(t,s),a="derived";else if(Hke(s))c=t=new $5(t,s),a="derived";else if(jke(s))c=t=new j5(t,s),a="derived";else if(Vke(s))c=t=new V5(t,s),a="derived";else if(qke(s))c=t=new H5(t,s),a="derived";else{Le(xxe(s));continue}if(c&&a!==void 0)for(const d of c.producedFields()??[])n.set(d,a,!1)}return t}function W5(t){var b;let e=aOe(t,t.component.data.sources);const{outputNodes:n,outputNodeRefCounts:i}=t.component.data,s=t.data,c=!(s&&(td(s)||v2(s)||S3(s)))&&t.parent?t.parent.component.data.ancestorParse.clone():new hFe;td(s)?(NQ(s)?e=new j_(e,s.sequence):Wk(s)&&(e=new H_(e,s.graticule)),c.parseNothing=!0):((b=s==null?void 0:s.format)==null?void 0:b.parse)===null&&(c.parseNothing=!0),e=Hi.makeExplicit(e,t,c)??e,e=new kd(e);const d=t.parent&&e0(t.parent);(Vn(t)||xa(t))&&d&&(e=ko.makeFromEncoding(e,t)??e),t.transforms.length>0&&(e=oOe(e,t,c));const f=eAe(t),u=QMe(t);e=Hi.makeWithAncestors(e,{},{...f,...u},c)??e,Vn(t)&&(e=x1.parseAll(e,t),e=I3.parseAll(e,t)),(Vn(t)||xa(t))&&(d||(e=ko.makeFromEncoding(e,t)??e),e=Io.makeFromEncoding(e,t)??e,e=E2.parseAllForSortIndex(e,t));const o=t.getDataName(wn.Raw),g=new hs(e,o,wn.Raw,i);if(n[o]=g,e=g,Vn(t)){const L=Sa.makeFromEncoding(e,t);L&&(e=L,Jk(t)&&(e=new kd(e))),e=au.makeFromEncoding(e,t)??e,e=Gl.makeFromEncoding(e,t)??e}Vn(t)&&(e=B3.make(e,t)??e);const y=t.getDataName(wn.Main),m=new hs(e,y,wn.Main,i);n[y]=m,e=m,Vn(t)&&XFe(t,m);let l=null;if(xa(t)){const L=t.getName("facet");e=rOe(e,t.facet)??e,l=new J2(e,t,L,m.getSource()),n[L]=l}return{...t.component.data,outputNodes:n,outputNodeRefCounts:i,raw:g,main:m,facetRoot:l,ancestorParse:c}}class lOe extends cF{constructor(e,n,i,s){var a,c,d,f;super(e,"concat",n,i,s,e.resolve),(((c=(a=e.resolve)==null?void 0:a.axis)==null?void 0:c.x)==="shared"||((f=(d=e.resolve)==null?void 0:d.axis)==null?void 0:f.y)==="shared")&&Le(vxe),this.children=this.getChildren(e).map((u,o)=>_F(u,this,this.getName(`concat_${o}`),void 0,s))}parseData(){this.component.data=W5(this);for(const e of this.children)e.parseData()}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const n of me(e.component.selection))this.component.selection[n]=e.component.selection[n]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){for(const e of this.children)e.parseAxesAndHeaders()}getChildren(e){return M5(e)?e.vconcat:Vk(e)?e.hconcat:e.concat}parseLayoutSize(){nOe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(e){return this.children.reduce((n,i)=>i.assembleSelectionTopLevelSignals(n),e)}assembleSignals(){return this.children.forEach(e=>e.assembleSignals()),[]}assembleLayoutSignals(){const e=tF(this);for(const n of this.children)e.push(...n.assembleLayoutSignals());return e}assembleSelectionData(e){return this.children.reduce((n,i)=>i.assembleSelectionData(n),e)}assembleMarks(){return this.children.map(e=>{const n=e.assembleTitle(),i=e.assembleGroupStyle(),s=e.assembleGroupEncodeEntry(!1);return{type:"group",name:e.getName("group"),...n?{title:n}:{},...i?{style:i}:{},...s?{encode:{update:s}}:{},...e.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const e=this.layout.columns;return{...e!=null?{columns:e}:{},bounds:"full",align:"each"}}}function cOe(t){return t===!1||t===null}const dOe={disable:1,gridScale:1,scale:1,...eQ,labelExpr:1,encode:1},jee=me(dOe);class fF extends mc{constructor(e={},n={},i=!1){super(),this.explicit=e,this.implicit=n,this.mainExtracted=i}clone(){return new fF(et(this.explicit),et(this.implicit),this.mainExtracted)}hasAxisPart(e){return e==="axis"?!0:e==="grid"||e==="title"?!!this.get(e):!cOe(this.get(e))}hasOrientSignalRef(){return Ce(this.explicit.orient)}}function fOe(t,e,n){const{encoding:i,config:s}=t,a=ii(i[e])??ii(i[rl(e)]),c=t.axis(e)||{},{format:d,formatType:f}=c;if(Au(f))return{text:wa({fieldOrDatumDef:a,field:"datum.value",format:d,formatType:f,config:s}),...n};if(d===void 0&&f===void 0&&s.customFormatTypes){if(L2(a)==="quantitative"){if(b2(a)&&a.stack==="normalize"&&s.normalizedNumberFormatType)return{text:wa({fieldOrDatumDef:a,field:"datum.value",format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,config:s}),...n};if(s.numberFormatType)return{text:wa({fieldOrDatumDef:a,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}),...n}}if(L2(a)==="temporal"&&s.timeFormatType&&be(a)&&!a.timeUnit)return{text:wa({fieldOrDatumDef:a,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s}),...n}}return n}function uOe(t){return al.reduce((e,n)=>(t.component.scales[n]&&(e[n]=[wOe(n,t)]),e),{})}const hOe={bottom:"top",top:"bottom",left:"right",right:"left"};function pOe(t){const{axes:e,resolve:n}=t.component,i={top:0,bottom:0,right:0,left:0};for(const s of t.children){s.parseAxesAndHeaders();for(const a of me(s.component.axes))n.axis[a]=nF(t.component.resolve,a),n.axis[a]==="shared"&&(e[a]=_Oe(e[a],s.component.axes[a]),e[a]||(n.axis[a]="independent",delete e[a]))}for(const s of al){for(const a of t.children)if(a.component.axes[s]){if(n.axis[s]==="independent"){e[s]=(e[s]??[]).concat(a.component.axes[s]);for(const c of a.component.axes[s]){const{value:d,explicit:f}=c.getWithExplicit("orient");if(!Ce(d)){if(i[d]>0&&!f){const u=hOe[d];i[d]>i[u]&&c.set("orient",u,!1)}i[d]++}}}delete a.component.axes[s]}if(n.axis[s]==="independent"&&e[s]&&e[s].length>1)for(const a of e[s])a.get("grid")&&!a.explicit.grid&&(a.implicit.grid=!1)}}function _Oe(t,e){if(t){if(t.length!==e.length)return;const n=t.length;for(let i=0;i<n;i++){const s=t[i],a=e[i];if(!!s!=!!a)return;if(s&&a){const c=s.getWithExplicit("orient"),d=a.getWithExplicit("orient");if(c.explicit&&d.explicit&&c.value!==d.value)return;t[i]=gOe(s,a)}}}else return e.map(n=>n.clone());return t}function gOe(t,e){for(const n of jee){const i=xd(t.getWithExplicit(n),e.getWithExplicit(n),n,"axis",(s,a)=>{switch(n){case"title":return oJ(s,a);case"gridScale":return{explicit:s.explicit,value:Kn(s.value,a.value)}}return O5(s,a,n,"axis")});t.setWithExplicit(n,i)}return t}function yOe(t,e,n,i,s){if(e==="disable")return n!==void 0;switch(n=n||{},e){case"titleAngle":case"labelAngle":return t===(Ce(n.labelAngle)?n.labelAngle:E3(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(t===lee(i,s))return!0}return t===n[e]}const mOe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function wOe(t,e){var E,S;let n=e.axis(t);const i=new fF,s=ii(e.encoding[t]),{mark:a,config:c}=e,d=(n==null?void 0:n.orient)||((E=c[t==="x"?"axisX":"axisY"])==null?void 0:E.orient)||((S=c.axis)==null?void 0:S.orient)||rMe(t),f=e.getScaleComponent(t).get("type"),u=JFe(t,f,d,e.config),o=n!==void 0?!n:CT("disable",c.style,n==null?void 0:n.style,u).configValue;if(i.set("disable",o,n!==void 0),o)return i;n=n||{};const g=nMe(s,n,t,c.style,u),y=$J(n.formatType,s,f),m=PJ(s,s.type,n.format,n.formatType,c,!0),l={fieldOrDatumDef:s,axis:n,channel:t,model:e,scaleType:f,orient:d,labelAngle:g,format:m,formatType:y,mark:a,config:c};for(const x of jee){const k=x in bD?bD[x](l):JR(x)?n[x]:void 0,B=k!==void 0,A=yOe(k,x,n,e,t);if(B&&A)i.set(x,k,A);else{const{configValue:M=void 0,configFrom:C=void 0}=JR(x)&&x!=="values"?CT(x,c.style,n.style,u):{},R=M!==void 0;B&&!R?i.set(x,k,A):(C!=="vgAxisConfig"||mOe.has(x)&&R||U_(M)||Ce(M))&&i.set(x,M,!1)}}const b=n.encoding??{},L=QJ.reduce((x,k)=>{if(!i.hasAxisPart(k))return x;const B=pee(b[k]??{},e),A=k==="labels"?fOe(e,t,B):B;return A!==void 0&&!cn(A)&&(x[k]={update:A}),x},{});return cn(L)||i.set("encode",L,!!n.encoding||n.labelAngle!==void 0),i}function LOe({encoding:t,size:e}){for(const n of al){const i=Zs(n);Go(e[i])&&Xc(t[n])&&(delete e[i],Le(uJ(i)))}return e}function bOe(t,e,n){const i=Fs(t),s=sn("orient",i,n);if(i.orient=SOe(i.type,e,s),s!==void 0&&s!==i.orient&&Le(Vxe(i.orient,s)),i.type==="bar"&&i.orient){const d=sn("cornerRadiusEnd",i,n);if(d!==void 0){const f=i.orient==="horizontal"&&e.x2||i.orient==="vertical"&&e.y2?["cornerRadius"]:lIe[i.orient];for(const u of f)i[u]=d;i.cornerRadiusEnd!==void 0&&delete i.cornerRadiusEnd}}return sn("opacity",i,n)===void 0&&(i.opacity=vOe(i.type,e)),sn("cursor",i,n)===void 0&&(i.cursor=TOe(i,e,n)),i}function TOe(t,e,n){return e.href||t.href||sn("href",t,n)?"pointer":t.cursor}function vOe(t,e){if(Mt([T5,Tk,vk,Ek],t)&&!Nk(e))return .7}function EOe(t,e,{graticule:n}){if(n)return!1;const i=Iu("filled",t,e),s=t.type;return Kn(i,s!==T5&&s!==b5&&s!==a6)}function SOe(t,e,n){switch(t){case T5:case vk:case Ek:case MJ:case JBe:case ZBe:return}const{x:i,y:s,x2:a,y2:c}=e;switch(t){case L5:if(be(i)&&(Si(i.bin)||be(s)&&s.aggregate&&!i.aggregate))return"vertical";if(be(s)&&(Si(s.bin)||be(i)&&i.aggregate&&!s.aggregate))return"horizontal";if(c||a){if(n)return n;if(!a)return(be(i)&&i.type===Fu&&!bn(i.bin)||l6(i))&&be(s)&&Si(s.bin)?"horizontal":"vertical";if(!c)return(be(s)&&s.type===Fu&&!bn(s.bin)||l6(s))&&be(i)&&Si(i.bin)?"vertical":"horizontal"}case a6:if(a&&!(be(i)&&Si(i.bin))&&c&&!(be(s)&&Si(s.bin)))return;case w5:if(c)return be(s)&&Si(s.bin)?"horizontal":"vertical";if(a)return be(i)&&Si(i.bin)?"vertical":"horizontal";if(t===a6){if(i&&!s)return"vertical";if(s&&!i)return"horizontal"}case b5:case Tk:{const d=KR(i),f=KR(s);if(n)return n;if(d&&!f)return t!=="tick"?"horizontal":"vertical";if(!d&&f)return t!=="tick"?"vertical":"horizontal";if(d&&f)return"vertical";{const u=gs(i)&&i.type===m2,o=gs(s)&&s.type===m2;if(u&&!o)return"vertical";if(!u&&o)return"horizontal"}return}}return"vertical"}const xOe={vgMark:"arc",encodeEntry:t=>({...ta(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...zi("x",t,{defaultPos:"mid"}),...zi("y",t,{defaultPos:"mid"}),...Bd(t,"radius"),...Bd(t,"theta")})},BOe={vgMark:"area",encodeEntry:t=>({...ta(t,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),..._6("x",t,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:t.markDef.orient==="horizontal"}),..._6("y",t,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:t.markDef.orient==="vertical"}),...Zk(t)})},IOe={vgMark:"rect",encodeEntry:t=>({...ta(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Bd(t,"x"),...Bd(t,"y")})},kOe={vgMark:"shape",encodeEntry:t=>({...ta(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:t=>{const{encoding:e}=t,n=e.shape;return[{type:"geoshape",projection:t.projectionName(),...n&&be(n)&&n.type===X2?{field:Se(n,{expr:"datum"})}:{}}]}},FOe={vgMark:"image",encodeEntry:t=>({...ta(t,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Bd(t,"x"),...Bd(t,"y"),...Xk(t,"url")})},MOe={vgMark:"line",encodeEntry:t=>({...ta(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...zi("x",t,{defaultPos:"mid"}),...zi("y",t,{defaultPos:"mid"}),...ui("size",t,{vgChannel:"strokeWidth"}),...Zk(t)})},AOe={vgMark:"trail",encodeEntry:t=>({...ta(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...zi("x",t,{defaultPos:"mid"}),...zi("y",t,{defaultPos:"mid"}),...ui("size",t),...Zk(t)})};function uF(t,e){const{config:n}=t;return{...ta(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...zi("x",t,{defaultPos:"mid"}),...zi("y",t,{defaultPos:"mid"}),...ui("size",t),...ui("angle",t),...OOe(t,n,e)}}function OOe(t,e,n){return n?{shape:{value:n}}:ui("shape",t)}const NOe={vgMark:"symbol",encodeEntry:t=>uF(t)},COe={vgMark:"symbol",encodeEntry:t=>uF(t,"circle")},ROe={vgMark:"symbol",encodeEntry:t=>uF(t,"square")},DOe={vgMark:"rect",encodeEntry:t=>({...ta(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Bd(t,"x"),...Bd(t,"y")})},POe={vgMark:"rule",encodeEntry:t=>{const{markDef:e}=t,n=e.orient;return!t.encoding.x&&!t.encoding.y&&!t.encoding.latitude&&!t.encoding.longitude?{}:{...ta(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),..._6("x",t,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),..._6("y",t,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...ui("size",t,{vgChannel:"strokeWidth"})}}},$Oe={vgMark:"text",encodeEntry:t=>{const{config:e,encoding:n}=t;return{...ta(t,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...zi("x",t,{defaultPos:"mid"}),...zi("y",t,{defaultPos:"mid"}),...Xk(t),...ui("size",t,{vgChannel:"fontSize"}),...ui("angle",t),...yD("align",UOe(t.markDef,n,e)),...yD("baseline",zOe(t.markDef,n,e)),...zi("radius",t,{defaultPos:null}),...zi("theta",t,{defaultPos:null})}}};function UOe(t,e,n){if(sn("align",t,n)===void 0)return"center"}function zOe(t,e,n){if(sn("baseline",t,n)===void 0)return"middle"}const HOe={vgMark:"rect",encodeEntry:t=>{const{config:e,markDef:n}=t,i=n.orient,s=i==="horizontal"?"width":"height",a=i==="horizontal"?"height":"width";return{...ta(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...zi("x",t,{defaultPos:"mid",vgChannel:"xc"}),...zi("y",t,{defaultPos:"mid",vgChannel:"yc"}),...ui("size",t,{defaultValue:jOe(t),vgChannel:s}),[a]:Bn(sn("thickness",n,e))}}};function jOe(t){const{config:e,markDef:n}=t,{orient:i}=n,s=i==="horizontal"?"width":"height",a=t.getScaleComponent(i==="horizontal"?"x":"y"),c=sn("size",n,e,{vgChannel:s})??e.tick.bandSize;if(c!==void 0)return c;{const d=a?a.get("range"):void 0;return d&&Jd(d)&&dn(d.step)?d.step*3/4:h6(e.view,s)*3/4}}const Gy={arc:xOe,area:BOe,bar:IOe,circle:COe,geoshape:kOe,image:FOe,line:MOe,point:NOe,rect:DOe,rule:POe,square:ROe,text:$Oe,tick:HOe,trail:AOe};function VOe(t){if(Mt([b5,w5,QBe],t.mark)){const e=sQ(t.mark,t.encoding);if(e.length>0)return qOe(t,e)}else if(t.mark===L5){const e=TT.some(n=>sn(n,t.markDef,t.config));if(t.stack&&!t.fieldDef("size")&&e)return GOe(t)}return hF(t)}const DD="faceted_path_";function qOe(t,e){return[{name:t.getName("pathgroup"),type:"group",from:{facet:{name:DD+t.requestDataName(wn.Main),data:t.requestDataName(wn.Main),groupby:e}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:hF(t,{fromPrefix:DD})}]}const PD="stack_group_";function GOe(t){var u;const[e]=hF(t,{fromPrefix:PD}),n=t.scaleName(t.stack.fieldChannel),i=(o={})=>t.vgField(t.stack.fieldChannel,o),s=(o,g)=>{const y=[i({prefix:"min",suffix:"start",expr:g}),i({prefix:"max",suffix:"start",expr:g}),i({prefix:"min",suffix:"end",expr:g}),i({prefix:"max",suffix:"end",expr:g})];return`${o}(${y.map(m=>`scale('${n}',${m})`).join(",")})`};let a,c;t.stack.fieldChannel==="x"?(a={..._2(e.encode.update,["y","yc","y2","height",...TT]),x:{signal:s("min","datum")},x2:{signal:s("max","datum")},clip:{value:!0}},c={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},e.encode.update={...Ds(e.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(a={..._2(e.encode.update,["x","xc","x2","width"]),y:{signal:s("min","datum")},y2:{signal:s("max","datum")},clip:{value:!0}},c={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},e.encode.update={...Ds(e.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const o of TT){const g=Iu(o,t.markDef,t.config);e.encode.update[o]?(a[o]=e.encode.update[o],delete e.encode.update[o]):g&&(a[o]=Bn(g)),g&&(e.encode.update[o]={value:0})}const d=[];if(((u=t.stack.groupbyChannels)==null?void 0:u.length)>0)for(const o of t.stack.groupbyChannels){const g=t.fieldDef(o),y=Se(g);y&&d.push(y),(g!=null&&g.bin||g!=null&&g.timeUnit)&&d.push(Se(g,{binSuffix:"end"}))}return a=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((o,g)=>{if(e.encode.update[g])return{...o,[g]:e.encode.update[g]};{const y=Iu(g,t.markDef,t.config);return y!==void 0?{...o,[g]:Bn(y)}:o}},a),a.stroke&&(a.strokeForeground={value:!0},a.strokeOffset={value:0}),[{type:"group",from:{facet:{data:t.requestDataName(wn.Main),name:PD+t.requestDataName(wn.Main),groupby:d,aggregate:{fields:[i({suffix:"start"}),i({suffix:"start"}),i({suffix:"end"}),i({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:a},marks:[{type:"group",encode:{update:c},marks:[e]}]}]}function WOe(t){var d;const{encoding:e,stack:n,mark:i,markDef:s,config:a}=t,c=e.order;if(!(!ue(c)&&Aa(c)&&LT(c.value)||!c&&LT(sn("order",s,a)))){if((ue(c)||be(c))&&!n)return sJ(c,{expr:"datum"});if(Qd(i)){const f=s.orient==="horizontal"?"y":"x",u=e[f];if(be(u)){const o=u.sort;if(ue(o))return{field:Se(u,{prefix:f,suffix:"sort_index",expr:"datum"})};if(Bo(o))return{field:Se({aggregate:Nk(t.encoding)?o.op:void 0,field:o.field},{expr:"datum"})};if(zJ(o)){const g=t.fieldDef(o.encoding);return{field:Se(g,{expr:"datum"}),order:o.order}}else return o===null?void 0:{field:Se(u,{binSuffix:(d=t.stack)!=null&&d.impute?"mid":void 0,expr:"datum"})}}return}}}function hF(t,e={fromPrefix:""}){const{mark:n,markDef:i,encoding:s,config:a}=t,c=Kn(i.clip,YOe(t),XOe(t)),d=nJ(i),f=s.key,u=WOe(t),o=KOe(t),g=sn("aria",i,a),y=Gy[n].postEncodingTransform?Gy[n].postEncodingTransform(t):null;return[{name:t.getName("marks"),type:Gy[n].vgMark,...c?{clip:!0}:{},...d?{style:d}:{},...f?{key:f.field}:{},...u?{sort:u}:{},...o||{},...g===!1?{aria:g}:{},from:{data:e.fromPrefix+t.requestDataName(wn.Main)},encode:{update:Gy[n].encodeEntry(t)},...y?{transform:y}:{}}]}function YOe(t){const e=t.getScaleComponent("x"),n=t.getScaleComponent("y");return e!=null&&e.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function XOe(t){const e=t.component.projection;return e&&!e.isFit?!0:void 0}function KOe(t){if(!t.component.selection)return null;const e=me(t.component.selection).length;let n=e,i=t.parent;for(;i&&n===0;)n=me(i.component.selection).length,i=i.parent;return n?{interactive:e>0||t.mark==="geoshape"||!!t.encoding.tooltip}:null}class Vee extends $ee{constructor(e,n,i,s={},a){super(e,"unit",n,i,a,void 0,eD(e)?e.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const c=Vo(e.mark)?{...e.mark}:{type:e.mark},d=c.type;c.filled===void 0&&(c.filled=EOe(c,a,{graticule:e.data&&Wk(e.data)}));const f=this.encoding=PIe(e.encoding||{},d,c.filled,a);this.markDef=bOe(c,f,a),this.size=LOe({encoding:f,size:eD(e)?{...s,...e.width?{width:e.width}:{},...e.height?{height:e.height}:{}}:s}),this.stack=EQ(this.markDef,f),this.specifiedScales=this.initScales(d,f),this.specifiedAxes=this.initAxes(f),this.specifiedLegends=this.initLegends(f),this.specifiedProjection=e.projection,this.selection=(e.params??[]).filter(u=>Hk(u))}get hasProjection(){const{encoding:e}=this,n=this.mark===AJ,i=e&&PSe.some(s=>Qe(e[s]));return n||i}scaleDomain(e){const n=this.specifiedScales[e];return n?n.domain:void 0}axis(e){return this.specifiedAxes[e]}legend(e){return this.specifiedLegends[e]}initScales(e,n){return _5.reduce((i,s)=>{const a=ii(n[s]);return a&&(i[s]=this.initScale(a.scale??{})),i},{})}initScale(e){const{domain:n,range:i}=e,s=Fs(e);return ue(n)&&(s.domain=n.map(ur)),ue(i)&&(s.range=i.map(ur)),s}initAxes(e){return al.reduce((n,i)=>{const s=e[i];if(Qe(s)||i===Fn&&Qe(e.x2)||i===bi&&Qe(e.y2)){const a=Qe(s)?s.axis:void 0;n[i]=a&&this.initAxis({...a})}return n},{})}initAxis(e){const n=me(e),i={};for(const s of n){const a=e[s];i[s]=U_(a)?tJ(a):ur(a)}return i}initLegends(e){return WSe.reduce((n,i)=>{const s=ii(e[i]);if(s&&XSe(i)){const a=s.legend;n[i]=a&&Fs(a)}return n},{})}parseData(){this.component.data=W5(this)}parseLayoutSize(){iOe(this)}parseSelections(){this.component.selection=YFe(this,this.selection)}parseMarkGroup(){this.component.mark=VOe(this)}parseAxesAndHeaders(){this.component.axes=uOe(this)}assembleSelectionTopLevelSignals(e){return gFe(this,e)}assembleSignals(){return[...ree(this),...pFe(this,[])]}assembleSelectionData(e){return yFe(this,e)}assembleLayout(){return null}assembleLayoutSignals(){return tF(this)}assembleMarks(){let e=this.component.mark??[];return(!this.parent||!e0(this.parent))&&(e=DQ(this,e)),e.map(this.correctDataNames)}assembleGroupStyle(){const{style:e}=this.view||{};return e!==void 0?e:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(e){return su(this.encoding,e)}fieldDef(e){const n=this.encoding[e];return qo(n)}typedFieldDef(e){const n=this.fieldDef(e);return gs(n)?n:null}}class pF extends cF{constructor(e,n,i,s,a){super(e,"layer",n,i,a,e.resolve,e.view);const c={...s,...e.width?{width:e.width}:{},...e.height?{height:e.height}:{}};this.children=e.layer.map((d,f)=>{if(A5(d))return new pF(d,this,this.getName(`layer_${f}`),c,a);if(yc(d))return new Vee(d,this,this.getName(`layer_${f}`),c,a);throw new Error(ok(d))})}parseData(){this.component.data=W5(this);for(const e of this.children)e.parseData()}parseLayoutSize(){tOe(this)}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const n of me(e.component.selection))this.component.selection[n]=e.component.selection[n]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){pOe(this)}assembleSelectionTopLevelSignals(e){return this.children.reduce((n,i)=>i.assembleSelectionTopLevelSignals(n),e)}assembleSignals(){return this.children.reduce((e,n)=>e.concat(n.assembleSignals()),ree(this))}assembleLayoutSignals(){return this.children.reduce((e,n)=>e.concat(n.assembleLayoutSignals()),tF(this))}assembleSelectionData(e){return this.children.reduce((n,i)=>i.assembleSelectionData(n),e)}assembleGroupStyle(){const e=new Set;for(const i of this.children)for(const s of ke(i.assembleGroupStyle()))e.add(s);const n=Array.from(e);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let e=super.assembleTitle();if(e)return e;for(const n of this.children)if(e=n.assembleTitle(),e)return e}assembleLayout(){return null}assembleMarks(){return mFe(this,this.children.flatMap(e=>e.assembleMarks()))}assembleLegends(){return this.children.reduce((e,n)=>e.concat(n.assembleLegends()),Tee(this))}}function _F(t,e,n,i,s){if(E5(t))return new kp(t,e,n,s);if(A5(t))return new pF(t,e,n,i,s);if(yc(t))return new Vee(t,e,n,i,s);if(lke(t))return new lOe(t,e,n,s);throw new Error(ok(t))}function ZOe(t,e={}){e.logger&&_Be(e.logger),e.fieldTitle&&KJ(e.fieldTitle);try{const n=vQ(D2(e.config,t.config)),i=MQ(t,n),s=_F(i,null,"",void 0,n);return s.parse(),gAe(s.component.data,s),{spec:QOe(s,JOe(t,i.autosize,n,s),t.datasets,t.usermeta),normalized:i}}finally{e.logger&&gBe(),e.fieldTitle&&kIe()}}function JOe(t,e,n,i){const s=i.component.layoutSize.get("width"),a=i.component.layoutSize.get("height");if(e===void 0?(e={type:"pad"},i.hasAxisOrientSignalRef()&&(e.resize=!0)):Ie(e)&&(e={type:e}),s&&a&&dFe(e.type)){if(s==="step"&&a==="step")Le(PR()),e.type="pad";else if(s==="step"||a==="step"){const c=s==="step"?"width":"height";Le(PR(p5(c)));const d=c==="width"?"height":"width";e.type=fFe(d)}}return{...me(e).length===1&&e.type?e.type==="pad"?{}:{autosize:e.type}:{autosize:e},...uD(n,!1),...uD(t,!0)}}function QOe(t,e,n={},i){const s=t.config?Tke(t.config):void 0,a=[].concat(t.assembleSelectionData([]),ZAe(t.component.data,n)),c=t.assembleProjections(),d=t.assembleTitle(),f=t.assembleGroupStyle(),u=t.assembleGroupEncodeEntry(!0);let o=t.assembleLayoutSignals();o=o.filter(m=>(m.name==="width"||m.name==="height")&&m.value!==void 0?(e[m.name]=+m.value,!1):!0);const{params:g,...y}=e;return{$schema:"https://vega.github.io/schema/vega/v5.json",...t.description?{description:t.description}:{},...y,...d?{title:d}:{},...f?{style:f}:{},...u?{encode:{update:u}}:{},data:a,...c.length>0?{projections:c}:{},...t.assembleGroup([...o,...t.assembleSelectionTopLevelSignals([]),...wQ(g)]),...s?{config:s}:{},...i?{usermeta:i}:{}}}const eNe=ISe.version,tNe=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:g2,accessPathWithDatum:ZI,compile:ZOe,contains:Mt,deepEqual:To,deleteNestedProperty:i6,duplicate:et,entries:Ed,every:YI,fieldIntersection:KI,flatAccessWithDatum:NZ,getFirstDefined:Kn,hasIntersection:XI,hash:Rt,internalField:DZ,isBoolean:v3,isEmpty:cn,isEqual:NSe,isInternalField:PZ,isNullOrFalse:LT,isNumeric:l5,keys:me,logicalExpr:Bp,mergeDeep:AZ,never:MZ,normalize:MQ,normalizeAngle:E3,omit:Ds,pick:_2,prefixGenerator:bT,removePathFromField:JI,replaceAll:xu,replacePathInField:Zr,resetIdCounter:RSe,setEqual:OZ,some:Su,stringify:Ln,titleCase:F_,unique:vo,uniqueId:RZ,vals:Fi,varName:kn,version:eNe},Symbol.toStringTag,{value:"Module"}));function qee(t){const[e,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(t).slice(1,3);return{library:e,version:n}}var nNe="vega-themes",iNe="2.13.0",sNe="Themes for stylized Vega and Vega-Lite visualizations.",rNe=["vega","vega-lite","themes","style"],aNe="BSD-3-Clause",oNe={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},lNe=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],cNe="build/vega-themes.js",gF="build/vega-themes.module.js",dNe="build/vega-themes.min.js",fNe="build/vega-themes.min.js",uNe="build/vega-themes.module.d.ts",hNe={type:"git",url:"https://github.com/vega/vega-themes.git"},pNe=["src","build"],_Ne={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},gNe={"@babel/core":"^7.21.4","@babel/plugin-transform-runtime":"^7.21.4","@babel/preset-env":"^7.21.4","@babel/preset-typescript":"^7.21.4","@release-it/conventional-changelog":"^5.1.1","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-terser":"^0.4.1","@typescript-eslint/eslint-plugin":"^5.59.0","@typescript-eslint/parser":"^5.59.0","browser-sync":"^2.29.1",concurrently:"^8.0.1",eslint:"^8.38.0","eslint-config-prettier":"^8.8.0","eslint-plugin-prettier":"^4.2.1","gh-pages":"^5.0.0",prettier:"^2.8.7","release-it":"^15.10.1",rollup:"^3.20.6","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.2.0",typescript:"^5.0.4",vega:"^5.24.0","vega-lite":"^5.7.1"},yNe={vega:"*","vega-lite":"*"},mNe={},wNe={name:nNe,version:iNe,description:sNe,keywords:rNe,license:aNe,author:oNe,contributors:lNe,main:cNe,module:gF,unpkg:dNe,jsdelivr:fNe,types:uNe,repository:hNe,files:pNe,scripts:_Ne,devDependencies:gNe,peerDependencies:yNe,dependencies:mNe};const Lh="#fff",$D="#888",LNe={background:"#333",view:{stroke:$D},title:{color:Lh,subtitleColor:Lh},style:{"guide-label":{fill:Lh},"guide-title":{fill:Lh}},axis:{domainColor:Lh,gridColor:$D,tickColor:Lh}},of="#4572a7",bNe={background:"#fff",arc:{fill:of},area:{fill:of},line:{stroke:of,strokeWidth:2},path:{stroke:of},rect:{fill:of},shape:{stroke:of},symbol:{fill:of,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},lf="#30a2da",$9="#cbcbcb",TNe="#999",vNe="#333",UD="#f0f0f0",zD="#333",ENe={arc:{fill:lf},area:{fill:lf},axis:{domainColor:$9,grid:!0,gridColor:$9,gridWidth:1,labelColor:TNe,labelFontSize:10,titleColor:vNe,tickColor:$9,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:UD,group:{fill:UD},legend:{labelColor:zD,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:zD,titleFontSize:14,titlePadding:10},line:{stroke:lf,strokeWidth:2},path:{stroke:lf,strokeWidth:.5},rect:{fill:lf},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:lf},bar:{binSpacing:2,fill:lf,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},cf="#000",SNe={group:{fill:"#e5e5e5"},arc:{fill:cf},area:{fill:cf},line:{stroke:cf},path:{stroke:cf},rect:{fill:cf},shape:{stroke:cf},symbol:{fill:cf,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},xNe=22,BNe="normal",HD="Benton Gothic, sans-serif",jD=11.5,INe="normal",df="#82c6df",U9="Benton Gothic Bold, sans-serif",VD="normal",qD=13,x0={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},kNe={background:"#ffffff",title:{anchor:"start",color:"#000000",font:U9,fontSize:xNe,fontWeight:BNe},arc:{fill:df},area:{fill:df},line:{stroke:df,strokeWidth:2},path:{stroke:df},rect:{fill:df},shape:{stroke:df},symbol:{fill:df,size:30},axis:{labelFont:HD,labelFontSize:jD,labelFontWeight:INe,titleFont:U9,titleFontSize:qD,titleFontWeight:VD},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:HD,labelFontSize:jD,symbolType:"square",titleFont:U9,titleFontSize:qD,titleFontWeight:VD},range:{category:x0["category-6"],diverging:x0["fireandice-6"],heatmap:x0["fire-7"],ordinal:x0["fire-7"],ramp:x0["fire-7"]}},ff="#ab5787",Wy="#979797",FNe={background:"#f9f9f9",arc:{fill:ff},area:{fill:ff},line:{stroke:ff},path:{stroke:ff},rect:{fill:ff},shape:{stroke:ff},symbol:{fill:ff,size:30},axis:{domainColor:Wy,domainWidth:.5,gridWidth:.2,labelColor:Wy,tickColor:Wy,tickWidth:.2,titleColor:Wy},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},uf="#3e5c69",MNe={background:"#fff",arc:{fill:uf},area:{fill:uf},line:{stroke:uf},path:{stroke:uf},rect:{fill:uf},shape:{stroke:uf},symbol:{fill:uf},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Ir="#1696d2",GD="#000000",ANe="#FFFFFF",Yy="Lato",z9="Lato",ONe="Lato",NNe="#DEDDDD",CNe=18,B0={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},RNe={background:ANe,title:{anchor:"start",fontSize:CNe,font:Yy},axisX:{domain:!0,domainColor:GD,domainWidth:1,grid:!1,labelFontSize:12,labelFont:z9,labelAngle:0,tickColor:GD,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:Yy},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:NNe,gridWidth:1,labelFontSize:12,labelFont:z9,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:Yy,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:z9,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:Yy,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:B0["six-groups-cat-1"],diverging:B0["diverging-colors"],heatmap:B0["diverging-colors"],ordinal:B0["six-groups-seq"],ramp:B0["shades-blue"]},area:{fill:Ir},rect:{fill:Ir},line:{color:Ir,stroke:Ir,strokeWidth:5},trail:{color:Ir,stroke:Ir,strokeWidth:0,size:1},path:{stroke:Ir,strokeWidth:.5},point:{filled:!0},text:{font:ONe,color:Ir,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Ir,stroke:null}},arc:{fill:Ir},shape:{stroke:Ir},symbol:{fill:Ir,size:30}},hf="#3366CC",WD="#ccc",Xy="Arial, sans-serif",DNe={arc:{fill:hf},area:{fill:hf},path:{stroke:hf},rect:{fill:hf},shape:{stroke:hf},symbol:{stroke:hf},circle:{fill:hf},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Xy,fontSize:12},"guide-title":{font:Xy,fontSize:12},"group-title":{font:Xy,fontSize:12}},title:{font:Xy,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:WD,tickColor:WD,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},yF=t=>t*(1/3+1),YD=yF(9),XD=yF(10),KD=yF(12),I0="Segoe UI",ZD="wf_standard-font, helvetica, arial, sans-serif",JD="#252423",k0="#605E5C",QD="transparent",PNe="#C8C6C4",sa="#118DFF",$Ne="#12239E",UNe="#E66C37",zNe="#6B007B",HNe="#E044A7",jNe="#744EC2",VNe="#D9B300",qNe="#D64550",Gee=sa,Wee="#DEEFFF",eP=[Wee,Gee],GNe=[Wee,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Gee],WNe={view:{stroke:QD},background:QD,font:I0,header:{titleFont:ZD,titleFontSize:KD,titleColor:JD,labelFont:I0,labelFontSize:XD,labelColor:k0},axis:{ticks:!1,grid:!1,domain:!1,labelColor:k0,labelFontSize:YD,titleFont:ZD,titleColor:JD,titleFontSize:KD,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:PNe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:sa},line:{stroke:sa,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:I0,fontSize:YD,fill:k0},arc:{fill:sa},area:{fill:sa,line:!0,opacity:.6},path:{stroke:sa},rect:{fill:sa},point:{fill:sa,filled:!0,size:75},shape:{stroke:sa},symbol:{fill:sa,strokeWidth:1.5,size:50},legend:{titleFont:I0,titleFontWeight:"bold",titleColor:k0,labelFont:I0,labelFontSize:XD,labelColor:k0,symbolType:"circle",symbolSize:75},range:{category:[sa,$Ne,UNe,zNe,HNe,jNe,VNe,qNe],diverging:eP,heatmap:eP,ordinal:GNe}},YNe=wNe.version,XNe=Object.freeze(Object.defineProperty({__proto__:null,dark:LNe,excel:bNe,fivethirtyeight:ENe,ggplot2:SNe,googlecharts:DNe,latimes:kNe,powerbi:WNe,quartz:FNe,urbaninstitute:RNe,version:YNe,vox:MNe},Symbol.toStringTag,{value:"Module"}));function F3(t){return F3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F3(t)}function KNe(t,e){if(F3(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(F3(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZNe(t){var e=KNe(t,"string");return F3(e)==="symbol"?e:String(e)}function JNe(t,e,n){return e=ZNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QNe(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,a;for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function eCe(t,e){if(t==null)return{};var n=QNe(t,e),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}const tCe=["title","image"];function nCe(t,e,n){if(ue(t))return`[${t.map(i=>e(Ie(i)?i:tP(i,n))).join(", ")}]`;if(Me(t)){let i="";const s=t,{title:a,image:c}=s,d=eCe(s,tCe);a&&(i+=`<h2>${e(a)}</h2>`),c&&(i+=`<img src="${e(c)}">`);const f=Object.keys(d);if(f.length>0){i+="<table>";for(const u of f){let o=d[u];o!==void 0&&(Me(o)&&(o=tP(o,n)),i+=`<tr><td class="key">${e(u)}:</td><td class="value">${e(o)}</td></tr>`)}i+="</table>"}return i||"{}"}return e(t)}function iCe(t){const e=[];return function(n,i){if(typeof i!="object"||i===null)return i;const s=e.indexOf(this)+1;return e.length=s,e.length>t?"[Object]":e.indexOf(i)>=0?"[Circular]":(e.push(i),i)}}function tP(t,e){return JSON.stringify(t,iCe(e))}var sCe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const Yee="vg-tooltip-element",rCe={offsetX:10,offsetY:10,id:Yee,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:aCe,maxDepth:2,formatTooltip:nCe};function aCe(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function oCe(t){if(!/^[A-Za-z]+[-:.\w]*$/.test(t))throw new Error("Invalid HTML ID");return sCe.toString().replace(Yee,t)}function lCe(t,e,n,i){let s=t.clientX+n;s+e.width>window.innerWidth&&(s=+t.clientX-n-e.width);let a=t.clientY+i;return a+e.height>window.innerHeight&&(a=+t.clientY-i-e.height),{x:s,y:a}}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(i){JNe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}class cCe{constructor(e){this.options=iP(iP({},rCe),e);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const i=document.createElement("style");i.setAttribute("id",this.options.styleId),i.innerHTML=oCe(n);const s=document.head;s.childNodes.length>0?s.insertBefore(i,s.childNodes[0]):s.appendChild(i)}}tooltipHandler(e,n,i,s){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),s==null||s===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(s,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:a,y:c}=lCe(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${c}px`,this.el.style.left=`${a}px`}}function M3(t){return M3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M3(t)}function dCe(t,e){if(M3(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(M3(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fCe(t){var e=dCe(t,"string");return M3(e)==="symbol"?e:String(e)}function uCe(t,e,n){return e=fCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hCe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H9,sP;function pCe(){return sP||(sP=1,H9=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),H9}var _Ce=Vt;Vt.Node=Ru;Vt.create=Vt;function Vt(t){var e=this;if(e instanceof Vt||(e=new Vt),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)e.push(arguments[n]);return e}Vt.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Vt.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Vt.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Vt.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)yCe(this,arguments[t]);return this.length};Vt.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)mCe(this,arguments[t]);return this.length};Vt.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Vt.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Vt.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,i=0;n!==null;i++)t.call(e,n.value,i,this),n=n.next};Vt.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,i=this.length-1;n!==null;i--)t.call(e,n.value,i,this),n=n.prev};Vt.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};Vt.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};Vt.prototype.map=function(t,e){e=e||this;for(var n=new Vt,i=this.head;i!==null;)n.push(t.call(e,i.value,this)),i=i.next;return n};Vt.prototype.mapReverse=function(t,e){e=e||this;for(var n=new Vt,i=this.tail;i!==null;)n.push(t.call(e,i.value,this)),i=i.prev;return n};Vt.prototype.reduce=function(t,e){var n,i=this.head;if(arguments.length>1)n=e;else if(this.head)i=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;i!==null;s++)n=t(n,i.value,s),i=i.next;return n};Vt.prototype.reduceReverse=function(t,e){var n,i=this.tail;if(arguments.length>1)n=e;else if(this.tail)i=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;i!==null;s--)n=t(n,i.value,s),i=i.prev;return n};Vt.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};Vt.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};Vt.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new Vt;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,s=this.head;s!==null&&i<t;i++)s=s.next;for(;s!==null&&i<e;i++,s=s.next)n.push(s.value);return n};Vt.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new Vt;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,s=this.tail;s!==null&&i>e;i--)s=s.prev;for(;s!==null&&i>t;i--,s=s.prev)n.push(s.value);return n};Vt.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var i=0,s=this.head;s!==null&&i<t;i++)s=s.next;for(var a=[],i=0;s&&i<e;i++)a.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var i=0;i<n.length;i++)s=gCe(this,s,n[i]);return a};Vt.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=e,this.tail=t,this};function gCe(t,e,n){var i=e===t.head?new Ru(n,null,e,t):new Ru(n,e,e.next,t);return i.next===null&&(t.tail=i),i.prev===null&&(t.head=i),t.length++,i}function yCe(t,e){t.tail=new Ru(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function mCe(t,e){t.head=new Ru(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Ru(t,e,n,i){if(!(this instanceof Ru))return new Ru(t,e,n,i);this.list=i,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{pCe()(Vt)}catch{}const wCe=_Ce,Df=Symbol("max"),Bl=Symbol("length"),bh=Symbol("lengthCalculator"),Fp=Symbol("allowStale"),Xf=Symbol("maxAge"),El=Symbol("dispose"),rP=Symbol("noDisposeOnSet"),di=Symbol("lruList"),ra=Symbol("cache"),Xee=Symbol("updateAgeOnGet"),j9=()=>1;class LCe{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[Df]=e.max||1/0;const n=e.length||j9;if(this[bh]=typeof n!="function"?j9:n,this[Fp]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Xf]=e.maxAge||0,this[El]=e.dispose,this[rP]=e.noDisposeOnSet||!1,this[Xee]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Df]=e||1/0,F0(this)}get max(){return this[Df]}set allowStale(e){this[Fp]=!!e}get allowStale(){return this[Fp]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Xf]=e,F0(this)}get maxAge(){return this[Xf]}set lengthCalculator(e){typeof e!="function"&&(e=j9),e!==this[bh]&&(this[bh]=e,this[Bl]=0,this[di].forEach(n=>{n.length=this[bh](n.value,n.key),this[Bl]+=n.length})),F0(this)}get lengthCalculator(){return this[bh]}get length(){return this[Bl]}get itemCount(){return this[di].length}rforEach(e,n){n=n||this;for(let i=this[di].tail;i!==null;){const s=i.prev;aP(this,e,i,n),i=s}}forEach(e,n){n=n||this;for(let i=this[di].head;i!==null;){const s=i.next;aP(this,e,i,n),i=s}}keys(){return this[di].toArray().map(e=>e.key)}values(){return this[di].toArray().map(e=>e.value)}reset(){this[El]&&this[di]&&this[di].length&&this[di].forEach(e=>this[El](e.key,e.value)),this[ra]=new Map,this[di]=new wCe,this[Bl]=0}dump(){return this[di].map(e=>w6(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[di]}set(e,n,i){if(i=i||this[Xf],i&&typeof i!="number")throw new TypeError("maxAge must be a number");const s=i?Date.now():0,a=this[bh](n,e);if(this[ra].has(e)){if(a>this[Df])return B1(this,this[ra].get(e)),!1;const f=this[ra].get(e).value;return this[El]&&(this[rP]||this[El](e,f.value)),f.now=s,f.maxAge=i,f.value=n,this[Bl]+=a-f.length,f.length=a,this.get(e),F0(this),!0}const c=new bCe(e,n,a,s,i);return c.length>this[Df]?(this[El]&&this[El](e,n),!1):(this[Bl]+=c.length,this[di].unshift(c),this[ra].set(e,this[di].head),F0(this),!0)}has(e){if(!this[ra].has(e))return!1;const n=this[ra].get(e).value;return!w6(this,n)}get(e){return V9(this,e,!0)}peek(e){return V9(this,e,!1)}pop(){const e=this[di].tail;return e?(B1(this,e),e.value):null}del(e){B1(this,this[ra].get(e))}load(e){this.reset();const n=Date.now();for(let i=e.length-1;i>=0;i--){const s=e[i],a=s.e||0;if(a===0)this.set(s.k,s.v);else{const c=a-n;c>0&&this.set(s.k,s.v,c)}}}prune(){this[ra].forEach((e,n)=>V9(this,n,!1))}}const V9=(t,e,n)=>{const i=t[ra].get(e);if(i){const s=i.value;if(w6(t,s)){if(B1(t,i),!t[Fp])return}else n&&(t[Xee]&&(i.value.now=Date.now()),t[di].unshiftNode(i));return s.value}},w6=(t,e)=>{if(!e||!e.maxAge&&!t[Xf])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[Xf]&&n>t[Xf]},F0=t=>{if(t[Bl]>t[Df])for(let e=t[di].tail;t[Bl]>t[Df]&&e!==null;){const n=e.prev;B1(t,e),e=n}},B1=(t,e)=>{if(e){const n=e.value;t[El]&&t[El](n.key,n.value),t[Bl]-=n.length,t[ra].delete(n.key),t[di].removeNode(e)}};class bCe{constructor(e,n,i,s,a){this.key=e,this.value=n,this.length=i,this.now=s,this.maxAge=a||0}}const aP=(t,e,n,i)=>{let s=n.value;w6(t,s)&&(B1(t,n),t[Fp]||(s=void 0)),s&&e.call(i,s.value,s.key,t)};var TCe=LCe;const vCe=Object.freeze({loose:!0}),ECe=Object.freeze({}),SCe=t=>t?typeof t!="object"?vCe:t:ECe;var mF=SCe,VT={exports:{}};const xCe="2.0.0",BCe=256,ICe=Number.MAX_SAFE_INTEGER||9007199254740991,kCe=16,FCe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var wF={MAX_LENGTH:BCe,MAX_SAFE_COMPONENT_LENGTH:kCe,MAX_SAFE_INTEGER:ICe,RELEASE_TYPES:FCe,SEMVER_SPEC_VERSION:xCe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const MCe=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Y5=MCe;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=wF,i=Y5;e=t.exports={};const s=e.re=[],a=e.src=[],c=e.t={};let d=0;const f=(u,o,g)=>{const y=d++;i(u,y,o),c[u]=y,a[y]=o,s[y]=new RegExp(o,g?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","[0-9]+"),f("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),f("MAINVERSION",`(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${a[c.NUMERICIDENTIFIER]}|${a[c.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${a[c.NUMERICIDENTIFIERLOOSE]}|${a[c.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${a[c.PRERELEASEIDENTIFIER]}(?:\\.${a[c.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${a[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[c.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER","[0-9A-Za-z-]+"),f("BUILD",`(?:\\+(${a[c.BUILDIDENTIFIER]}(?:\\.${a[c.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${a[c.MAINVERSION]}${a[c.PRERELEASE]}?${a[c.BUILD]}?`),f("FULL",`^${a[c.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${a[c.MAINVERSIONLOOSE]}${a[c.PRERELEASELOOSE]}?${a[c.BUILD]}?`),f("LOOSE",`^${a[c.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${a[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${a[c.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:${a[c.PRERELEASE]})?${a[c.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:${a[c.PRERELEASELOOSE]})?${a[c.BUILD]}?)?)?`),f("XRANGE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAINLOOSE]}$`),f("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),f("COERCERTL",a[c.COERCE],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${a[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",f("TILDE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${a[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",f("CARET",`^${a[c.LONECARET]}${a[c.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${a[c.LONECARET]}${a[c.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${a[c.GTLT]}\\s*(${a[c.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]}|${a[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${a[c.XRANGEPLAIN]})\\s+-\\s+(${a[c.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${a[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[c.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(VT,VT.exports);var LF=VT.exports;const oP=/^[0-9]+$/,Kee=(t,e)=>{const n=oP.test(t),i=oP.test(e);return n&&i&&(t=+t,e=+e),t===e?0:n&&!i?-1:i&&!n?1:t<e?-1:1},ACe=(t,e)=>Kee(e,t);var OCe={compareIdentifiers:Kee,rcompareIdentifiers:ACe};const Ky=Y5,{MAX_LENGTH:lP,MAX_SAFE_INTEGER:Zy}=wF,{re:cP,t:dP}=LF,NCe=mF,{compareIdentifiers:Th}=OCe;let CCe=class Qa{constructor(e,n){if(n=NCe(n),e instanceof Qa){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>lP)throw new TypeError(`version is longer than ${lP} characters`);Ky("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const i=e.trim().match(n.loose?cP[dP.LOOSE]:cP[dP.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>Zy||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Zy||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Zy||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<Zy)return a}return s}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ky("SemVer.compare",this.version,this.options,e),!(e instanceof Qa)){if(typeof e=="string"&&e===this.version)return 0;e=new Qa(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Qa||(e=new Qa(e,this.options)),Th(this.major,e.major)||Th(this.minor,e.minor)||Th(this.patch,e.patch)}comparePre(e){if(e instanceof Qa||(e=new Qa(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const i=this.prerelease[n],s=e.prerelease[n];if(Ky("prerelease compare",n,i,s),i===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(i===void 0)return-1;if(i===s)continue;return Th(i,s)}while(++n)}compareBuild(e){e instanceof Qa||(e=new Qa(e,this.options));let n=0;do{const i=this.build[n],s=e.build[n];if(Ky("prerelease compare",n,i,s),i===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(i===void 0)return-1;if(i===s)continue;return Th(i,s)}while(++n)}inc(e,n,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,i),this.inc("pre",n,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,i),this.inc("pre",n,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}if(n){const s=Number(i)?1:0;Th(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,s]):this.prerelease=[n,s]}break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var bF=CCe;const fP=bF,RCe=(t,e,n)=>new fP(t,n).compare(new fP(e,n));var t0=RCe;const DCe=t0,PCe=(t,e,n)=>DCe(t,e,n)===0;var $Ce=PCe;const UCe=t0,zCe=(t,e,n)=>UCe(t,e,n)!==0;var HCe=zCe;const jCe=t0,VCe=(t,e,n)=>jCe(t,e,n)>0;var qCe=VCe;const GCe=t0,WCe=(t,e,n)=>GCe(t,e,n)>=0;var YCe=WCe;const XCe=t0,KCe=(t,e,n)=>XCe(t,e,n)<0;var ZCe=KCe;const JCe=t0,QCe=(t,e,n)=>JCe(t,e,n)<=0;var eRe=QCe;const tRe=$Ce,nRe=HCe,iRe=qCe,sRe=YCe,rRe=ZCe,aRe=eRe,oRe=(t,e,n,i)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return tRe(t,n,i);case"!=":return nRe(t,n,i);case">":return iRe(t,n,i);case">=":return sRe(t,n,i);case"<":return rRe(t,n,i);case"<=":return aRe(t,n,i);default:throw new TypeError(`Invalid operator: ${e}`)}};var lRe=oRe,q9,uP;function cRe(){if(uP)return q9;uP=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(o,g){if(g=n(g),o instanceof e){if(o.loose===!!g.loose)return o;o=o.value}c("comparator",o,g),this.options=g,this.loose=!!g.loose,this.parse(o),this.semver===t?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(o){const g=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],y=o.match(g);if(!y)throw new TypeError(`Invalid comparator: ${o}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new d(y[2],this.options.loose):this.semver=t}toString(){return this.value}test(o){if(c("Comparator.test",o,this.options.loose),this.semver===t||o===t)return!0;if(typeof o=="string")try{o=new d(o,this.options)}catch{return!1}return a(o,this.operator,this.semver,this.options)}intersects(o,g){if(!(o instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(o.value,g).test(this.value):o.operator===""?o.value===""?!0:new f(this.value,g).test(o.semver):(g=n(g),g.includePrerelease&&(this.value==="<0.0.0-0"||o.value==="<0.0.0-0")||!g.includePrerelease&&(this.value.startsWith("<0.0.0")||o.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&o.operator.startsWith(">")||this.operator.startsWith("<")&&o.operator.startsWith("<")||this.semver.version===o.semver.version&&this.operator.includes("=")&&o.operator.includes("=")||a(this.semver,"<",o.semver,g)&&this.operator.startsWith(">")&&o.operator.startsWith("<")||a(this.semver,">",o.semver,g)&&this.operator.startsWith("<")&&o.operator.startsWith(">")))}}q9=e;const n=mF,{re:i,t:s}=LF,a=lRe,c=Y5,d=bF,f=Zee();return q9}var G9,hP;function Zee(){if(hP)return G9;hP=1;class t{constructor(H,q){if(q=i(q),H instanceof t)return H.loose===!!q.loose&&H.includePrerelease===!!q.includePrerelease?H:new t(H.raw,q);if(H instanceof s)return this.raw=H.value,this.set=[[H]],this.format(),this;if(this.options=q,this.loose=!!q.loose,this.includePrerelease=!!q.includePrerelease,this.raw=H,this.set=H.split("||").map(W=>this.parseRange(W.trim())).filter(W=>W.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${H}`);if(this.set.length>1){const W=this.set[0];if(this.set=this.set.filter(X=>!l(X[0])),this.set.length===0)this.set=[W];else if(this.set.length>1){for(const X of this.set)if(X.length===1&&b(X[0])){this.set=[X];break}}}this.format()}format(){return this.range=this.set.map(H=>H.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(H){H=H.trim();const W=((this.options.includePrerelease&&y)|(this.options.loose&&m))+":"+H,X=n.get(W);if(X)return X;const G=this.options.loose,le=G?d[f.HYPHENRANGELOOSE]:d[f.HYPHENRANGE];H=H.replace(le,$(this.options.includePrerelease)),a("hyphen replace",H),H=H.replace(d[f.COMPARATORTRIM],u),a("comparator trim",H),H=H.replace(d[f.TILDETRIM],o),H=H.replace(d[f.CARETTRIM],g),H=H.split(/\s+/).join(" ");let pe=H.split(" ").map(Fe=>E(Fe,this.options)).join(" ").split(/\s+/).map(Fe=>D(Fe,this.options));G&&(pe=pe.filter(Fe=>(a("loose invalid filter",Fe,this.options),!!Fe.match(d[f.COMPARATORLOOSE])))),a("range list",pe);const ie=new Map,Ae=pe.map(Fe=>new s(Fe,this.options));for(const Fe of Ae){if(l(Fe))return[Fe];ie.set(Fe.value,Fe)}ie.size>1&&ie.has("")&&ie.delete("");const fe=[...ie.values()];return n.set(W,fe),fe}intersects(H,q){if(!(H instanceof t))throw new TypeError("a Range is required");return this.set.some(W=>L(W,q)&&H.set.some(X=>L(X,q)&&W.every(G=>X.every(le=>G.intersects(le,q)))))}test(H){if(!H)return!1;if(typeof H=="string")try{H=new c(H,this.options)}catch{return!1}for(let q=0;q<this.set.length;q++)if(Y(this.set[q],H,this.options))return!0;return!1}}G9=t;const e=TCe,n=new e({max:1e3}),i=mF,s=cRe(),a=Y5,c=bF,{re:d,t:f,comparatorTrimReplace:u,tildeTrimReplace:o,caretTrimReplace:g}=LF,{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:m}=wF,l=z=>z.value==="<0.0.0-0",b=z=>z.value==="",L=(z,H)=>{let q=!0;const W=z.slice();let X=W.pop();for(;q&&W.length;)q=W.every(G=>X.intersects(G,H)),X=W.pop();return q},E=(z,H)=>(a("comp",z,H),z=B(z,H),a("caret",z),z=x(z,H),a("tildes",z),z=M(z,H),a("xrange",z),z=R(z,H),a("stars",z),z),S=z=>!z||z.toLowerCase()==="x"||z==="*",x=(z,H)=>z.trim().split(/\s+/).map(q=>k(q,H)).join(" "),k=(z,H)=>{const q=H.loose?d[f.TILDELOOSE]:d[f.TILDE];return z.replace(q,(W,X,G,le,pe)=>{a("tilde",z,W,X,G,le,pe);let ie;return S(X)?ie="":S(G)?ie=`>=${X}.0.0 <${+X+1}.0.0-0`:S(le)?ie=`>=${X}.${G}.0 <${X}.${+G+1}.0-0`:pe?(a("replaceTilde pr",pe),ie=`>=${X}.${G}.${le}-${pe} <${X}.${+G+1}.0-0`):ie=`>=${X}.${G}.${le} <${X}.${+G+1}.0-0`,a("tilde return",ie),ie})},B=(z,H)=>z.trim().split(/\s+/).map(q=>A(q,H)).join(" "),A=(z,H)=>{a("caret",z,H);const q=H.loose?d[f.CARETLOOSE]:d[f.CARET],W=H.includePrerelease?"-0":"";return z.replace(q,(X,G,le,pe,ie)=>{a("caret",z,X,G,le,pe,ie);let Ae;return S(G)?Ae="":S(le)?Ae=`>=${G}.0.0${W} <${+G+1}.0.0-0`:S(pe)?G==="0"?Ae=`>=${G}.${le}.0${W} <${G}.${+le+1}.0-0`:Ae=`>=${G}.${le}.0${W} <${+G+1}.0.0-0`:ie?(a("replaceCaret pr",ie),G==="0"?le==="0"?Ae=`>=${G}.${le}.${pe}-${ie} <${G}.${le}.${+pe+1}-0`:Ae=`>=${G}.${le}.${pe}-${ie} <${G}.${+le+1}.0-0`:Ae=`>=${G}.${le}.${pe}-${ie} <${+G+1}.0.0-0`):(a("no pr"),G==="0"?le==="0"?Ae=`>=${G}.${le}.${pe}${W} <${G}.${le}.${+pe+1}-0`:Ae=`>=${G}.${le}.${pe}${W} <${G}.${+le+1}.0-0`:Ae=`>=${G}.${le}.${pe} <${+G+1}.0.0-0`),a("caret return",Ae),Ae})},M=(z,H)=>(a("replaceXRanges",z,H),z.split(/\s+/).map(q=>C(q,H)).join(" ")),C=(z,H)=>{z=z.trim();const q=H.loose?d[f.XRANGELOOSE]:d[f.XRANGE];return z.replace(q,(W,X,G,le,pe,ie)=>{a("xRange",z,W,X,G,le,pe,ie);const Ae=S(G),fe=Ae||S(le),Fe=fe||S(pe),je=Fe;return X==="="&&je&&(X=""),ie=H.includePrerelease?"-0":"",Ae?X===">"||X==="<"?W="<0.0.0-0":W="*":X&&je?(fe&&(le=0),pe=0,X===">"?(X=">=",fe?(G=+G+1,le=0,pe=0):(le=+le+1,pe=0)):X==="<="&&(X="<",fe?G=+G+1:le=+le+1),X==="<"&&(ie="-0"),W=`${X+G}.${le}.${pe}${ie}`):fe?W=`>=${G}.0.0${ie} <${+G+1}.0.0-0`:Fe&&(W=`>=${G}.${le}.0${ie} <${G}.${+le+1}.0-0`),a("xRange return",W),W})},R=(z,H)=>(a("replaceStars",z,H),z.trim().replace(d[f.STAR],"")),D=(z,H)=>(a("replaceGTE0",z,H),z.trim().replace(d[H.includePrerelease?f.GTE0PRE:f.GTE0],"")),$=z=>(H,q,W,X,G,le,pe,ie,Ae,fe,Fe,je,yt)=>(S(W)?q="":S(X)?q=`>=${W}.0.0${z?"-0":""}`:S(G)?q=`>=${W}.${X}.0${z?"-0":""}`:le?q=`>=${q}`:q=`>=${q}${z?"-0":""}`,S(Ae)?ie="":S(fe)?ie=`<${+Ae+1}.0.0-0`:S(Fe)?ie=`<${Ae}.${+fe+1}.0-0`:je?ie=`<=${Ae}.${fe}.${Fe}-${je}`:z?ie=`<${Ae}.${fe}.${+Fe+1}-0`:ie=`<=${ie}`,`${q} ${ie}`.trim()),Y=(z,H,q)=>{for(let W=0;W<z.length;W++)if(!z[W].test(H))return!1;if(H.prerelease.length&&!q.includePrerelease){for(let W=0;W<z.length;W++)if(a(z[W].semver),z[W].semver!==s.ANY&&z[W].semver.prerelease.length>0){const X=z[W].semver;if(X.major===H.major&&X.minor===H.minor&&X.patch===H.patch)return!0}return!1}return!0};return G9}const dRe=Zee(),fRe=(t,e,n)=>{try{e=new dRe(e,n)}catch{return!1}return e.test(t)};var uRe=fRe,Jee=hCe(uRe);function hRe(t,e,n){const i=t.open(e),s=1e4,a=250,{origin:c}=new URL(e);let d=~~(s/a);function f(o){o.source===i&&(d=0,t.removeEventListener("message",f,!1))}t.addEventListener("message",f,!1);function u(){d<=0||(i.postMessage(n,c),setTimeout(u,a),d-=1)}setTimeout(u,a)}var pRe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function Qee(t,...e){for(const n of e)_Re(t,n);return t}function _Re(t,e){for(const n of Object.keys(e))P2(t,n,e[n],!0)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(i){uCe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const Mr=XEe;let A3=tNe;const Jy=typeof window<"u"?window:void 0;var UP;A3===void 0&&((UP=Jy==null?void 0:Jy.vl)!=null&&UP.compile)&&(A3=Jy.vl);const gRe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},yRe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},up={vega:"Vega","vega-lite":"Vega-Lite"},L6={vega:Mr.version,"vega-lite":A3?A3.version:"not available"},mRe={vega:t=>t,"vega-lite":(t,e)=>A3.compile(t,{config:e}).spec},wRe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,LRe="chart-wrapper";function bRe(t){return typeof t=="function"}function _P(t,e,n,i){const s=`<html><head>${e}</head><body><pre><code class="json">`,a=`</code></pre>${n}</body></html>`,c=window.open("");c.document.write(s+t+a),c.document.title=`${up[i]} JSON Source`}function TRe(t,e){if(t.$schema){const n=qee(t.$schema);e&&e!==n.library&&console.warn(`The given visualization spec is written in ${up[n.library]}, but mode argument sets ${up[e]??e}.`);const i=n.library;return Jee(L6[i],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${up[i]} ${n.version}, but the current version of ${up[i]} is v${L6[i]}.`),i}return"mark"in t||"encoding"in t||"layer"in t||"hconcat"in t||"vconcat"in t||"facet"in t||"repeat"in t?"vega-lite":"marks"in t||"signals"in t||"scales"in t||"axes"in t?"vega":e??"vega"}function vRe(t){return!!(t&&"load"in t)}function gP(t){return vRe(t)?t:Mr.loader(t)}function ERe(t){var n;const e=((n=t.usermeta)==null?void 0:n.embedOptions)??{};return Ie(e.defaultStyle)&&(e.defaultStyle=!1),e}async function ete(t,e,n={}){let i,s;Ie(e)?(s=gP(n.loader),i=JSON.parse(await s.load(e))):i=e;const a=ERe(i),c=a.loader;(!s||c)&&(s=gP(n.loader??c));const d=await yP(a,s),f=await yP(n,s),u=nd(nd({},Qee(f,d)),{},{config:D2(f.config??{},d.config??{})});return await xRe(t,i,u,s)}async function yP(t,e){const n=Ie(t.config)?JSON.parse(await e.load(t.config)):t.config??{},i=Ie(t.patch)?JSON.parse(await e.load(t.patch)):t.patch;return nd(nd(nd({},t),i?{patch:i}:{}),n?{config:n}:{})}function SRe(t){const e=t.getRootNode?t.getRootNode():document;return e instanceof ShadowRoot?{root:e,rootContainer:e}:{root:document,rootContainer:document.head??document.body}}async function xRe(t,e,n={},i){const s=n.theme?D2(XNe[n.theme],n.config??{}):n.config,a=jd(n.actions)?n.actions:Qee({},gRe,n.actions??{}),c=nd(nd({},yRe),n.i18n),d=n.renderer??"canvas",f=n.logLevel??Mr.Warn,u=n.downloadFileName??"visualization",o=typeof t=="string"?document.querySelector(t):t;if(!o)throw new Error(`${t} does not exist`);if(n.defaultStyle!==!1){const B="vega-embed-style",{root:A,rootContainer:M}=SRe(o);if(!A.getElementById(B)){const C=document.createElement("style");C.id=B,C.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?pRe.toString():n.defaultStyle,M.appendChild(C)}}const g=TRe(e,n.mode);let y=mRe[g](e,s);if(g==="vega-lite"&&y.$schema){const B=qee(y.$schema);Jee(L6.vega,`^${B.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${B.version}, but current version is v${L6.vega}.`)}o.classList.add("vega-embed"),a&&o.classList.add("has-actions"),o.innerHTML="";let m=o;if(a){const B=document.createElement("div");B.classList.add(LRe),o.appendChild(B),m=B}const l=n.patch;if(l&&(y=l instanceof Function?l(y):mL(y,l,!0,!1).newDocument),n.formatLocale&&Mr.formatLocale(n.formatLocale),n.timeFormatLocale&&Mr.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const B in n.expressionFunctions){const A=n.expressionFunctions[B];"fn"in A?Mr.expressionFunction(B,A.fn,A.visitor):A instanceof Function&&Mr.expressionFunction(B,A)}const{ast:b}=n,L=Mr.parse(y,g==="vega-lite"?{}:s,{ast:b}),E=new(n.viewClass||Mr.View)(L,nd({loader:i,logLevel:f,renderer:d},b?{expr:Mr.expressionInterpreter??n.expr??rSe}:{}));if(E.addSignalListener("autosize",(B,A)=>{const{type:M}=A;M=="fit-x"?(m.classList.add("fit-x"),m.classList.remove("fit-y")):M=="fit-y"?(m.classList.remove("fit-x"),m.classList.add("fit-y")):M=="fit"?m.classList.add("fit-x","fit-y"):m.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const B=bRe(n.tooltip)?n.tooltip:new cCe(n.tooltip===!0?{}:n.tooltip).call;E.tooltip(B)}let{hover:S}=n;if(S===void 0&&(S=g==="vega"),S){const{hoverSet:B,updateSet:A}=typeof S=="boolean"?{}:S;E.hover(B,A)}n&&(n.width!=null&&E.width(n.width),n.height!=null&&E.height(n.height),n.padding!=null&&E.padding(n.padding)),await E.initialize(m,n.bind).runAsync();let x;if(a!==!1){let B=o;if(n.defaultStyle!==!1){const M=document.createElement("details");M.title=c.CLICK_TO_VIEW_ACTIONS,o.append(M),B=M;const C=document.createElement("summary");C.innerHTML=wRe,M.append(C),x=R=>{M.contains(R.target)||M.removeAttribute("open")},document.addEventListener("click",x)}const A=document.createElement("div");if(B.append(A),A.classList.add("vega-actions"),a===!0||a.export!==!1){for(const M of["svg","png"])if(a===!0||a.export===!0||a.export[M]){const C=c[`${M.toUpperCase()}_ACTION`],R=document.createElement("a"),D=Me(n.scaleFactor)?n.scaleFactor[M]:n.scaleFactor;R.text=C,R.href="#",R.target="_blank",R.download=`${u}.${M}`,R.addEventListener("mousedown",async function($){$.preventDefault();const Y=await E.toImageURL(M,D);this.href=Y}),A.append(R)}}if(a===!0||a.source!==!1){const M=document.createElement("a");M.text=c.SOURCE_ACTION,M.href="#",M.addEventListener("click",function(C){_P(X8(e),n.sourceHeader??"",n.sourceFooter??"",g),C.preventDefault()}),A.append(M)}if(g==="vega-lite"&&(a===!0||a.compiled!==!1)){const M=document.createElement("a");M.text=c.COMPILED_ACTION,M.href="#",M.addEventListener("click",function(C){_P(X8(y),n.sourceHeader??"",n.sourceFooter??"","vega"),C.preventDefault()}),A.append(M)}if(a===!0||a.editor!==!1){const M=n.editorUrl??"https://vega.github.io/editor/",C=document.createElement("a");C.text=c.EDITOR_ACTION,C.href="#",C.addEventListener("click",function(R){hRe(window,M,{config:s,mode:g,renderer:d,spec:X8(e)}),R.preventDefault()}),A.append(C)}}function k(){x&&document.removeEventListener("click",x),E.finalize()}return{view:E,spec:e,vgSpec:y,finalize:k,embedOptions:n}}const BRe=new Set(["width","height"]);function IRe(t,e){for(const[n,i]of Object.entries(e))i&&(i&&{}.toString.call(i)==="[object Function]"?i(t.data(n)):t.change(n,Mr.changeset().remove(()=>!0).insert(i)))}function Qy(t={},e={},n=new Set){const i=Object.keys(t),s=Object.keys(e);return t===e||i.length===s.length&&i.filter(a=>!n.has(a)).every(a=>t[a]===e[a])}function mP(t,e){const n=Object.keys(e);for(const i of n)try{t.removeSignalListener(i,e[i])}catch(s){console.warn("Cannot remove invalid signal listener.",s)}return n.length>0}function W9(t,e){const n=Object.keys(e);for(const i of n)try{t.addSignalListener(i,e[i])}catch(s){console.warn("Cannot add invalid signal listener.",s)}return n.length>0}function kRe(t){return new Set(t.flatMap(e=>Object.keys(e)))}function FRe(t,e){if(t===e)return!1;const n={width:!1,height:!1,isExpensive:!1},i="width"in t||"width"in e,s="height"in t||"height"in e;return i&&(!("width"in t)||!("width"in e)||t.width!==e.width)&&("width"in t&&typeof t.width=="number"?n.width=t.width:n.isExpensive=!0),s&&(!("height"in t)||!("height"in e)||t.height!==e.height)&&("height"in t&&typeof t.height=="number"?n.height=t.height:n.isExpensive=!0),[...kRe([t,e])].filter(c=>c!=="width"&&c!=="height").some(c=>!(c in t)||!(c in e)||!jI(t[c],e[c]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function wP(t,e){const{width:n,height:i}=e;return typeof n<"u"&&typeof i<"u"?{...t,width:n,height:i}:typeof n<"u"?{...t,width:n}:typeof i<"u"?{...t,height:i}:t}function MRe(t){let e;return{c(){e=Ft("div")},m(n,i){nn(n,e,i),t[11](e)},p:mi,i:mi,o:mi,d(n){n&&Xt(e),t[11](null)}}}function ARe(t,e,n){let{options:i}=e,{spec:s}=e,{view:a}=e,{signalListeners:c={}}=e,{data:d={}}=e;const f=Du();let u,o={},g={},y={},m={},l;jP(()=>{L()});async function b(){L();try{n(6,u=await ete(l,s,i)),n(1,a=u.view),W9(a,c)&&a.runAsync(),S(a)}catch(B){E(B)}}function L(){u&&(u.finalize(),n(6,u=void 0),n(1,a=void 0))}function E(B){f("onError",{error:B}),console.warn(B)}function S(B){x(),f("onNewView",{view:B})}async function x(){d&&Object.keys(d).length>0&&u!==void 0&&(n(1,a=u.view),IRe(a,d),await a.resize().runAsync())}function k(B){id[B?"unshift":"push"](()=>{l=B,n(0,l)})}return t.$$set=B=>{"options"in B&&n(2,i=B.options),"spec"in B&&n(3,s=B.spec),"view"in B&&n(1,a=B.view),"signalListeners"in B&&n(4,c=B.signalListeners),"data"in B&&n(5,d=B.data)},t.$$.update=()=>{if(t.$$.dirty&1056&&(Qy(d,m)||x(),n(10,m=d)),t.$$.dirty&991&&l!==void 0){if(!Qy(i,o,BRe))b();else{const B=FRe(wP(s,i),wP(y,o)),A=c,M=g;if(B){if(B.isExpensive)b();else if(u!==void 0){const C=!Qy(A,M);n(1,a=u.view),B.width!==!1&&a.width(B.width),B.height!==!1&&a.height(B.height),C&&(M&&mP(a,M),A&&W9(a,A)),a.runAsync()}}else!Qy(A,M)&&u!==void 0&&(n(1,a=u.view),M&&mP(a,M),A&&W9(a,A),a.runAsync())}n(7,o=i),n(8,g=c),n(9,y=s)}},[l,a,i,s,c,d,u,o,g,y,m,k]}let ORe=class extends ws{constructor(e){super(),ms(this,e,ARe,MRe,ys,{options:2,spec:3,view:1,signalListeners:4,data:5})}};function NRe(t){let e,n,i;function s(c){t[6](c)}let a={spec:t[1],data:t[2],signalListeners:t[3],options:t[4]};return t[0]!==void 0&&(a.view=t[0]),e=new ORe({props:a}),id.push(()=>WT(e,"view",s)),e.$on("onNewView",t[7]),e.$on("onError",t[8]),{c(){si(e.$$.fragment)},m(c,d){Gn(e,c,d),i=!0},p(c,[d]){const f={};d&2&&(f.spec=c[1]),d&4&&(f.data=c[2]),d&8&&(f.signalListeners=c[3]),d&16&&(f.options=c[4]),!n&&d&1&&(n=!0,f.view=c[0],GT(()=>n=!1)),e.$set(f)},i(c){i||(Bt(e.$$.fragment,c),i=!0)},o(c){Wt(e.$$.fragment,c),i=!1},d(c){Wn(e,c)}}}const CRe="vega-lite";function RRe(t,e,n){let i,{spec:s}=e,{options:a={}}=e,{data:c={}}=e,{signalListeners:d={}}=e,{view:f=void 0}=e;function u(y){f=y,n(0,f)}function o(y){En.call(this,t,y)}function g(y){En.call(this,t,y)}return t.$$set=y=>{"spec"in y&&n(1,s=y.spec),"options"in y&&n(5,a=y.options),"data"in y&&n(2,c=y.data),"signalListeners"in y&&n(3,d=y.signalListeners),"view"in y&&n(0,f=y.view)},t.$$.update=()=>{t.$$.dirty&32&&n(4,i={...a,mode:CRe})},[f,s,c,d,i,a,u,o,g]}let DRe=class extends ws{constructor(e){super(),ms(this,e,RRe,NRe,ys,{spec:1,options:5,data:2,signalListeners:3,view:0})}};const TF="hsl(171,69%,47%)";function PRe(t){let e,n,i,s,a,c;function d(u){t[22](u)}let f={data:t[2],spec:t[1],options:{tooltip:!0,actions:!1,theme:"vox"}};return t[0]!==void 0&&(f.view=t[0]),n=new DRe({props:f}),id.push(()=>WT(n,"view",d)),{c(){e=Ft("div"),si(n.$$.fragment),Be(e,"class","container svelte-mufgje")},m(u,o){nn(u,e,o),Gn(n,e,null),s=!0,a||(c=[as(e,"click",t[17]),as(e,"mousedown",t[18]),as(e,"mouseup",t[19]),as(e,"mouseenter",t[20]),as(e,"mouseleave",t[21])],a=!0)},p(u,[o]){const g={};o&4&&(g.data=u[2]),o&2&&(g.spec=u[1]),!i&&o&1&&(i=!0,g.view=u[0],GT(()=>i=!1)),n.$set(g)},i(u){s||(Bt(n.$$.fragment,u),s=!0)},o(u){Wt(n.$$.fragment,u),s=!1},d(u){u&&Xt(e),Wn(n),a=!1,nc(c)}}}function $Re(t,e,n){let i,s;const a=Du();let{bins:c=[{bin:[0,10],count:200,filteredCount:150},{bin:[10,20],count:300,filteredCount:25},{bin:[20,30],count:72,filteredCount:12}]}=e,{title:d=""}=e,{width:f=400}=e,{height:u=125}=e,{countLabel:o="Count"}=e,{dimLabel:g=""}=e,{labelColor:y="black"}=e,{backgroundBarColor:m="hsla(0, 0%, 0%, 0.07)"}=e,{foregroundBarColor:l=TF}=e,{backgroundColor:b="white"}=e,{onlyFiltered:L=!1}=e,{type:E="quantitative"}=e,{timeUnit:S=""}=e,x,k=!1;function B($){En.call(this,t,$)}function A($){En.call(this,t,$)}function M($){En.call(this,t,$)}function C($){En.call(this,t,$)}function R($){En.call(this,t,$)}function D($){x=$,n(0,x)}return t.$$set=$=>{"bins"in $&&n(3,c=$.bins),"title"in $&&n(4,d=$.title),"width"in $&&n(5,f=$.width),"height"in $&&n(6,u=$.height),"countLabel"in $&&n(7,o=$.countLabel),"dimLabel"in $&&n(8,g=$.dimLabel),"labelColor"in $&&n(9,y=$.labelColor),"backgroundBarColor"in $&&n(10,m=$.backgroundBarColor),"foregroundBarColor"in $&&n(11,l=$.foregroundBarColor),"backgroundColor"in $&&n(12,b=$.backgroundColor),"onlyFiltered"in $&&n(13,L=$.onlyFiltered),"type"in $&&n(14,E=$.type),"timeUnit"in $&&n(15,S=$.timeUnit)},t.$$.update=()=>{t.$$.dirty&8&&n(2,i={table:c}),t.$$.dirty&61296&&n(1,s={$schema:"https://vega.github.io/schema/vega-lite/v5.json",description:"A simple bar chart with embedded data.",data:{name:"table"},background:"transparent",width:f,height:u,title:{text:d,anchor:"start"},layer:[{params:[{name:"select",select:{type:"interval",encodings:["x"]}}],mark:{type:"bar",cursor:"col-resize"},encoding:{x:{...S?{timeUnit:S}:{},field:"bin[0]",type:E,bin:{binned:!0},axis:{title:g,titleColor:y,labelColor:y}},x2:{field:"bin[1]"},y:{field:L?"filteredCount":"count",type:"quantitative",axis:{title:"Count",titleColor:y,tickCount:3,labelColor:y}},color:{value:m}}},{mark:{type:"bar"},encoding:{size:{legend:null},x:{...S?{timeUnit:S}:{},field:"bin[0]",type:E,bin:{binned:!0},title:""},x2:{field:"bin[1]"},y:{field:"filteredCount",type:"quantitative"},color:{value:l}}}]}),t.$$.dirty&65537&&x&&!k&&(x.addSignalListener("select",(...$)=>{a("select",$[1]["bin\\.0"]??null)}),n(16,k=!0))},[x,s,i,c,d,f,u,o,g,y,m,l,b,L,E,S,k,B,A,M,C,R,D]}class URe extends ws{constructor(e){super(),ms(this,e,$Re,PRe,ys,{bins:3,title:4,width:5,height:6,countLabel:7,dimLabel:8,labelColor:9,backgroundBarColor:10,foregroundBarColor:11,backgroundColor:12,onlyFiltered:13,type:14,timeUnit:15})}}function zRe(t){let e,n;return e=new URe({props:{bins:t[8],timeUnit:t[7],type:t[6],title:t[0],width:t[1],height:t[2],countLabel:t[3],dimLabel:t[4],onlyFiltered:t[5]}}),e.$on("select",t[10]),e.$on("mouseenter",t[11]),e.$on("mouseleave",t[12]),e.$on("mouseup",t[13]),e.$on("mousedown",t[14]),e.$on("click",t[15]),{c(){si(e.$$.fragment)},m(i,s){Gn(e,i,s),n=!0},p(i,[s]){const a={};s&256&&(a.bins=i[8]),s&128&&(a.timeUnit=i[7]),s&64&&(a.type=i[6]),s&1&&(a.title=i[0]),s&2&&(a.width=i[1]),s&4&&(a.height=i[2]),s&8&&(a.countLabel=i[3]),s&16&&(a.dimLabel=i[4]),s&32&&(a.onlyFiltered=i[5]),e.$set(a)},i(i){n||(Bt(e.$$.fragment,i),n=!0)},o(i){Wt(e.$$.fragment,i),n=!1},d(i){Wn(e,i)}}}function HRe(t){let e=[];if(t)for(let n=0;n<t.bin.length;n++)e.push({bin:[t.bin[n].binStart,t.bin[n].binEnd],count:t.total[n],filteredCount:t.filter[n]});return e}function jRe(t,e,n){let i,{state:s}=e,{title:a=""}=e,{width:c=400}=e,{height:d=125}=e,{countLabel:f="Count"}=e,{dimLabel:u=""}=e,{onlyFiltered:o=!1}=e,{type:g="quantitative"}=e,{timeUnit:y=""}=e;function m(x){En.call(this,t,x)}function l(x){En.call(this,t,x)}function b(x){En.call(this,t,x)}function L(x){En.call(this,t,x)}function E(x){En.call(this,t,x)}function S(x){En.call(this,t,x)}return t.$$set=x=>{"state"in x&&n(9,s=x.state),"title"in x&&n(0,a=x.title),"width"in x&&n(1,c=x.width),"height"in x&&n(2,d=x.height),"countLabel"in x&&n(3,f=x.countLabel),"dimLabel"in x&&n(4,u=x.dimLabel),"onlyFiltered"in x&&n(5,o=x.onlyFiltered),"type"in x&&n(6,g=x.type),"timeUnit"in x&&n(7,y=x.timeUnit)},t.$$.update=()=>{t.$$.dirty&512&&n(8,i=HRe(s))},[a,c,d,f,u,o,g,y,i,s,m,l,b,L,E,S]}class VRe extends ws{constructor(e){super(),ms(this,e,jRe,zRe,ys,{state:9,title:0,width:1,height:2,countLabel:3,dimLabel:4,onlyFiltered:5,type:6,timeUnit:7})}}function qRe(t){let e,n,i,s,a,c;return i=new WS({props:{title:t[1],selection:GRe}}),a=new VRe({props:{dimLabel:t[0],state:{bin:t[4],filter:t[3],total:t[2]},type:t[5],timeUnit:t[6],width:t[7],height:t[8]}}),a.$on("mouseenter",t[9]),a.$on("mouseleave",t[10]),a.$on("mousedown",t[11]),a.$on("mouseup",t[12]),a.$on("select",t[13]),{c(){e=Ft("div"),n=Ft("div"),si(i.$$.fragment),s=Pn(),si(a.$$.fragment),Be(n,"class","hist svelte-1velrzw"),Be(e,"id","hist-container"),Be(e,"class","svelte-1velrzw")},m(d,f){nn(d,e,f),Ge(e,n),Gn(i,n,null),Ge(n,s),Gn(a,n,null),c=!0},p(d,[f]){const u={};f&2&&(u.title=d[1]),i.$set(u);const o={};f&1&&(o.dimLabel=d[0]),f&28&&(o.state={bin:d[4],filter:d[3],total:d[2]}),f&32&&(o.type=d[5]),f&64&&(o.timeUnit=d[6]),f&128&&(o.width=d[7]),f&256&&(o.height=d[8]),a.$set(o)},i(d){c||(Bt(i.$$.fragment,d),Bt(a.$$.fragment,d),c=!0)},o(d){Wt(i.$$.fragment,d),Wt(a.$$.fragment,d),c=!1},d(d){d&&Xt(e),Wn(i),Wn(a)}}}let GRe=null;function WRe(t,e,n){let{dimLabel:i=""}=e,{title:s=""}=e,{totalCounts:a}=e,{filteredCounts:c}=e,{bins:d}=e,{type:f="quantitative"}=e,{timeUnit:u=""}=e,{width:o=400}=e,{height:g=150}=e;function y(E){En.call(this,t,E)}function m(E){En.call(this,t,E)}function l(E){En.call(this,t,E)}function b(E){En.call(this,t,E)}function L(E){En.call(this,t,E)}return t.$$set=E=>{"dimLabel"in E&&n(0,i=E.dimLabel),"title"in E&&n(1,s=E.title),"totalCounts"in E&&n(2,a=E.totalCounts),"filteredCounts"in E&&n(3,c=E.filteredCounts),"bins"in E&&n(4,d=E.bins),"type"in E&&n(5,f=E.type),"timeUnit"in E&&n(6,u=E.timeUnit),"width"in E&&n(7,o=E.width),"height"in E&&n(8,g=E.height)},[i,s,a,c,d,f,u,o,g,y,m,l,b,L]}class X5 extends ws{constructor(e){super(),ms(this,e,WRe,qRe,ys,{dimLabel:0,title:1,totalCounts:2,filteredCounts:3,bins:4,type:5,timeUnit:6,width:7,height:8})}}const YRe=new Set(["width","height"]);function XRe(t,e){for(const[n,i]of Object.entries(e))i&&(i&&{}.toString.call(i)==="[object Function]"?i(t.data(n)):t.change(n,Mr.changeset().remove(()=>!0).insert(i)))}function em(t={},e={},n=new Set){const i=Object.keys(t),s=Object.keys(e);return t===e||i.length===s.length&&i.filter(a=>!n.has(a)).every(a=>t[a]===e[a])}function LP(t,e){const n=Object.keys(e);for(const i of n)try{t.removeSignalListener(i,e[i])}catch(s){console.warn("Cannot remove invalid signal listener.",s)}return n.length>0}function Y9(t,e){const n=Object.keys(e);for(const i of n)try{t.addSignalListener(i,e[i])}catch(s){console.warn("Cannot add invalid signal listener.",s)}return n.length>0}function KRe(t){return new Set(t.flatMap(e=>Object.keys(e)))}function ZRe(t,e){if(t===e)return!1;const n={width:!1,height:!1,isExpensive:!1},i="width"in t||"width"in e,s="height"in t||"height"in e;return i&&(!("width"in t)||!("width"in e)||t.width!==e.width)&&("width"in t&&typeof t.width=="number"?n.width=t.width:n.isExpensive=!0),s&&(!("height"in t)||!("height"in e)||t.height!==e.height)&&("height"in t&&typeof t.height=="number"?n.height=t.height:n.isExpensive=!0),[...KRe([t,e])].filter(c=>c!=="width"&&c!=="height").some(c=>!(c in t)||!(c in e)||!jI(t[c],e[c]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function bP(t,e){const{width:n,height:i}=e;return typeof n<"u"&&typeof i<"u"?{...t,width:n,height:i}:typeof n<"u"?{...t,width:n}:typeof i<"u"?{...t,height:i}:t}function JRe(t){let e;return{c(){e=Ft("div")},m(n,i){nn(n,e,i),t[11](e)},p:mi,i:mi,o:mi,d(n){n&&Xt(e),t[11](null)}}}function QRe(t,e,n){let{options:i}=e,{spec:s}=e,{view:a}=e,{signalListeners:c={}}=e,{data:d={}}=e;const f=Du();let u,o={},g={},y={},m={},l;jP(()=>{L()});async function b(){L();try{n(6,u=await ete(l,s,i)),n(1,a=u.view),Y9(a,c)&&a.runAsync(),S(a)}catch(B){E(B)}}function L(){u&&(u.finalize(),n(6,u=void 0),n(1,a=void 0))}function E(B){f("onError",{error:B}),console.warn(B)}function S(B){x(),f("onNewView",{view:B})}async function x(){d&&Object.keys(d).length>0&&u!==void 0&&(n(1,a=u.view),XRe(a,d),await a.resize().runAsync())}function k(B){id[B?"unshift":"push"](()=>{l=B,n(0,l)})}return t.$$set=B=>{"options"in B&&n(2,i=B.options),"spec"in B&&n(3,s=B.spec),"view"in B&&n(1,a=B.view),"signalListeners"in B&&n(4,c=B.signalListeners),"data"in B&&n(5,d=B.data)},t.$$.update=()=>{if(t.$$.dirty&1056&&(em(d,m)||x(),n(10,m=d)),t.$$.dirty&991&&l!==void 0){if(!em(i,o,YRe))b();else{const B=ZRe(bP(s,i),bP(y,o)),A=c,M=g;if(B){if(B.isExpensive)b();else if(u!==void 0){const C=!em(A,M);n(1,a=u.view),B.width!==!1&&a.width(B.width),B.height!==!1&&a.height(B.height),C&&(M&&LP(a,M),A&&Y9(a,A)),a.runAsync()}}else!em(A,M)&&u!==void 0&&(n(1,a=u.view),M&&LP(a,M),A&&Y9(a,A),a.runAsync())}n(7,o=i),n(8,g=c),n(9,y=s)}},[l,a,i,s,c,d,u,o,g,y,m,k]}class eDe extends ws{constructor(e){super(),ms(this,e,QRe,JRe,ys,{options:2,spec:3,view:1,signalListeners:4,data:5})}}function tDe(t){let e,n,i;function s(c){t[6](c)}let a={spec:t[1],data:t[2],signalListeners:t[3],options:t[4]};return t[0]!==void 0&&(a.view=t[0]),e=new eDe({props:a}),id.push(()=>WT(e,"view",s)),e.$on("onNewView",t[7]),e.$on("onError",t[8]),{c(){si(e.$$.fragment)},m(c,d){Gn(e,c,d),i=!0},p(c,[d]){const f={};d&2&&(f.spec=c[1]),d&4&&(f.data=c[2]),d&8&&(f.signalListeners=c[3]),d&16&&(f.options=c[4]),!n&&d&1&&(n=!0,f.view=c[0],GT(()=>n=!1)),e.$set(f)},i(c){i||(Bt(e.$$.fragment,c),i=!0)},o(c){Wt(e.$$.fragment,c),i=!1},d(c){Wn(e,c)}}}const nDe="vega-lite";function iDe(t,e,n){let i,{spec:s}=e,{options:a={}}=e,{data:c={}}=e,{signalListeners:d={}}=e,{view:f=void 0}=e;function u(y){f=y,n(0,f)}function o(y){En.call(this,t,y)}function g(y){En.call(this,t,y)}return t.$$set=y=>{"spec"in y&&n(1,s=y.spec),"options"in y&&n(5,a=y.options),"data"in y&&n(2,c=y.data),"signalListeners"in y&&n(3,d=y.signalListeners),"view"in y&&n(0,f=y.view)},t.$$.update=()=>{t.$$.dirty&32&&n(4,i={...a,mode:nDe})},[f,s,c,d,i,a,u,o,g]}class sDe extends ws{constructor(e){super(),ms(this,e,iDe,tDe,ys,{spec:1,options:5,data:2,signalListeners:3,view:0})}}function rDe(t){let e,n,i,s;return e=new WS({props:{title:t[2]}}),i=new sDe({props:{data:{table:{filteredCount:t[0],totalCount:t[1]}},spec:t[3],options:{tooltip:!0,actions:!1,theme:"vox"}}}),{c(){si(e.$$.fragment),n=Pn(),si(i.$$.fragment)},m(a,c){Gn(e,a,c),nn(a,n,c),Gn(i,a,c),s=!0},p(a,[c]){const d={};c&4&&(d.title=a[2]),e.$set(d);const f={};c&3&&(f.data={table:{filteredCount:a[0],totalCount:a[1]}}),c&8&&(f.spec=a[3]),i.$set(f)},i(a){s||(Bt(e.$$.fragment,a),Bt(i.$$.fragment,a),s=!0)},o(a){Wt(e.$$.fragment,a),Wt(i.$$.fragment,a),s=!1},d(a){Wn(e,a),a&&Xt(n),Wn(i,a)}}}function aDe(t,e,n){let i,{filteredCount:s}=e,{totalCount:a}=e,{width:c=500}=e,{height:d=50}=e,{barColor:f=TF}=e,{title:u="Table Rows Selected"}=e;return t.$$set=o=>{"filteredCount"in o&&n(0,s=o.filteredCount),"totalCount"in o&&n(1,a=o.totalCount),"width"in o&&n(4,c=o.width),"height"in o&&n(5,d=o.height),"barColor"in o&&n(6,f=o.barColor),"title"in o&&n(2,u=o.title)},t.$$.update=()=>{t.$$.dirty&114&&n(3,i={$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{name:"table"},width:c,height:d,title:null,mark:{type:"bar"},encoding:{x:{scale:{domain:[0,a]},type:"quantitative",title:null,field:"filteredCount",axis:{tickCount:5}},color:{value:f}}})},[s,a,u,i,c,d,f]}class oDe extends ws{constructor(e){super(),ms(this,e,aDe,rDe,ys,{filteredCount:0,totalCount:1,width:4,height:5,barColor:6,title:2})}}let b6=[{d:"M102.263 199.566V200.763V201.944V203.109V204.259V205.394V206.515V207.622V208.716V209.795V210.863V211.917V212.958V213.988V215.007V216.013V217.012V217.998V218.972V219.936V220.891V221.835V222.77V223.695V224.612V225.52V226.418V227.307V228.189V229.061V229.926V230.783V231.632L102.606 231.751L102.945 231.869L103.048 231.634L103.415 231.814L103.734 231.971L103.938 231.77L104.159 231.551L104.457 231.536L104.792 231.519L105.014 231.507V231.693L104.932 232.001L104.863 232.258L105.047 232.492L105.066 232.517L105.315 232.653L105.549 232.779L105.654 233.13L105.91 233.4L106.105 233.604L106.292 233.8L106.558 234.079L106.745 234.274L106.995 234.533L107.142 234.687L107.214 234.986L107.299 235.343L107.246 235.553L107.363 235.587L107.594 235.351L107.81 235.204L108.078 235.023L108.259 234.901L108.595 234.895L108.755 234.538V234.034L108.925 234.044L109.026 233.975L109.07 233.827L108.963 233.624L109.286 233.53L109.519 233.461L109.85 233.273L110.174 233.09L110.329 233.232L110.483 233.369L110.783 233.699L110.804 233.778L110.784 233.932L110.755 234.086L110.938 234.516L110.99 234.564L111.14 234.623L111.32 234.765L111.399 234.888L111.659 235.084L111.703 235.165L111.728 235.296L111.77 235.409L111.819 235.489L111.866 235.604L111.979 235.738L112.193 235.889L112.341 235.993L112.549 236.139L112.759 236.436L112.942 236.694L113.15 236.947L113.12 237.149L113.331 237.46L113.553 237.853L113.724 238.201L113.845 238.395L113.99 238.675L114.168 239.017L114.37 239.404L114.525 239.653L114.728 239.999L114.826 240.205L114.76 240.345L114.676 240.519L114.935 240.602L115.114 240.658L115.068 240.85L115.009 241.103L115.211 241.203L115.35 241.27L115.321 241.402L115.397 241.552L115.409 241.799L115.657 241.784L115.767 241.776L115.914 241.886L116.109 242.031L116.304 242.165L116.471 242.279L116.69 242.348L116.959 242.446L117.092 242.645L117.338 242.731L117.429 243.008L117.714 243.11L117.881 243.042L117.941 243.155L117.988 243.284L118 243.448L117.985 243.606L117.913 243.739L117.86 243.882L117.824 244.036L117.81 244.201L117.819 244.378L117.848 244.532L117.935 244.816L117.963 244.989L117.968 245.104L117.775 245.508L117.708 245.7L117.714 245.786L117.573 245.985L117.314 246.264L117.197 246.425L117.139 246.371L116.804 246.33L116.683 245.975L116.619 245.699L116.521 245.458L116.524 245.403L116.613 245.241L116.947 245.108L116.95 245.055L116.826 245.02L116.795 244.962L116.762 244.698L116.771 244.466L116.762 244.312L116.705 243.997L116.622 243.803L116.406 243.425L116.387 243.329L116.482 243.208L116.541 243.095L116.176 243.29L115.678 243.495L115.465 243.637L115.421 243.693L115.406 243.742L115.446 243.876L115.44 243.919L115.395 243.998L115.344 244.221L115.236 244.457L115.181 244.506L114.986 244.418L114.935 244.343L114.837 244.035L114.86 243.952L114.931 243.882L115.027 243.733L115.149 243.501L115.38 242.911L115.532 242.908L115.8 242.79L115.38 242.731L115.318 242.7L115.262 242.619L115.211 242.488L115.126 242.342L114.966 242.29L114.896 242.237L114.792 242.06L114.722 241.98L114.683 241.881L114.677 241.764L114.647 241.704L114.537 241.683L114.478 241.642L114.461 241.337L114.244 241.257L114.154 241.19L114.011 241L113.972 240.907L113.959 240.829L113.994 240.617L113.979 240.577L113.851 240.599L113.06 240.269L113.101 239.833L112.955 239.255L112.799 239.02L112.831 238.929L112.864 238.88L112.934 238.878L113.237 239.049L113.523 239.252L113.559 239.223L113.103 238.793L112.989 238.663L112.96 238.508L112.958 238.424L112.995 238.38L113.424 238.418L113.45 238.386L113.016 238.259H112.928L112.832 238.441L112.786 238.483L112.694 238.474L112.662 238.447L112.551 238.225L112.446 238.071L112.249 237.858L112.213 237.705L112.204 237.481L112.23 237.268L112.389 236.78L112.453 236.694L112.47 236.641L112.421 236.648L112.374 236.696L112.242 236.923L112.105 237.295L111.994 237.422L111.924 237.391L111.819 237.24L111.598 237.056L111.343 237.008L111.181 236.819L110.943 236.29L110.911 236.026L110.88 235.962L110.751 235.877L110.672 235.749L110.549 235.099L110.387 234.644L110.346 234.403L110.36 234.164L110.339 234.138L110.282 234.324L110.267 234.422L110.165 234.449L110.261 234.638L110.285 234.733L110.237 234.725L110.138 234.748L110.304 235.068L110.378 235.564L110.489 235.929L110.561 236.223L110.593 236.446L110.64 236.659L110.769 237.127L110.787 237.22L110.772 237.297L110.73 237.387L110.657 237.42L110.425 237.359L110.339 237.243L110.214 237.031L110.039 236.934L109.607 236.982L109.572 236.966L109.573 236.792L109.624 236.481L109.584 236.356L109.36 235.897L109.363 235.807L109.674 235.595L109.523 235.578L109.401 235.66L109.354 235.607L109.281 235.311L109.234 235.201L109.211 235.177L109.198 235.459L109.249 235.607L109.257 235.692L109.249 235.811L109.217 235.897L109.161 235.948L109.105 235.962L109 235.903L108.884 235.791L108.782 235.738L108.744 235.694L108.696 235.57L108.616 235.476L108.238 235.357L108.011 235.216L107.993 235.253L108.063 235.404L108.069 235.492L108.011 235.52L107.909 235.663L107.938 235.683L108.046 235.636L108.166 235.642L108.365 235.729L108.546 235.842L108.612 235.906L108.639 236L108.662 236.034L108.839 236.144L108.848 236.202L108.734 236.372L108.968 236.354L109.105 236.415L109.28 236.679L109.339 236.825L109.347 237.013L109.31 237.068L109.24 237.106L108.764 237.167L108.592 237.393L108.557 237.396L108.426 237.335L108.189 237.155L107.892 236.984L107.217 236.475L107.199 236.45L107.188 236.351L107.141 236.301L107.049 236.258L106.922 236.128L106.759 235.912L106.658 235.743L106.62 235.621L106.526 235.48L106.22 235.187L106.061 235.075L105.919 235.01L105.796 234.997L105.762 234.957L105.819 234.893L105.826 234.855L105.556 234.794L105.297 234.655L104.643 234.266L104.305 234.022L104.107 233.905L104.024 233.839L103.987 233.786L104.034 233.729L104.167 233.671L104.256 233.604L104.398 233.356L104.408 233.275L104.332 233.093L104.299 232.927L104.3 232.836L104.317 232.744L104.338 232.685L104.398 232.627L104.44 232.598L104.492 232.618L104.658 232.846L104.681 232.929L104.673 233.24L104.72 233.603L104.736 233.577L104.751 233.456L104.76 233.228L104.778 233.118L104.813 233.009L104.874 232.953L105.061 232.987L105.148 232.967L104.783 232.802L104.553 232.492L104.512 232.46L104.387 232.447L104.255 232.572L103.912 232.979L103.817 233.051L103.388 233.276L103.097 233.322L102.77 233.287L102.492 233.214L101.792 232.859L101.682 232.776L101.845 232.555L101.851 232.486L101.795 232.261L101.748 232.197L101.681 232.162L101.662 232.187V232.255L101.681 232.378L101.627 232.444L101.509 232.514L101.308 232.586L100.687 232.404L100.051 232.253L99.4823 232.221L98.6791 232.341L98.2516 232.462L98.0021 232.474L97.7617 232.453L97.7419 232.369L97.8515 232.32L97.8454 232.259L97.707 232.068L97.4955 231.953L97.2125 231.911L97.0513 231.855L97.0102 231.783L96.9098 231.716L96.7516 231.652L96.6816 231.536L96.7379 231.176L96.7926 230.96L96.8474 230.81L96.9843 230.563L96.9372 230.581L96.7379 230.763L96.5644 230.949L96.4047 231.192L96.3089 231.303L96.1856 231.405L95.9939 231.381L95.7338 231.23L95.5117 231.152L95.3261 231.147L95.253 231.121L95.3793 230.986L95.4523 230.877L95.5528 230.702L95.574 230.617L94.8955 230.589L94.8712 230.496L94.8697 230.427L94.8484 230.371L94.7495 230.328L94.611 230.36L94.3874 230.47L94.29 230.386L94.325 230.339L94.3981 230.305L94.5471 230.147L94.3463 230.064L94.2444 229.97L94.1942 229.892L94.1972 229.611L94.2505 229.432L94.7008 229.256L94.5578 229.187L94.2733 229.212L94.0831 229.361L93.8565 229.576L93.7043 229.657L93.6267 229.602L93.5248 229.584L93.397 229.601L93.3118 229.656L93.2677 229.749L93.2175 229.811L93.1597 229.843L93.1186 229.833L93.0578 229.738L92.9285 229.679L92.8661 229.605L92.8296 229.651L92.7854 229.788L92.7398 229.859L92.5223 229.93L92.4021 229.917L92.2591 229.744L92.2378 229.685L92.2865 229.535L92.5998 228.942L92.5679 228.945L92.466 229.038L92.2636 229.276L92.1739 229.346L92.0187 229.355L91.9457 229.329L91.8574 229.349L91.754 229.413L91.687 229.483L91.6551 229.558L91.6764 229.57L91.8316 229.485L91.9198 229.462L91.9442 229.503L91.8224 229.77L91.7494 230.023L91.6794 230.087L91.5684 230.077L91.4467 230.101L91.4452 230.171L91.6718 230.374L91.754 230.403L91.859 230.475L91.8742 230.546L91.8346 230.74L91.8042 230.816L91.757 230.856L91.5714 230.85L91.5121 230.87L91.3873 230.99L91.325 231.091L91.3478 231.1L91.4558 231.018L91.6125 230.973L91.8179 230.967L91.9715 230.923L92.0719 230.841L92.1693 230.864L92.2651 230.992L92.2941 231.103L92.256 231.199L92.1769 231.268L92.0583 231.309L91.9837 231.37L91.9518 231.452L91.9335 231.573L91.9289 231.733L91.9594 232.021L91.9365 232.061L91.8924 232.082L91.8255 232.087L91.7662 232.154L91.6262 232.535L91.5775 232.576L91.5182 232.535L91.4665 232.54L91.4208 232.59L91.3219 232.628L91.1683 232.654L91.0374 232.645L90.8062 232.563L90.7119 232.505L90.6388 232.409L90.4304 232.509L90.3757 232.465L90.2463 232.201L90.219 232.216L90.1946 232.502L90.1551 232.601L90.0273 232.807L89.9573 233.16L89.936 233.171L89.9116 233.121L89.8325 232.805L89.7915 232.735L89.6758 232.916L89.6637 232.982L89.6941 233.217L89.6667 233.252L89.4324 233.125L89.3746 233.119L89.3594 233.141L89.44 233.322L89.4309 233.388L89.0993 233.739L89.0125 233.726L88.9578 233.691L88.8984 233.697L88.687 233.827L88.6292 233.821L88.5501 233.743L88.5135 233.746L88.4938 233.827L88.4907 233.984L88.4131 234.132L88.1621 234.371L88.0952 234.481L88.045 234.632L88.0069 234.646L87.8594 234.55L87.689 234.487L87.6646 234.518L87.7164 234.609L87.7057 234.666L87.6312 234.687L87.5384 234.68L87.4258 234.643L87.2676 234.686L87.0637 234.806L86.8933 234.803L86.656 234.603L86.5906 234.588L86.5693 234.532L86.6149 234.37L86.6819 234.248L86.7321 234.191L86.9572 234.034L87.2143 233.976L87.3756 233.882L87.5718 233.687L87.6753 233.539L87.8807 233.157L87.8655 233.128L87.8198 233.107L87.3695 233.469L87.3026 233.502L87.2128 233.499L86.8523 233.36L86.7762 233.301L86.7245 233.127L86.8249 232.73L86.8949 232.538L87.0698 232.241L87.2995 231.922L87.3786 231.715L87.4973 231.158L87.4897 230.905L87.4364 230.594L87.4349 230.409L87.4851 230.351L88.0115 230.063L88.261 229.846L88.7448 229.525L88.8771 229.528L88.9745 229.639L89.0871 229.727L89.2149 229.793L89.3807 229.787L89.583 229.706L89.904 229.737L90.5628 229.947L90.7027 229.959L90.7088 229.932L90.6069 229.784L90.1535 229.698L89.9619 229.613L89.4248 229.235L89.3016 229.088L89.3518 229.02L89.4826 228.963L89.5283 228.908L89.5481 228.812L89.6241 228.681L89.7565 228.515L89.9588 228.353L90.3407 228.112L90.1916 228.102L89.9162 228.146L89.8158 228.192L89.6317 228.364L89.5602 228.484L89.4583 228.719L89.4142 228.764L89.224 228.797L88.7037 228.82L88.6155 228.699L88.5668 228.68L88.5029 228.696L88.0252 229.003L87.8533 229.159L87.7316 229.337L87.5429 229.467L87.2874 229.549L87.0957 229.651L86.8949 229.854L86.8264 230.01L86.8218 230.083L86.8705 230.313L86.8203 230.356L86.7047 230.374L86.5191 230.527L86.1266 230.976L86.0749 231.14L86.0764 231.196L86.1403 231.323L86.0962 231.405L85.9851 231.535L85.7386 231.741L85.5774 231.818L85.4724 231.823L85.372 231.794L85.1925 231.661L85.0464 231.654L85.0373 231.672L85.2351 231.814L85.4359 231.995L85.5606 232.146L85.6108 232.265L85.6124 232.387L85.5667 232.514L85.4237 232.732L85.2838 232.798L84.9262 232.863L84.8106 232.915L84.7756 232.955L85.0206 233.046L85.0434 233.093L85.0099 233.275L84.9445 233.334L84.7406 233.443L84.5581 233.475L84.5307 233.453L84.5642 233.31L84.555 233.275L84.4866 233.246L84.3892 233.301L84.1458 233.511L84.1199 233.546L84.2082 233.603L84.1899 233.65L84.0576 233.801L84.0028 233.902L83.9146 234.004L83.5221 234.315L83.5525 234.391L83.4506 234.661L83.3943 234.898L83.4642 234.997L83.7944 235.114L83.9541 235.143L84.1428 235.224L84.4835 235.444L84.5976 235.587L84.6144 235.654L84.6037 235.727L84.5627 235.826L84.4562 236.012L84.1991 236.289L84.0834 236.366L83.907 236.427L83.8491 236.472L83.6225 236.732L83.5616 236.873L83.5707 236.995L83.5281 237.08L83.2376 237.248L83.2482 237.278L83.3532 237.291L83.3152 237.439L83.2984 237.643L83.2482 237.678L83.0672 237.676L82.8359 237.756L82.8192 237.779L82.8146 237.925L82.2107 238.032L82.0783 238.309L82.0099 238.395L81.7725 238.596L81.628 238.677L81.4622 238.726L81.3755 238.794L81.3679 238.881L81.3207 238.956L81.1777 239.081L81.1077 239.237L81.056 239.261L80.7882 239.299L80.735 239.348L80.7091 239.558L80.6589 239.565L80.5646 239.516L80.4414 239.554L80.1645 239.792L80.1036 239.877L80.1097 239.923L80.1523 239.969L80.2177 240.109L80.2132 240.204L80.1067 240.467L80.0686 240.509L79.9393 240.574L79.8861 240.719L79.7659 240.704L79.67 240.731L79.6077 240.827L79.5392 240.884L79.4647 240.899L79.3719 240.975L79.2593 241.114L79.1558 241.203L79.06 241.241L78.9672 241.25L78.8774 241.23L78.7968 241.245L78.7253 241.296L78.6553 241.375L78.599 241.601L78.5275 241.701L78.4819 241.72L78.3906 241.704L78.2522 241.657L78.1107 241.674L77.884 241.813L77.8125 241.916L77.9555 241.939L78.027 241.97L78.0255 241.999L77.9509 242.028L77.8232 242.026L77.7471 242.051L77.6543 242.11L77.42 242.174L77.3318 242.22L77.1553 242.479L77.134 242.537L77.1568 242.551L77.2557 242.523L77.3713 242.566L77.4322 242.621L77.4702 242.688L77.5067 242.818L77.5295 242.838L77.3059 243.056L77.242 243.149L77.2009 243.184L77.1735 243.158L77.1462 242.915L77.1294 242.874L77.0762 242.87L77.026 242.946L76.9134 243.233L76.7917 243.376L75.8758 243.745L75.742 243.829L75.7161 243.986L75.6781 244.122L75.6172 244.23L75.5457 244.299L75.5305 244.25L75.5381 243.868L75.5199 243.792L75.4271 243.743L75.386 243.75L75.3297 243.771L75.2384 243.853L75.1821 243.875L75.1121 243.868L74.9935 243.949L74.709 244.21L74.5234 244.274L74.4747 244.328L74.3956 244.469L74.3423 244.521L74.2648 244.526L74.1613 244.483L74.0792 244.514L74.0168 244.617L73.9529 244.659L73.7718 244.582L73.6927 244.634L73.5893 244.767L73.4813 244.854L73.3687 244.896L73.0766 244.941L72.9595 244.912L72.9351 244.874L72.9412 244.704L72.9884 244.582L73.0325 244.524L73.0903 244.474L73.1755 244.468L73.3352 244.506L73.317 244.465L73.2592 244.416L73.1131 244.332L72.9686 244.289L72.8849 244.317L72.7678 244.382L72.6887 244.457L72.6461 244.541L72.5928 244.817L72.5624 244.892L72.2201 245.377L72.0862 245.526L71.9539 245.516L71.89 245.572L71.8002 245.693L71.7165 245.751L71.6405 245.746L71.5811 245.723L71.5385 245.682L71.5461 245.644L71.6039 245.609L71.5842 245.513L71.4868 245.354L71.4199 245.269L71.2936 245.259L71.2738 245.331L71.3164 245.699L71.3103 245.781L71.2312 245.886L71.0228 246.002L70.9574 245.991L70.7703 245.761L70.5938 245.715L70.5816 245.79L70.6212 245.943L70.577 246.085L70.4493 246.217L70.3519 246.281L70.285 246.277L70.2819 246.184L70.3412 246.002L70.3565 245.851L70.3275 245.729L70.3306 245.636L70.3656 245.571L70.6014 245.389L70.7003 245.362L70.7535 245.406L70.8205 245.413L70.8996 245.384L70.9498 245.327L70.9711 245.24L71.073 245.128L71.2556 244.993L71.464 244.742L71.6983 244.376L71.9736 244.059L72.2901 243.792L72.6324 243.58L73.3215 243.287L73.3748 243.306L73.3124 243.4L73.355 243.46L73.4235 243.467L73.676 243.42L73.7764 243.359L73.8068 243.419L73.7718 243.493L73.6197 243.57L73.6243 243.632L73.8449 243.926L73.9149 243.971L73.9727 243.965L73.997 243.926L73.9787 243.714L74.0533 243.675L74.2054 243.666L74.3043 243.693L74.35 243.759L74.4367 243.812L74.5645 243.855L74.6436 243.841L74.674 243.772L74.6192 243.69L74.3743 243.509L74.3058 243.432L74.2891 243.327L74.3241 243.191L74.4017 242.99L74.5203 242.722L74.6284 242.534L74.8474 242.322L74.995 242.217L75.3692 241.893L76.0888 241.562L76.2668 241.349L76.5087 241.114L76.6122 241.056V241.148L76.6456 241.228L76.8069 241.282L76.9119 241.3L76.9606 241.283L76.9742 241.196L76.9529 241.039L76.9469 240.891L76.9575 240.751L76.9803 240.64L77.0883 240.443L77.2481 240.219L77.4672 239.957L77.6056 239.838L77.7364 239.775L77.8627 239.661L78.0787 239.389L78.1487 239.345L78.3039 239.292L78.3602 239.316L78.3937 239.385L78.4347 239.427L78.5929 239.465L78.6979 239.404L78.6812 239.372L78.596 239.353L78.5412 239.313L78.4895 239.151L78.3845 239.054L78.3602 238.942L78.3784 238.77L78.4682 238.363L78.4834 237.942L78.564 237.701L78.7253 237.614L79.0813 237.554L78.8729 237.445L78.7953 237.443L78.6599 237.391L78.6082 237.126L78.6097 236.932L78.6994 236.708L79.0311 236.33L79.3947 236.066L79.346 236.045L79.3004 235.967L79.4677 235.438L79.632 234.962L79.4114 235.367L79.1558 235.675L78.4058 236.032L77.8962 236.331L77.6543 236.403L77.4945 236.327L77.3698 236.04L77.2983 235.938L77.207 235.75L77.245 235.506L77.3181 235.337L77.4778 235.309L77.6573 235.392L77.8125 235.399L77.6117 235.232L77.3226 235.085L77.1918 235.132L77.0914 235.369L76.9575 235.531L76.8404 235.473L76.7704 235.407L76.8191 235.605L76.7293 235.906L76.6958 236.113L76.8236 236.659L76.7993 236.877L76.5665 236.976L76.3779 236.798L75.9839 236.106L75.8469 235.907L75.5381 235.579L75.4362 235.627L75.3069 235.788L75.1806 235.833L74.8474 235.595L74.6923 235.412L74.5462 235.19L74.321 235.312L74.1248 235.457L73.8951 235.689L73.7414 235.688L73.3231 235.886L73.2789 235.89L73.2196 235.997L73.1618 236.045L73.1146 236.249L72.5502 236.408L71.9919 236.319L72.1866 236.206L72.4042 236.118L72.5928 235.904L72.5122 235.619L72.4985 235.473L72.5015 235.288L72.7084 235.027H72.4939L72.3555 235.12L72.2262 234.925L72.1653 234.539L72.3129 234.31L72.3813 234.134L72.4392 233.89L72.4437 233.681L72.3296 233.325L72.001 232.567L71.8519 231.997L71.5963 231.692L71.788 231.19L72.001 230.731L72.2764 230.525L72.2551 230.495L72.1029 230.496L72.0025 230.524L71.9143 230.673L71.8215 230.787L71.5294 231.371L71.3423 231.655L71.2206 231.736L71.4168 231.846L71.4472 231.937L71.4853 232.146L71.4351 232.399L71.3849 232.54L71.1536 232.529L70.9452 232.732L70.4553 232.953L69.7951 233.078L69.471 233.063L69.1333 232.807L69.1363 232.657L69.15 232.528L68.6647 232.082L68.3894 231.637L68.1916 231.628L68.0197 231.509L67.8174 231.323L67.8356 231.173L67.8676 231.068L67.7428 230.993L67.5831 231.001L67.3975 230.949L67.8812 230.368L68.0471 229.978L68.1825 229.921L68.3589 229.982L68.6008 230.136L68.8062 230.205L68.8792 230.276L68.9553 230.414L68.8762 230.642L68.8032 230.803L68.8929 230.76L69.147 230.511L69.3372 230.293L69.4284 230.316L69.4878 230.354L69.5927 230.58L69.7236 230.809L70.0126 230.591L70.1663 230.319L70.0355 230.2L69.8757 230.13L69.4695 230.037L69.5684 229.959L69.8286 229.968L69.9274 229.894L69.824 229.79L69.6947 229.697L69.3432 230.006L68.7028 229.991L68.2555 229.81L67.8097 229.842L67.7398 229.807L67.653 229.709L67.9041 229.479L68.0821 229.351L68.0912 229.276L67.9877 229.267L67.793 229.328L67.7063 229.221L67.72 229.037L67.688 229.053L67.6105 229.154L67.5009 229.104L67.4081 229.02L67.4568 228.931L67.5526 228.809L67.51 228.791L67.4248 228.817L67.3412 228.977L67.3594 229.107L67.3579 229.293L67.2149 229.326L67.0932 229.303L67.005 229.117L66.9137 228.716L66.6672 228.609L66.6064 228.405L66.7631 228.143L66.6946 228.007L66.5288 227.963L66.3386 228.095L66.2549 227.978L66.2397 227.848L66.2336 227.662L66.2869 227.643L66.331 227.679L66.7113 227.575L66.7479 227.525L66.4451 227.366L66.3614 227.2L66.4862 227.106L66.7113 227.098L67.0278 226.999L66.8939 226.822L66.8665 226.724L66.8391 226.564L66.8924 226.293L67.2636 225.667L67.6257 225.143L67.7382 225.021L67.9041 224.955L68.0592 225.006L68.2205 225.118L68.2509 225.07L68.1962 225.024L68.1277 224.807L68.3513 224.722L68.4822 224.478L68.4913 224.408L68.3483 224.51L68.1992 224.678L68.1627 224.51L68.1247 224.123L68.1901 223.755L68.2403 223.589L68.3635 223.432L68.721 223.369L68.7834 223.401L68.7971 223.326L68.5826 223.093L68.6708 222.91L68.7484 222.815L69.1805 222.668L69.4163 222.713L69.7114 222.886L69.8833 223.101L69.859 223.21L69.8164 223.275L69.7281 223.346L69.6947 223.401L69.7099 223.445L69.8362 223.317L70.0446 223.162L70.1602 223.229L70.253 223.351L70.3549 223.349L70.6775 223.244L70.8418 223.133L71.0426 222.841L71.3088 222.652L71.6831 222.054L71.7941 221.809L71.9219 221.771L72.0375 221.792L72.1182 221.993L72.2353 222.053L72.9062 222.004L73.2485 221.911L73.4874 221.714L73.7353 221.383L73.8783 221.161L73.9468 220.869L73.8586 220.491L73.7673 220.177L73.6471 219.454L73.3139 218.974L73.0766 218.83L72.926 218.85L73.0355 218.542L73.3535 218.576L73.5604 218.516L73.7277 218.367L73.7825 218.254L73.8646 218.022L73.8357 217.775L73.7916 217.641L73.676 217.493L73.5391 217.275L73.4432 217.201L73.3626 217.206L72.9625 217.642L72.7221 217.65L72.5426 217.57L72.3859 217.818L71.9508 218.034L71.718 218.252L71.2875 218.792L71.1795 219.036L71.0426 219.047L70.9437 218.574L70.4751 218.121L70.3336 218.275L70.4112 218.417L70.5177 218.518L70.6927 218.562L70.6166 218.699L70.5588 218.881L70.3823 218.71L70.0689 218.461L69.7434 218.333L68.8975 218.347L68.3422 218.601L68.2905 218.548L68.2372 218.527L68.1444 218.588L68.1049 218.691L68.044 218.757L67.9299 218.78L67.7017 218.742L67.2605 218.583L66.2626 218.35L66.0009 218.206L65.7772 217.863L65.7818 217.63L65.8807 217.531L65.8716 217.194L65.6768 217.104L65.2813 216.617L65.1352 216.41L65.1672 216.387L65.2387 216.443L65.3741 216.486L65.7057 216.419L65.8198 216.102L66.0663 216.012L66.293 216.056L66.2428 215.971L66.185 215.904L65.5947 215.742L65.5141 215.792L64.4567 215.504L63.6215 215.001L63.5531 214.905L63.477 214.688L63.5896 214.474L63.7021 214.374L63.7067 214.491L63.725 214.607L64.2042 214.339L64.4537 213.985L64.9283 213.922L65.0394 213.825L65.187 213.634L65.3969 213.308L65.6936 213.135L65.8959 212.98L66.1591 212.888L66.3843 213.041L66.4542 213.062L66.8635 213.093L66.9974 213.027L67.0552 212.978L67.0978 212.901L66.6961 212.623L66.7372 212.469L66.7889 212.359L67.2575 212.034L67.6165 211.926L67.8082 211.934L68.3666 211.513L68.6723 211.392L69.2489 211.311L69.7221 211.291L69.8499 211.442L69.5958 211.41L69.4832 211.438L69.5623 211.49L69.6521 211.6L69.6262 211.738L69.4695 212.149L69.4817 212.475L69.3798 212.58L69.2809 212.728L69.7662 213.195L70.5162 213.224L70.9239 213.14L71.1597 213.279L71.3529 213.311L71.8869 213.239L72.2885 213.338L72.4559 213.3L72.8271 212.602L72.9731 212.492L73.1314 212.614L73.3383 212.713L73.4691 212.641L73.5771 212.821L73.5269 212.445L73.4539 212.303L72.8469 212.042L72.4407 212.172L72.3129 212.025L72.3555 211.734L71.9204 211.011L71.7393 210.864L71.5248 210.857L71.4153 210.604L71.324 210.277L71.5096 210.145L71.677 210.084L71.8321 210.189L72.0071 210.617L72.1699 210.68L72.1227 211.104L72.3251 211.493L72.7815 211.853L73.1466 211.72L73.4052 211.725L73.5589 211.801L73.9361 212.123L74.1278 212.162L74.7272 211.993L74.7333 211.676L74.6831 211.446L74.5416 211.301L74.137 211.328L73.822 211.09L73.5543 211.156L73.0583 211.52L72.8088 211.377L72.6521 211.182L72.4011 210.983L72.3692 210.607L72.5806 210.174L72.7373 209.966L72.5974 209.815L72.2459 209.708L71.6359 209.817L71.607 209.669L71.61 209.509L71.3605 209.823L71.105 209.757L70.7611 209.791L70.002 209.513L69.7312 209.17L69.6171 208.891L69.4117 208.121L69.15 207.636L67.3442 205.967L66.5227 205.543L66.1272 205.072L65.8792 204.956L65.6418 204.909L65.3391 204.756L65.543 204.567L65.6829 204.503L65.5369 204.7L65.6479 204.749L65.8244 204.636L65.9203 204.5L66.0602 203.92L66.2047 203.036L66.1667 202.685L67.1693 202.755L67.8356 202.696L68.0562 202.617L68.8975 202.481L69.115 202.382L69.5197 202.08L69.9959 201.543L70.4036 200.834L70.469 200.641L70.4949 200.69L70.5314 200.66L70.5755 200.388L70.6288 199.746L70.8311 199.138L71.6922 197.733L72.0923 197.17L72.2262 196.914L72.3646 196.726L72.462 196.905L72.5091 196.958L72.5365 197.042L72.4544 197.082L72.3205 197.263L72.1334 197.385L72.0877 197.448L72.1973 197.434L72.5259 197.301L72.7115 197.14L73.6319 196.842L74.1309 196.347L74.1507 196.235L74.8915 195.613L74.9935 195.637L75.1121 195.712L74.9068 196.124L75.0513 196.231L74.9235 196.719L75.1928 196.726L75.2521 196.951L75.2673 196.757L75.2643 196.479L75.2856 196.206L75.3251 196.017L75.5138 196.103L75.9382 195.9L75.424 195.874L75.1152 195.427L74.9433 195.424L75.5168 194.764L76.0417 194.362L76.1603 194.37L76.2181 194.445L76.2303 194.565L76.1177 194.645L76.0067 194.786L76.0584 194.911L76.1345 194.93L76.387 194.828L76.4996 194.699L77.0366 194.71L77.1948 194.619L77.2329 194.527L77.9281 194.509L78.0559 194.443L78.491 194.088L78.8926 193.655L79.0782 193.417L79.3962 192.81L79.6685 192.412L80.1112 192L80.2192 192.049L80.0747 192.128L79.9743 192.296L80.1143 192.52L81.0575 192.981L81.2948 193.005L81.3892 193.28L81.31 193.543L81.0666 193.835L80.5768 194.132L80.7274 194.245L80.8247 194.509L80.9693 194.541L81.2051 194.442L81.3892 194.28L81.7695 193.749L81.8897 193.452L81.9794 193.377L82.2989 193.449L82.4799 193.601L82.6853 193.873L82.6093 194.134L82.5256 194.28L82.7933 194.483L83.0885 194.526L83.3699 194.689L83.767 194.356L84.0773 194.285L84.3694 194.295L84.7483 194.114L85.3903 194.362L85.553 194.298L85.8101 194.341L86.084 194.491L86.1813 194.649L85.8893 194.985L85.8421 195.331L85.944 195.474L86.1296 195.499L86.1524 195.7L86.2681 195.75L86.8462 195.735L86.8021 195.83L86.7731 195.944L86.5936 196.199L87.6251 196.342L87.7635 196.202L87.9765 196.145L88.4299 195.952L88.6003 196.037L88.8011 196.235L88.9867 196.276L89.1601 196.237L89.5648 195.953L90.0318 195.939L90.2235 196.032L90.4259 195.993L91.0344 196.318L91.258 196.356L91.5577 196.775L91.7129 196.787L91.8879 196.609L92.04 196.615L92.1891 196.786L92.4325 196.838L92.5451 197.106L92.6668 197.204L93.5872 197.402L94.0421 197.312L94.7054 197.335L95.0248 197.462L95.3611 197.445L95.9103 197.905L96.2008 197.977L96.2571 198.082L97.0847 198.194L97.3738 197.954L97.8789 197.89L98.3337 197.689L98.5908 197.69L98.8905 197.741L99.0062 197.716L99.0898 197.628L99.8216 197.974L100.231 198.369L100.41 198.66L101.267 199.074L101.515 199.304L101.685 199.557L101.784 199.585L101.854 199.511L102.154 199.533L102.263 199.566ZM66.3067 212.666L66.2519 212.685L66.2549 212.631L66.4177 212.486L66.7189 212.306L66.7083 212.345L66.547 212.484L66.3067 212.666ZM58.6407 221.431L58.662 221.51L58.8111 221.498L59.021 221.531L59.2538 221.608L59.4835 221.58L59.7725 221.339L59.946 221.275L60.1194 221.242L60.3065 221.301L60.4906 221.429L60.5621 221.505L60.6184 221.637L60.6564 221.795L60.7127 221.91L61.0566 222.05L61.2756 222.106L61.3289 222.183L61.376 222.288L61.5571 222.369L61.7472 222.34L61.8537 222.369L62.1763 222.373L62.5779 222.491L62.5125 222.799L62.3816 222.934L62.0135 222.89L61.6468 222.934L61.4947 223.093L61.3684 223.293L61.3517 223.487L61.2771 223.575L61.2011 223.615L61.1387 223.508L61.055 223.18L60.9972 223.09L60.9333 223.032L60.7538 222.928L60.5728 222.863L60.4663 222.855L60.3902 222.741L60.3476 222.574L60.2746 222.489L60.1301 222.367L59.9825 222.271L59.5231 222.062L59.3724 222.035L59.2188 222.057L59.0545 222.152L58.8947 222.292L58.732 222.398L58.5631 222.42L58.4018 222.359L58.2497 222.222L58.1736 222.125L58.1326 221.955L58.1341 221.786L58.1554 221.623L58.2375 221.226L58.3805 221.148L58.6407 221.431ZM92.3412 230.096L92.1602 230.121L92.0765 230.084L92.0643 230.043L92.0993 229.895L92.0963 229.833L92.1876 229.81L92.2925 229.88L92.323 229.953L92.3412 230.096ZM56.809 231.175L57.1178 231.365L57.3156 231.346L57.4738 231.504L57.5392 231.634L57.3034 231.541L56.9611 231.547L56.4986 231.158L56.3328 231.07L56.3709 230.851L56.5488 230.739L56.6401 231.033L56.809 231.175ZM86.4841 231.452L86.4156 231.463L86.5084 231.32L86.5723 231.039L86.659 231.079L86.6758 231.131L86.5328 231.417L86.4841 231.452ZM92.7307 231.195V231.271L92.685 231.344L92.7276 231.478L92.6531 231.709L92.6242 231.855L92.5846 231.946L92.5451 231.982L92.5055 231.96L92.4979 231.91L92.5207 231.829L92.4264 231.832L92.3975 231.631L92.4492 231.567L92.4675 231.48L92.4736 231.422L92.5359 231.164L92.5588 231.146L92.5664 231.207L92.5862 231.225L92.6196 231.201L92.6683 231.086L92.6896 231.073L92.7307 231.195ZM94.5426 231.198L94.5745 231.277L94.8499 231.257L94.929 231.271L94.961 231.307L94.9229 231.361L94.8164 231.433L94.5061 231.558L94.2535 231.721L94.2201 231.705L94.1744 231.526L94.1273 231.452L94.0984 231.352V231.314L94.144 231.243L94.2368 231.141L94.3022 231.105L94.5426 231.198ZM96.3682 231.524L96.3225 231.594L96.1978 231.568L96.1309 231.524L96.3545 231.338L96.391 231.375L96.3682 231.524ZM66.2702 231.39L66.401 231.533L66.471 231.541L66.6916 231.497L66.7722 231.527L66.8513 231.59L66.9 231.684L66.9091 231.85L66.8726 231.998L66.8833 232.206L66.8756 232.296L66.9928 232.413L67.0293 232.572L67.0476 232.743L66.7935 232.799L66.5394 232.808L66.3204 232.924L66.2747 233.009L66.3097 233.136L66.2489 233.168L66.1926 233.141L66.0861 233.023L65.9689 232.967L65.5612 232.88L65.05 232.538L64.8295 232.468L64.6058 232.218L64.4035 231.899L64.5358 231.847L64.6682 231.821L65.263 231.869L65.3376 231.64L65.4136 231.582L65.6023 231.516L65.7788 231.388L65.8579 231.391L65.9385 231.44L66.1059 231.364L66.1941 231.347L66.2702 231.39ZM92.6196 233.029L92.4614 233.071L92.4234 232.987L92.507 232.776L92.574 232.657L92.6227 232.628L92.8052 232.39L93.0076 232.216L93.1932 231.962L93.3818 231.599L93.4168 231.463L93.5035 231.449L93.6465 231.539L93.7348 231.664L93.6937 231.763L93.219 232.279L93.1795 232.346L93.1369 232.52L93.0973 232.581L93.0349 232.608L92.9893 232.685L92.9604 232.81L92.9011 232.874L92.8128 232.88L92.752 232.913L92.7185 232.976L92.6196 233.029ZM92.2104 232.308L92.1358 232.396L91.8529 232.343L91.9122 232.169L92.1282 232.059L92.3656 232.23L92.2104 232.308ZM97.1608 233.014L97.0923 233.031L97.1958 232.843L97.3342 232.636L97.4651 232.506L97.6339 232.451L97.6157 232.546L97.3936 232.721L97.1608 233.014ZM73.7399 236.488L73.6349 236.533L73.5239 236.51L73.4356 236.237L73.5026 236.228L73.6441 236.048L73.9559 235.901L74.032 235.884L73.7399 236.488ZM85.8177 236.742L85.7752 236.76L85.6702 236.676L85.6017 236.587L85.6474 236.52L85.8497 236.377L85.9471 236.374L85.9866 236.397L86.0018 236.441L85.9942 236.508L85.9501 236.591L85.8177 236.742ZM85.9166 237.083L85.9684 237.106L86.0231 236.943L86.0612 236.938L86.23 237.076L86.3335 237.045L86.4004 237.214L86.4597 237.23L86.516 237.21L86.5495 237.222L86.5373 237.4L86.4141 237.58L86.3563 237.626L86.2757 237.58L86.2452 237.564L86.192 237.484L86.1524 237.384L86.1281 237.382L86.0338 237.501L86.0368 237.559L86.0764 237.647L86.0703 237.702L85.9668 237.728L85.8664 237.715L85.7432 237.791L85.7143 237.744L85.696 237.609L85.658 237.625L85.6002 237.789L85.5363 237.893L85.4207 237.98L85.3948 238.021L85.3096 238.027L85.1834 238.082L85.1058 238.073L84.6433 237.895L84.5353 237.829L84.9156 237.417L85.1149 237.259L85.2305 237.268L85.3461 237.318L85.407 237.31L85.4116 237.127L85.3035 236.99L85.3081 236.934L85.547 236.841L85.6367 236.854L85.7356 236.902L85.8284 236.979L85.9166 237.083ZM111.317 237.625L111.68 237.687L111.947 237.673L112.19 238.078L112.341 238.404L112.429 238.631L112.479 238.851L112.546 239.061L112.54 239.09L112.4 238.948L112.3 238.659L112.248 238.546L112.198 238.494L112.144 238.387L112.039 238.11L112.035 238.032L111.989 237.959L111.936 237.928L111.875 237.94L111.854 237.968L111.863 238.16L111.91 238.373L112.173 238.837L112.348 239.099L112.383 239.186L112.406 239.426L112.33 239.534L112.423 239.754L112.42 239.796L112.4 239.838L112.149 239.935L111.919 240.341L111.668 240.577L111.553 240.615L111.498 240.576L111.445 240.484L111.414 240.362L111.405 240.21L111.467 240.114L111.592 239.613L111.595 239.449L111.44 239.22L111.347 239.032L111.297 238.77L111.213 238.071L111.174 237.847L111.119 237.66L111.048 237.51L110.994 237.345L110.958 237.166L110.971 237.095L111.095 237.19L111.244 237.449L111.317 237.625ZM111.843 237.442L111.833 237.509L111.638 237.503L111.44 237.403L111.343 237.274L111.362 237.216L111.547 237.161L111.72 237.284L111.843 237.442ZM109.814 237.399L110.019 237.664L110.021 237.725L109.98 237.907L109.868 237.959L109.9 238.03L109.983 238.085L110.042 238.039L110.258 237.785L110.325 237.731L110.364 237.725L110.628 237.801L110.857 237.922L110.926 238.018L110.964 238.187L110.903 238.553L110.714 238.617L110.625 238.611L110.529 238.558L110.375 238.685L110.503 238.782L110.891 238.804L111.008 239.008L111.041 239.165L110.958 239.453L110.739 239.374L110.545 239.206L110.148 238.968L110.053 238.958L109.989 239L109.972 239.144L109.976 239.455L109.87 239.616L109.557 239.545L109.433 239.31L109.319 238.936L108.887 238.492L108.77 238.404L108.615 238.137L108.677 237.925L108.696 237.801L108.778 237.769L108.899 237.675L108.968 237.469L109.077 237.635L109.223 237.795L109.225 237.644L109.293 237.524L109.436 237.528L109.503 237.503L109.598 237.39L109.733 237.332L109.814 237.399ZM85.2275 238.537L85.2381 238.685L85.2959 238.666L85.5165 238.514L85.6321 238.469L85.7812 238.462L85.8999 238.532L85.9242 238.585L85.9136 238.649L85.8193 238.778L85.8238 238.861L85.9258 239.014L86.1768 239.098L86.2072 239.144L86.2057 239.199L86.0338 239.452L85.9699 239.511L85.9258 239.525L85.6124 239.479L85.3264 239.397L85.2107 239.383L85.1697 239.411L85.089 239.488L85.1468 239.511L85.3979 239.529L85.4861 239.642L85.5241 239.725L85.5439 239.816L85.4937 239.854L85.3857 239.882H85.2564L85.0966 239.985L85.0084 240.103L84.6889 240.133L84.447 240.291L84.3618 240.368L84.3314 240.46L84.2401 240.527L84.0332 240.594L84.1565 240.653L84.1762 240.704L84.1793 240.774L84.1625 240.835L83.9998 241.103L83.6909 241.323L83.6133 241.314L83.5799 241.286L83.5525 241.244L83.551 241.201L83.948 240.759L83.9328 240.737L83.8248 240.722L83.6529 240.6L83.5327 240.679L83.5053 240.676L83.5373 240.571L83.6164 240.446L83.6027 240.411L83.5586 240.38L83.4597 240.362L83.3045 240.356L83.1889 240.385L83.1143 240.451L83.1083 240.478L83.268 240.47L83.3121 240.504L83.3547 240.567L83.3806 240.638L83.3897 240.719L83.3562 240.829L83.2802 240.966L83.1691 240.942L82.9409 240.638L82.8405 240.191L82.6443 239.848L82.6351 239.766L82.6914 239.554L82.8892 239.252L83.1022 239.17L83.2528 239.041L83.3988 239.003L83.4886 239.006L83.6118 239.061L83.662 239.177L83.6316 239.232L83.6438 239.261L83.7305 239.331L83.8248 239.574L83.9343 239.789L84.0074 239.876L84.1032 239.929L84.0043 239.766L83.945 239.563L83.9161 239.156L83.8872 239.048L83.9419 239.019L84.0986 239.034L84.0941 238.973L83.9283 238.836L83.8263 238.721L83.7883 238.631L83.7913 238.553L83.8811 238.437L83.9328 238.404L83.9861 238.39L84.091 238.415L84.1382 238.451L84.2736 238.712L84.3375 238.793H84.3892L84.4379 238.75L84.482 238.663L84.5277 238.611L84.5748 238.595L84.7254 238.633L84.7756 238.619L84.8 238.553L84.7985 238.437L84.835 238.396L84.8441 238.311L84.7619 238.184L84.8563 238.146L85.1666 238.244L85.299 238.349L85.2275 238.537ZM84.7361 238.466L84.6965 238.541L84.6585 238.521L84.5779 238.434L84.4151 238.306L84.3405 238.218L84.336 238.18L84.3923 238.139L84.5839 238.242L84.6661 238.337L84.7361 238.466ZM110.903 239.801L111.025 240.092L111.113 240.318L111.191 240.588L111.321 241.145L111.382 241.355L111.402 241.469L111.417 241.768L111.397 241.832L111.358 241.892L111.35 241.977L111.387 242.205L111.39 242.549L111.355 242.743L111.315 242.772L111.218 242.708L111.137 242.603L111.078 242.494L110.932 242.15L110.888 241.988L110.885 241.872L110.908 241.788L110.955 241.736L111.038 241.596L111.026 241.573L110.962 241.605L110.833 241.623L110.719 241.512L110.631 241.453L110.649 241.251L110.625 241.195L110.45 241.257L110.384 241.201L110.371 241.125L110.374 241.012L110.407 240.913L110.573 240.661L110.556 240.615L110.475 240.605L110.369 240.518L110.32 240.236L110.206 240.074L110.139 240.089L109.986 240.545L109.91 240.644L109.694 240.708L109.738 240.582L109.757 240.469L109.681 240.126L109.678 239.993L109.73 239.896L109.882 239.854L109.963 239.796L110.025 239.702L110.04 239.61L110.159 239.366L110.214 239.319L110.36 239.322L110.669 239.592L110.763 239.632L110.903 239.801ZM60.5058 240.245L60.3583 240.37L60.2244 240.324L60.1848 240.234L60.1818 240.194L60.5697 240.092L60.5058 240.245ZM85.0708 240.4L84.8882 240.486L84.8563 240.483L84.7437 240.655L84.6585 240.73L84.5444 240.594L84.5733 240.384L84.6722 240.243L85.1727 240.291L85.2107 240.33L85.2123 240.364L85.1757 240.391L85.0708 240.4ZM113.199 240.721L113.295 240.803L113.346 240.716L113.444 240.721L113.623 240.797L113.73 240.913L113.79 241.044L113.795 241.122L113.777 241.3L113.79 241.482L113.783 241.576L113.759 241.654L113.717 241.715L113.673 241.723L113.533 241.559L113.374 241.265L113.252 241.175L113.247 241.206L113.281 241.289L113.38 241.448L113.398 241.543L113.468 241.659L113.5 241.747L113.518 241.861V241.962L113.498 242.047L113.466 242.102L113.421 242.127L113.177 242.102L113.031 242.16L112.861 242.128L112.82 242.076L112.794 241.991L112.782 241.785L112.739 241.489L112.75 241.261L112.64 241.053L112.546 240.928L112.411 240.815L112.322 240.704L112.347 240.615L112.485 240.548L112.712 240.564L113.199 240.721ZM112.306 241.137L112.398 241.318L112.532 241.303L112.608 241.44L112.665 241.645L112.624 241.776L112.564 241.747L112.497 241.823L112.456 242.075L112.475 242.327L112.455 242.577L112.377 242.83L112.36 242.999L112.33 243.049L112.297 243.066L112.254 243.021L112.192 242.984L112.112 243.127L112.017 243.129L111.937 242.804L112.009 242.261L112.169 242.15L112.074 242.002L111.874 241.829L111.89 241.733L111.738 241.454L111.729 241.387L111.753 241.154L111.895 240.945L112.082 240.908L112.213 240.998L112.286 241.074L112.306 241.137ZM114.086 241.97L114.07 242.008L113.888 242.005L113.822 241.974L113.798 241.863L113.815 241.759L113.857 241.68L113.909 241.526L113.949 241.268L114.216 241.556L114.299 241.684L114.343 241.84L114.248 241.898L114.133 241.927L114.086 241.97ZM61.0855 241.684L61.2741 241.736L61.3791 241.703L61.4719 241.73L61.4886 241.791L61.3274 241.925L61.2619 241.916L61.0702 241.755L61.0855 241.684ZM83.3501 241.997L83.2802 242.003L83.1737 241.935L83.1874 241.852L83.338 241.753L83.4901 241.768L83.5023 241.823L83.4947 241.886L83.4825 241.922L83.4338 241.959L83.3501 241.997ZM82.6716 242.203L82.5743 242.264L82.5423 242.243L82.5378 242.192L82.5606 242.112L82.6062 242.031L82.7568 241.877L82.909 241.774L82.9866 241.781L83.0124 241.846L82.9181 241.98L82.6716 242.203ZM114.995 243.045L114.966 243.47L114.91 243.446L114.857 243.445L114.746 243.506L114.63 243.48L114.575 243.432L114.556 243.377L114.577 243.251L114.513 243.181L114.296 243.155L114.213 243.124L114.168 242.992L114.157 242.816L114.191 242.751L114.3 242.705L114.385 242.491L114.432 242.462L114.614 242.038L114.705 242.067L114.863 242.325L115.062 242.696L114.995 243.045ZM114.038 242.69L113.965 242.697L113.879 242.658L113.673 242.447L113.67 242.385L113.699 242.314L113.816 242.185L113.863 242.154L114.143 242.168L114.233 242.203L114.253 242.264L114.248 242.325L114.219 242.388L114.213 242.452L114.229 242.519L114.197 242.586L114.038 242.69ZM112.913 242.453L113.183 242.508L113.431 242.502L113.517 242.609L113.573 242.722L113.605 242.827L113.614 242.926L113.608 242.996L113.577 243.071L113.584 243.095L114.069 243.339L114.299 243.595L114.39 243.73L114.443 243.843L114.539 244.125L114.741 244.451L114.848 244.55L114.909 244.646L114.875 244.649L114.732 244.578L114.423 244.358L114.397 244.367L114.37 244.486L114.323 244.59L114.251 244.665L114.308 244.687L114.557 244.64L114.766 244.854L114.846 244.892L114.925 245.044L114.928 245.102L114.883 245.215L114.848 245.261L114.86 245.291L114.918 245.308L115.148 245.276L115.189 245.331L115.154 245.769L115.186 245.929V246.002L115.158 246.098L115.157 246.181L115.178 246.264L115.181 246.339L115.123 246.534L115.061 246.566L114.962 246.568L114.883 246.513L114.772 246.345L114.664 246.085L114.623 246.048L114.481 246.008L114.455 245.978L114.366 245.972L114.302 245.863L114.309 245.722L114.254 245.577L114.262 245.511L114.2 245.484L114.148 245.525L114.175 245.667L114.145 245.776L114.032 245.731L113.845 245.38L113.634 245.098L113.55 245.031L113.573 244.948L113.678 244.904L113.763 244.907L113.78 244.858L113.603 244.584L113.609 244.506L113.673 244.367L113.596 244.312L113.375 244.357L113.298 244.328L113.234 244.216L113.196 244.119L113.004 244.1L112.931 244.113L112.806 243.966L112.75 243.873L112.773 243.826L112.888 243.742L112.955 243.754L113.085 243.843L113.135 243.84L113.263 243.722L113.282 243.615L113.378 243.527L113.363 243.434L113.31 243.275L113.193 243.231L112.952 243.326L112.744 243.47L112.66 243.414L112.642 243.326L112.866 243.085L112.963 242.95L112.945 242.871L112.873 242.769L112.867 242.511L112.913 242.453ZM116.617 244.625L116.567 244.903L116.468 245.186L116.317 245.339L116.211 245.305L116.133 245.183L116.06 245.189L115.983 245.163L115.94 245.061L115.981 244.93L115.945 244.828L115.907 244.916L115.838 244.999L115.668 245.105L115.549 245.308L115.493 245.439L115.423 245.296L115.379 244.954L115.373 244.81L115.497 244.59L115.657 244.381L115.689 243.756L116.199 243.44L116.246 243.457L116.412 243.693L116.588 244.023L116.634 244.17L116.635 244.428L116.617 244.625ZM81.4059 243.783L81.3496 243.864L81.2416 243.858L81.1807 243.832L81.161 243.762L81.3283 243.55L81.3663 243.521L81.3968 243.528L81.4105 243.617L81.4059 243.783ZM113.287 244.488L113.319 244.559L113.32 244.604L113.113 244.771L113.11 244.806L113.062 244.91L113.018 244.948L112.94 245.06L112.792 245.18L112.814 244.817L112.668 244.607L112.815 244.5L112.913 244.53L113.072 244.543L113.229 244.45L113.287 244.488ZM74.0761 245.066L74.0974 245.067L74.1415 245.047L74.2343 244.906L74.2648 244.899V244.944L74.2206 245.084L74.2952 245.272L74.3652 245.362L74.3576 245.394L74.1841 245.459L74.0518 245.412L73.9818 245.429L73.9179 245.494L73.8738 245.423L73.8433 245.078L73.8525 245.017L73.9255 244.896L74.0183 244.842L74.0594 244.857L74.0928 244.904L74.1005 244.954L74.0761 245.066ZM74.5858 245.008L74.566 245.206L74.3697 245.079L74.3165 245.017L74.3515 244.97L74.5386 244.957L74.5858 245.008ZM113.921 246.118L113.956 246.152L113.991 246.127L114.049 246.039L114.151 246.056L114.226 246.086L114.271 246.123L114.247 246.252L114.229 246.461L114.186 246.536L114.145 246.64L113.999 246.577L113.882 246.444L113.711 246.216L113.616 246.049L113.608 245.979L113.547 245.929L113.43 245.642L113.363 245.415L113.258 245.389L113.124 245.327L113.072 245.201L113.107 245.092L113.298 245.037L113.584 245.319L113.628 245.438L113.73 245.577L113.749 245.77L113.801 245.847L113.921 246.118ZM75.2384 245.532L75.1517 245.587L75.1243 245.657L75.0574 245.686L75.0011 245.743L74.814 245.999L74.7318 246.046L74.8231 245.827L74.8368 245.757L74.8383 245.711L74.8094 245.545L74.8642 245.552L74.9098 245.517L75.0011 245.371L75.0832 245.357L75.1715 245.182L75.2186 245.168L75.2415 245.192L75.2019 245.299L75.2856 245.397L75.2643 245.491L75.2384 245.532ZM116.101 245.656L116.247 245.981L116.255 246.095L116.115 246.135L116.006 246.118L115.949 246.08L115.934 246.027L115.969 245.862L115.898 245.764L115.814 245.731L115.739 245.787L115.735 245.624L115.791 245.506L115.759 245.348L115.758 245.227L115.776 245.189L115.852 245.192L116.007 245.316L116.101 245.656ZM75.7511 245.474L75.7435 245.674L75.7222 245.706L75.6842 245.653L75.6035 245.712L75.5594 245.67L75.5777 245.6L75.5716 245.545L75.6309 245.54L75.6446 245.441L75.634 245.4L75.6629 245.31L75.7055 245.288L75.7511 245.474ZM75.9702 245.924L75.923 245.937L75.885 245.909L75.8317 245.767L75.8272 245.708L75.9291 245.752L75.9686 245.856L75.9702 245.924ZM70.0781 245.903L70.2165 246.315L70.2773 246.396L70.3671 246.44L70.4919 246.484L70.5664 246.545L70.6318 246.637L70.6409 246.679L70.2469 246.515L69.9989 246.756L69.9244 246.788L69.2215 246.8L69.0816 246.844L68.9903 246.922L68.829 247.141L68.7484 247.227L68.6632 247.277L68.4807 247.334L68.2616 247.326L68.1475 247.297L68.0866 247.193L68.0319 246.987V246.929L68.0547 246.83L68.2494 246.695L68.3148 246.623L68.5674 246.153L68.6404 246.089L68.718 246.074L68.934 246.106L69.1181 245.969L69.5152 245.758L69.6019 245.734L69.8879 245.729L69.9655 245.761L70.0263 245.821L70.0781 245.903ZM71.7652 246.236L71.7317 246.248L71.6329 246.171L71.5963 246.115L71.5705 246.027L71.7713 245.898L71.8124 245.897L71.8504 245.969L71.8565 246.025L71.8002 246.187L71.7652 246.236ZM71.3986 247.338L71.2738 247.392L71.1415 247.335L71.0289 247.231L71.0167 247.108L71.2677 247.189L71.321 247.227L71.3986 247.338ZM67.0917 247.988L67.0293 248.006L67.0141 247.98L67.0065 247.872L66.9578 247.701L67.0491 247.639L67.1054 247.625L67.1297 247.651L67.1951 247.779L67.2605 247.813L67.3092 247.84L67.224 247.88L67.0917 247.988ZM66.6916 248.15L66.6368 248.192L66.5927 248.201L66.5592 248.177L66.4116 248.206L66.3827 248.189L66.3173 248.044L66.3128 247.97L66.3386 247.91L66.4056 247.857L66.5136 247.808L66.6185 247.817L66.8026 247.951L66.8893 248.031L66.9061 248.079L66.8422 248.125L66.6916 248.15ZM65.5825 248.563L65.6449 248.679L65.7514 248.606L65.8305 248.505L65.8913 248.375L65.9309 248.325L65.9841 248.394L66.1348 248.487L66.0085 248.63L65.7651 248.844L65.6829 248.987L65.6784 249.048L65.9142 249.001L65.9796 249.008L66.0222 249.057L65.9583 249.115L65.8305 249.167L65.7194 249.269L65.4608 249.444L65.3634 249.591L65.2478 249.647L65.0911 249.661L64.8142 249.756L64.6469 249.846L64.6043 249.894L64.5511 249.917L64.4887 249.914L64.4202 249.954L64.3472 250.035L64.2863 250.073L64.1859 250.082L64.1342 250.114L64.0764 250.112L63.9167 250.016L63.8771 249.96L64.0186 249.847L64.1205 249.809L64.2757 249.792L64.4278 249.687L64.7427 249.548L64.8401 249.472L64.9025 249.208L64.974 249.162L65.012 249.057L65.1854 249.06L65.2661 249.179L65.2935 249.196L65.3072 249.184L65.3148 249.089L65.4045 249.022L65.3528 248.973L65.1915 248.912L65.0729 248.883L64.9953 248.886L64.9314 248.851L64.8827 248.778L64.8599 248.706L64.8644 248.635L64.904 248.554L64.9785 248.465L65.0637 248.415L65.2493 248.378L65.4136 248.319L65.5004 248.31L65.5658 248.334L65.5825 248.563ZM66.1637 248.994L66.1439 249.002L66.1074 248.943L66.1059 248.888L66.1287 248.848L66.1956 248.755L66.2428 248.721L66.3006 248.705L66.3158 248.729L66.2641 248.839L66.2002 248.912L66.1637 248.994ZM63.6504 249.905L63.2123 250.161L63.0693 250.349L62.9613 250.529L62.8761 250.626L62.8137 250.643L62.7437 250.69L62.5992 250.816L62.5383 250.831L62.0728 251.122L62.0393 251.127L62.0622 251.05L62.2036 250.942L62.2964 250.843L62.4014 250.68L62.4592 250.62L62.4775 250.538L62.4851 250.372L62.5109 250.309L62.6114 250.184L62.6844 250.115L62.7802 250.093L62.975 250.114L63.0556 250.05L63.0799 250.001L63.0312 249.957L63.0191 249.881L63.0312 249.748L63.0875 249.63L63.1864 249.528L63.3218 249.449L63.4937 249.393L63.6185 249.389L63.8436 249.51L63.8771 249.565L63.8223 249.685L63.7904 249.798L63.6504 249.905ZM61.1767 251.093L61.1539 251.189L61.1326 251.224L60.912 251.174L60.7645 251.192L60.7477 251.136L60.7614 251.085L60.9927 251.009H61.087L61.1494 251.049L61.1767 251.093ZM59.6858 251.721L59.5946 251.796L59.5672 251.769L59.552 251.676L59.6037 251.604L59.7604 251.447L59.8669 251.476L59.9003 251.517L59.8973 251.577L59.8577 251.654L59.8075 251.692H59.7467L59.6858 251.721ZM54.0371 253.001L53.2689 253.097L53.1517 253.032L53.2689 252.993L53.4073 252.972L53.6964 252.862L54.0523 252.768L54.3292 252.653L54.5696 252.579L54.6381 252.455L54.4266 252.392L54.3855 252.342L54.4859 252.284L54.5696 252.2L54.7674 252.101L54.9438 252.225L54.9834 252.307L54.9667 252.406L54.9317 252.508L54.7765 252.562L54.7537 252.615L54.8374 252.768L54.5179 252.902L54.0371 253.001ZM57.2061 252.447L57.0996 252.482L56.9839 252.446L57.0372 252.322L57.092 252.257L57.1969 252.176L57.3217 252.211L57.4206 252.313L57.2061 252.447ZM55.6467 252.765L55.9281 252.859L56.2781 252.849L56.4058 252.871L56.4074 252.897L56.1837 252.935L56.1077 252.923L55.9129 252.975L55.7806 252.984L55.4778 252.935L55.2435 252.969L55.1812 252.957L55.1081 252.914L55.023 252.841L55.0184 252.795L55.0945 252.777L55.3014 252.839L55.3227 252.807L55.4976 252.748L55.6467 252.765ZM52.1126 253.077L52.0792 253.146L51.9392 253.073L51.889 253.013L51.8784 252.952L51.9194 252.852L52.032 252.85L52.0974 252.891L52.1598 252.967L52.1781 253.015L52.1126 253.077ZM51.2926 253.391L51.3003 253.469L51.4646 253.46L51.5163 253.5V253.652L51.495 253.695L51.4706 253.706L51.4113 253.672L51.3444 253.75L51.0386 253.939L50.9443 253.834L50.7663 254L50.891 253.568L51.0355 253.503L51.0888 253.454L51.0766 253.327L51.1436 253.115L51.2896 253.125L51.3565 253.213L51.3535 253.269L51.2926 253.391ZM50.4985 253.739L50.4574 253.77L50.3814 253.793L50.1623 253.767L50.0299 253.774L49.8824 253.791L49.7713 253.832L49.75 253.776L49.7531 253.73L50.2292 253.603L50.3403 253.536L50.4088 253.452L50.4711 253.294L50.5213 253.247L50.5518 253.25L50.6187 253.312L50.5944 253.395L50.5365 253.463L50.5168 253.53L50.4985 253.739ZM49.4518 253.895L49.4199 253.971L49.3849 253.969L49.1932 253.841L49.1658 253.799L49.2784 253.738L49.3104 253.69L49.2967 253.629L49.213 253.544L49.0578 253.434L49 253.356L49.038 253.308L49.1126 253.277L49.3453 253.271L49.4716 253.405L49.5659 253.452L49.788 253.485L49.6724 253.541L49.607 253.596L49.5264 253.808L49.4518 253.895ZM52.1294 253.518L52.0092 253.568L51.8495 253.466L51.8647 253.347L52.0396 253.446L52.1294 253.518ZM51.7323 253.565L51.6426 253.701L51.5756 253.64L51.5498 253.452L51.6 253.405L51.7414 253.539L51.7323 253.565Z",id:"AK"},{d:"M321.368 154.225L321.553 155.303L321.739 156.381L321.925 157.458L322.111 158.529L322.297 159.6L322.482 160.67L322.668 161.741L322.854 162.811L323.04 163.875L323.226 164.938L323.411 166.001L323.597 167.064L323.783 168.12L323.969 169.176L324.155 170.232L324.34 171.287L324.511 171.767L324.653 172.543L325.641 174.824L325.931 175.784L325.849 176.182L325.975 176.522L326.302 176.803L326.243 177.128L325.797 177.497L325.507 177.94L325.299 178.73L324.883 180.118L324.876 180.959L325.277 182.111L325.359 182.621L325.091 184.865L325.269 186.305L325.693 187.243L323.434 187.25H321.174H318.915H316.656H314.396H312.137H309.878H307.618L307.522 187.826L307.566 188.38L307.812 188.904L308.822 189.901L308.919 190.144L308.741 190.912L308.77 191.458L308.659 191.739L308.414 191.99L308.347 192.263L308.183 192.337L307.418 193.164L304.735 193.437L304.883 193.253L305.448 193.216L306.243 192.95L306.08 192.507L305.775 192.02L305.493 191.968L305.307 191.68L305.314 190.779L305.136 190.255L304.698 189.716L304.549 189.819L304.229 190.742L303.962 191.953L303.828 192.344L303.033 192.374L302.327 192.293L301.977 192.315L301.888 190.661L301.814 189.155L301.74 187.641L301.665 186.128L301.591 184.607L301.517 183.086L301.442 181.558L301.368 180.029L301.539 178.523L301.71 177.017L301.881 175.503L302.052 173.99L302.223 172.469L302.394 170.948L302.565 169.419L302.736 167.891L302.906 166.363L303.077 164.827L303.248 163.291L303.419 161.748L303.59 160.205L303.761 158.655L303.932 157.104L304.103 155.546L304.148 155.148L304.155 155.015L304.177 154.815L303.56 154.262L303.442 154.151L303.352 154.047L303.442 154.04L304.564 154.055L305.686 154.07L306.808 154.084L307.93 154.099L309.053 154.114L310.175 154.129L311.297 154.143L312.419 154.158L313.542 154.173L314.664 154.188L315.786 154.202L316.908 154.217L318.031 154.232L319.153 154.247L320.275 154.262L321.368 154.225ZM304.244 193.245L303.627 193.415L302.713 193.4L302.527 193.341L302.892 193.223L303.977 193.068L304.244 193.245Z",id:"AL"},{d:"M292.814 145.719L292.784 145.874L292.925 146.214V146.406L292.821 146.524L292.583 146.598L292.405 146.679L292.368 146.827L292.36 146.893L292.375 147.055L292.405 147.196L292.294 147.388L291.483 147.86L291.142 148.466L291.26 149.211L290.978 149.965L290.287 150.725L289.997 151.567L290.101 152.504L289.752 153.265L288.957 153.841L288.696 154.195V154.217V154.483L288.778 154.69L288.511 155.081L287.842 155.48L287.478 155.871L287.426 156.255L287.269 156.44L286.98 156.521L286.809 157.082L286.66 158.411L286.303 159.164L285.724 159.349L285.419 159.644L285.374 160.05L285.032 160.515L284.386 161.047L284.17 161.549L284.393 162.029L284.349 162.221L284.148 162.376L283.449 162.605L283.331 162.715L283.264 162.841L283.405 163.085L283.487 163.446L283.383 164.059L283.212 164.318L283.048 164.561L282.468 164.997L282.305 165.329L282.565 165.558L282.543 165.816L282.253 166.09L282.335 166.392L282.402 166.599L282.676 166.784L282.766 167.293L282.572 167.95L282.61 168.489L282.937 168.932L283.004 169.124L282.684 170.586L282.706 170.793H281.331L280.075 170.8H278.819H277.563H276.3L275.044 170.807H273.788H272.532H271.276L270.02 170.815H268.764H267.5H266.244L264.988 170.822H263.732H262.476L262.469 169.7L262.454 168.578L262.447 167.455L262.432 166.333L262.075 166.141L261.428 166.045L261.094 166.112L260.7 166.06L260.44 166.245L260.262 166.282L260.12 166.237L260.039 166.075L259.741 165.957L259.377 165.551L259.399 164.65L259.414 163.742L259.437 162.841L259.459 161.933L259.474 161.025L259.496 160.117L259.518 159.201L259.533 158.293L259.555 157.377L259.578 156.462L259.593 155.546L259.615 154.631L259.637 153.715L259.652 152.792L259.674 151.869L259.689 150.954L259.533 149.765L259.377 148.584L259.221 147.395L259.065 146.206L258.909 145.018L258.753 143.822L258.597 142.633L258.441 141.429H260.388H262.335H264.282H266.229H268.184H270.131H272.078H274.026H275.973H277.92H279.875H281.822H283.769H285.716H287.663H289.618L289.923 142.109L290.227 142.544L290.279 142.862L290.22 143.187L289.707 143.881L289.239 144.206L288.979 144.553L288.63 144.877L288.08 145.793L289.232 145.771L290.384 145.756L291.535 145.734L292.814 145.719Z",id:"AR"},{d:"M157.499 137.11V140.182L157.491 143.231V146.265V149.285V152.298V155.295V158.278V161.246V164.207V167.153V170.084V173.008V175.917V178.818V181.705V184.585H155.901L153.426 184.592L150.951 184.599L148.484 184.607H146.009L143.534 184.614L140.219 183.418L136.897 182.215L133.583 181.011L130.268 179.808L126.946 178.597L123.631 177.386L120.309 176.175L116.994 174.964L117.329 174.499L117.767 173.266L117.797 173.192L118.771 173.104L119.231 172.794L119.499 172.225L119.558 171.642L119.41 171.058L118.986 170.615L118.31 170.328L117.916 169.523L117.812 168.186L117.931 167.463L118.288 167.359L118.629 167.035L118.949 166.488L119.194 165.89L119.35 165.24L119.38 164.421L119.283 163.424L119.915 162.199L120.539 161.438L121.699 160.508L121.966 160.227V159.998V159.976L121.729 159.651L120.688 159.002L120.242 158.536L120.205 158.108L120.19 158.101L120.056 157.687L118.942 155.96L118.57 155.015V154.306V154.247L118.704 151.242L118.302 150.201L118.206 149.61L118.325 148.887L118.295 148.429L118.102 148.037L118.057 147.321L118.035 146.435L117.715 145.867L117.656 145.616L117.834 145.003L118.161 144.685L118.696 144.464L119.306 144.39L119.997 144.457L120.525 144.737L120.874 145.217L121.216 145.461L121.558 145.468L122.004 145.077L122.405 144.228L122.539 144.176L122.554 140.47L122.561 137.088H124.746H126.924H129.109L131.294 137.095H133.479H135.664H137.841L140.026 137.103H142.211H144.396H146.581H148.759L150.944 137.11H153.129H155.314H157.499Z",id:"AZ"},{d:"M80.8599 92.2273V93.9697V95.7122V97.4473V99.1749V100.903V102.623V104.336V106.049V107.754V109.452V111.151V112.841V114.525V116.208V117.884V119.56L82.5023 121.015L84.1448 122.469L85.7799 123.916L87.4224 125.363L89.0574 126.803L90.6999 128.243L92.3424 129.675L93.9774 131.108L95.2632 132.311L96.5489 133.515L97.8346 134.718L99.1204 135.914L100.406 137.11L101.692 138.306L102.978 139.495L104.263 140.684L106.04 142.389L107.816 144.087L109.592 145.786L111.368 147.476L113.145 149.167L114.921 150.85L116.697 152.534L118.6 154.321V155.029L118.971 155.982L120.086 157.702L120.22 158.116L120.235 158.123L120.279 158.551L120.718 159.016L121.758 159.666L121.996 159.984V160.013L121.989 160.242L121.721 160.523L120.562 161.453L119.937 162.213L119.306 163.439L119.402 164.436L119.373 165.255L119.217 165.905L118.979 166.503L118.652 167.049L118.31 167.374L117.953 167.478L117.827 168.201L117.931 169.53L118.325 170.342L119.008 170.63L119.425 171.066L119.581 171.657L119.521 172.232L119.246 172.801L118.785 173.111L117.812 173.192L117.782 173.266L116.98 173.355L114.98 173.532L112.981 173.709L110.982 173.886L108.983 174.063L106.983 174.241L104.984 174.418L102.985 174.595L100.986 174.772L100.971 174.721L100.926 173.82L100.599 173.502L100.183 173.702L99.9899 172.535L100.094 171.981L100.042 171.442L99.648 170.113L98.6076 168.496L96.3631 166.481L95.2186 165.809L94.3193 164.953L93.747 164.716L93.0336 164.65L92.8254 165.034L92.0154 164.768L92.1343 163.815L91.339 162.486L90.6925 162.339L89.0648 162.427L86.8873 161.696L86.2407 161.261L86.0177 160.478L84.9921 159.799L83.6469 159.135L82.8963 159.29L81.9152 159.186L80.518 158.706L79.7005 158.647L78.11 158.787L77.5155 158.684L76.9655 158.079L76.3709 157.776L76.4973 157.03L76.423 156.351L76.5121 155.827L76.2446 154.668L76.4527 153.59L76.2744 153.198L75.9399 152.903L74.8845 152.46L74.6913 151.906L74.8622 151.138L74.5873 150.629L73.7251 150.156L72.9225 149.078L71.9043 148.488L71.4881 147.498L70.8564 146.886L70.6409 146.339L69.2436 144.397L67.7498 142.877L67.5194 141.998L67.4599 140.794L68.0471 140.063L68.3592 139.414L68.3295 138.823L68.2403 138.387L67.7275 137.627L65.7431 137.177L64.1304 135.301L64.0338 133.862L63.4021 132.385L63.3946 131.425L63.298 130.384L63.7811 130.155L64.2121 130.236L64.1676 130.65L64.3088 131.396L64.8141 131.957L65.2972 132.2L65.7357 132.747L66.0627 132.909L66.4046 132.946L66.2188 132.599L66.0256 132.378L65.7877 131.654L65.3418 130.731L64.829 130.222L64.5689 129.291L64.3459 129.077L64.2047 128.73L64.7027 128.317L65.3864 128.021L66.3005 127.94L68.8869 128.073L69.4369 127.837L69.8902 127.918L70.2247 127.888L69.5261 127.645L69.1321 127.726L68.6639 127.674L67.7424 127.726L67.3708 127.623L66.9546 127.327L66.687 127.298L65.8323 127.807L65.4533 127.748L64.554 127.194L64.1601 127.113L63.5284 127.431L63.4541 128.797L63.6473 129.808L63.2683 129.911L62.8298 129.491L62.1535 129.24L61.5961 128.863L60.8083 128.154L60.3921 127.896L59.9239 128.487L59.909 128.213L60.1394 127.534L60.0725 126.39L60.7786 127.305L60.563 126.663L60.0131 125.954L59.5969 125.71L59.0692 124.441L57.8875 123.673L56.9436 122.432L55.0113 120.372L54.885 118.556L54.1789 116.252L54.4762 114.938L54.4391 114.008L54.0897 112.598L53.7256 111.83L52.1574 109.718L50.6487 108.293L50.4183 107.215L50.3143 106.123L50.6413 105.148L50.9237 104.122L51.1318 103.849L51.2135 103.959L51.1541 104.181L51.3696 104.247L51.4514 103.797L51.5777 103.561L51.3547 103.531L51.377 103.391L51.5108 103.103L51.979 101.752L51.9344 100.046L52.4324 97.9419L52.4101 97.2479L52.0905 95.7491L51.7709 94.8483L51.1987 94.206L51.4514 93.2683L51.4291 92.375L51.3102 92.2273H53.2202H55.0633H56.9065H58.7496H60.5928H62.4359H64.2791H66.1222H67.9653H69.8085H71.6516H73.4947H75.3379H77.181H79.0242H80.8599ZM81.6848 161.962L83.1118 162.391L83.8773 162.184L84.0185 162.391L83.9293 162.568L82.1977 162.893L81.67 162.664L81.6254 162.354L81.447 162.058L81.6848 161.962ZM78.7195 162.42L78.3479 162.442L77.7756 162.354L77.9763 162.162L78.2958 162.021L78.3999 162.125L78.7195 162.42ZM80.5626 163.299L80.0721 163.417L79.7005 163.306L79.106 162.509L80.3694 162.405L80.9119 162.752L80.9862 162.848L80.5626 163.299ZM92.4241 167.729L92.7808 168.341L92.2755 168.268L91.7404 168.305L91.5769 167.972L91.4208 167.507L91.3168 167.389L90.9526 167.345L90.9228 167.3L90.8783 167.079L90.9823 166.968L92.1268 167.485L92.4241 167.729ZM84.7989 169.124L84.4867 169.139L84.0557 169.065L83.8327 168.622L84.182 168.592L84.509 168.652L84.7692 168.999L84.7989 169.124ZM92.4018 172.343L91.9931 172.417L91.5397 172.247L91.1532 171.45L90.7222 170.83L90.9526 170.652L91.3019 171.25L92.1714 172.159L92.4018 172.343Z",id:"CA"},{d:"M206.625 110.567L206.632 112.266V113.949L206.639 115.632L206.647 117.316V118.984L206.654 120.653L206.662 122.322V123.983L206.669 125.637L206.677 127.291L206.684 128.937V130.583L206.691 132.223L206.699 133.854V135.486L206.706 137.11H204.975H203.25H201.519H199.795H197.149H194.503H191.865H189.219H186.573H183.935H181.289H178.643H176.005H173.359H170.713H168.067H165.429H162.783H160.137H157.499V134.947V132.769V130.583V128.391V126.19V123.983V121.768V119.545V117.316V115.079V112.827V110.575V108.308V106.034V103.76V101.471H159.691H161.891H164.091H166.284H168.483H170.683H172.876H175.076H177.276H179.468H181.668H183.86H186.06H188.26H190.452H192.652H194.399H196.145H197.892H199.638H201.385H203.132H204.871H206.617L206.625 102.616V103.76V104.897V106.034V107.171V108.308V109.438V110.567Z",id:"CO"},{d:"M418.073 92.1165L418.081 92.6186V93.32L418.088 93.8294L418.095 94.5235V95.3209L418.103 96.0518L418.11 96.6868L418.088 97.0633L418.051 97.6392L417.872 97.8607L417.783 98.3923L417.174 98.3406L416.163 98.4735L414.825 98.791L414.082 98.6064L413.324 98.9387L410.753 99.0346L410.21 98.8575L409.519 99.485L408.412 99.8616L405.602 101.272L405.275 101.552L404.911 100.976L404.629 100.519L405.193 100.157L405.625 99.8837L406.033 99.6327L406.301 99.4629L406.085 99.1085L405.877 98.7541L405.929 97.8755L405.989 97.0042L406.041 96.1256L406.1 95.247L406.152 94.3611L406.212 93.4825L406.264 92.5965L406.323 91.7104L406.91 91.74L407.497 91.7621L408.085 91.7843L408.679 91.8138L409.266 91.836L409.853 91.8655L410.44 91.8876L411.028 91.9098L411.035 92.1534L411.34 92.1239L411.377 91.9098L412.217 91.9245L413.049 91.9393L413.889 91.9541L414.721 91.9688L415.561 91.9762L416.394 91.991L417.233 92.0058L418.066 92.0205L418.073 92.1165Z",id:"CT"},{d:"M381.485 120.535L381.329 120.306L380.987 120.121L380.846 120.055L381.404 119.449L381.775 119.974L382.184 120.55L381.56 121.273L381.485 120.535Z",id:"DC"},{d:"M392.745 112.243L392.44 112.561L392.18 113.129L391.578 113.816L391.623 114.281L391.727 114.606L391.675 115.293L392.054 115.957L392.804 117.042L392.946 118.726L393.518 119.848L394.395 121.162L395.071 121.532L395.101 122.019L394.796 122.816L394.38 123.185L394.915 123.112L395.183 123.296L395.443 123.961L395.428 124.381L394.677 124.389H393.131H391.578H390.872H390.857H390.842H390.827H390.813H390.79H390.775H390.761H390.746L390.679 122.986L390.612 121.583L390.545 120.173L390.471 118.763L390.404 117.345L390.337 115.928L390.27 114.51L390.203 113.085L390.731 112.361L390.954 112.14L391.251 112.029L392.121 111.992L392.745 112.243Z",id:"DE"},{d:"M350.189 189.399L350.516 190.13L351.014 193.105L351.356 194.139L351.973 196.915L352.983 199.595L354.418 202.821L356.766 206.712L357.049 207.266L356.744 207.731L356.647 208.219L356.618 208.949L356.699 209.658L356.974 210.529L357.51 211.858L357.212 211.593L356.439 209.688L356.35 208.566L356.462 206.971L356.283 207.008L356.135 207.524L356.053 208.13L355.86 208.366L355.592 207.436L355.614 207.015L355.897 206.528L355.815 206.351L355.354 206.1L355.258 205.701L355.317 205.31L355.057 205.103L354.849 205.11L354.99 206.07L355.206 206.661L355.473 208.071L355.912 208.927L356.164 209.643L359.13 217.248L359.828 218.216L360.088 218.909L360.356 220.357L360.415 222.21L359.932 225.584L359.821 227.873L359.754 227.806L359.709 227.563L359.598 227.533L359.174 228.582L358.602 229.527L358.416 230.996L358.141 231.727L357.316 232.502L356.803 232.48L355.555 233.063L354.678 232.908L353.63 233.233L352.939 233.196L352.537 232.502L352.597 232.192L352.753 231.882L353.021 231.808L353.95 232.532L354.12 232.229L353.838 231.867L353.303 231.668L352.909 231.446L352.114 229.792L351.289 228.655L351.148 227.895L349.728 227.43L348.695 226.728L348.026 225.473L347.64 223.244L347.186 222.992L346.993 222.815L347.439 221.988L347.907 221.294L347.536 221.464L347.261 221.723L346.911 222.335L346.659 222.431L346.428 222.335L346.161 221.161L346.235 219.714L346.614 219.168L346.034 219.153L345.44 219.36L345.529 219.847L345.447 220.113L345.009 220.047L344.682 219.877L344.236 219.375L343.626 218.415L342.37 215.764L342.125 215.388L341.709 214.996L341.902 214.871L342.259 214.797L343.062 213.601L343.693 212.877L343.901 212.375L343.864 212.161L343.582 211.851L343.218 212.124L343.062 212.043L342.645 211.415L342.252 211.238L341.977 211.379L342.266 211.895L342.527 212.087L342.423 212.84L342.318 213.084L342.073 213.298L341.694 213.18L341.501 213.365L341.271 213.173L341.048 212.84L340.795 212.294L341.456 209.23L342.073 207.273L342.14 205.036L342.185 204.704L342.133 204.106L341.308 202.807L337.659 199.632L334.834 195.859L332.389 194.441L330.531 194.751L330.212 195.039L330.07 195.416L330.189 195.837L330.018 196.014L329.521 195.992L328.852 196.088L327.098 197.085L326.481 197.048L325.916 197.306L325.492 197.498L324.392 197.601L323.463 197.823L323.062 197.705L322.802 197.129V196.531L323.017 196.989L323.345 197.343L323.493 197.203L323.553 196.885L323.226 196.265L322.17 195.468L320.974 194.301L321.338 194.338L321.427 194.087L321.055 193.762L321.211 193.386L321.472 192.987L320.966 193.046L320.513 193.326L320.498 193.673L320.409 193.947L320.164 193.91L319.71 193.57L317.473 192.625L315.519 192.093L317.02 191.85L317.83 192.034L317.733 191.746L317.54 191.562L316.901 191.333L316.083 191.422L315.571 191.311L315.043 191.54L314.463 191.879L313.95 192.057L311.936 192.3L310.301 192.566L310.561 192.285L310.844 192.108L311.81 191.835L311.951 191.267L311.721 190.72L311.468 190.853L311.201 191.281L310.874 190.971H310.509L310.413 191.658L309.945 192.116L309.736 192.573L308.376 192.935L308.198 192.817L308.599 192.381L308.57 192.138L308.28 192.271L308.347 191.997L308.592 191.746L308.703 191.466L308.674 190.92L308.852 190.152L308.755 189.908L307.745 188.911L307.499 188.387L307.455 187.833L307.551 187.257H309.811H312.07H314.329H316.589H318.848H321.107H323.367L325.626 187.25L325.916 187.885L326.473 189.199L326.496 189.509L327.15 189.554L328.265 189.627L329.379 189.701L330.494 189.775L331.609 189.849L332.724 189.923L333.839 189.997L334.953 190.07L336.068 190.144L337.183 190.218L338.298 190.292L339.413 190.366L340.527 190.44L341.642 190.513L342.757 190.587L343.872 190.661L344.987 190.735L344.994 191.001L345.18 191.414L345.224 191.887L345.306 192.116L345.529 192.256L345.878 192.293L346.235 192.027L346.458 191.444L346.518 190.787L346.384 190.034L346.406 189.399L346.584 189.029L346.793 188.941L346.971 188.741L347.12 188.697L347.506 188.801L348.955 189.332L350.189 189.399ZM326.377 198.111L325.671 198.399L324.913 198.192L325.381 198.155L325.723 198.236L326.585 197.823L327.038 197.513L327.566 197.395L326.377 198.111ZM359.405 216.702L359.516 217.278L358.87 215.949L358.074 213.859L357.651 212.242L357.941 212.678L358.223 213.586L359.405 216.702ZM346.131 222.335L346.124 222.786L345.774 222.025L345.537 221.184L345.871 221.457L346.131 222.335ZM346.458 223.096L346.205 223.295L345.7 223.148L345.425 222.882L345.306 222.365L345.745 222.911L345.901 223.037L346.458 223.096ZM358.037 233.167L356.647 234.599L356.803 234.237L357.346 233.469L357.524 233.108L357.889 232.879L358.23 232.465L358.253 231.978L358.751 231.638L358.914 231.587L358.037 233.167ZM356.246 234.99L356.06 235.027L356.335 234.702L356.41 234.724L356.246 234.99ZM354.908 235.751H354.775L354.841 235.64L355.116 235.426L355.213 235.507L355.198 235.618L354.908 235.751ZM353.407 236.408L353.087 236.585L352.753 236.452L353.117 236.275L354.202 236.083L353.793 236.327L353.407 236.408ZM351.371 236.91L351.163 237.065L351.066 237.013V236.784L350.769 236.282L350.776 236.149L351.46 236.644L351.475 236.777L351.371 236.91ZM349.75 237.301L349.297 237.375L349.661 237.072L349.78 236.615L349.996 236.969L349.988 237.183L349.75 237.301ZM348.234 237.722L348.056 237.737L348.041 237.619L348.346 237.478L348.546 237.486L348.539 237.641L348.234 237.722Z",id:"FL"},{d:"M354.611 178.885L354.254 179.571L353.4 180L353.14 179.985L352.924 180.11L353.05 180.421L353.266 180.642L353.259 180.849L353.036 181.129L352.59 181.211L352.337 181.535L352.419 181.838L352.567 182.008L352.538 182.296L352.032 182.591L351.913 182.879L352.166 182.96L352.359 182.879L352.5 182.938L352.196 183.418L351.921 183.713L351.661 184.238L351.059 184.385L351.081 184.555L351.423 184.703L351.705 185.109L351.17 185.855L350.836 185.796L350.635 185.633L350.509 186.224L350.561 186.534L350.434 187.176L350.226 187.944L350.085 188.262L350.115 188.845L350.204 189.413L349.022 189.34L347.573 188.808L347.187 188.705L347.038 188.749L346.86 188.948L346.651 189.037L346.473 189.406L346.451 190.041L346.585 190.794L346.525 191.451L346.302 192.034L345.945 192.3L345.596 192.263L345.373 192.123L345.291 191.894L345.247 191.422L345.061 191.008L345.054 190.742L343.939 190.668L342.824 190.595L341.709 190.521L340.594 190.447L339.48 190.373L338.365 190.299L337.25 190.226L336.135 190.152L335.02 190.078L333.905 190.004L332.791 189.93L331.676 189.856L330.561 189.783L329.446 189.709L328.331 189.635L327.217 189.561L326.563 189.517L326.54 189.207L325.983 187.892L325.693 187.257L325.269 186.32L325.091 184.88L325.359 182.636L325.277 182.126L324.876 180.974L324.883 180.133L325.299 178.745L325.507 177.955L325.797 177.512L326.243 177.142L326.303 176.818L325.976 176.537L325.849 176.197L325.931 175.799L325.641 174.839L324.653 172.557L324.511 171.782L324.34 171.302L324.155 170.246L323.969 169.191L323.783 168.135L323.597 167.079L323.411 166.016L323.226 164.953L323.04 163.889L322.854 162.826L322.668 161.756L322.482 160.685L322.297 159.614L322.111 158.544L321.925 157.473L321.739 156.395L321.553 155.317L321.368 154.239L323.642 154.269L325.916 154.299L328.19 154.328L330.464 154.358L332.583 154.328L334.701 154.299L336.819 154.269L338.937 154.239L338.892 154.247L338.551 154.815L337.525 155.886L337.25 156.705L338.573 157.621L338.58 157.628L339.368 158.367L339.911 158.655L340.461 158.743L340.802 158.987L341.003 159.578L342.608 162.494L344.273 163.993L344.942 164.731L345.276 165.44L346.696 166.606L347.179 167.234L347.201 167.707L347.372 168.046L347.684 168.245L347.982 168.674L348.272 169.323L348.836 169.892L349.684 170.372L350.301 171.472L350.694 173.178L351.096 174.167L351.705 174.58L352.538 176.035L352.805 176.899L352.79 177.659L353.214 178.25L354.611 178.885ZM350.784 187.464L350.472 189.428L350.338 188.734L350.323 188.062L350.561 187.664L350.784 187.464Z",id:"GA"},{d:"M-39.8044 161.237L-40 161.28L-39.9783 161.14L-39.7935 161L-39.6197 161.043L-39.6958 161.162L-39.8044 161.237ZM144.298 231.064L143.396 231.678L142.875 231.42L141.886 231.323L141.505 230.86L140.462 230.45L140.039 229.88L140.68 228.813L142.19 227.909L144.515 227.952L145.004 228.663L145.048 229.19L144.743 229.783L144.602 230.623L144.298 231.064ZM136.04 232.055L135.833 232.54L135.486 232.465L135.399 232.034L135.627 231.441L136.214 230.935L136.866 230.16L137.398 230.278L137.116 230.784L137.083 231.334L136.333 231.646L136.04 232.055ZM160.391 236.224L160.738 236.288L161.195 236.213L161.347 237.075L161.868 237.548L162.064 237.829L161.499 238.13L160.391 238.249L159.869 238.012L159.337 237.473L158.761 237.624L158.663 237.193L158.554 237.064L158.152 237.182L158.522 237.742L157.522 237.785L157.207 237.721L156.924 237.085L155.892 235.868V235.394L155.544 234.834L157.076 234.673L158.13 233.682L158.717 233.574L159.847 235.179L159.815 235.631L160.065 236.073L160.391 236.224ZM166.378 238.83L168.54 239.132L169.051 239.003L169.409 239.239L171.202 239.39L171.506 239.476L171.137 240.037L169.996 240.543L168.344 240.09L165.584 239.929L165.693 239.498L165.954 239.196L165.997 238.669L166.378 238.83ZM173.821 241.889L174.082 242.083L175.168 241.792L175.951 241.684L177.276 242.395L177.733 242.88L178.602 243.397L178.895 243.774L178.656 244.226L177.7 244.98L176.396 245.153L175.625 245.476L174.614 245.411L174.31 245.271L174.201 244.323L173.886 243.3L173.234 243.419L172.506 243.074L171.745 242.212L171.659 241.695L172.082 240.877L172.81 240.769L173.354 241.221L173.821 241.889ZM170.105 243.612L169.496 243.914L168.833 243.774L168.681 243.042L168.051 242.105L169.159 241.911L169.79 242.18L170.116 242.471L170.518 242.977L170.105 243.612ZM183.079 262.483L182.622 263L182.057 262.957L180.004 261.858L179.754 261.266L179.906 258.53L179.134 256.3L178.287 254.599L178.906 253.726L179.721 253.048L180.623 251.766L179.884 250.118L180.069 249.127L180.503 248.955L182.644 250.161L186.969 251.971L188.121 253.242L188.327 254.609L189.109 254.782L189.479 255.719L190.62 256.537L191 257.001L190.533 257.755L188.457 259.198L185.839 259.823L183.535 261.438L183.079 262.483Z",id:"HI"},{d:"M286.199 87.4282L286.623 88.0706L287.359 88.6464L287.775 89.1854L287.879 89.6875L288.325 90.2265L289.12 90.795L289.581 91.297L289.707 91.7326L289.685 92.4045L289.514 93.3127L289.224 93.9698L288.815 94.3685L288.518 94.9296L288.317 95.6532L287.693 96.3103L286.645 96.9231L285.471 97.3366L284.185 97.558L283.42 98.0823L283.182 98.9018L283.286 99.5811L283.747 100.135L284.007 100.718L284.074 101.331L283.754 102.35L283.041 103.767L282.245 104.683L281.383 105.096L280.997 105.709L281.094 106.521L281.019 106.979L280.662 107.142L280.046 106.662L279.934 106.322L279.436 105.982L279.362 105.768L278.983 105.576L278.634 104.912L276.872 104.927L275.103 104.934L273.342 104.949L271.573 104.963L269.812 104.978L268.043 104.986L266.281 105L264.52 105.015L262.751 105.03L260.99 105.045L259.221 105.052L257.46 105.067L255.691 105.082L253.929 105.096L252.161 105.111L250.414 105.119L249.99 104.439L249.76 103.812L249.901 103.509L249.931 102.49L249.849 100.74L249.678 99.7509L249.426 99.5294L249.396 99.2193L249.589 98.8354L249.53 98.5695L249.218 98.4293L249.121 98.0971L249.24 97.558L249.166 97.2332L248.898 97.1151L248.794 96.9305L248.839 96.6794L248.69 96.5244L248.363 96.4506L248.229 95.8451L248.289 94.7007L248.17 93.896L247.858 93.416L247.694 92.9731V92.5522L247.367 91.8951L246.706 90.9943L246.282 89.7982L246.089 88.3216L245.62 87.4946L245.405 87.4503L245.227 86.6751L245.041 86.3281L245.004 86.0623L244.424 85.3904L244.387 85.132L244.461 84.8072L244.84 84.1722L245.182 83.1311L245.256 82.4297L245.539 81.8981L245.546 81.6102L245.494 81.2262L245.345 80.8866L244.885 80.643L244.833 80.5322L244.788 80.1483L244.974 79.9047L245.033 79.6315L244.981 79.2918L244.706 78.7086L244.587 78.1105L245.598 78.0736H247.872H250.147H252.428H254.702L256.977 78.0662H259.251H261.525H263.799H266.073H268.348H270.629H272.903H275.178H277.452H279.726L282.037 78.0588L282.089 78.6569L282.223 79.0851L282.506 79.4321L282.937 79.6905L283.004 80.2L282.721 80.9457L282.624 81.8686L282.714 82.9687L282.929 83.9581L283.264 84.8367L284.037 85.479L285.233 85.8925L285.939 86.5127L286.147 87.3617L286.199 87.4282Z",id:"IA"},{d:"M143.467 68.4679V69.9815L143.475 71.4877V72.9939V74.5001V75.9988V77.4903V78.9817V80.4657V81.9497V83.4264V84.9031V86.3724V87.8416V89.3035V90.7654V92.2199H142.167H140.859H139.551H138.243H136.935H135.626H134.318H133.01H131.702H130.394H129.086H127.778H126.47H125.162H123.854H122.546H119.945H117.344H114.742H112.141H109.54L106.939 92.2273H104.338H101.736V90.1452L101.729 88.0483V85.9515L101.722 83.8473V81.7356V79.6093L101.714 77.4829V75.135L101.707 75.0833L102.153 73.6362L102.242 72.9274L102.13 72.5287L102.205 72.1448L102.472 71.7756L102.465 71.3622L102.182 70.9265L101.647 70.6312L100.874 70.4909L100.473 69.9667L100.443 69.0733L101.023 67.6927L102.212 65.8247L102.859 64.5031L102.978 63.7205L103.691 61.9189L105.007 59.0838L105.512 57.2601L105.207 56.4627L104.531 55.6949L103.498 54.9639L102.769 54.1075L102.576 53.6718L102.338 53.1329L102.22 52.4536L102.398 52.0623L102.249 51.3756L101.781 50.3937L101.58 49.7292L101.625 49.4929L101.677 49.3969L101.67 47.7874V46.163L101.662 44.5387L101.655 42.9144L101.647 41.2827L101.64 39.6436V37.9971L101.632 36.3507L101.625 34.6968L101.618 33.043V31.3743L101.61 29.7057L101.603 28.0297L101.595 26.3537V24.6703L101.58 22.9869H103.832H106.812H108.507V25.5859V28.1774V30.7542V33.3235L109.258 34.3646L109.815 34.9995L110.172 35.6862L110.714 36.4024L110.818 36.6608L111.012 37.4286L110.87 37.9824L111.16 38.5509L111.108 38.8241L110.893 38.9717L110.848 39.016L110.856 39.0751L110.93 39.1637L111.695 39.7027L112.446 40.4558L113.397 40.9726L113.702 41.2753L114.958 42.7667L115.612 43.7192L116.296 44.4132L116.638 45.2032L117.344 45.8899L117.522 46.2442L117.567 46.3181L117.663 46.3255L118.102 46.163L118.213 46.2073L118.429 46.4805L118.473 46.894L118.629 47.0712L118.904 47.1672L119.217 47.1967L120.175 46.9974H120.383L120.487 47.0786L120.532 47.3001L120.517 47.6618L120.421 48.1787L120.131 48.6881L120.183 49.1607L119.952 50.2534L119.737 50.9917L119.714 51.7005L119.447 52.114L119.596 52.6013L119.492 53.3396L119.588 53.5316L119.93 53.8712L120.064 54.7793L120.004 54.9491L119.395 55.3035L119.187 55.5324L119.105 55.8647L119.373 56.8171L119.112 57.3413L119.083 57.7917L119.142 57.9098L119.707 58.1535L120.391 58.6851L120.606 58.8032L120.762 58.7811L121.052 58.6039L121.372 58.2421L122.026 57.8729L122.799 57.0903L122.836 56.8688L122.895 56.7507H122.999L123.245 56.8614L123.728 57.3339L124.151 57.5997L124.226 57.6588L124.263 57.7917L124.241 58.2642L124.478 58.6334L124.545 59.2388L124.791 59.8516L124.961 60.5826L125.593 61.5276L125.935 62.1995L126.314 62.5096L126.545 62.864L126.708 63.2922L126.775 63.6393L126.552 64.2668L126.611 64.5252L126.812 64.8058L127.466 65.4555L127.592 65.5072L128.202 65.4408L128.529 65.5441L128.856 65.869L129.183 66.3563L129.398 66.851L129.458 67.4343L129.792 68.0766L129.837 68.6451L130.045 68.8961L130.461 69.2358L130.863 69.4425L131.019 69.4573L131.13 69.3687L131.167 69.0512L131.323 68.8149L131.821 68.4753L132.297 68.4827L134.088 68.7632L134.207 68.7485L134.289 68.6525L134.593 68.1357L134.839 67.9289L135.218 67.8625L136.318 67.9954L137.589 67.9216L138.25 68.0692L139.216 67.8773L140.331 68.0175L140.48 67.9363L140.509 67.8256L140.413 67.6336L140.398 67.2497L140.621 66.7919L140.695 66.4006L140.925 66.1791L141.223 66.061L141.468 66.0757L141.706 66.2825L141.973 66.6295L142.449 67.5745L142.702 67.9142L143.006 68.2095L143.467 68.4679Z",id:"ID"},{d:"M306.058 87.5832L306.05 89.0452L306.162 90.256L306.37 90.795L306.615 91.1937L306.875 91.4447L307.18 92.2273L307.522 93.5415L307.841 94.4054L308.094 94.7598L308.079 97.2332L308.072 99.9945L308.064 102.749L308.049 105.48L308.042 108.212L308.035 110.922L308.02 113.624L308.012 116.164V116.208L307.685 116.481L307.462 116.954L307.522 117.463L307.433 117.825L307.21 118.047L307.321 118.6L307.76 119.486L308.027 120.365L308.116 121.229L308.035 121.842L307.656 122.403L307.291 123.614L306.979 124.094L306.593 124.256L306.251 124.706L305.954 125.445L305.634 125.799L305.292 125.777L305.039 125.917L304.876 126.205L304.898 126.508L305.099 126.833L305.032 127.128L304.698 127.401L304.705 127.534L304.809 127.615L304.772 127.741L304.556 127.874L304.43 128.28L304.445 128.952L304.326 129.291L304.103 129.306L304.073 129.491L304.445 130.251L304.229 130.406L303.843 131.034L303.761 131.72L303.992 132.474L303.412 133.086L302.015 133.544L301.279 133.958L301.197 134.312L301.294 134.851L301.569 135.575L301.621 136.077L301.442 136.357L300.446 136.165L298.633 135.508L297.422 135.53L296.805 136.232L296.589 136.763L296.664 137.191L296.173 136.667L295.839 136.431L295.779 136.446L295.705 136.512L295.675 136.675L295.697 136.793L295.742 136.926L295.72 137.007L295.638 137.014L295.281 136.815L294.85 136.232L294.337 135.272L294.226 134.511L294.516 133.943V133.352L294.226 132.725L294.085 132.112V131.514L293.386 130.613L291.989 129.417L290.963 128.671L290.302 128.391L289.536 127.793L288.659 126.87L288.191 126.161L288.132 125.674L288.533 124.367L289.692 121.502L289.826 121.17L289.863 121.044L289.811 120.919L289.7 120.801L289.209 120.461L288.273 120.173L287.403 120.018L286.712 120.358L286.11 119.664L285.59 117.929L284.319 116.097L282.283 114.163L281.101 112.841L280.774 112.147L280.484 111.099L280.246 109.696L280.254 108.537L280.662 107.142L281.019 106.979L281.093 106.521L280.997 105.709L281.383 105.096L282.245 104.683L283.041 103.767L283.754 102.35L284.074 101.331L284.007 100.718L283.747 100.135L283.286 99.5811L283.182 98.9018L283.42 98.0823L284.185 97.5581L285.471 97.3366L286.645 96.9231L287.693 96.3103L288.317 95.6532L288.518 94.9296L288.815 94.3685L289.224 93.9698L289.514 93.3127L289.685 92.4045L289.707 91.7326L289.581 91.2971L289.12 90.795L288.325 90.2265L287.879 89.6875L287.775 89.1854L287.359 88.6464L286.623 88.0706L286.199 87.4282L289.41 87.4577L292.561 87.4799L295.712 87.502L298.863 87.5242L302.015 87.5537L305.166 87.5759L306.058 87.5832Z",id:"IL"},{d:"M327.157 95.0034L327.135 98.0158L327.105 101.013L327.083 103.989L327.061 106.957L327.038 109.91L327.016 112.841L326.986 115.765L326.979 118.733L326.867 118.814L326.704 119.198L326.882 119.59L326.875 119.907L326.681 120.151L326.748 120.328L327.075 120.446L327.202 120.727L327.127 121.162L326.421 121.598L325.076 122.1L324.779 122.24L324.541 122.307L324.43 122.277L324.251 122.181L324.006 121.982L323.582 121.886L322.891 121.952L322.616 122.366L322.757 123.134L322.52 123.724L321.91 124.13L321.472 124.669L321.211 125.341L320.788 125.747L320.216 125.888L319.747 126.508L319.391 127.601L319.004 128.272L318.588 128.538L318.008 128.472L317.28 128.073L316.864 127.674L316.752 127.254L316.537 126.958L316.336 126.825H316.202L316.195 126.884L316.254 127.003L316.18 127.128L315.727 127.172L315.533 127.342L315.6 127.645L315.496 127.852L315.236 127.977L315.095 128.265L315.08 128.715L314.894 129.129L314.545 129.498L314.025 129.373L313.348 128.752L312.657 128.605L311.951 128.944L311.431 129.395L311.082 129.963L310.755 130.103L310.272 129.668L309.134 129.07L308.54 128.944L308.109 129.085L307.812 129.018L307.708 128.856L307.626 128.789L307.544 128.87L307.537 129.395L307.433 129.72L307.239 129.86L307.091 129.749L306.987 129.395L306.741 129.277L306.355 129.402L305.961 129.35L305.619 129.136L305.493 129.158L305.396 129.262L305.426 129.668L305.352 129.993L305.173 130.207L304.921 130.259L304.586 130.148L304.445 130.251L304.073 129.491L304.103 129.306L304.326 129.291L304.445 128.952L304.43 128.28L304.556 127.874L304.772 127.741L304.809 127.615L304.705 127.534L304.698 127.401L305.032 127.128L305.099 126.833L304.898 126.508L304.876 126.205L305.039 125.917L305.292 125.777L305.634 125.799L305.954 125.445L306.251 124.706L306.593 124.256L306.979 124.093L307.291 123.614L307.655 122.403L308.035 121.842L308.116 121.229L308.027 120.365L307.76 119.486L307.321 118.6L307.21 118.047L307.433 117.825L307.522 117.463L307.462 116.954L307.685 116.481L308.012 116.208V116.164L308.02 113.624L308.035 110.922L308.042 108.212L308.049 105.48L308.064 102.748L308.072 99.9945L308.079 97.2331L308.094 94.7598L308.139 94.8262L308.399 95.0625L308.607 95.1954L308.763 95.2175L308.852 95.4242L309.246 95.5424L309.967 95.5941L310.628 95.5129L311.23 95.2987L312.702 94.457H314.433H316.552L318.67 94.4644H320.795H322.913H325.032H327.157V95.0034Z",id:"IN"},{d:"M258.441 137.11H256.82H255.208H253.587H251.975H250.355H248.742H247.122H245.509H243.889H242.276H240.656H239.043H237.423H235.81H234.19H232.577H230.957H229.337H227.724H226.104H224.491H222.871H221.258H219.638H218.025H216.405H214.792H213.172H211.559H209.939H208.319H206.706L206.699 135.486V133.854L206.691 132.223L206.684 130.583V128.937L206.677 127.291L206.669 125.637L206.662 123.983V122.322L206.654 120.653L206.647 118.984V117.316L206.639 115.632L206.632 113.949V112.266L206.625 110.567H208.089H209.56H211.024H212.488H213.953H215.424H216.888H218.352H219.824H221.288H222.752H224.224H225.688H227.152H228.623H230.087H231.552H233.016H234.487H235.951H237.415H238.887H240.351H241.815H243.287H244.751H246.215H247.686H249.151H250.615H252.079H253.342L254.955 111.734L255.379 111.749L255.877 111.564L256.256 111.83L256.516 112.553L256.479 112.915L256.152 112.93L255.735 113.366L255.245 114.207L255.364 115.005L256.1 115.743L256.59 116.489L256.835 117.242L257.326 117.825L258.411 118.445L258.396 118.785V119.944L258.403 121.103V122.263V123.414L258.411 124.573V125.718L258.418 126.87V128.014V129.158L258.426 130.303V131.44L258.433 132.577V133.714V134.851L258.441 135.981V137.11Z",id:"KS"},{d:"M342.43 124.448L342.593 124.692L342.668 125.998L342.616 126.257L342.378 126.788L342.393 127.069L342.593 127.512L343.337 128.531L343.411 128.93L343.701 129.321L343.953 129.897L344.749 131.13L345.982 132.149L346.949 132.422L344.303 134.541L343.091 135.309L341.939 135.922L341.843 136.025L341.583 136.704L340.884 137.302L340.446 137.93L339.398 138.454L338.654 139.17L336.789 139.872L335.741 140.115L335.035 140.529L334.983 140.551L334.931 140.573L334.879 140.595L334.827 140.617L334.775 140.639L334.723 140.662L334.671 140.684L334.619 140.706L332.189 140.625L329.758 140.543L327.328 140.462L324.898 140.381L322.467 140.3L320.037 140.219L317.607 140.137L315.177 140.056L312.85 140.1L310.524 140.145L308.198 140.189L305.872 140.233L305.664 139.968L305.054 139.908L304.11 139.813H304.073L304.348 140.699L304.356 141.466L304.333 141.474H303.241H302.029H300.818H299.607H298.395H297.184H295.972H294.583L294.954 140.721L295.274 140.521L295.422 140.484L295.772 140.625L295.943 140.676L296.314 140.411L296.641 139.635L296.827 138.808L296.879 137.937L296.656 137.243L296.582 136.815L296.797 136.283L297.414 135.582L298.626 135.56L300.439 136.217L301.435 136.409L301.613 136.128L301.561 135.626L301.286 134.903L301.19 134.364L301.271 134.009L302.007 133.603L303.397 133.138L303.977 132.533L303.746 131.78L303.828 131.093L304.214 130.465L304.43 130.31L304.571 130.207L304.898 130.318L305.151 130.266L305.329 130.059L305.404 129.734L305.374 129.321L305.47 129.225L305.597 129.203L305.939 129.417L306.325 129.469L306.712 129.343L306.957 129.461L307.061 129.823L307.21 129.934L307.403 129.793L307.507 129.461L307.514 128.937L307.596 128.856L307.678 128.922L307.782 129.085L308.079 129.151L308.51 129.003L309.105 129.129L310.249 129.734L310.725 130.17L311.059 130.03L311.401 129.461L311.929 129.011L312.627 128.679L313.319 128.819L314.002 129.439L314.523 129.565L314.879 129.195L315.065 128.789L315.08 128.339L315.221 128.051L315.481 127.925L315.578 127.711L315.519 127.409L315.712 127.239L316.165 127.195L316.239 127.069L316.187 126.951L316.195 126.892H316.329L316.522 127.025L316.737 127.32L316.849 127.733L317.272 128.14L318.001 128.531L318.573 128.597L318.997 128.339L319.383 127.66L319.74 126.567L320.208 125.947L320.78 125.806L321.197 125.4L321.457 124.728L321.895 124.19L322.512 123.783L322.75 123.193L322.609 122.425L322.884 122.011L323.575 121.945L323.998 122.034L324.244 122.24L324.422 122.336L324.534 122.366L324.771 122.307L325.061 122.159L326.406 121.664L327.112 121.221L327.187 120.786L327.061 120.505L326.733 120.387L326.667 120.203L326.86 119.959L326.867 119.641L326.689 119.25L326.852 118.866L326.964 118.785L327.358 118.49L327.767 118.453L328.094 118.763L328.554 118.837L329.156 118.682L329.706 118.785L330.212 119.154L330.687 119.826L331.126 120.801L331.921 121.391L333.073 121.605L333.913 121.989L334.441 122.536L334.879 122.713L335.392 122.418L335.934 122.262L336.477 122.447L337.205 122.912L338.283 122.809L339.702 122.144L340.542 122.174L340.795 122.905L341.397 123.673L342.356 124.47L342.43 124.448ZM294.337 141.415L293.847 141.429L293.824 141.326L293.854 141.09L293.891 140.986L293.988 140.964H294.099L294.256 141.186L294.337 141.415Z",id:"KY"},{d:"M294.1 193.718L293.624 193.932L291.067 193.112L290.428 192.448L289.863 192.308L289.172 192.226L288.429 193.039L287.864 194.139L288.763 194.737L289.529 195.025L290.8 194.781L291.498 194.249L292.071 194.264L292.346 194.153L292.598 193.873L293.089 194.094L293.104 194.316L292.754 194.626L292.316 194.884L292.048 195.194L292.546 195.815L293.334 196.021L293.631 195.933L293.817 195.239L294.3 194.788L294.954 194.884L294.858 195.165L294.947 195.431L295.252 195.881L295.214 196.531L295.274 196.686L294.568 196.974L294.04 197.07L293.617 197.446L293.839 197.66L293.408 197.852L293.119 197.779L292.97 197.852L292.925 198.081L292.702 198.295L293.022 198.938L293.683 199.359L294.152 199.883L296.024 200.569L296.478 200.547L296.924 201.241L297.28 201.478L297.63 201.596L297.593 202.076L296.976 202.423L296.812 202.836L296.656 203.072L296.381 202.777L296.099 202.563L295.437 203.213L295.118 203.353L295.274 202.652L295.021 202.378L294.642 201.67L294.092 201.234L293.706 201.086L293.401 200.806L293.037 200.695L292.725 200.725L292.197 200.562L292.16 200.186L292.011 199.905L291.602 199.573L289.633 198.945L289.618 199.204L289.752 199.395L290.034 199.528L290.376 199.779V200.533L290.227 200.85L290.168 201.3L290.042 201.758L289.796 202.12L289.261 202.364L289.023 202.157L288.637 201.167L288.094 200.857L287.232 200.82L286.645 201.042L286.006 202.002L285.493 202.157L283.732 201.662L281.718 200.909L281.77 200.658L282.089 200.577L282.699 200.68L282.669 200.422L282.052 199.573L281.941 199.189L282.023 198.724L281.822 198.731L281.45 199.122L280.172 198.79L279.815 198.391L279.065 197.269L278.002 197.232L277.504 196.568L276.634 196.856L276.196 197.173L275.809 197.66L275.958 197.911L276.344 198.31L276.166 198.502L274.932 198.79L272.064 198.473L271.224 198.17L270.094 197.535L268.533 197.018L267.783 196.937L267.047 197.04L264.907 197.092L264.409 197.232L263.985 197.454L263.71 197.21L263.584 196.774L263.829 196.701L264.104 196.45L264.357 195.948L264.386 195.645L264.215 195.445L264.684 194.648L264.795 194.36L264.721 193.002L264.513 192.507L264.542 192.219L264.765 191.473L264.728 190.794L265.115 189.967L265.397 189.539L265.717 188.66L265.791 188.092L265.925 187.664L265.828 187.198L266.051 186.866L265.902 186.401L265.858 185.788L265.583 185.552L265.1 184.636L265.115 184.238L264.609 183.381L264.602 183.086L264.119 182.643L264.022 182.355L263.978 181.166L263.844 180.819L263.428 180.133L262.461 179.136V178.102V177.068V176.035V174.994V173.953V172.912V171.871V170.83H263.717H264.973H266.229H267.485H268.741H269.998H271.254H272.51H273.766H275.022H276.278H277.534H278.79H280.046H281.302L282.677 170.822L282.714 171.228L283.048 171.472L283.07 171.908L282.773 172.535V172.971L283.078 173.214L283.063 173.473L282.729 173.746L282.677 174.041L282.914 174.359L283.018 174.728L282.996 175.149L283.308 175.695L283.791 176.042L284.111 176.456L284.141 176.685L284.163 176.899L284.096 177.201L283.695 177.644L283.39 177.969L283.204 178.087L283.108 178.309L283.078 178.781L282.632 179.394L281.725 180.103L281.123 181.004L280.826 182.089L280.514 182.776L280.187 183.071L280.023 183.64V184.481L279.815 184.946L279.399 185.035L279.31 185.515L279.548 186.386L279.444 186.748L279.154 187.036L279.124 187.257L280.796 187.265H282.476H284.156H285.835H287.515H289.194H290.874H292.554L292.346 188.195L291.855 189.443L291.833 189.768L291.959 190.174V190.403L292.145 190.742L292.546 191.082L292.903 191.591L293.215 192.507L293.297 192.928L293.557 193.511L293.691 193.622L293.884 193.688L294.1 193.718ZM296.181 194.589L296.203 194.958L295.861 194.774L295.356 194.759L295.579 194.633L295.735 194.508L295.816 194.375L296.456 193.91L296.27 194.249L296.181 194.589ZM298.953 196.797L298.759 197.048L298.953 195.829L298.678 194.803L298.968 195.253L299.064 195.785L298.953 196.797ZM298.522 197.55L298.143 197.963L298.157 197.808L298.44 197.387L298.641 197.225L298.522 197.55ZM278.202 199.24L277.942 199.351L276.783 198.665L276.709 198.369L277.281 198.103L277.63 198.126L278.18 198.473L278.381 198.569L278.477 198.709L278.425 198.93L278.202 199.24Z",id:"LA"},{d:"M425.029 84.0024L424.866 84.4896L425.067 84.977L425.2 85.4716L425.52 85.959L425.795 86.0033L426.092 85.9147L426.308 85.9368L426.449 86.1435L426.389 86.3945L426.048 86.4536L425.416 86.8892L424.858 87.0591L424.583 87.5832L424.167 88.1887L423.357 89.1338L423.706 89.4217L424.955 89.7466L425.512 90.0862L426.36 91.8434L426.166 92.0206L426.092 92.3455L426.843 92.7958L427.081 94.051L427.697 94.4792L428.619 94.745L429.741 94.3685L430.678 93.8443L430.648 93.416L430.061 92.4193L429.92 91.9468L429.481 91.644L429.318 91.9025L429.035 91.5702L429.006 91.3783L429.266 91.2897L429.57 91.3266L429.927 91.5038L430.841 92.5965L431.094 94.0215L431.146 94.9296L431.042 95.2397L430.774 95.1733L430.262 95.2323L427.846 95.6975L427.311 96.111L426.085 96.5539L426.01 96.3324L426.1 95.8673L426.025 94.9222L425.78 94.8779L423.87 96.421L423.134 96.517L422.517 96.9674L422.376 96.7163L422.265 95.5646L422.651 94.5973L422.443 94.6121L422.057 94.9592L421.819 94.5457L421.559 94.3242L421.306 94.1101L421.313 93.763L421.328 93.2389L421.038 93.1355L421.009 92.4931L420.986 92.0723L420.459 92.0797L420.028 92.0871L419.336 92.1018L418.616 92.1092L418.088 92.1166L418.08 92.0132L417.241 91.9985L416.401 91.9837L415.561 91.9689L414.721 91.9542L413.881 91.9394L413.049 91.9246L412.209 91.9099L411.369 91.8951L411.332 92.1092L411.027 92.1388L411.02 91.8951L410.433 91.8729L409.846 91.8508L409.259 91.8286L408.672 91.8065L408.084 91.7843L407.497 91.7622L406.91 91.74L406.323 91.7179L406.137 91.489L406.36 90.7064L406.583 89.9238L406.806 89.1338L407.029 88.3437L407.252 87.5537L407.475 86.7637L407.698 85.9737L407.921 85.1837L408.605 85.2132L409.296 85.2428L409.987 85.2723L410.671 85.3018L411.362 85.3314L412.046 85.3535L412.737 85.383L413.428 85.4126L414.424 85.4421L415.42 85.4716L416.416 85.5012L417.412 85.5307L418.407 85.5602L419.403 85.5898L420.399 85.6193L421.395 85.6488L422.005 85.3904L422.725 84.6521L423.164 84.4896L423.877 84.0467L424.234 83.9507L425.029 84.0024ZM427.103 98.0158L425.178 98.4662L424.873 98.1783L425.356 98.0454L425.966 97.3513L426.367 97.2701L426.999 97.6614L427.103 98.0158ZM430.826 99.0347L430.284 99.1824L429.035 98.8427L430.061 98.5548L430.232 98.4514L430.366 98.0306L430.38 97.8165L430.767 98.7246L430.826 99.0347Z",id:"MA"},{d:"M390.203 113.085L390.27 114.51L390.337 115.928L390.404 117.345L390.471 118.763L390.538 120.173L390.604 121.583L390.671 122.986L390.738 124.389H390.753H390.768H390.783H390.798H390.813H390.827H390.842H390.857H391.563H393.116H394.67L395.42 124.381L395.413 124.64L395.324 125.024L395.16 125.179L395.168 124.788L395.056 124.655L394.87 124.824L394.751 125.016L394.699 125.777L394.573 126.153L394.112 126.264L393.644 127.261L393.213 127.822L393.057 128.176L392.403 128.265L391.348 128.405L391.073 128.804L390.545 128.634L389.735 128.656L389.891 128.117L390.129 127.645L389.705 127.172L389.452 127.113L389.192 126.921L389.497 126.53L389.646 126.117L389.556 125.607L389.683 125.223L389.475 125.282L389.133 125.688L388.925 125.851L388.798 125.489L388.65 125.57L388.553 125.814L388.338 125.947L387.884 125.607L387.215 125.223L386.844 124.559L386.636 124.042L386.851 123.112L387.312 122.949L387.907 123.104H388.687L388.575 122.897L388.293 122.934L387.468 122.174L387.201 121.716L386.74 121.591L386.532 122.034L386.301 122.152L386.584 121.185L386.955 121.148L387.505 120.882L387.342 120.321L386.992 120.077L386.361 120.387L386.368 119.996L386.487 119.494H386.963L387.379 119.656L387.736 118.844L387.751 118.482L387.163 119.014L387.03 117.869L387.609 116.769L388.159 116.289L388.85 116.304L389.549 116.223L389.111 116.024L388.657 115.913L388.999 115.477L389.289 115.396L389.571 115.012L388.888 115.071L388.969 114.348L388.635 114.495L388.241 114.562L388.085 114.872L388.115 115.381L387.996 115.714L387.684 115.979L387.163 116.186L387.111 115.824L386.94 115.662L386.874 116.437L386.74 116.703L386.361 115.979L386.249 116.127L386.264 116.334L386.167 116.688L385.84 116.873L385.863 117.33L385.736 117.581L384.689 117.183L384.666 117.316L385.261 118.172L385.692 118.46L385.744 118.925L385.372 119.309L384.859 118.977L384.77 118.999L385.045 119.568L385.224 120.062L385.045 120.483L385.075 120.993L385.038 121.458L384.926 121.864L385.172 123.732L385.469 124.234L385.766 124.721L385.922 125.171L385.61 125.238L385.112 124.869L384.674 124.588L384.153 123.68L384.064 123.318L383.938 123.03L383.997 123.687L384.183 124.426L385.818 126.065L386.123 126.692L386.353 127.187L386.294 127.66L385.87 127.327L385.506 126.899L384.532 126.419L383.306 126.117L382.615 124.994V125.467L382.459 125.866L382.035 125.378L381.768 124.965L381.679 124.514L381.151 124.544L380.593 124.935L380.058 124.839L379.999 124.071L380.14 123.665L380.742 122.698L381.307 122.203L381.56 121.568L381.478 120.579L381.552 121.317L382.169 120.594L381.768 120.025L381.396 119.494L380.839 120.099L380.363 119.87L379.59 119.117L378.334 118.586L378.156 118.32L378.178 118.024L378.349 117.618L377.963 117.22L377.019 116.828L376.617 116.496L376.528 116.422L376.491 116.016L376.365 115.758L376.157 115.647L376.119 115.47L376.246 115.226L376.119 114.968L375.733 114.687L375.599 114.444L375.718 114.229L375.525 114.133L375.019 114.148L374.522 113.949L374.031 113.528L373.444 113.454L372.433 113.875L371.861 113.978L371.608 114.215L371.482 114.621L371.237 114.828L370.679 114.835L370.59 114.82L369.958 114.687L369.512 114.436L369.431 114.333L369.483 114.119L369.401 114.023L369.267 114.008L369.141 114.133L369.007 114.517L367.914 115.566L367.387 115.359L367.186 115.366L365.663 116.843L365.202 117.079L364.302 117.744L364.317 116.6L364.332 115.455L364.355 114.303L364.369 113.152H365.982H367.595H369.208H370.82H372.433H374.046H375.659H377.271H378.884H380.512H382.124H383.737H385.35H386.963H388.575H390.203V113.085ZM394.112 128.044L393.927 128.066L394.112 127.756L394.729 126.279L395.004 125.77L394.737 126.803L394.268 127.756L394.112 128.044Z",id:"MD"},{d:"M437.292 40.6256L437.329 40.8398L437.649 41.2163L438.11 41.4747L438.459 41.5633L438.868 41.5559L439.99 41.0465L441.306 40.7142L442.026 40.4041L442.16 40.1162L442.487 40.0128L443.015 40.1014L443.988 40.825L445.118 41.9177L446.017 42.7816L446.047 44.273L446.062 45.853L446.084 47.5142L446.099 48.6955L446.121 50.3125L446.136 51.5972L446.159 53.2658L446.174 54.1592L446.3 54.4176L446.226 54.7646L446.196 54.9418L446.203 55.0821L446.255 55.2593L446.248 55.5029L446.136 55.7244L446.077 55.9828L446.062 56.4037L446.188 56.6621L446.396 56.8171H446.567L446.79 56.9722L447.08 57.238L447.519 57.4669L447.972 57.5481L448.284 57.489L448.663 57.6441L448.797 58.0132L448.723 58.3602L448.507 58.5227L448.277 58.6482L448.24 58.914L448.351 59.1946L448.515 59.4382L448.693 59.8664L448.619 60.2356L448.455 60.5457L448.381 60.8706L448.522 61.1511L448.894 61.5203L449.124 61.8747L449.488 62.074L449.659 61.9337L449.8 61.7492L449.949 61.6089L450.202 61.6901L450.499 61.7935L450.819 61.919L450.781 62.2217L450.975 62.7238L451.131 63.691L450.893 64.1266L450.945 64.7099L451.591 64.8797L451.748 65.0569L451.777 65.271L450.35 66.755L449.139 66.5483L448.485 66.9396L447.801 67.0577L447.496 67.7223L447.117 67.8625L446.605 67.8256L446.159 67.641L445.817 67.7296L445.341 68.9183L444.955 68.815L444.799 69.2432L444.598 69.4278L444.301 69.5902L444.041 69.0586L443.877 68.5565L443.632 68.4458L443.312 68.3203L442.978 68.3277L442.755 68.4015L442.48 68.7264L442.079 69.0069L441.774 68.7781L441.536 68.4015L441.335 68.9995L441.045 69.6345L441.097 70.3728L440.971 70.8085L440.689 70.6903L440.414 70.3064L439.633 69.9963L439.017 70.0258L439.143 69.6124L439.73 69.0217L439.552 68.9036L439.262 68.9848L439.135 68.9036L439.343 68.3646L439.366 67.7739L439.106 67.9806L438.779 68.6082L437.983 69.1029L438.021 69.9372L437.27 71.6354L437.233 72.3589L436.75 72.9348L436.125 73.4295L435.293 73.2892L434.661 73.7175L434.342 74.2121L434.059 74.286L433.911 73.6584L433.807 73.4664L433.576 74.3893L433.338 74.4484L433.249 73.7913L433.138 73.3557L432.811 73.7322L432.595 74.7216L432.372 74.6404L432.298 74.2712L432.134 74.1604L432.082 74.5813L432.164 75.1719L432.045 75.4894L431.822 75.3196L431.599 75.0391L431.228 75.2532L430.886 75.3418V75.0538L430.953 74.6995L430.276 74.8988L429.459 75.5559L428.827 76.464L429.043 76.6117L429.288 76.8997L428.188 78.2951L427.058 79.5502L426.204 81.588L425.862 81.8243L425.565 82.1934L425.007 81.3074L424.896 80.5913L424.264 79.7422L424.011 79.1589L423.929 78.5018L423.967 77.793L423.915 76.7299L423.863 75.6667L423.811 74.6035L423.759 73.5403L423.707 72.4697L423.654 71.3991L423.602 70.3285L423.55 69.258L423.498 68.18L423.446 67.102L423.394 66.0241L423.342 64.9387L423.29 63.8534L423.238 62.7681L423.186 61.6827L423.134 60.7081L423.305 60.5605L423.729 60.2799L424.004 60.3168L424.242 60.7377L424.442 61.0182L424.673 60.937L424.873 60.5457L424.866 59.9993L425.133 59.6154L425.453 59.5564L425.75 59.5711L425.899 59.3865L425.884 59.1207L425.78 58.6925L425.817 58.1757L426.56 57.2601L427.467 56.64L427.787 56.3298L427.876 55.6949L428.396 55.0378L428.656 54.6612L428.723 54.329L428.589 53.9229L428.604 53.1477L428.783 52.2247L428.998 51.2132L429.481 50.3051L430.269 49.3084L430.47 47.9941L430.685 46.6061L431.636 45.2476L432.714 43.7045L433.331 42.8259L434.438 41.2237L435.226 40.0793L435.62 39.5551L436.036 38.9275L436.713 39.1121L437.381 39.2967L437.285 40.2048L437.292 40.6256ZM443.357 70.0775L442.948 70.2695L442.502 70.1883L442.51 70.6977L442.458 70.8823L441.96 70.6165L441.781 70.4467L441.796 69.7674L442.235 69.1251L442.569 68.874L443 69.0512L443.327 69.7674L443.357 70.0775ZM440.302 71.3991L440.035 71.5911L439.752 71.532L439.745 71.0521L439.834 70.8897L439.931 70.8158L440.079 70.9487L440.302 71.3991Z",id:"ME"},{d:"M298.061 34.1357L298.024 34.3055L298.276 34.3572L298.232 34.4458L297.957 34.6009L297.176 34.9183L296.649 35.0217L296.381 34.911L296.351 34.6968L296.567 34.3867V34.2317H296.351L296.404 34.1062L296.723 33.8625L299.458 32.2973L300.625 31.7288L301.249 31.5442L301.353 31.6328L300.677 32.2234L300.565 32.4671L300.595 32.6295L300.372 32.9396L298.373 34.0323L298.061 34.1357ZM303.189 41.4821L303.063 41.8143L303.085 42.0137L302.238 42.8849L301.926 43.4386L301.665 43.5272L301.457 43.1507V42.848L301.665 42.6191L301.873 42.2942L301.903 41.8438L301.821 41.6814L301.561 42.0875L301.703 42.1761L301.747 42.2425L301.695 42.3902L300.722 42.1761L300.424 41.8586L300.469 41.423L300.796 40.8619L301.97 39.6732L302.49 39.3409L303.962 38.8167L304.772 38.6986H305.589L306.177 38.8684L306.541 39.2154L306.191 39.4443L304.579 39.6362L304.534 39.6953L304.839 39.8799L304.898 40.0128L304.616 40.3598L303.189 41.4821ZM330.219 48.6365L330.435 48.7694L330.583 48.9908L330.948 49.6111L331.126 50.0319L331.237 50.6521L331.312 50.8588L331.304 51.2206L331.059 51.4642L330.992 51.6562L331.141 51.8482L331.966 51.8999L332.345 52.0918L332.486 52.3059L332.389 52.5422L332.441 52.7932L332.642 53.059L333.303 53.4651L333.467 53.6571L333.422 53.8638L333.222 53.9967L332.872 54.0558L330.338 53.6719L329.595 53.6128L329.483 53.7531L329.409 53.7752L329.29 53.7383L329.075 53.7309L328.963 53.6423L328.874 53.3913L328.651 53.2289L328.302 53.155L327.997 53.347L327.648 54.1001L327.7 54.2404L327.64 54.7277L327.729 54.8606L327.722 54.9713L327.625 55.0599L327.417 55.0451L327.105 54.927L325.916 53.7826L325.017 53.2141L323.902 52.7932L323.018 52.5865L322.371 52.5939L321.836 52.8892L321.42 53.4651L320.766 53.79L319.881 53.8712L319.398 54.0262L319.324 54.2551L319.004 54.2625L318.439 54.041L317.86 53.9819L317.258 54.0779L316.819 54.3068L316.351 55.0156L316.262 55.3626L315.927 55.6653L315.036 56.1379L314.991 56.3151L314.523 56.854L314.374 57.1494V57.4373L314.218 57.4226L313.898 57.0977L313.884 56.6621L314.173 56.1083L314.434 55.8425L314.664 55.8573L314.805 55.6136L314.857 55.1116L314.775 54.8606L314.33 54.9565L314.099 55.1559L313.802 55.2002L313.445 55.082L313.133 55.3552L312.858 56.0197L312.531 56.4553L312.152 56.6621L311.899 56.4332L311.773 55.7761V55.2593L311.929 54.6317L311.847 54.5061L311.691 54.7055L311.453 55.2297L311.134 56.3667L310.926 56.7359L310.651 56.891L310.212 57.5776L309.61 58.7958L308.934 59.9772L308.183 61.1142L307.73 61.727L307.581 61.8156L307.514 62.0223L307.492 62.4949L307.158 62.362L306.875 61.978L306.704 61.5793L306.689 61.1732L307.098 60.1617L307.135 59.9993L307.091 59.9033L306.868 59.7926L306.362 59.9772L305.85 60.0141L305.686 59.9476L305.619 59.7704L305.627 59.4972L305.731 59.1724L306.035 58.5743V58.0058L306.177 57.681L306.043 57.0755L306.08 56.7876L305.864 56.4701L305.285 56.0566L303.932 55.5029L304.073 54.8827L304.014 54.6169L303.679 54.2182L302.26 53.7531L301.294 53.5389L300.335 53.5316L299.651 53.3618L298.878 53.3101L298.388 53.0295L297.897 52.7489L297.407 52.4684L296.916 52.1878L296.039 51.9442L295.162 51.7005L294.285 51.4569L293.408 51.2132L292.531 50.9696L291.654 50.7259L290.777 50.4823L289.9 50.2386L289.707 49.8178L289.514 49.3969L289.321 48.9761L289.128 48.5552L288.726 48.378L288.511 48.2821L288.355 48.0606L287.998 48.1566L287.857 47.7874L287.894 47.7062L288.355 47.6102L289.67 47.086L290.792 46.4436L291.721 45.6832L292.881 45.218L294.27 45.0482L295.259 44.7824L295.861 44.4132L296.664 43.697L297.117 43.4903L297.682 43.4239L298.105 43.1433L298.395 42.656L298.938 42.1023L299.733 41.4747L300.186 41.2236L300.298 41.3418L300.342 41.5633L300.313 41.8881L300.513 42.1466L300.944 42.3459L301.138 42.6117L301.101 42.944L301.219 43.2245L301.487 43.4534L301.561 43.9555L301.435 44.7307L301.42 45.2328L301.517 45.4616L301.613 45.5872L301.769 45.4616L301.963 45.1885L302.03 45.0187L302.082 44.8488L303.248 44.0662L303.479 44.0293L303.858 44.2286L305.619 44.5092L306.318 44.7086L307.054 45.1589L307.299 45.3287L308.198 46.7759L308.607 47.3444L308.86 47.4994L309.001 47.7209L309.12 48.2304L309.261 48.3854L310.569 48.4962L311.164 48.4002L311.528 48.1935L311.929 48.3264L312.367 48.7989L312.799 48.9318L313.23 48.7251L313.631 48.7324L314.01 48.9539L314.188 49.1164L314.3 49.109L315.043 48.3928L315.942 47.7578L317.139 47.0638L317.83 46.7537L318.023 46.8276L319.131 46.5987L320.127 46.5765L321.442 46.7168L322.661 46.5544L323.783 46.0892L324.779 45.8308L325.649 45.7717L325.976 45.9046L325.76 46.2147L325.649 46.7537L325.634 47.5142L325.559 47.9941L325.426 48.1935L325.411 48.3854L325.507 48.57L326.347 48.6881L326.786 48.9318L327.291 48.9392L327.863 48.7177L328.302 48.7989L328.606 49.1902L329.045 49.264L329.476 48.9835L329.781 48.7177L330.041 48.5995L330.219 48.6365ZM331.795 50.0688V50.2829L331.579 50.2313L331.401 50.0836L331.26 49.8399L331.081 49.2345L330.806 48.8063L331.215 48.319L331.46 48.2599L331.728 48.3707L331.765 48.6586L331.572 49.1164L331.579 49.5889L331.795 50.0688ZM331.884 51.2354L331.787 51.2944L331.438 50.9031L331.364 50.6595L331.416 50.4601L331.55 50.4527L331.773 50.6373L331.899 50.8514L331.929 51.0951L331.884 51.2354ZM336.202 53.5611L336.269 53.7826L336.098 54.1075L335.607 54.2773L334.612 54.2625L333.965 54.137L333.668 53.9007L333.601 53.7826L333.631 53.5242L333.772 53.5094L333.987 53.6497L334.307 53.5906L334.73 53.3248L334.953 53.1255L334.976 52.9926L334.842 52.7416L334.953 52.6382L335.481 52.7342L335.674 52.8966L336.031 53.4577L336.202 53.5611ZM328.829 55.4807L329.729 55.621L329.818 55.5472L330.071 55.813L330.108 56.0345L330.004 56.2191L329.848 56.3225L329.647 56.3372L329.327 56.1452L328.8 55.6432L328.829 55.4807ZM327.395 55.7613L327.893 55.9459L328.792 56.5587L329.64 56.9131L330.442 57.0165L331.029 57.2306L331.401 57.5628L331.668 57.932L331.832 58.3381L332.218 58.5669L332.82 58.6186L333.296 58.7885L333.645 59.0838L335.57 59.8443L336.373 60.243L336.819 60.6343L336.945 60.8853L336.908 61.1363L336.953 61.4021L337.28 61.919L337.406 61.9633L337.48 62.2143L337.51 62.6647L337.607 62.9674L337.77 63.1224L337.674 63.1815L337.079 62.9231L336.745 63.0043L336.588 63.3439L336.566 63.6614L336.678 63.9641L337.436 64.8649L337.636 65.6844L337.674 66.6738L337.577 67.0577L337.495 67.9068L337.436 69.221L337.421 69.6714L337.168 70.107L336.492 70.7346L336.484 70.6165L336.321 70.5869L336.143 70.6829L335.897 71.2219L335.689 72.2039L335.436 72.7355L335.139 72.8167L334.961 72.9569L334.901 73.1563L334.582 73.2892L333.995 73.3557L333.593 73.651L333.296 74.4853L333.311 74.884L333.17 75.3787L333.177 75.8069L333.333 76.1613L333.809 76.5157L334.597 76.8701L335.065 76.9218L335.392 76.7741L335.734 76.1908L336.061 75.9619L336.462 75.866L336.611 75.6002L337.272 74.441V74.1826L337.034 74.0866L337.072 74.0127L337.384 73.9684L337.651 73.8134L337.882 73.5476L338.283 73.3483L339.264 73.0455L339.792 72.6985L340.126 72.6395L340.609 72.824L341.241 73.2523L341.739 73.8725L342.11 74.6846L342.579 76.7889L343.143 80.1704L343.53 82.0531L343.738 82.4519L343.842 82.6512L343.344 85.2796L342.943 86.3576L342.244 86.9852L341.553 87.5906L340.691 88.6095L339.74 89.1115L339.257 89.4069L339.152 89.5989L339.034 89.5398L338.773 90.0935L338.543 90.854L338.454 91.4373L338.536 91.7622L338.335 91.9689L337.978 92.3528L337.911 92.4931L337.934 92.722L337.859 92.8327L337.688 92.8254L337.555 92.9361L337.235 93.3422L336.678 94.398L336.588 94.59L336.522 94.649L334.195 94.7376L331.869 94.8262L329.543 94.9148L327.217 95.0034V94.4644H325.099H322.98H320.862H318.744H316.626H314.508H312.776L313.23 94.206L313.973 93.6006L314.389 93.0616L314.79 92.3528L315.177 91.4742L315.965 90.1526L316.351 89.3552L316.723 88.3363L317.005 87.2731L317.191 86.1582L317.28 84.9991L317.273 83.7956L317.087 82.5848L316.723 81.3591L316.522 80.7315L316.448 80.5617L315.786 78.9891L315.036 76.7889L315.043 76.6043L315.742 75.2901L315.756 75.1129L315.682 74.0423L315.534 73.5033L315.177 72.7797L315.192 72.5952L315.92 71.6723L316.358 70.9709L316.752 70.1144L317.013 69.1177L317.131 67.9733V67.2128L317.005 66.8288L317.02 66.5335L317.176 66.3268L317.956 66.061L318.216 65.6106L318.276 64.8132L318.432 64.4145L318.692 64.4219L318.937 64.2595L319.16 63.9272L319.458 63.8312L319.829 63.9789L320.342 63.4842L321.004 62.3472L321.509 61.7122L321.866 61.5793L321.933 61.6827L321.71 62.0223L321.643 62.3989L321.732 62.805L321.658 63.1963L321.494 63.7352L321.598 63.9051L321.316 64.7689L321.301 65.1971L321.472 65.522L321.68 65.4113L321.918 64.8575L321.992 64.5622L321.895 64.5253L321.933 64.289L322.096 63.8534L322.245 63.6466L322.371 63.6688L322.408 63.9051L322.349 64.3555L321.97 65.426L321.895 65.7509L321.977 65.8395L322.43 65.175L322.809 64.1118L323.099 63.2923L323.151 62.8493L323.062 61.6975L323.077 61.2249L323.189 60.9001L323.582 60.5309L324.259 60.1174L324.928 59.896L325.589 59.8664L326.05 59.7557L326.31 59.5563L326.221 59.4013L325.775 59.2831L325.44 59.0247L325.21 58.626L325.136 58.1683L325.21 57.6514L325.492 57.142L325.983 56.6473L326.139 56.2782L325.961 56.0419L326.169 55.9607L326.771 56.0271L327.187 55.9607L327.425 55.7613H327.395ZM321.873 57.644L321.635 57.6957L321.449 57.5776L321.479 57.1124L321.724 56.3003L321.962 55.9311L322.282 56.0788L322.215 56.1748L322.282 57.0386L322.163 57.4226L321.873 57.644ZM318.9 62.5761L318.818 62.7164L318.625 62.7016L318.469 62.5687L318.321 62.1405L318.373 62.0445L318.752 62.1035L318.885 62.2881L318.9 62.5761Z",id:"MI"},{d:"M267.114 26.9518L267.954 26.8263L268.675 26.8632L269.395 26.9223L269.782 27.0109L270.897 27.4686L271.625 27.8452L272.673 28.5466L273.253 28.8567L273.528 29.5802L273.855 30.5105H274.315L274.665 29.9642L275.549 29.8682L276.716 30.2521L277.742 31.3375L279.221 32.3047L280.12 32.7846H281.034L282.201 32.3047L283.442 31.3818L284.334 31.2193L284.861 31.3079L285.159 32.0315L285.53 32.3047L286.489 32.2234L288.496 32.3637L290.094 32.1644L290.458 32.5778L290.785 33.2276L291.431 33.4343L292.308 33.2276L293.691 33.3679L293.497 33.4712L293.297 33.4491L293.029 33.6041L292.695 33.9364L291.929 34.4089L290.733 35.0291L289.35 35.5902L286.549 36.6091L284.802 37.6649L284.029 38.2999L281.027 41.4599L279.213 43.1359L276.278 45.4838L276.003 45.7791L275.98 46.0523L275.854 46.0449L275.371 46.6134L275.163 46.9752L274.687 47.0786V48.5331V49.9802V51.4273V52.8671L274.457 53.0147L274.167 53.3544L273.765 53.4356L271.878 54.6169L271.566 54.9565L271.224 55.7466L270.607 56.6325L270.451 57.1051L270.481 57.74L271.424 58.2495L271.774 58.7368L271.945 59.3348L271.922 59.8517L271.447 60.8632L271.365 61.2692L271.417 62.5022L271.179 62.8862L271.372 63.8829L271.387 64.2299L271.239 65.3227L271.135 65.6401L271.32 66.2086L271.343 66.2677L272.227 67.0503L272.97 67.486L273.639 67.6262L274.159 67.9585L274.538 68.4901L275.044 68.8371L275.683 68.9995L276.337 69.4425L277.333 70.5205L277.831 71.436L278.7 72.0857L280.112 72.7798L281.034 73.3926L281.472 73.9168L281.762 75.2532L281.993 78.0735L279.681 78.0809H277.407H275.133H272.859H270.585H268.31H266.036H263.762H261.488H259.214H256.939H254.665H252.391H250.117H247.843H245.568V75.9324V73.7765V71.6132V69.4425V67.2644V65.079V62.8788V60.6712L245.033 59.9403L243.866 59.3496L243.577 58.9952L243.034 58.1092L242.819 57.7327L242.781 57.4373L243.041 57.1051L244.097 56.1452L244.431 55.7023L244.595 55.274L244.84 54.2847L244.743 53.5242L244.81 52.3355L244.595 51.4421L244.55 50.9991L244.416 50.4454L243.621 48.9835L243.428 47.8022L243.227 47.2189L243.16 45.7127L243.183 45.2845L243.339 44.4649L243.004 43.9112L242.952 43.4534L242.796 39.8356L242.692 39.3188L242.722 37.6354L242.112 35.856L241.823 35.2506L241.674 34.5123L241.689 34.1579L241.191 32.9396L240.856 31.5885L240.886 30.4146L240.782 29.5286L240.819 28.8345L240.73 27.7935L240.834 27.2028L240.842 26.2799L240.158 22.9944H241.013H243.993H246.973H249.953H252.933L254.583 23.0091L254.613 20.772L254.635 19L256.144 19.2141L256.597 19.539L256.739 19.694L256.694 20.1813L256.82 21.658L257.095 22.891L257.727 24.3603V24.3677L257.779 24.9435L257.987 25.3053L258.366 25.6376L259.816 26.0436L262.328 26.5162L263.755 27.0552L264.089 27.668L264.758 27.9116L265.761 27.7935L266.467 27.5351L267.114 26.9518Z",id:"MN"},{d:"M280.662 107.142L280.254 108.537L280.246 109.696L280.484 111.099L280.774 112.147L281.101 112.841L282.283 114.163L284.319 116.097L285.59 117.928L286.11 119.664L286.712 120.358L287.403 120.018L288.273 120.173L289.209 120.461L289.7 120.801L289.811 120.919L289.863 121.044L289.826 121.17L289.692 121.502L288.533 124.367L288.132 125.674L288.191 126.161L288.659 126.87L289.536 127.792L290.302 128.391L290.963 128.671L291.989 129.417L293.386 130.613L294.085 131.514V132.112L294.226 132.725L294.516 133.352V133.943L294.226 134.511L294.337 135.272L294.85 136.232L295.281 136.815L295.638 137.014L295.72 137.007L295.742 136.926L295.697 136.793L295.675 136.675L295.705 136.512L295.779 136.446L295.839 136.431L296.173 136.667L296.664 137.191L296.886 137.885L296.842 138.757L296.649 139.584L296.322 140.359L295.95 140.625L295.787 140.58L295.43 140.44L295.289 140.484L294.962 140.684L294.597 141.437L294.583 141.459L294.449 141.533L294.352 141.459L294.337 141.415L294.27 141.193L294.114 140.964H293.995L293.899 140.979L293.862 141.09L293.824 141.326L293.847 141.429L293.966 142.072L293.862 142.53L293.52 142.714L293.468 142.973L293.661 143.268V143.401L293.587 143.504L293.349 143.541L293.17 143.607L293.029 143.844L293.312 144.294L293.252 144.833L292.866 145.468L292.814 145.719L291.535 145.734L290.383 145.756L289.232 145.771L288.08 145.793L288.63 144.877L288.979 144.553L289.239 144.206L289.707 143.881L290.22 143.187L290.279 142.862L290.227 142.544L289.923 142.109L289.618 141.429H287.663H285.716H283.769H281.822H279.875H277.92H275.973H274.026H272.078H270.131H268.184H266.229H264.282H262.335H260.388H258.441V140.359V139.273V138.196V137.11V135.981L258.433 134.851V133.714V132.577L258.426 131.44V130.303L258.418 129.158V128.014V126.87L258.411 125.718V124.573L258.403 123.414V122.262V121.103L258.396 119.944V118.785L258.411 118.445L257.326 117.825L256.835 117.242L256.59 116.489L256.1 115.743L255.364 115.005L255.245 114.207L255.735 113.366L256.152 112.93L256.479 112.915L256.516 112.553L256.256 111.83L255.877 111.564L255.379 111.749L254.955 111.734L253.342 110.567L253.231 110.486L252.733 109.711L252.525 108.788L252.123 108.183L251.521 107.902L251.142 107.297L250.979 106.351L250.592 105.399L250.414 105.118L252.161 105.111L253.929 105.096L255.691 105.082L257.46 105.067L259.221 105.052L260.99 105.045L262.751 105.03L264.52 105.015L266.281 105L268.043 104.986L269.812 104.978L271.573 104.963L273.342 104.949L275.103 104.934L276.872 104.927L278.633 104.912L278.983 105.576L279.362 105.768L279.436 105.982L279.934 106.322L280.046 106.662L280.662 107.142Z",id:"MO"},{d:"M303.531 154.239L304.148 154.793L304.125 154.993L304.118 155.125L304.073 155.524L303.902 157.082L303.731 158.633L303.56 160.183L303.39 161.726L303.219 163.269L303.048 164.805L302.877 166.341L302.706 167.869L302.535 169.397L302.364 170.926L302.193 172.447L302.022 173.968L301.851 175.481L301.68 176.995L301.509 178.501L301.338 180.007L301.413 181.535L301.487 183.064L301.561 184.585L301.636 186.106L301.71 187.619L301.784 189.133L301.859 190.639L301.948 192.293L299.904 192.418L299.012 192.012L298.64 191.931L298.417 191.938L297.377 192.315L296.188 192.603L295.905 192.514L295.504 192.5L294.642 193.482L294.099 193.725L293.929 193.659L293.735 193.592L293.602 193.482L293.341 192.898L293.26 192.477L292.948 191.562L292.591 191.052L292.189 190.713L292.004 190.373V190.144L291.877 189.738L291.9 189.413L292.39 188.166L292.598 187.235H290.919H289.239H287.559H285.88H284.2H282.52H280.841L279.169 187.228L279.198 187.006L279.488 186.718L279.592 186.357L279.354 185.485L279.444 185.006L279.86 184.917L280.068 184.452V183.61L280.231 183.042L280.558 182.746L280.87 182.06L281.168 180.974L281.77 180.074L282.676 179.365L283.122 178.752L283.152 178.279L283.249 178.058L283.435 177.94L283.739 177.615L284.141 177.172L284.207 176.869L284.185 176.655L284.155 176.426L283.836 176.013L283.353 175.666L283.041 175.119L283.063 174.699L282.959 174.329L282.721 174.012L282.773 173.717L283.108 173.443L283.122 173.185L282.818 172.941V172.506L283.115 171.878L283.093 171.442L282.758 171.199L282.721 170.793L282.699 170.586L283.018 169.124L282.944 168.932L282.624 168.489L282.587 167.95L282.781 167.293L282.684 166.784L282.416 166.599L282.349 166.392L282.268 166.09L282.558 165.809L282.572 165.551L282.312 165.314L282.476 164.982L283.063 164.554L283.226 164.31L283.397 164.052L283.501 163.439L283.42 163.07L283.278 162.826L283.345 162.701L283.464 162.59L284.163 162.368L284.364 162.213L284.408 162.021L284.185 161.549L284.401 161.047L285.047 160.515L285.389 160.05L285.426 159.644L285.738 159.349L286.318 159.164L286.675 158.411L286.816 157.089L286.987 156.528L287.284 156.447L287.44 156.262L287.492 155.879L287.857 155.487L288.525 155.089L288.793 154.697L288.711 154.49V154.225H290.495H292.353H294.211H296.069H297.927H299.785H301.643L303.531 154.239ZM300.84 193.533L300.751 193.622L300.134 193.452L299.755 193.297L299.688 193.142L300.729 193.422L300.84 193.533Z",id:"MS"},{d:"M192.727 54.2625L192.734 56.5735L192.749 58.8696L192.756 61.1659L192.771 63.4473V63.4768L192.764 63.5063V63.5359V63.5654H192.712H192.652H192.6H192.541H191.01H189.479H187.941H186.41H184.879H183.34H181.809H180.278H178.74H177.209H175.678H174.139H172.608H171.077H169.539H168.008H166.477H164.938H163.407H161.876H160.338H158.807H157.276H155.745H154.207H152.676H151.145H149.606H148.075H146.544H145.006H143.475V64.7984V66.024V67.2423L143.467 68.4679L143.007 68.2095L142.702 67.9142L142.449 67.5745L141.973 66.6295L141.706 66.2825L141.468 66.0757L141.223 66.061L140.926 66.1791L140.695 66.4006L140.621 66.7919L140.398 67.2497L140.413 67.6336L140.509 67.8256L140.48 67.9363L140.331 68.0175L139.216 67.8772L138.25 68.0692L137.589 67.9215L136.318 67.9954L135.218 67.8625L134.839 67.9289L134.593 68.1357L134.289 68.6525L134.207 68.7485L134.088 68.7632L132.297 68.4827L131.821 68.4753L131.323 68.8149L131.167 69.0512L131.13 69.3687L131.019 69.4573L130.863 69.4425L130.461 69.2358L130.045 68.8961L129.837 68.6451L129.792 68.0766L129.458 67.4342L129.398 66.851L129.183 66.3563L128.856 65.869L128.529 65.5441L128.202 65.4408L127.593 65.5072L127.466 65.4555L126.812 64.8058L126.611 64.5252L126.552 64.2668L126.775 63.6393L126.708 63.2922L126.545 62.864L126.314 62.5096L125.935 62.1995L125.593 61.5276L124.962 60.5826L124.791 59.8516L124.545 59.2388L124.478 58.6334L124.241 58.2642L124.263 57.7917L124.226 57.6588L124.151 57.5997L123.728 57.3339L123.245 56.8614L123 56.7507H122.895L122.836 56.8688L122.799 57.0903L122.026 57.8729L121.372 58.2421L121.052 58.6039L120.762 58.7811L120.606 58.8032L120.391 58.6851L119.707 58.1535L119.142 57.9098L119.083 57.7917L119.113 57.3413L119.373 56.8171L119.105 55.8647L119.187 55.5324L119.395 55.3035L120.004 54.9491L120.064 54.7793L119.93 53.8712L119.588 53.5316L119.492 53.3396L119.596 52.6013L119.447 52.114L119.715 51.7005L119.737 50.9917L119.952 50.2534L120.183 49.1606L120.131 48.6881L120.421 48.1787L120.517 47.6618L120.532 47.3001L120.487 47.0786L120.383 46.9974H120.175L119.217 47.1967L118.904 47.1672L118.629 47.0712L118.473 46.894L118.429 46.4805L118.213 46.2073L118.102 46.163L117.663 46.3255L117.567 46.3181L117.522 46.2442L117.344 45.8899L116.638 45.2032L116.296 44.4132L115.612 43.7192L114.958 42.7667L113.702 41.2753L113.397 40.9726L112.446 40.4558L111.695 39.7027L110.93 39.1637L110.856 39.0751L110.848 39.016L110.893 38.9717L111.108 38.8241L111.16 38.5509L110.87 37.9824L111.012 37.4286L110.818 36.6608L110.714 36.4024L110.172 35.6862L109.815 34.9995L109.258 34.3646L108.507 33.3235V30.7542V28.1774V25.5859V22.9869H109.8H112.78H115.768H118.748H121.729H122.405H124.716H127.697H130.677H133.664H136.645H139.632H142.613H145.593H148.581H150.832H151.561H154.548H157.529H160.509H163.497H166.477H169.457H172.445H175.425H178.405H181.393H184.373H187.361H190.341H192.563L192.578 24.9878L192.593 26.9887L192.6 28.9822L192.608 30.9756L192.615 32.9544L192.63 34.9257L192.638 36.8897L192.645 38.8462L192.66 40.8028L192.667 42.7446L192.675 44.679L192.69 46.6134L192.697 48.5331L192.704 50.4527L192.719 52.3576L192.727 54.2625Z",id:"MT"},{d:"M388.932 140.994L388.746 141.666L388.843 142.05L389.215 142.448L389.623 143.438L389.95 144.767L389.512 144.228L389.044 143.94L388.315 143.718L387.661 143.334L387.706 143.888L387.646 144.486L387.148 144.302L386.807 144.102L387.111 144.737L386.457 144.545L386.019 144.582L385.736 145.143L385.357 145.483L384.792 145.594L383.953 145.077L383.685 144.457L383.574 143.763L383.529 144.582L383.678 145.439L383.626 146.088L384.428 146.206L385.179 146.103L386.197 146.133L386.859 146.007L387.26 145.8L388.219 145.978L388.286 146.76L388.174 147.535L388.122 148.362L388.39 148.355L388.702 148.089L388.858 146.605L389.735 146.059L390.025 146.096L390.307 146.576L390.404 147.063L390.5 147.727L390.292 148.739L388.947 149.92L387.988 151.006L387.498 151.227L386.792 151.102L385.989 150.828L385.595 150.777L385.298 150.865L385.112 150.533L384.993 149.92L384.681 149.713L384.443 149.736L384.28 150.385L383.529 150.57L382.511 150.304L381.441 149.758L381.901 150.341L384.555 151.434L384.852 151.641L385.134 151.936L384.763 152.401L384.473 152.925L384.428 153.339L384.324 153.597L383.269 154.299L382.697 154.173L381.233 152.91L381.901 154.003L382.437 154.468L383.514 154.712L385.528 154.306L386.19 154.749L385.647 155.539L385.105 156.093L384.399 156.152L383.774 156.299L383.589 156.676L383.143 156.698L382.451 156.72L381.374 156.757L380.787 156.669L379.962 157.444L379.649 157.547L379.218 157.399L379.033 156.779L378.839 156.469L378.832 157.636L378.906 157.946L379.062 158.182L378.096 158.817L377.175 159.607L376.84 159.821L376.461 160.212L375.688 161.35L375.495 162.176L375.22 163.099L375.183 162.686L375.227 161.984L375.034 161.187L374.915 162.656L374.618 163.336L371.868 163.291L370.761 163.631L369.75 162.619L368.806 161.667L367.862 160.715L366.918 159.762L365.975 158.802L365.031 157.842L364.087 156.883L363.143 155.923L362.155 155.886L361.166 155.856L360.178 155.819L359.189 155.79L358.201 155.753L357.212 155.723L356.224 155.687L355.235 155.657L355.198 154.993L355.168 154.52L354.552 153.715L354.187 153.243L353.407 153.649L353.362 153.449L353.392 153.095L353.325 152.969L353.11 152.881L352.002 152.829L350.895 152.778L349.788 152.726L348.68 152.674L347.573 152.623L346.466 152.571L345.358 152.519L344.251 152.467L343.998 152.386L343.5 152.667L342.185 153.088L341.538 153.457L341.3 153.435L340.185 153.796L339.071 154.158H338.944L336.826 154.188L334.708 154.217L332.59 154.247L330.472 154.276L330.732 152.475L330.91 152.061L331.111 151.965L331.839 151.958L332.3 151.751L332.709 150.666L333.638 149.809L334.054 149.595L334.678 149.426L336.157 149.219L337.748 148.385L338.892 147.594L339.799 147.373L340.081 147.085L340.29 146.708L340.416 146.192L340.512 146.081L341.04 146.118L341.441 145.667L341.828 145.409L342.214 145.261L342.452 145.254L342.541 145.387L342.608 145.771L342.69 145.896L342.854 145.904L343.077 145.815L343.374 145.571L344.147 144.804L344.66 144.508L345.447 144.338L346.02 144.745L346.361 144.604L347.365 143.032L347.766 142.744L348.063 142.633L348.584 142.611L348.591 142.175L348.769 141.518L348.792 141.068L349.111 140.411L349.23 140.543L351.765 140.566L354.299 140.588L356.833 140.61L359.368 140.632L361.902 140.654L364.436 140.676L366.97 140.698L369.505 140.721L372.039 140.743L374.573 140.765L377.108 140.787L379.642 140.809L382.176 140.831L384.711 140.854L387.245 140.876L388.932 140.994ZM389.475 141.009H389.698L390.396 143.77L391.793 146.768L391.964 147.284L391.637 146.834L390.604 144.855L390.025 143.408L389.475 141.009ZM391.243 146.96L391.139 147.137L390.671 146.192L391.147 146.494L391.229 146.745L391.243 146.96ZM391.883 152.202L390.946 152.431L390.864 152.357L391.942 151.877L392.284 150.171L392.329 149.381L392.165 147.993L392.172 147.705L392.351 148.156L392.507 149.455L392.447 150.437L392.135 151.862L391.883 152.202ZM390.218 152.623L388.947 153.228L388.806 153.191L389.638 152.755L390.218 152.623ZM385.171 157.237L385.001 157.333L385.64 156.285L386.903 154.948L387.245 154.741L386.19 155.879L385.171 157.237ZM384.874 157.141L384.718 157.163L384.443 157.067L384.064 156.89L383.982 156.757L384.347 156.801L384.874 157.141Z",id:"NC"},{d:"M244.877 54.2625H243.25H241.622H239.987H238.359H236.732H235.104H233.469H231.841H230.214H228.579H226.951H225.324H223.696H222.061H220.433H218.806H217.171H215.543H213.915H212.28H210.653H209.025H207.398H205.763H204.135H202.507H200.872H199.245H197.617H195.982H194.354H192.727L192.719 52.3576L192.704 50.4527L192.697 48.5331L192.69 46.6134L192.675 44.679L192.667 42.7446L192.66 40.8028L192.645 38.8462L192.638 36.8897L192.63 34.9257L192.615 32.9544L192.608 30.9756L192.6 28.9822L192.593 26.9887L192.578 24.9878L192.563 22.9869H193.321H196.309H199.289H202.269H205.257H208.237H211.225H214.205H217.186H220.173H223.153H226.141H229.121H232.102H235.089H238.07H240.195L240.879 26.2725L240.871 27.1954L240.767 27.7861L240.857 28.8197L240.819 29.5138L240.923 30.3998L240.894 31.5737L241.228 32.9248L241.726 34.1431L241.711 34.4975L241.86 35.2284L242.15 35.8339L242.767 37.6206L242.737 39.304L242.841 39.8208L242.997 43.4386L243.049 43.889L243.383 44.4427L243.227 45.2623L243.205 45.6831L243.272 47.1893L243.465 47.7726L243.658 48.9613L244.454 50.4232L244.587 50.9769L244.632 51.4199L244.848 52.3133L244.781 53.502L244.877 54.2625Z",id:"ND"},{d:"M245.405 87.4503L245.62 87.4946L246.089 88.3215L246.282 89.7982L246.705 90.9943L247.367 91.895L247.694 92.5522V92.973L247.857 93.416L248.17 93.8959L248.289 94.7007L248.229 95.8451L248.363 96.4505L248.69 96.5244L248.839 96.6794L248.794 96.9304L248.898 97.115L249.165 97.2331L249.24 97.558L249.121 98.097L249.218 98.4292L249.53 98.5695L249.589 98.8353L249.396 99.2192L249.426 99.5294L249.678 99.7509L249.849 100.74L249.931 102.49L249.901 103.509L249.76 103.812L249.99 104.439L250.414 105.118L250.592 105.399L250.979 106.352L251.142 107.297L251.521 107.902L252.123 108.183L252.525 108.788L252.733 109.711L253.231 110.486L253.342 110.567H252.079H250.615H249.151H247.687H246.215H244.751H243.287H241.815H240.351H238.887H237.415H235.951H234.487H233.016H231.552H230.087H228.623H227.152H225.688H224.224H222.752H221.288H219.824H218.352H216.888H215.424H213.953H212.488H211.024H209.56H208.089H206.625V109.438V108.308V107.171V106.034V104.897V103.76V102.616L206.617 101.471H204.871H203.132H201.385H199.638H197.892H196.145H194.399H192.652L192.645 99.1676L192.637 96.864L192.63 94.5457V92.2199L192.623 89.8868L192.615 87.5389L192.608 85.191L192.6 82.8284H195.023H197.446H199.869H202.284H204.707H207.13H209.553H211.976H214.391H216.814H219.237H221.66H224.082H226.505H228.921H231.693L233.781 84.2386L235.022 84.6742L235.617 84.2607L236.895 84.0245L238.865 83.9654L240.106 84.1574L240.626 84.6004L241.637 85.1024L243.146 85.6562L244.045 86.2616L244.342 86.9113L244.87 87.3174L245.405 87.4503Z",id:"NE"},{d:"M425.542 82.1713L425.23 83.3969L425.03 84.0024L424.212 83.9581L423.855 84.054L423.142 84.4896L422.703 84.6521L421.982 85.3904L421.373 85.6488L420.377 85.6119L419.381 85.5824L418.385 85.5528L417.389 85.5159L416.401 85.4864L415.405 85.4495L414.409 85.4199L413.413 85.383L413.294 85.0508L412.908 84.4453L412.811 84.1943L412.834 83.9138L413.049 83.1533L413.205 82.917L413.369 82.474L413.614 80.7094L413.83 79.6832L413.986 77.8078L414.142 77.254L414.32 76.9144L414.602 76.0284L415.123 75.2975L415.465 74.4041L415.873 73.6215L415.94 73.1637L416.245 72.167L416.46 70.3876L416.669 70.107L417.605 69.8634L417.902 69.6788L418.898 68.9405L419.21 68.6304L419.411 68.3203L419.567 67.8182L419.678 67.6853L419.701 67.4121L419.351 66.2382L419.337 65.81L420.11 64.4736L419.946 63.6984L420.058 63.5064L420.741 61.6089L421.388 60.7303L422.265 61.0256L422.733 60.9961L423.082 60.6934L423.134 61.668L423.186 62.7533L423.246 63.8386L423.298 64.924L423.35 66.0093L423.402 67.0873L423.454 68.1652L423.513 69.2432L423.565 70.3138L423.617 71.3843L423.669 72.4549L423.721 73.5255L423.781 74.5887L423.833 75.6519L423.885 76.7151L423.937 77.7783L423.9 78.4797L423.989 79.1368L424.242 79.7201L424.873 80.5691L424.985 81.2853L425.542 82.1713Z",id:"NH"},{d:"M403.321 101.545L403.202 102.261L402.51 103.708L402.221 104.041L401.879 104.336L401.619 104.461L401.381 104.69L401.106 105.052L400.846 105.776L401.002 106.433L402.34 106.676L402.696 106.47L402.882 106.942L402.986 107.599L402.882 108.308L402.659 109.024L402.488 109.918L402.347 111.269L402.131 112.487L402.102 112.118L402.236 110.641L402.02 110.796L401.871 111.136L401.463 113.041L400.898 114.052L400.378 114.754L399.842 114.636L399.961 115.189L399.813 115.477L399.686 116.083L399.367 116.481L399.069 116.444L398.638 116.718L398.467 116.932L398.453 117.33L398.163 117.685L397.122 119.523L396.223 120.062L396.007 119.981L396.245 119.117L396.409 118.239L395.859 117.855L395.331 117.655L394.729 117.685L394.068 117.006L393.213 116.511L392.016 115.167L392.054 114.791L392.024 114.163L392.388 113.166L392.737 112.472L393.22 112.11L394.618 111.741L394.967 111.188L395.175 110.722L395.532 110.412L396.334 109.851L397.553 109.172L395.866 106.89L395.465 106.758L395.019 105.643L394.506 105.333L394.38 105.155L394.358 104.299L394.402 103.804L394.476 103.516L394.915 103.273L395.168 102.778L395.175 102.52L394.841 101.722V101.471L395.48 100.984L396.312 100.031L396.81 98.9904L397.011 98.6877L397.256 98.4735L397.806 98.1782L398.497 98.5991L399.188 99.0199L399.88 99.4407L400.571 99.8616L401.262 100.282L401.953 100.703L402.644 101.124L403.321 101.545ZM401.752 113.462L400.935 114.82L400.92 114.562L401.946 112.871L401.752 113.462Z",id:"NJ"},{d:"M199.795 141.429L199.505 141.437L199.497 143.851L199.482 146.258L199.475 148.658L199.46 151.042L199.453 153.427L199.445 155.797L199.43 158.167L199.423 160.523L199.416 162.87L199.401 165.211L199.393 167.544L199.378 169.87L199.371 172.188L199.364 174.499L199.349 176.803L199.341 179.099H197.766H196.197H194.622L193.046 179.106H191.478H189.903H188.334H186.759H185.183H183.615H182.039H180.471L178.896 179.114H177.32H175.752H174.176H174.139L174.853 180.59H174.845L175.692 181.011L175.64 180.996L174.102 180.982L172.564 180.974L171.025 180.967L169.487 180.96L167.948 180.945L166.41 180.937L164.871 180.93L163.333 180.923V181.838L163.326 182.746V183.662L163.318 184.57L160.843 184.577L158.376 184.585H157.491V181.705V178.818V175.917V173.008V170.084V167.153V164.207V161.246V158.278V155.295V152.298V149.285V146.266V143.231L157.499 140.182V137.11H160.137H162.783H165.429H168.067H170.713H173.359H176.005H178.643H181.289H183.935H186.573H189.219H191.865H194.503H197.149H199.795V138.196V139.274V140.351V141.429Z",id:"NM"},{d:"M122.561 137.088L122.554 140.47L122.539 144.176L122.405 144.228L122.004 145.077L121.558 145.468L121.216 145.461L120.874 145.217L120.525 144.737L119.997 144.457L119.306 144.39L118.696 144.464L118.161 144.686L117.834 145.003L117.656 145.616L117.715 145.867L118.035 146.435L118.057 147.321L118.102 148.037L118.295 148.429L118.325 148.887L118.206 149.61L118.302 150.201L118.704 151.242L118.57 154.247V154.306L116.667 152.512L114.891 150.836L113.115 149.152L111.339 147.462L109.562 145.771L107.786 144.073L106.01 142.367L104.234 140.662L102.955 139.473L101.67 138.284L100.384 137.095L99.1055 135.899L97.8198 134.703L96.5414 133.5L95.2557 132.296L93.97 131.093L92.3349 129.661L90.6924 128.228L89.0574 126.788L87.4224 125.349L85.7799 123.902L84.1448 122.454L82.5023 121.007L80.8673 119.553V117.877L80.8599 116.201V114.517V112.834V111.143V109.445V107.747V106.041V104.329V102.616V100.895V99.175V97.4473V95.7122V93.9698V92.2274H83.4685H86.0772H88.6858H91.2944H93.9105H96.5191H99.1278H101.736H104.338H106.939L109.54 92.22H112.141H114.742H117.344H119.945H122.546V93.6745V95.1216V96.5687V98.0084V99.4482V100.888V102.32V103.745V105.17V106.595V108.013V109.43L122.554 110.841V112.251V113.661V115.056V116.459V117.855V119.25V120.638V122.026V123.407V124.788V126.168V127.542V128.915L122.561 130.281V131.647V133.013V134.371V135.73V137.088Z",id:"NV"},{d:"M407.914 85.1763L407.691 85.9663L407.468 86.7563L407.245 87.5463L407.022 88.3363L406.799 89.1264L406.576 89.9164L406.353 90.699L406.13 91.4816L406.316 91.7105L406.256 92.5965L406.197 93.4825L406.137 94.3685L406.078 95.2471L406.018 96.1257L405.959 97.0043L405.899 97.8829L405.84 98.7615L406.056 99.1159L406.271 99.4703L406.011 99.6327L405.602 99.8912L405.171 100.164L404.606 100.519L404.889 100.977L405.253 101.552L404.963 101.789L404.212 102.586L403.707 103.014L403.291 103.155L403.038 103.516L402.756 103.753L403.023 102.955L403.313 102.283L403.558 100.977L403.484 99.9133L403.179 99.4777L402.867 99.1824L403.231 100.231L403.291 101.515L403.283 101.552L402.615 101.139L401.923 100.718L401.232 100.297L400.541 99.8764L399.85 99.4556L399.159 99.0347L398.467 98.6139L397.776 98.193L397.628 97.846L397.375 97.5802L396.126 97.1151L395.807 96.805L395.517 96.3841L395.316 95.8673L395.212 95.3283L395.205 94.9001L395.294 94.4202L395.004 94.1027L394.997 93.8L394.811 93.6006L393.993 93.2389L393.748 92.7294L393.206 92.2495H392.239H391.273H390.307H389.341H388.375H387.409H386.442H385.476H384.51H383.544H382.578H381.612H380.645H379.679H378.713H377.747H376.781H375.815H374.848H373.882H372.916H371.95H370.984H370.018H369.052H368.085H367.119H366.153H365.187H364.221H363.254H362.288V90.9943V89.7392V89.6875L362.697 89.4586L364.042 88.6095L364.711 87.9894L365.417 87.4725L366.16 87.0664L366.748 86.5422L367.186 85.8999L367.669 85.4199L368.197 85.1025L368.479 84.7702L368.516 84.4232L368.42 83.9507L368.189 83.36L368.16 82.8949L368.331 82.5552L368.368 82.3264L368.271 82.2082L367.164 81.8686L367.208 80.2369L367.193 80.1926L367.253 80.1705L369.795 79.4469L371.415 79.1959L373.392 79.1294L375.748 79.4838L376.662 79.8087L377.242 80.2221L377.91 80.3329L378.668 80.1409L379.716 80.0745L381.062 80.1409L381.783 80.2369L381.879 80.3698L381.968 80.3329L382.058 80.1262L382.414 79.8973L383.418 79.5502L383.551 79.6241L383.759 79.4469L384.042 79.0261L384.555 78.5609L385.305 78.0515L385.982 77.7857L386.584 77.7635L386.985 77.638L387.186 77.4091L387.245 77.2024L387.163 77.0252L387.2 76.8332L387.23 76.7372L387.2 76.656L387.126 76.4936L387.067 75.6519L386.948 75.2606L386.784 74.9726L386.68 74.7438L386.703 74.5444L387.067 74.3007L387.037 74.5296L387.134 74.5961L387.305 74.4927L387.691 73.9907L387.736 73.7987L388.003 73.5993L388.196 73.2966L387.981 73.2523L387.468 73.3409L387.349 73.2523L387.617 72.8463L387.565 72.6174L387.483 72.5214L387.312 72.4845L386.732 72.8389L386.554 72.8684L386.532 72.6838L386.234 72.263L387.037 71.5173L389.876 69.4426L390.166 69.1251L390.27 68.8445L390.196 68.6009L390.114 68.5418L390.158 68.4827L392.893 65.8026L394.447 64.5622L395.732 63.8682L396.706 63.5359L397.367 63.5802L397.739 63.5359H398.059H399.686L402.6 63.5285L405.513 63.5212H407.237L407.289 64.1709L407.141 64.9388L407.26 65.7731L407.096 67.5081L407.535 68.8445L407.43 69.7379L407.46 70.6977L407.386 70.934L407.044 71.4877L406.843 72.0267L406.732 72.5731L406.739 72.9275L407.037 74.4927L407.096 75.1794L407.089 75.5781L406.828 76.8628L406.814 77.2245L406.888 77.3279H406.985L407.282 76.9292L407.416 76.8701L407.587 76.9661L408.003 77.5715L407.98 78.6569L407.966 79.4395L407.951 80.3107L407.921 81.6176L407.899 82.57L407.884 83.4412L407.869 84.1057L407.772 84.593L407.914 85.1763ZM387.914 70.6165L387.691 70.6977L387.639 70.587L387.676 70.4762L387.862 70.3433H388.167L388.129 70.4467L387.914 70.6165ZM386.866 73.3852L386.762 73.4147L386.769 73.208L386.873 73.0751L387.082 73.0161L387.074 73.1194L386.866 73.3852ZM368.197 82.6217L367.981 82.9466L367.773 82.9171L367.625 82.8137L367.572 82.6069L367.61 82.3485L367.795 82.2378L368.293 82.3337L368.308 82.4371L368.197 82.6217ZM413.116 101.604L412.618 102.195L413.064 102.254L413.45 102.077L413.815 101.722L414.662 101.242L415.39 101.036L415.621 100.991L415.962 101.324L416.646 101.058L417.352 100.91L414.305 102.438L413.681 102.608L412.789 103.059L411.949 103.383L411.34 103.502L408.322 104.631L408.084 104.653L407.824 104.543L405.335 105.126L404.316 105.192L403.387 105.392L404.071 104.927L404.086 104.749L403.923 104.609L403.558 104.646L403.179 105.126L402.577 105.288L402.458 104.764L402.659 104.358L402.934 103.974L403.529 103.369L404.383 102.985L404.814 102.653L405.112 102.948L405.179 102.549L405.409 102.32L405.662 102.195H406.264L406.591 102.136L406.828 102.003L407.074 101.981L407.735 102.158L408.382 102.106L408.902 101.855L409.445 101.774L410.879 101.715L412.306 101.53L412.878 101.205L414.075 100.297L414.766 100.046L413.696 101.095L413.116 101.604ZM401.373 105.835L401.039 105.872L401.373 105L401.99 104.602L402.213 104.683L402.221 104.993L402.131 105.259L401.723 105.665L401.373 105.835Z",id:"NY"},{d:"M357.078 104.705L356.254 105.104L356.097 105.473L356.35 105.938L356.484 106.543L356.499 107.282L356.038 108.906L355.087 111.402L354.611 112.967L354.596 113.609L353.972 114.444L352.738 115.477L351.876 116.097L351.386 116.312L350.969 116.297L350.642 116.046L350.271 116.216L349.855 116.806L349.476 117.109L349.119 117.124L348.814 117.508L348.561 118.246L348.324 118.674L348.101 118.785L348.086 119.161L348.272 119.796L348.257 120.025L348.153 120.033L348.056 119.996L347.811 120.136L347.543 120.49L347.439 120.498L347.365 120.439L347.29 119.974L347.068 119.649L346.711 119.457L346.213 119.885L345.574 120.933L345.299 121.613L345.403 122.085L345.462 122.772L345.299 123.052L344.957 123.156L344.682 123.532L344.496 124.167L344.013 124.573L343.24 124.743L342.43 124.448L342.371 124.426L341.412 123.628L340.81 122.861L340.557 122.13L339.725 122.093L338.298 122.765L337.228 122.861L336.499 122.403L335.957 122.218L335.414 122.373L334.894 122.669L334.463 122.491L333.928 121.945L333.088 121.561L331.936 121.347L331.133 120.749L330.695 119.782L330.219 119.11L329.721 118.741L329.164 118.637L328.569 118.785L328.108 118.711L327.781 118.401L327.365 118.438L326.979 118.733L326.986 115.765L327.016 112.841L327.038 109.91L327.061 106.957L327.083 103.989L327.105 101.013L327.135 98.0158L327.157 95.0034L329.483 94.9148L331.817 94.8336L334.143 94.7376L336.477 94.6564L336.544 94.5973L336.529 94.6269L336.626 94.7893L337.257 94.8927L337.688 95.0846L338.023 95.3726L339.242 95.9411L339.613 96.2881L339.977 96.4801L340.349 96.517L340.594 96.4062L340.735 96.1552L340.906 96.133L341.114 96.3545L341.798 96.5982L341.821 96.672L339.925 97.0929L339.531 97.2922L340.007 97.4251L340.483 97.3956L340.966 97.1962L341.523 97.2036L342.006 97.2996L342.162 97.2184L342.222 97.1741L343.047 97.7279L343.359 97.8165L343.679 97.75L344.013 97.5433L344.741 97.2701L345.871 96.9378L346.956 96.7976L347.997 96.864L348.658 96.768L349.26 96.421L350.59 95.284L352.114 94.3684L354.633 93.224L357.071 92.3307V93.1059V94.0805V95.0551V96.0223V96.9969V97.9641V98.9313V99.8985V100.858V101.818V102.785V103.738L357.078 104.705Z",id:"OH"},{d:"M258.441 141.429L258.597 142.633L258.753 143.822L258.909 145.018L259.065 146.206L259.221 147.395L259.377 148.584L259.533 149.765L259.689 150.954L259.674 151.869L259.652 152.792L259.637 153.715L259.615 154.631L259.593 155.546L259.578 156.462L259.555 157.377L259.533 158.293L259.518 159.201L259.496 160.117L259.474 161.025L259.459 161.933L259.437 162.841L259.414 163.742L259.399 164.65L259.377 165.551L257.802 165.13L257.408 164.864L256.679 164.554L256.033 163.934L254.747 163.151L254.256 162.966L254.1 162.989L253.84 163.373L253.149 163.675L252.777 163.683L252.109 163.572L251.975 163.476L251.878 163.24L251.611 163.085L251.41 163.21L250.429 163.528L250.288 163.756L249.73 163.764L249.18 163.601L247.798 164.111L247.322 164.51L246.824 164.642L246.572 165.034L246.416 164.975L245.895 164.495L245.368 164.355L244.632 163.882L244.61 163.461L244.528 163.409L244.402 163.365L244.238 163.402L243.918 163.764L243.733 163.852L243.554 163.838L242.841 163.601L242.544 163.173L242.402 163.04L242.239 163.011L241.934 163.144L241.763 163.609L241.622 163.742L241.332 163.816L241.347 164.052L241.087 164.702L240.946 164.834L240.76 164.812L240.574 164.65L240.433 164.421L240.373 164.222L240.477 163.712L240.411 163.535L240.269 163.483L239.927 163.727L239.623 163.712L239.229 163.956L238.991 164.03L238.768 163.971L238.404 163.579L237.78 163.328L237.534 162.863L237.423 162.73L237.289 162.693L237.155 162.708L236.932 162.856L236.211 163.469L235.884 163.66L235.602 163.697L235.327 163.638L235.156 163.483L235.126 162.863L234.963 162.679L234.294 162.287L234.153 161.925L234.093 161.416L233.283 161.497L232.287 161.446L231.841 161.888L231.604 161.97L231.329 161.881L230.526 161.276L229.671 161.401L229.188 161.335L227.999 160.884L227.07 160.84L226.684 160.759L226.476 160.655L226.386 159.961L226.015 159.378L225.896 159.216L225.264 158.81L225.16 158.795L225.093 158.883L224.952 159.349L224.759 159.371L224.03 159.238L223.362 159.378L222.99 159.149L221.719 158.079L221.206 157.798L220.79 157.71V156.705V155.701V154.69V153.678L220.783 152.667V151.655V150.636V149.617V148.606V147.58L220.775 146.561V145.542V144.516V143.489V142.463L220.768 141.429H219.46H218.152H216.836H215.528H214.22H212.905H211.597H210.281H208.973H207.665H206.35H205.042H203.726H202.418H201.11H199.795V140.351V139.274V138.196V137.11H201.519H203.25H204.975H206.706H208.319H209.939H211.559H213.172H214.792H216.405H218.025H219.638H221.258H222.871H224.491H226.104H227.724H229.337H230.957H232.577H234.19H235.81H237.423H239.043H240.656H242.276H243.889H245.509H247.122H248.742H250.355H251.975H253.588H255.208H256.821H258.441V138.196V139.274V140.359V141.429Z",id:"OK"},{d:"M58.3334 52.1583L59.032 51.9073L59.582 52.0993L60.2806 52.5496L60.9718 53.9155L61.6481 56.1822L61.7967 56.9353L62.3244 57.4004L62.9487 57.4226L65.4533 57.7548L65.8249 57.7327L66.2783 57.6441L67.6978 56.7803L69.2362 56.4997L71.0571 56.5587L72.1719 56.8098L72.5806 57.238L73.5542 57.2823L75.8582 56.7803L78.4073 56.4258L79.7748 56.0641L81.3281 55.311L84.8583 54.3511L86.6197 54.2404L87.5116 53.8786L87.7196 53.6941L87.846 53.6867H89.704H91.5546L93.4126 53.6793H95.2706H97.1286L98.9866 53.6719H100.845H102.576L102.769 54.1075L103.498 54.964L104.531 55.6949L105.207 56.4628L105.512 57.2602L105.007 59.0838L103.691 61.919L102.978 63.7205L102.859 64.5031L102.212 65.8248L101.023 67.6927L100.443 69.0734L100.473 69.9668L100.874 70.491L101.647 70.6313L102.182 70.9266L102.465 71.3622L102.472 71.7757L102.205 72.1448L102.13 72.5288L102.242 72.9275L102.153 73.6363L101.707 75.0834L101.714 75.1351V77.4829L101.722 79.6093V81.7357V83.8473L101.729 85.9516V88.0484L101.736 90.1453V92.2273H99.1278H96.5192H93.9105H91.2944H88.6858H86.0772H83.4685H80.8599H79.0168H77.1662H75.323H73.4799H71.6367H69.7936H67.9505H66.0999H64.2567H62.4136H60.5705H58.7273H56.8767H55.0336H53.1905L51.2804 92.22L50.396 91.083L50.0096 89.3848L49.9352 88.6686L50.0393 86.7637L49.7717 85.9516L49.1028 84.6078L49.3927 83.4338L49.6974 82.7177L50.4555 79.5946L50.6338 79.3435L50.9534 79.3509L51.5034 78.8119L51.2507 78.6938L50.8642 78.9448L51.2061 77.7044L51.5926 76.6339L51.8378 76.2499L51.9642 72.7503L52.1871 70.0701L52.5513 69.1768L52.425 68.2612L52.5662 67.0135L52.4621 65.7509L53.2425 59.6376L53.1384 58.8919L53.3763 57.8951L53.1533 55.2593L53.2499 52.2912L53.0567 51.9147L52.9526 51.5012L53.1384 51.4421L53.4952 51.8777L55.1599 51.8704L56.2302 51.4717L56.6166 51.6046L57.0625 52.1436L57.6274 52.2543L58.3334 52.1583Z",id:"OR"},{d:"M397.799 98.1856L397.249 98.4883L397.003 98.7024L396.803 99.0051L396.305 100.054L395.472 100.999L394.833 101.486V101.737L395.168 102.534L395.16 102.793L394.908 103.287L394.469 103.531L394.395 103.819L394.35 104.314L394.372 105.17L394.499 105.347L395.012 105.65L395.45 106.772L395.859 106.905L397.546 109.187L396.327 109.859L395.524 110.427L395.175 110.73L394.484 111.535L393.451 111.8L392.886 112.103L392.745 112.243L392.121 111.992L391.251 112.029L390.954 112.14L390.731 112.361L390.203 113.085H388.59H386.97H385.357H383.745H382.132H380.512H378.899H377.286H375.673H374.053H372.441H370.828H369.208H367.595L365.982 113.078H364.369L363.455 113.085H362.541H361.634H360.72H359.813H358.899H357.985H357.078V112.044V110.996L357.071 109.955V108.906V107.858V106.802V105.753L357.078 104.705L357.071 103.738V102.785V101.818V100.858V99.8985V98.9313V97.9641V96.9969V96.0223V95.0551V94.0805V93.1059V92.3307L358.372 91.8508L358.951 91.5259L359.531 91.2158L359.836 91.0312L360.178 90.8688L362.37 89.6579V89.7096V90.9648V92.2199H363.336L364.295 92.2273H365.261H366.227H367.194H368.16H369.118H370.085H371.051H372.017H372.983L373.942 92.2347H374.908H375.874H376.84H377.799H378.765H379.731H380.697H381.656H382.622L383.589 92.242H384.555H385.521H386.48H387.446H388.412H389.378H390.337H391.303H392.269L393.235 92.2494L393.778 92.7294L394.023 93.2314L394.841 93.5932L395.026 93.7999V94.0953L395.316 94.4127L395.227 94.9V95.3283L395.331 95.8673L395.532 96.3841L395.822 96.7976L396.141 97.1076L397.397 97.5728L397.65 97.846L397.799 98.1856Z",id:"PA"},{d:"M422.042 94.9592L421.782 95.1954L421.507 94.8336L421.365 94.4423L421.165 94.2208L420.949 94.1396L421.135 94.9961L420.697 95.6384L420.578 97.2996L420.02 97.9863L418.296 98.4293L417.783 98.385L417.872 97.8534L418.051 97.6319L418.088 97.056L418.11 96.6794L418.103 96.0445L418.095 95.3135L418.088 94.5161L418.08 93.8147L418.073 93.3053L418.066 92.6039V92.1018L418.593 92.0944L419.314 92.0871L420.005 92.0723L420.436 92.0649L420.964 92.0575L420.986 92.4783L421.016 93.1207L421.306 93.2241L421.291 93.7483L421.284 94.0953L421.536 94.3094L421.796 94.5309L422.042 94.9592ZM421.99 96.9453L421.64 97.1963L421.254 97.152L421.447 96.8123L421.521 96.3103L421.715 95.7565L421.826 95.5867L422.057 95.439L421.99 96.9453ZM421.12 97.0043L420.927 97.1741L420.853 96.7237L420.986 96.2069L421.128 96.1922L421.194 96.4653L421.12 97.0043Z",id:"RI"},{d:"M370.753 163.653L370.664 163.683L368.814 164.923L368.264 165.469L366.74 167.566L366.354 168.903L366.042 168.341L366.116 167.921L366.123 167.574L365.737 168.312L366.101 169.39L365.774 169.803L364.771 170.571L364.221 170.697L363.596 170.911L363.403 171.671L362.563 172.365L362.073 172.675L361.181 172.484L361.456 173.155L361.129 173.657L360.557 174.049L359.851 174.3L359.449 174.27L359.107 174.403L358.832 174.728L358.171 175.031L357.487 174.861L356.707 174.758L356.276 174.935L357.004 175.237L357.391 175.666L357.316 176.249L357.116 176.47L356.655 176.773L356.454 176.729L356.335 176.456L356.187 175.887L355.971 176.005L355.934 176.271L355.748 176.367L355.094 175.459L355.131 176.153L355.354 176.685L355.577 176.958L355.8 177.113L355.852 177.364L355.406 177.962L355.176 178.095L354.767 178.191L354.537 178.56L354.611 178.885L353.192 178.228L352.768 177.637L352.783 176.877L352.515 176.013L351.683 174.566L351.081 174.152L350.68 173.163L350.286 171.45L349.669 170.357L348.822 169.877L348.257 169.309L347.967 168.659L347.67 168.231L347.357 168.031L347.186 167.699L347.164 167.219L346.681 166.592L345.262 165.425L344.927 164.716L344.258 163.978L342.593 162.479L340.996 159.563H340.988L340.788 158.972L340.446 158.728L339.896 158.64L339.353 158.352L338.565 157.614L338.558 157.606L337.235 156.691L337.51 155.871L338.528 154.793L338.87 154.225L338.922 154.217H339.048L340.163 153.855L341.278 153.501L341.516 153.516L342.162 153.147L343.47 152.726L343.976 152.445L344.229 152.527L345.336 152.571L346.451 152.623L347.558 152.667L348.665 152.718L349.773 152.77L350.888 152.814L351.995 152.866L353.102 152.91L353.318 152.999L353.385 153.125L353.355 153.479L353.4 153.678L354.18 153.272L354.544 153.737L355.161 154.542L355.191 155.015L355.228 155.679L356.216 155.709L357.205 155.746L358.193 155.775L359.182 155.812L360.17 155.842L361.159 155.879L362.147 155.908L363.136 155.945L364.08 156.905L365.023 157.865L365.967 158.824L366.911 159.777L367.855 160.737L368.806 161.689L369.75 162.642L370.753 163.653Z",id:"SC"},{d:"M244.877 54.2625L244.639 55.2519L244.476 55.6875L244.134 56.1231L243.079 57.0829L242.819 57.4152L242.856 57.7105L243.071 58.087L243.614 58.973L243.904 59.3348L245.063 59.9255L245.598 60.6564V62.864V65.0642V67.2497V69.4351V71.6058V73.7691V75.925V78.0735L244.587 78.1105L244.706 78.7085L244.981 79.2918L245.033 79.6314L244.974 79.9046L244.788 80.1483L244.833 80.5322L244.885 80.643L245.345 80.8866L245.494 81.2262L245.546 81.6102L245.539 81.8981L245.256 82.4297L245.182 83.1311L244.84 84.1721L244.461 84.8071L244.387 85.132L244.424 85.3904L245.004 86.0622L245.041 86.3281L245.226 86.6751L245.405 87.4503L244.87 87.3174L244.342 86.9113L244.045 86.2616L243.146 85.6562L241.637 85.1024L240.626 84.6004L240.106 84.1574L238.865 83.9654L236.895 84.0245L235.617 84.2607L235.022 84.6742L233.781 84.2386L231.693 82.8284H228.921H226.505H224.082H221.66H219.237H216.814H214.391H211.976H209.553H207.13H204.707H202.284H199.869H197.446H195.023H192.6L192.593 80.451L192.585 78.0735L192.578 75.6814L192.571 73.2744L192.563 70.8675L192.556 68.4458L192.548 66.0093L192.541 63.5654H192.6H192.652H192.712H192.764V63.5359V63.5064L192.771 63.4768V63.4473L192.756 61.1659L192.749 58.8697L192.734 56.5735L192.727 54.2625H194.354H195.982H197.617H199.245H200.872H202.507H204.135H205.762H207.398H209.025H210.653H212.28H213.915H215.543H217.171H218.806H220.433H222.061H223.696H225.324H226.951H228.579H230.214H231.841H233.469H235.104H236.732H238.359H239.987H241.622H243.25H244.877Z",id:"SD"},{d:"M335.05 140.536L336.64 140.543L340.029 140.558L342.437 140.573L344.414 140.58L345.581 140.588L347.053 140.595L347.38 140.418L348.115 140.447L349.104 140.484L348.784 141.149L348.762 141.592L348.584 142.249L348.576 142.685L348.063 142.707L347.759 142.817L347.357 143.105L346.362 144.678L346.012 144.818L345.44 144.412L344.652 144.582L344.139 144.877L343.374 145.645L343.077 145.889L342.846 145.978L342.683 145.97L342.601 145.845L342.534 145.461L342.445 145.328H342.207L341.821 145.475L341.434 145.734L341.033 146.177L340.505 146.14L340.408 146.251L340.282 146.768L340.074 147.144L339.792 147.432L338.877 147.654L337.733 148.444L336.15 149.278L334.664 149.485L334.047 149.654L333.63 149.869L332.701 150.725L332.293 151.81L331.824 152.017L331.104 152.024L330.903 152.12L330.717 152.534L330.457 154.328L328.183 154.306L325.909 154.276L323.642 154.247L321.368 154.225L320.245 154.21L319.123 154.195L318.001 154.18L316.879 154.173L315.756 154.158L314.634 154.143L313.512 154.136L312.39 154.121L311.268 154.107L310.145 154.092L309.023 154.084L307.901 154.07L306.779 154.055L305.656 154.047L304.534 154.033L303.412 154.018L303.323 154.025L303.404 154.129L303.531 154.239H301.628L299.77 154.232H297.912H296.054L294.196 154.225H292.338H290.48L288.696 154.217V154.195L288.957 153.841L289.752 153.265L290.101 152.504L289.997 151.567L290.287 150.725L290.978 149.965L291.26 149.211L291.142 148.466L291.483 147.86L292.294 147.388L292.405 147.196L292.375 147.056L292.36 146.893L292.368 146.827L292.405 146.679L292.583 146.598L292.821 146.524L292.925 146.406V146.214L292.784 145.874L292.814 145.719L292.866 145.468L293.252 144.833L293.312 144.294L293.029 143.844L293.171 143.607L293.349 143.541L293.587 143.504L293.661 143.401V143.268L293.468 142.973L293.52 142.714L293.862 142.53L293.966 142.072L293.847 141.429L294.337 141.415L294.352 141.459L294.449 141.533L294.583 141.459L294.597 141.437H295.987H297.191H298.403L299.607 141.444H300.818H302.022H303.233H304.326L304.348 141.429V140.662L304.066 139.776H304.103L305.047 139.872L305.664 139.931L305.864 140.196L308.198 140.152L310.524 140.108L312.85 140.064L315.184 140.019L317.614 140.1L320.037 140.189L322.468 140.27L324.898 140.359L327.328 140.44L329.758 140.521L332.181 140.61L334.611 140.691L334.671 140.669L334.723 140.654L334.775 140.632L334.834 140.61L334.886 140.595L334.946 140.573L334.998 140.558L335.05 140.536Z",id:"TN"},{d:"M259.377 165.551L259.741 165.957L260.031 166.075L260.12 166.237L260.262 166.282L260.44 166.245L260.707 166.06L261.101 166.112L261.428 166.045L262.075 166.141L262.432 166.333L262.439 167.456L262.447 168.578L262.454 169.7L262.461 170.822V171.863V172.904V173.945V174.986V176.027V177.061V178.095V179.128L263.428 180.125L263.844 180.812L263.978 181.159L264.022 182.348L264.119 182.636L264.602 183.078L264.609 183.374L265.115 184.23L265.1 184.629L265.583 185.545L265.858 185.781L265.902 186.394L266.051 186.859L265.828 187.191L265.925 187.656L265.791 188.084L265.717 188.653L265.397 189.531L265.115 189.96L264.728 190.787L264.765 191.466L264.542 192.212L264.513 192.5L264.721 192.994L264.795 194.353L264.684 194.641L264.215 195.438L263.881 195.416L263.145 196.73L263.561 197.468L263.532 197.734L262.067 197.882L258.745 199.359L257.452 200.156L257.519 199.89L259.087 198.857L258.537 198.701L257.645 198.96L257.326 198.864L257.705 198.007L257.579 197.254L256.947 197.232L256.546 197.838L256.263 197.808L255.899 197.55L255.617 197.631L255.825 198.997L256.226 199.558L256.56 200.274L255.654 201.153L254.806 201.876L254.717 202.578L253.87 203.493L253.075 204.01L251.194 205.221L250.659 205.479L249.812 206.04L248.645 206.461L247.523 207.133L247.144 207.237L247.857 206.668L248.705 206.107L247.976 206.181L246.854 205.922L246.17 205.908L246.163 206.114L245.643 206.402L245.1 205.981L244.862 205.693L244.751 205.45L244.52 205.391L244.298 205.509L245.108 207.244L245.449 207.318L245.828 207.488L245.353 207.894L244.84 208.196L244.037 208.403L243.354 207.768L243.205 208.558L243.116 209.348L242.885 209.548L242.521 209.835L242.321 209.621L242.224 209.319L241.994 209.592L241.652 209.799L241.087 209.835L240.663 209.946L240.671 210.271L240.79 210.596L241.54 210.338L241.265 211.179L240.574 212.014L240.017 212.213L239.162 212.087L238.946 212.169L238.761 212.338L239.757 213.638L239.117 215.594L238.709 216.303L238.426 216.392L238.114 216.414L237.007 215.786L236.405 215.299L236.94 216.628L238.389 217.012L238.463 217.514L238.456 217.942L238.174 218.444L237.906 219.109L238.107 219.574L238.337 220.718L238.53 221.243L238.746 222.837L238.976 223.524L240.292 226.057L240.738 226.079L240.812 226.352L240.767 226.876L239.816 227.031L239.415 227.267L239.34 227.467L239.281 227.577L239.162 227.57L238.709 227.422L237.683 226.706L236.182 226.263L234.212 226.093L232.867 225.732L232.146 225.185L231.396 224.86L230.608 224.757L229.954 224.462L229.441 223.967L228.683 223.65L227.687 223.509L227.04 223.14L226.587 222.232V222.217L226.186 220.704L225.68 219.751L224.692 218.57L224.603 218.415L224.595 218.223L224.722 217.536L224.618 217.042L224.305 216.635L224.231 216.207L224.402 215.757L224.417 215.218L224.268 214.59L223.636 213.911L222.522 213.173L221.578 212.102L220.797 210.685L220.025 209.703L219.259 209.156L218.739 208.492L218.456 207.702L218.375 207.244L218.486 207.118L218.018 206.24L216.963 204.608L216.353 203.412L216.197 202.652L215.528 201.751L214.339 200.702L213.692 200.023L213.536 199.551L211.686 198.17L211.151 197.306L210.727 197.033L210.244 197.062L209.999 196.981L209.984 196.789L209.828 196.782L209.531 196.959L208.549 196.996L206.877 196.893L205.673 196.656L204.93 196.287L204.41 196.339L204.113 196.804L203.481 197.107L202.507 197.24L201.675 198.103L200.976 199.691L200.672 200.71L200.761 201.168L200.575 201.5L200.122 201.706L199.661 202.164L199.193 202.88L198.643 203.227L198.018 203.205L196.859 202.652L195.172 201.574L193.849 200.909L192.89 200.658L192.043 200.156L191.307 199.41L190.631 198.916L190.014 198.665L189.293 197.838L188.468 196.427L188.052 195.342V194.19L186.967 191.68L186.395 190.587L185.971 190.085L185.139 189.487L183.897 188.786L182.233 187.39L180.144 185.286L178.665 184.016L177.796 183.588L177.045 182.827L176.406 181.735L175.782 181.041L175.715 181.011L174.868 180.598L174.154 179.121H174.199H175.774H177.35H178.925H180.501H182.077H183.652H185.228H186.803H188.379H189.955H191.53H193.106H194.681H196.257H197.833H199.408L199.416 176.825L199.423 174.521L199.43 172.21L199.438 169.892L199.445 167.566L199.453 165.233L199.46 162.893L199.468 160.545L199.475 158.189L199.482 155.827L199.49 153.457L199.497 151.072L199.505 148.68L199.512 146.28L199.52 143.873L199.527 141.459L199.817 141.452H201.125H202.433H203.741H205.049H206.357H207.665H208.973H210.281H211.589H212.897H214.205H215.513H216.821H218.129H219.437H220.745V142.478V143.504V144.53V145.557V146.583V147.602V148.621V149.64V150.659V151.677V152.689V153.7V154.712V155.723V156.728V157.732L221.154 157.82L221.667 158.101L222.938 159.171L223.309 159.4L223.978 159.267L224.707 159.4L224.9 159.378L225.041 158.92L225.108 158.824L225.212 158.839L225.844 159.245L225.963 159.408L226.334 159.991L226.431 160.685L226.632 160.788L227.018 160.87L227.954 160.914L229.144 161.364L229.627 161.431L230.481 161.305L231.284 161.911L231.566 161.999L231.797 161.918L232.25 161.475L233.239 161.527L234.049 161.446L234.108 161.955L234.249 162.324L234.918 162.715L235.082 162.9L235.112 163.52L235.282 163.675L235.55 163.734L235.832 163.697L236.159 163.505L236.88 162.893L237.103 162.745L237.237 162.73L237.371 162.76L237.482 162.893L237.728 163.358L238.352 163.609L238.709 164L238.932 164.059L239.177 163.985L239.563 163.742L239.868 163.756L240.217 163.513L240.359 163.565L240.418 163.734L240.314 164.251L240.373 164.443L240.515 164.672L240.708 164.834L240.894 164.857L241.035 164.724L241.295 164.074L241.28 163.838L241.577 163.756L241.711 163.631L241.882 163.158L242.187 163.033L242.35 163.055L242.499 163.188L242.796 163.616L243.502 163.86L243.688 163.875L243.874 163.786L244.193 163.432L244.357 163.387L244.491 163.439L244.565 163.491L244.595 163.912L245.323 164.384L245.858 164.524L246.378 165.004L246.527 165.056L246.78 164.672L247.278 164.532L247.753 164.133L249.136 163.624L249.686 163.786L250.243 163.779L250.392 163.557L251.373 163.232L251.573 163.107L251.848 163.269L251.945 163.505L252.071 163.601L252.748 163.72L253.119 163.705L253.803 163.402L254.071 163.018L254.227 162.996L254.717 163.181L256.003 163.956L256.657 164.583L257.385 164.886L257.779 165.152L259.377 165.551ZM255.49 202.054L255.141 202.127L256.664 200.909L256.984 200.503L257.393 200.518L256.709 201.204L255.49 202.054ZM243.428 209.88L243.168 209.909L243.487 209.488L244.008 209.274L245.145 208.462L245.606 208.403L245.851 208.123L245.955 208.078L245.888 208.425L244.974 208.913L243.428 209.88ZM241.674 211.844L241.525 211.866L241.867 211.224L241.927 210.965L242.484 210.153L242.774 210.035L242.9 210.382L242.328 210.95L241.674 211.844ZM239.303 216.539L239.088 216.99L239.147 216.325L239.712 214.804L240.864 212.804L241.347 212.471L240.017 214.664L239.303 216.539ZM240.581 225.37L240.485 225.724L239.905 224.056L238.961 220.261L238.924 218.09L239.073 217.344L239.318 220.408L240.359 224.285L240.581 225.37Z",id:"TX"},{d:"M143.475 92.22L143.482 93.3865V94.5457V95.7049V96.864V98.0158V99.1676V100.319V101.471H145.229H146.983H148.737H150.491H152.245H153.991H155.745H157.499V103.76V106.034V108.308V110.575V112.827V115.079V117.316V119.545V121.768V123.983V126.19V128.391V130.583V132.769V134.947V137.11H155.314H153.129H150.944L148.759 137.103H146.581H144.396H142.211H140.026L137.841 137.095H135.664H133.479H131.294L129.109 137.088H126.924H124.746H122.561V135.73V134.371V133.013V131.647V130.281L122.554 128.915V127.542V126.168V124.788V123.407V122.026V120.638V119.25V117.855V116.459V115.056V113.661V112.251V110.841L122.546 109.43V108.013V106.595V105.17V103.745V102.32V100.888V99.4482V98.0084V96.5687V95.1216V93.6745V92.22H123.854H125.162H126.47H127.778H129.086H130.394H131.702H133.01H134.318H135.627H136.935H138.243H139.551H140.859H142.167H143.475Z",id:"UT"},{d:"M376.617 116.459L377.019 116.791L377.962 117.183L378.349 117.581L378.178 117.988L378.156 118.283L378.334 118.549L379.59 119.08L380.363 119.833L380.839 120.062L380.98 120.129L381.322 120.313L381.478 120.542L381.374 121.554L381.047 122.056L380.534 122.44L379.865 123.119L379.702 123.747L379.493 124.92L379.776 125.319L380.066 125.422L380.92 125.157L381.359 125.275L382.34 126.685L384.168 127.239L384.837 127.586L385.38 128.317L386.197 128.738L386.829 129.35L386.844 129.749L386.621 130.222L386.532 130.857L386.264 131.255L385.617 131.3L385.224 131.196L383.12 128.952L382.868 128.745L382.087 127.571L381.173 126.936L380.891 126.951L382.191 128.117L382.719 128.93L383.655 130.067L384.324 130.546L384.815 131.3L385.276 131.654L386.524 132.156L386.093 132.518L386.784 132.828L386.881 133.389L386.814 134.031L385.855 133.78L385.825 134.253L385.915 134.533L385.491 134.762L384.904 134.452L383.373 132.747L383.388 132.976L383.514 133.241L384.406 134.341L385.201 134.999L385.878 135.294L386.398 135.848L386.584 136.18L386.703 136.682L386.316 137.022L385.878 137.214L385.446 136.874L385.134 136.512L384.465 135.899L384.265 135.213L383.759 135.25L381.634 134.378L379.924 134.275L380.088 134.452L380.304 134.57L381.664 134.785L382.199 135.183L383.313 135.538L383.967 135.634L384.235 136.719L385.142 137.465L385.261 138.018L385.878 138.077L386.963 137.531L387.661 137.723L388.672 137.878L388.902 138.314L389.073 139.148L389.43 140.086L389.66 141.001H389.437L388.895 140.994L387.156 140.979L384.622 140.957L382.087 140.935L379.553 140.913L377.019 140.89L374.484 140.868L371.95 140.846L369.416 140.824L366.881 140.802L364.347 140.78L361.813 140.758L359.278 140.735L356.744 140.713L354.21 140.691L351.675 140.669L349.141 140.647L349.022 140.514L348.026 140.477L347.298 140.447L346.971 140.625L345.507 140.617L344.34 140.61L342.363 140.602L339.955 140.588L336.559 140.573L334.976 140.566L335.682 140.152L336.73 139.908L338.595 139.207L339.338 138.491L340.386 137.967L340.825 137.339L341.523 136.741L341.783 136.062L341.88 135.958L343.032 135.346L344.243 134.578L346.889 132.459L346.941 132.739L346.845 133.042L347.068 133.396L347.253 133.95L347.513 134.29L347.84 134.563L348.383 134.807L349.022 135.235L349.528 135.353L349.698 135.338L350.256 134.925L350.717 134.703L351.2 134.253L352.062 134.866H352.404L353.251 134.6L354.046 134.526L354.247 134.445L354.544 134.194L354.552 133.684L354.618 133.551L354.752 133.492L354.908 133.478L355.265 133.662L355.614 133.67L357.101 133.079L357.212 133.123L357.398 133.396L358.052 133.049L358.438 132.725L358.609 132.237L358.929 131.757L358.862 131.543L358.654 131.263L358.929 130.613L359.33 129.971L360.846 128.021L361.33 126.84L361.961 126.08L362.169 125.474L362.645 124.876L362.972 123.636L363.173 123.385L363.463 123.34L363.76 123.495L363.975 123.724L364.117 124.094L364.882 124.418L365.521 124.455L365.967 124.219L366.227 123.783L366.577 122.964L366.911 122.477L367.127 121.864L367.349 121.443L367.691 121.177L368.553 121.192L368.999 120.815L369.341 120.387L369.549 120.247L369.795 120.269L370.575 119.582L371.601 118.143L371.824 117.234L372.091 116.577L372.195 115.905L372.396 115.536L373.303 116.267L373.823 116.688L375.012 117.648L375.8 118.283L376.112 117.552L376.617 116.459ZM393.926 128.066L394.112 128.044L393.362 129.38L393.042 129.52L393.926 128.066ZM391.08 128.804L391.355 128.405L392.41 128.265L393.064 128.176L391.518 131.624L391.585 132.259L391.273 132.466L390.805 132.629L390.329 133.005L390.017 133.419L389.727 134.541L389.163 135.796L388.813 135.272L388.724 134.821L388.88 133.647L389.49 131.72L390.158 130.517L390.671 129.948L391.08 128.804Z",id:"VA"},{d:"M413.413 85.383L412.73 85.3609L412.038 85.3313L411.355 85.3092L410.663 85.2796L409.972 85.2575L409.288 85.2279L408.597 85.2058L407.914 85.1763L407.728 84.6078L407.817 84.1204L407.832 83.4486L407.854 82.5847L407.869 81.6249L407.899 80.3181L407.914 79.4469L407.936 78.6568L407.958 77.5789L407.542 76.9734L407.371 76.8701L407.237 76.9365L406.947 77.3352L406.851 77.3279L406.776 77.2245L406.791 76.8627L407.051 75.578L407.059 75.1719L407.007 74.4853L406.71 72.92L406.702 72.5656L406.821 72.0267L407.022 71.4803L407.364 70.9266L407.438 70.6977L407.416 69.7378L407.52 68.8445L407.081 67.5081L407.245 65.773L407.126 64.9461L407.267 64.1782L407.222 63.5285L408.412 63.5211H411.325L414.231 63.5137L417.144 63.5063H420.057L419.946 63.6983L420.11 64.4736L419.337 65.8099L419.351 66.2382L419.701 67.4121L419.678 67.6853L419.567 67.8182L419.411 68.3203L419.21 68.6303L418.898 68.9404L417.902 69.6788L417.605 69.8634L416.668 70.107L416.46 70.3876L416.245 72.1669L415.94 73.1637L415.873 73.6214L415.464 74.4041L415.123 75.2975L414.602 76.0284L414.32 76.9144L414.142 77.254L413.986 77.8077L413.829 79.6831L413.614 80.7094L413.369 82.474L413.205 82.917L413.049 83.1532L412.834 83.9137L412.811 84.1943L412.908 84.4453L413.294 85.0507L413.413 85.383Z",id:"VT"},{d:"M102.576 53.6718H100.845H98.9866H97.1286H95.2706H93.4126H91.5546H89.6966H87.8386H87.7196L87.5116 53.8564L86.6197 54.2182L84.8583 54.3289L81.3207 55.2888L79.7674 56.0419L78.3999 56.411L75.8507 56.7654L73.5468 57.2675L72.5732 57.2232L72.1644 56.7949L71.0496 56.5513L69.2287 56.4922L67.6903 56.7802L66.2708 57.644L65.8175 57.7326L65.4459 57.7622L62.9413 57.4225L62.317 57.4004L61.7819 56.9426L61.6407 56.1895L60.9643 53.9155L60.2732 52.5496L59.5746 52.0992L59.0246 51.9146L58.326 52.1656L58.1105 52.0254L57.776 51.9885L57.0328 51.4864L56.6092 50.9843L55.3086 51.0212L55.041 50.6964L53.5918 51.0212L53.1459 50.689L52.3581 50.9031L52.5513 49.9654L52.5141 48.7841L52.5513 47.6323L52.7445 48.474L53.235 49.3674L53.4729 48.3559L53.6364 47.0786L53.1533 46.5839L52.3581 46.2221L52.0756 45.026L53.9634 44.0071L52.9601 43.793L52.5662 43.3353L52.0831 43.2762L52.0459 43.6306L51.8898 44.0957L51.7189 43.4829L51.6669 42.7594L51.4662 41.519L50.6933 39.5181L50.2251 36.9118L49.6379 35.6197L48.5083 34.3793L48.211 33.6558L47.9434 31.8173L48.0921 30.4219L47.884 29.4399L48.4265 29.499L49.8535 30.2742L51.6297 30.8797L52.1648 31.3227L53.0269 31.6475L57.7909 32.157L58.103 32.1053L58.7199 31.7878L58.98 31.8247L59.6786 32.5409L60.0279 32.6295L60.4813 32.5926L60.8157 32.4523L61.388 31.9576L61.4623 32.1422L61.4549 32.6L61.663 33.2497L62.0866 34.0914L62.2427 34.6156L61.388 36.0849L61.2245 36.1144L61.2022 35.6197L61.0907 35.5237L59.4854 38.0045L58.9205 39.1785L58.8611 39.7101L58.8834 40.0202L59.1063 40.094L59.6191 39.9759L60.3772 39.4886L60.4144 39.3852L59.7083 39.555L59.3665 39.5698L59.4111 39.016L59.4928 38.7502L59.9536 37.9307L60.4367 37.436L61.1279 36.9118L61.5292 36.4762L61.8042 35.8412L62.5697 35.0807L62.7109 34.8666L62.6811 34.2391L62.7332 34.1209L63.1048 34.2021L63.2609 35.2727L63.1717 35.7526L62.5102 36.3359L62.4285 36.5426L62.5474 37.34L62.4433 37.4139L62.1906 37.3179L62.1089 37.3696L62.7332 38.2334L62.9338 38.9053L62.9636 39.5033L62.7926 40.6477L62.6068 40.8397L62.2947 40.7733L61.8785 40.4189L61.7893 40.537L61.4623 41.423L61.3508 41.3418L61.1427 40.2933L61.0312 40.2121L60.3921 40.692L60.1394 41.1498L59.9164 41.8808L59.634 42.2204L60.4293 42.2942L61.1427 42.1465L61.715 42.4936L61.9082 42.5009L62.4359 42.1613L62.5994 41.9324L63.0305 40.8249L63.246 40.6256L63.573 40.6182L63.8851 40.4484L64.3459 39.843L64.3608 39.5993L64.1899 38.2334L64.2419 37.4582L64.1527 37.2145L63.9446 36.9561L63.9743 36.7051L64.1378 36.299L64.1527 35.9298L64.0115 35.5976L64.0709 35.221L64.5094 34.4163L64.5912 34.0618L65.1263 33.2571L64.9925 32.9322L64.5986 32.5335L64.3533 32.1865L64.1007 31.6401L63.9074 31.4556L63.848 31.5368L64.1155 32.4301L64.0561 32.4892L63.3649 32.0093L63.2014 31.7066L63.1196 31.2931L63.1791 30.983L63.5507 30.6803L63.9966 30.5696L63.9595 30.3112L63.4021 29.4768L63.0305 29.0929L62.7406 28.9083L62.3541 28.8566L62.1832 28.7164L62.1386 28.517L62.2204 28.2586L62.4285 28.1774L63.023 28.2808L63.3426 28.0962L63.3129 27.7639L63.2163 27.5793L63.2311 26.3832L63.0007 25.4087L62.8818 25.2462L62.7555 25.2315L62.6217 25.3644L62.2501 25.4013L62.0197 25.0838L61.767 24.4636L61.3062 22.9869H62.0197H64.9999H67.9802H70.9604H73.9407H76.9209H79.9011H82.8814H85.8616H88.8419H91.8221H94.8024H97.7826H100.763H101.491L101.506 24.6703L101.513 26.3537L101.521 28.0371L101.528 29.7131L101.536 31.3817L101.543 33.043L101.551 34.7042L101.558 36.3581L101.565 38.0045L101.573 39.651L101.58 41.2901L101.588 42.9218L101.595 44.5535L101.603 46.1778L101.61 47.7947L101.618 49.4117L101.565 49.5077L101.521 49.7439L101.722 50.4158L102.19 51.3904L102.338 52.077L102.16 52.4684L102.286 53.1476L102.576 53.6718ZM61.4029 26.3611L61.4995 26.59L61.217 26.8115L61.0164 26.8484L60.6968 26.494L60.5556 26.4497L60.6671 26.9961L60.6299 27.1807L59.9759 26.841L59.857 26.5752L60.0428 26.2947L60.4515 25.9993L60.5927 25.9624L61.4029 26.3611ZM59.7827 28.1626L59.9685 28.5022L59.2178 28.2808L58.8983 28.0814L58.8016 27.8894L58.6901 27.2545L58.7422 27.0477L59.0766 26.9739L59.7083 27.7565L59.7827 28.1626ZM61.1279 28.8862L61.0164 28.9895L60.6448 28.8493L60.4218 28.613L60.3475 28.3251L60.4887 27.7713L60.6745 27.631L60.7934 27.6606L60.8454 28.1479L61.1799 28.6647L61.1279 28.8862ZM62.8669 31.7509L63.2088 33.1094L63.3575 32.5409L64.3088 33.5229V34.0028L64.1899 34.1652L63.9892 34.2243L63.8034 34.084L63.6325 33.7444L63.4169 33.5672L62.9636 33.449L62.7257 33.0651L62.644 32.7993L62.6217 32.0388L62.5102 31.8026L62.2649 31.7509L62.0346 31.5663L61.6778 31.0347L61.6258 30.8944L61.7967 30.4588L62.1832 29.7279L62.4656 29.3809L62.644 29.4178L62.8595 29.6393L63.1196 30.038L63.0751 30.3185L62.0271 30.8723L61.99 30.9978L62.4953 31.1529L62.6811 31.2931L62.8669 31.7509ZM63.3946 37.5541L63.3575 37.7535L62.971 37.5172L62.8447 37.3031L62.8595 36.8158L62.9561 36.4983L63.0305 36.4319L63.2609 36.5722L63.3277 36.6534L63.3946 37.5541ZM64.1155 39.5993L64.0858 39.8356L63.8183 40.0202L63.677 39.9759L63.6696 39.7027L63.5953 39.6584L63.3054 39.9906L63.3277 39.3409L63.4689 38.6542L63.5953 38.6395L63.7811 39.0899L64.1155 39.5993ZM60.9049 41.5485L60.838 41.7478L60.7414 41.7405L60.5259 41.3344L60.4961 41.0464L60.6819 40.8397L60.9346 41.4378L60.9049 41.5485Z",id:"WA"},{d:"M287.767 43.3648L287.537 43.5272L287.448 43.4534L287.5 43.1433L287.619 42.9587L287.797 42.907L287.886 42.9809V43.1802L287.767 43.3648ZM285.798 44.3689L285.694 44.4428L285.426 44.273L285.389 44.1327L285.463 43.9924L285.59 44.0219L285.768 44.2287L285.798 44.3689ZM287.894 47.7505L287.857 47.8317L287.998 48.2009L288.355 48.1049L288.511 48.3264L288.726 48.4223L289.127 48.5995L289.321 49.0204L289.514 49.4412L289.707 49.8621L289.9 50.2829L290.777 50.5266L291.654 50.7702L292.531 51.0139L293.408 51.2575L294.285 51.5012L295.162 51.7448L296.039 51.9885L296.916 52.2321L297.407 52.5127L297.897 52.7933L298.388 53.0738L298.878 53.3544L299.651 53.4061L300.335 53.5759L301.294 53.5832L302.26 53.7974L303.679 54.2625L304.014 54.6612L304.073 54.927L303.932 55.5472L305.285 56.1009L305.864 56.5144L306.08 56.8319L306.043 57.1198L306.177 57.7253L306.035 58.0501V58.6186L305.731 59.2167L305.627 59.5416L305.619 59.8147L305.686 59.9919L305.85 60.0584L306.362 60.0215L306.868 59.8369L307.091 59.9476L307.135 60.0436L307.098 60.206L306.689 61.2176L306.704 61.6236L306.875 62.0223L307.158 62.4063L307.492 62.5392L307.477 62.7902L307.343 63.2849L306.949 63.6762L305.924 64.1709L305.76 64.5031L305.738 64.7763L305.077 65.9133L304.75 66.6074L304.534 67.3309L304.601 67.7887L304.95 67.9733L305.233 67.8994L305.448 67.5672L305.775 67.2718L306.221 67.0061L306.548 66.6147L307.001 65.6549L307.507 65.1012L307.774 65.0716L307.849 65.0864L308.376 64.8354L308.8 64.9166L309.053 65.2931L309.313 65.5516L309.372 65.7952L309.239 66.3342L309.001 66.9027L308.651 67.5007L308.332 68.3941L308.049 69.5902L307.99 70.491L308.153 71.0964L307.997 71.6354L307.522 72.1079L307.135 72.7429L306.845 73.5403L306.682 74.2047L306.645 74.7437L306.689 75.1498L306.868 75.6962L306.853 75.9693L306.333 77.1654L306.147 77.7487L306.117 78.2065L305.991 78.6569L305.597 79.5724L305.47 80.0818L305.448 80.547L305.537 81.3074L305.485 81.5659L305.508 81.7578L305.604 81.8907V82.127L305.5 82.474L305.537 82.7472L305.716 82.9391L305.835 83.3083L305.887 83.8547L306.02 84.305L306.243 84.6669L306.281 85.191L306.139 85.8777L306.065 87.1697V87.598L305.173 87.5906L302.022 87.5685L298.871 87.5463L295.72 87.5242L292.568 87.502L289.417 87.4799L286.199 87.4577L286.155 87.3839L285.939 86.5422L285.233 85.9146L284.037 85.5085L283.271 84.8662L282.937 83.9876L282.721 82.9982L282.632 81.8981L282.728 80.9752L283.011 80.2295L282.937 79.7274L282.506 79.4616L282.223 79.1146L282.089 78.6864L282.037 78.0957L281.807 75.2753L281.517 73.9389L281.079 73.4147L280.157 72.8019L278.745 72.1079L277.875 71.4582L277.377 70.5426L276.382 69.4647L275.728 69.0217L275.088 68.8592L274.583 68.5122L274.204 67.9806L273.684 67.6484L273.015 67.5081L272.272 67.0725L271.387 66.2899L271.365 66.2308L271.179 65.6623L271.283 65.3448L271.432 64.2521L271.417 63.9051L271.224 62.9083L271.462 62.5244L271.41 61.2914L271.491 60.8853L271.967 59.8738L271.989 59.357L271.818 58.7589L271.469 58.2716L270.525 57.7622L270.495 57.1272L270.651 56.6547L271.268 55.7687L271.61 54.9787L271.922 54.6391L273.81 53.4577L274.211 53.3765L274.501 53.0369L274.732 52.8892V51.4495V50.0024V48.5552V47.1007L275.207 46.9974L275.415 46.6356L275.898 46.0671L276.025 46.0745V46.0819L276.263 46.3403L276.857 46.7168L277.325 46.7611L277.92 46.6799L280.276 46.0302L281.272 45.5798L282.245 44.8193L282.342 44.7972L282.751 44.9374L282.877 45.0039L284.148 44.1327L284.564 44.0219L284.891 44.0441L285.3 44.3837L285.397 44.5904L285.263 44.9891L284.899 45.5798L284.72 46.0745L284.728 46.4805L284.572 46.9162L284.17 47.5068L284.312 47.6693L285.382 47.241L285.538 47.0786L285.553 46.9826L285.486 46.8645L285.612 46.8128L286.452 47.3961L287.017 47.7209L287.485 47.876L287.894 47.7505ZM286.928 44.4501L286.697 44.5092L286.192 44.4206L286.199 44.273L286.719 44.0662L286.95 44.0071L287.002 44.0958L286.928 44.4501ZM285.776 45.8234L285.374 45.9637L285.211 45.9342L285.278 45.7422L285.486 45.5133L286.415 44.9448L286.578 44.9522L286.63 45.0851L286.177 45.3657L286.006 45.5133L285.984 45.6684L285.776 45.8234ZM312.702 60.1175L312.494 60.2134L312.107 60.1765L311.966 59.955L312.167 59.3865L312.248 59.4899L312.583 59.4973L312.702 59.5563L312.739 59.6966L312.702 60.1175ZM311.795 61.2102L311.669 61.3357L311.453 61.2545L311.371 61.4391L311.416 61.8894L311.342 62.0962L311.149 62.0593L311.141 62.1405L311.312 62.3398L311.327 62.5613L311.193 62.7976L311.067 62.9083L310.94 62.8936L310.747 63.1667L310.487 63.7279L310.398 64.0527L310.48 64.1413L310.42 64.3259L309.774 65.175L309.528 65.2562L309.253 65.1381L309.06 64.887L308.949 64.5105L308.919 64.2152L308.964 64.0084L309.528 63.2553L309.781 62.7607L309.922 62.2069L310.182 61.8525L310.569 61.6975L310.881 61.3505L311.119 60.8115L311.394 60.5752L311.706 60.6417L311.84 60.8484L311.795 61.2102Z",id:"WI"},{d:"M364.369 113.078L364.347 114.23L364.332 115.381L364.31 116.526L364.295 117.67L365.187 117.006L365.655 116.769L367.179 115.3L367.379 115.293L367.907 115.499L368.999 114.451L369.133 114.074L369.26 113.949L369.401 113.964L369.483 114.06L369.43 114.281L369.512 114.385L369.966 114.636L370.59 114.776L370.679 114.791L371.236 114.783L371.482 114.577L371.608 114.17L371.861 113.934L372.426 113.831L373.436 113.417L374.016 113.484L374.514 113.905L375.012 114.104L375.517 114.089L375.718 114.185L375.599 114.399L375.733 114.65L376.112 114.931L376.246 115.189L376.119 115.426L376.164 115.603L376.365 115.721L376.491 115.979L376.528 116.385L376.617 116.459L376.164 117.53L375.852 118.261L375.064 117.626L373.875 116.666L373.355 116.245L372.448 115.514L372.247 115.883L372.143 116.555L371.876 117.212L371.66 118.121L370.634 119.56L369.854 120.247L369.616 120.232L369.408 120.372L369.066 120.801L368.628 121.17L367.766 121.155L367.416 121.421L367.193 121.849L366.978 122.462L366.643 122.942L366.287 123.761L366.027 124.197L365.581 124.433L364.934 124.396L364.176 124.064L364.035 123.695L363.819 123.466L363.522 123.311L363.232 123.348L363.032 123.599L362.705 124.839L362.229 125.437L362.021 126.05L361.389 126.811L360.906 127.992L359.397 129.941L358.988 130.583L358.714 131.226L358.922 131.506L358.988 131.72L358.669 132.2L358.498 132.688L358.112 133.013L357.465 133.36L357.272 133.086L357.16 133.042L355.674 133.64L355.325 133.633L354.968 133.441L354.812 133.456L354.678 133.522L354.611 133.648L354.604 134.164L354.306 134.415L354.106 134.497L353.31 134.57L352.471 134.836H352.129L351.267 134.223L350.784 134.674L350.315 134.888L349.765 135.301L349.594 135.316L349.089 135.198L348.45 134.77L347.915 134.526L347.588 134.26L347.328 133.913L347.142 133.36L346.919 133.013L347.016 132.71L346.963 132.429L345.997 132.156L344.756 131.137L343.961 129.904L343.708 129.328L343.418 128.937L343.344 128.546L342.601 127.519L342.4 127.076L342.385 126.796L342.623 126.264L342.675 126.006L342.593 124.692L342.43 124.448L343.24 124.743L344.013 124.573L344.496 124.167L344.682 123.532L344.957 123.156L345.299 123.053L345.462 122.772L345.403 122.085L345.299 121.613L345.574 120.934L346.213 119.885L346.711 119.457L347.068 119.649L347.29 119.974L347.365 120.439L347.439 120.498L347.543 120.491L347.811 120.136L348.056 119.996L348.153 120.033L348.257 120.025L348.272 119.796L348.086 119.162L348.101 118.785L348.324 118.674L348.561 118.246L348.814 117.508L349.119 117.124L349.476 117.109L349.855 116.806L350.271 116.216L350.642 116.046L350.969 116.297L351.386 116.312L351.876 116.097L352.738 115.477L353.972 114.444L354.596 113.609L354.611 112.967L355.087 111.402L356.038 108.906L356.499 107.282L356.484 106.544L356.35 105.938L356.097 105.473L356.254 105.104L357.078 104.705L357.071 105.754V106.802V107.858V108.906V109.955L357.078 110.996V112.044V113.085H357.985H358.899H359.813H360.72H361.634H362.541H363.455L364.369 113.078Z",id:"WV"},{d:"M192.6 82.8284L192.608 85.191L192.615 87.5389L192.623 89.8868L192.63 92.2199V94.5457L192.638 96.864L192.645 99.1675L192.652 101.471H190.453H188.26H186.06H183.86H181.668H179.468H177.276H175.076H172.876H170.683H168.483H166.284H164.091H161.891H159.691H157.499H155.745H153.991H152.245H150.491H148.737H146.983H145.229H143.482V100.319V99.1675V98.0158V96.864V95.7048V94.5457V93.3865L143.475 92.2199V90.7654V89.3035V87.8416V86.3724V84.9031V83.4264V81.9498V80.4658V78.9817V77.4903V75.9988V74.5001V72.9939V71.4877L143.467 69.9815V68.4679L143.475 67.2423V66.024V64.7984V63.5654H145.006H146.544H148.075H149.606H151.145H152.676H154.207H155.745H157.276H158.807H160.338H161.876H163.407H164.938H166.477H168.008H169.539H171.077H172.608H174.139H175.678H177.209H178.74H180.278H181.809H183.34H184.879H186.41H187.941H189.479H191.01H192.541L192.548 66.0093L192.556 68.4458L192.563 70.8675L192.571 73.2744L192.578 75.6814L192.586 78.0735L192.593 80.451L192.6 82.8284Z",id:"WY"}];function TP(t){let e,n;return{c(){e=Bs("title"),n=La(t[2])},m(i,s){nn(i,e,s),Ge(e,n)},p(i,s){s&4&&B2(n,i[2])},d(i){i&&Xt(e)}}}function lDe(t){let e,n,i,s,a,c=t[2]&&TP(t);return{c(){e=Bs("path"),c&&c.c(),Be(e,"d",t[0]),Be(e,"stroke",n=t[7]?t[5]:t[3]),Be(e,"fill",t[1]),Be(e,"stroke-width",i=t[7]?t[6]:t[4])},m(d,f){nn(d,e,f),c&&c.m(e,null),s||(a=[as(e,"click",t[9]),as(e,"mouseenter",t[10]),as(e,"mouseleave",t[11])],s=!0)},p(d,[f]){d[2]?c?c.p(d,f):(c=TP(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null),f&1&&Be(e,"d",d[0]),f&168&&n!==(n=d[7]?d[5]:d[3])&&Be(e,"stroke",n),f&2&&Be(e,"fill",d[1]),f&208&&i!==(i=d[7]?d[6]:d[4])&&Be(e,"stroke-width",i)},i:mi,o:mi,d(d){d&&Xt(e),c&&c.d(),s=!1,nc(a)}}}function cDe(t,e,n){let{d:i}=e,{fill:s}=e,{title:a=""}=e,{stroke:c="hsla(0, 0%, 0%, 0.075)"}=e,{strokeWidth:d=.75}=e,{hoveringStroke:f="black"}=e,{hoveringStrokeWidth:u=1}=e;const o=Du();let g=!1;function y(b){En.call(this,t,b)}const m=()=>{n(7,g=!0),o("mouseenter")},l=()=>{n(7,g=!1),o("mouseleave")};return t.$$set=b=>{"d"in b&&n(0,i=b.d),"fill"in b&&n(1,s=b.fill),"title"in b&&n(2,a=b.title),"stroke"in b&&n(3,c=b.stroke),"strokeWidth"in b&&n(4,d=b.strokeWidth),"hoveringStroke"in b&&n(5,f=b.hoveringStroke),"hoveringStrokeWidth"in b&&n(6,u=b.hoveringStrokeWidth)},[i,s,a,c,d,f,u,g,o,y,m,l]}class dDe extends ws{constructor(e){super(),ms(this,e,cDe,lDe,ys,{d:0,fill:1,title:2,stroke:3,strokeWidth:4,hoveringStroke:5,hoveringStrokeWidth:6})}}function vP(t,e,n){const i=t.slice();i[12]=e[n];const s=i[1].get(i[12].id)??i[3];return i[13]=s,i}function EP(t){let e,n;function i(){return t[11](t[12])}return e=new dDe({props:{title:t[12].id,d:t[12].d,fill:t[13].fill??t[3].fill,stroke:t[13].stroke??t[3].stroke}}),e.$on("click",i),{c(){si(e.$$.fragment)},m(s,a){Gn(e,s,a),n=!0},p(s,a){t=s;const c={};a&10&&(c.fill=t[13].fill??t[3].fill),a&10&&(c.stroke=t[13].stroke??t[3].stroke),e.$set(c)},i(s){n||(Bt(e.$$.fragment,s),n=!0)},o(s){Wt(e.$$.fragment,s),n=!1},d(s){Wn(e,s)}}}function fDe(t){let e,n,i,s,a,c,d,f,u=b6,o=[];for(let y=0;y<u.length;y+=1)o[y]=EP(vP(t,u,y));const g=y=>Wt(o[y],1,1,()=>{o[y]=null});return{c(){e=Bs("svg"),n=Bs("g");for(let y=0;y<o.length;y+=1)o[y].c();i=Bs("defs"),s=Bs("clipPath"),a=Bs("rect"),Be(n,"id","usa"),Be(n,"clip-path","url(#clip0_1_121)"),Be(a,"width","468"),Be(a,"height","280"),Be(a,"fill","white"),Be(s,"id","clip0_1_121"),Be(e,"width",t[2]),Be(e,"viewBox","0 0 468 280"),Be(e,"fill","none"),Be(e,"xmlns","http://www.w3.org/2000/svg")},m(y,m){nn(y,e,m),Ge(e,n);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(n,null);Ge(e,i),Ge(i,s),Ge(s,a),c=!0,d||(f=[as(window,"keyup",t[9]),as(window,"keydown",t[10]),as(e,"mouseenter",t[7]),as(e,"mouseleave",t[8])],d=!0)},p(y,[m]){if(m&59){u=b6;let l;for(l=0;l<u.length;l+=1){const b=vP(y,u,l);o[l]?(o[l].p(b,m),Bt(o[l],1)):(o[l]=EP(b),o[l].c(),Bt(o[l],1),o[l].m(n,null))}for(Sh(),l=u.length;l<o.length;l+=1)g(l);xh()}(!c||m&4)&&Be(e,"width",y[2])},i(y){if(!c){for(let m=0;m<u.length;m+=1)Bt(o[m]);c=!0}},o(y){o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)Wt(o[m]);c=!1},d(y){y&&Xt(e),Mp(o,y),d=!1,nc(f)}}}function uDe(t,e,n){const i=Du();let{stateToStyle:s=new Map([["CA",{fill:"red"}]])}=e,{width:a=500}=e,{defaultFill:c="hsla(0, 0%, 0%, 0.025)"}=e,{defaultStyle:d={stroke:"hsla(0, 0%, 0%, 0.075)",fill:c}}=e,{selected:f=[]}=e,u=!1;function o(b){En.call(this,t,b)}function g(b){En.call(this,t,b)}const y=b=>{b.key==="Shift"&&n(4,u=!1)},m=b=>{b.key==="Shift"&&n(4,u=!0)},l=b=>{const L=f.includes(b.id);u?L?n(0,f=f.filter(E=>E!==b.id)):(f.push(b.id),n(0,f)):L&&f.length===1?n(0,f=[]):n(0,f=[b.id]),i("select",f)};return t.$$set=b=>{"stateToStyle"in b&&n(1,s=b.stateToStyle),"width"in b&&n(2,a=b.width),"defaultFill"in b&&n(6,c=b.defaultFill),"defaultStyle"in b&&n(3,d=b.defaultStyle),"selected"in b&&n(0,f=b.selected)},[f,s,a,d,u,i,c,o,g,y,m,l]}class hDe extends ws{constructor(e){super(),ms(this,e,uDe,fDe,ys,{stateToStyle:1,width:2,defaultFill:6,defaultStyle:3,selected:0})}}function SP(t,e,n){const i=t.slice();i[13]=e[n],i[17]=n;const s=i[0]/i[4].length;i[14]=s;const a=1/i[4].length*i[0];return i[15]=a,i}function xP(t){let e,n,i;return{c(){e=Bs("rect"),Be(e,"x",n=t[17]*t[14]),Be(e,"y",0),Be(e,"height",t[1]),Be(e,"width",i=t[15]),Be(e,"fill",t[13])},m(s,a){nn(s,e,a)},p(s,a){a&1&&n!==(n=s[17]*s[14])&&Be(e,"x",n),a&2&&Be(e,"height",s[1]),a&1&&i!==(i=s[15])&&Be(e,"width",i)},d(s){s&&Xt(e)}}}function pDe(t){let e,n,i,s,a,c,d,f,u,o,g,y,m,l,b=t[4],L=[];for(let E=0;E<b.length;E+=1)L[E]=xP(SP(t,b,E));return{c(){e=Ft("label"),n=La(t[2]),i=Pn(),s=Ft("div"),a=Ft("div"),c=Bs("svg");for(let E=0;E<L.length;E+=1)L[E].c();d=Pn(),f=Ft("div"),u=Bs("svg"),o=Bs("g"),g=Bs("defs"),y=Bs("clipPath"),m=Bs("rect"),Be(e,"for","#legend"),Be(e,"class","label svelte-ozj2oi"),Be(c,"height",t[1]),Be(c,"width",t[0]),zM(c,"border","0.5px solid grey"),Be(o,"transform","translate(0, 0)"),Be(o,"fill","lightgrey"),Be(o,"clip-path","url(#clip)"),Be(o,"class","axis svelte-ozj2oi"),Be(m,"x",-5),Be(m,"width",l=t[0]+25),Be(m,"height",20),Be(m,"fill","white"),Be(y,"id","clip"),Be(u,"height",20),Be(u,"width",t[0]),zM(u,"overflow","visible"),Be(s,"id","legend")},m(E,S){nn(E,e,S),Ge(e,n),nn(E,i,S),nn(E,s,S),Ge(s,a),Ge(a,c);for(let x=0;x<L.length;x+=1)L[x]&&L[x].m(c,null);Ge(s,d),Ge(s,f),Ge(f,u),Ge(u,o),t[10](o),Ge(u,g),Ge(g,y),Ge(y,m)},p(E,[S]){if(S&4&&B2(n,E[2]),S&19){b=E[4];let x;for(x=0;x<b.length;x+=1){const k=SP(E,b,x);L[x]?L[x].p(k,S):(L[x]=xP(k),L[x].c(),L[x].m(c,null))}for(;x<L.length;x+=1)L[x].d(1);L.length=b.length}S&2&&Be(c,"height",E[1]),S&1&&Be(c,"width",E[0]),S&1&&l!==(l=E[0]+25)&&Be(m,"width",l),S&1&&Be(u,"width",E[0])},i:mi,o:mi,d(E){E&&Xt(e),E&&Xt(i),E&&Xt(s),Mp(L,E),t[10](null)}}}function _De(t,e,n){let i,s,{data:a}=e,{numberToColor:c}=e,{width:d}=e,{height:f}=e,{title:u="Density Legend"}=e,o,g,y;const m=l(c,20,.1);function l(L,E,S=0,x=0){const k=new Array(E),B=1/(E-S-x);let A=0+S;for(let M=0;M<E;M++){A>1?A=1:A<0&&(A=0);const C=L(A);k[M]=cd(C).hex(),A+=B}return k}function b(L){id[L?"unshift":"push"](()=>{y=L,n(3,y)})}return t.$$set=L=>{"data"in L&&n(5,a=L.data),"numberToColor"in L&&n(6,c=L.numberToColor),"width"in L&&n(0,d=L.width),"height"in L&&n(1,f=L.height),"title"in L&&n(2,u=L.title)},t.$$.update=()=>{t.$$.dirty&32&&n(7,[o,g]=yz(a),g),t.$$.dirty&129&&n(9,i=Q6().domain([0,g]).range([0,d]).nice()),t.$$.dirty&512&&n(8,s=sae(i).ticks(3)),t.$$.dirty&264&&y&&Uoe(y).transition().call(s)},[d,f,u,y,m,a,c,g,s,i,b]}class gDe extends ws{constructor(e){super(),ms(this,e,_De,pDe,ys,{data:5,numberToColor:6,width:0,height:1,title:2})}}function yDe(t){let e,n,i,s,a,c;return e=new WS({props:{title:t[1],selection:t[6].length>0?t[6]:null}}),e.$on("reset",t[9]),i=new hDe({props:{width:t[3],stateToStyle:t[4]}}),i.$on("mouseenter",t[10]),i.$on("mouseleave",t[11]),i.$on("select",t[12]),a=new gDe({props:{title:t[1]+" Density",data:t[0].filter,numberToColor:t[2],width:200,height:10}}),{c(){si(e.$$.fragment),n=Pn(),si(i.$$.fragment),s=Pn(),si(a.$$.fragment)},m(d,f){Gn(e,d,f),nn(d,n,f),Gn(i,d,f),nn(d,s,f),Gn(a,d,f),c=!0},p(d,[f]){const u={};f&2&&(u.title=d[1]),f&64&&(u.selection=d[6].length>0?d[6]:null),e.$set(u);const o={};f&8&&(o.width=d[3]),f&16&&(o.stateToStyle=d[4]),i.$set(o);const g={};f&2&&(g.title=d[1]+" Density"),f&1&&(g.data=d[0].filter),f&4&&(g.numberToColor=d[2]),a.$set(g)},i(d){c||(Bt(e.$$.fragment,d),Bt(i.$$.fragment,d),Bt(a.$$.fragment,d),c=!0)},o(d){Wt(e.$$.fragment,d),Wt(i.$$.fragment,d),Wt(a.$$.fragment,d),c=!1},d(d){Wn(e,d),d&&Xt(n),Wn(i,d),d&&Xt(s),Wn(a,d)}}}function mDe(t,e,n){const i=Du(),s=tH(["rgb(255,255,255)",TF]);let{state:a}=e,{title:c=""}=e,{numberToColor:d=x=>s(x)}=e,{width:f=600}=e,u=new Map(b6.map(x=>[x.id,{fill:"white"}])),o=structuredClone(u);function g(x){n(4,u=y(x)),n(5,o=structuredClone(u))}function y(x){const k=x.bin,B=x.filter;let[A,M]=yz(B);M<=0&&(M=1);for(let C=0;C<k.length;C++){const R=k[C],$=B[C]/M,Y=d($);u.set(R,{...u.get(R),fill:Y})}return u}let m=[];async function l(x){x.length>0?(n(4,u=structuredClone(o)),x.forEach(k=>{u.set(k,{...u.get(k),stroke:"hsla(0, 0%, 0%, 0.5)"})}),n(4,u)):(b6.forEach(k=>{u.set(k.id,{fill:u.get(k.id).fill})}),n(4,u))}const b=()=>{n(6,m=[]),l(m),i("select",null)};function L(x){En.call(this,t,x)}function E(x){En.call(this,t,x)}const S=async x=>{n(6,m=x.detail),x.detail.length>0?(l(m),i("select",m)):(n(4,u=structuredClone(o)),i("select",null))};return t.$$set=x=>{"state"in x&&n(0,a=x.state),"title"in x&&n(1,c=x.title),"numberToColor"in x&&n(2,d=x.numberToColor),"width"in x&&n(3,f=x.width)},t.$$.update=()=>{t.$$.dirty&1&&a&&g(a)},[a,c,d,f,u,o,m,i,l,b,L,E,S]}class wDe extends ws{constructor(e){super(),ms(this,e,mDe,yDe,ys,{state:0,title:1,numberToColor:2,width:3})}}function BP(t,e,n){const i=t.slice();return i[30]=e[n],i}function IP(t,e,n){const i=t.slice();return i[33]=e[n],i}function kP(t,e,n){const i=t.slice();return i[33]=e[n],i}function FP(t){let e,n;return e=new X5({props:{title:"Distance Flown",dimLabel:"Distance in miles",bins:t[0].bin,filteredCounts:t[0].filter,totalCounts:t[0].total}}),e.$on("mouseenter",t[15]),e.$on("select",t[16]),{c(){si(e.$$.fragment)},m(i,s){Gn(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.bins=i[0].bin),s[0]&1&&(a.filteredCounts=i[0].filter),s[0]&1&&(a.totalCounts=i[0].total),e.$set(a)},i(i){n||(Bt(e.$$.fragment,i),n=!0)},o(i){Wt(e.$$.fragment,i),n=!1},d(i){Wn(e,i)}}}function MP(t){let e,n;return e=new X5({props:{title:"Arrival Flight Delay",dimLabel:"Delay in + minutes",bins:t[1].bin,filteredCounts:t[1].filter,totalCounts:t[1].total}}),e.$on("mouseenter",t[17]),e.$on("select",t[18]),{c(){si(e.$$.fragment)},m(i,s){Gn(e,i,s),n=!0},p(i,s){const a={};s[0]&2&&(a.bins=i[1].bin),s[0]&2&&(a.filteredCounts=i[1].filter),s[0]&2&&(a.totalCounts=i[1].total),e.$set(a)},i(i){n||(Bt(e.$$.fragment,i),n=!0)},o(i){Wt(e.$$.fragment,i),n=!1},d(i){Wn(e,i)}}}function AP(t){let e,n;return e=new X5({props:{title:"Departure Flight Delay",dimLabel:"Delay in + minutes",bins:t[2].bin,filteredCounts:t[2].filter,totalCounts:t[2].total}}),e.$on("mouseenter",t[19]),e.$on("select",t[20]),{c(){si(e.$$.fragment)},m(i,s){Gn(e,i,s),n=!0},p(i,s){const a={};s[0]&4&&(a.bins=i[2].bin),s[0]&4&&(a.filteredCounts=i[2].filter),s[0]&4&&(a.totalCounts=i[2].total),e.$set(a)},i(i){n||(Bt(e.$$.fragment,i),n=!0)},o(i){Wt(e.$$.fragment,i),n=!1},d(i){Wn(e,i)}}}function OP(t){let e,n;return e=new X5({props:{timeUnit:"",type:"temporal",title:"Flight Date",dimLabel:"Time of flight",bins:t[3].bin,filteredCounts:t[3].filter,totalCounts:t[3].total}}),e.$on("mouseenter",t[21]),e.$on("select",t[22]),{c(){si(e.$$.fragment)},m(i,s){Gn(e,i,s),n=!0},p(i,s){const a={};s[0]&8&&(a.bins=i[3].bin),s[0]&8&&(a.filteredCounts=i[3].filter),s[0]&8&&(a.totalCounts=i[3].total),e.$set(a)},i(i){n||(Bt(e.$$.fragment,i),n=!0)},o(i){Wt(e.$$.fragment,i),n=!1},d(i){Wn(e,i)}}}function NP(t){let e,n;return e=new wDe({props:{width:700,title:"Origin Airport Location by State",state:t[4]}}),e.$on("mouseenter",t[23]),e.$on("select",t[24]),{c(){si(e.$$.fragment)},m(i,s){Gn(e,i,s),n=!0},p(i,s){const a={};s[0]&16&&(a.state=i[4]),e.$set(a)},i(i){n||(Bt(e.$$.fragment,i),n=!0)},o(i){Wt(e.$$.fragment,i),n=!1},d(i){Wn(e,i)}}}function CP(t){let e,n,i,s,a,c,d,f,u,o=t[13]&&t[11]&&RP(t);return{c(){e=Ft("div"),n=Ft("button"),n.textContent="back",i=Pn(),s=Ft("button"),s.textContent="next",a=Pn(),c=Ft("div"),d=Ft("table"),o&&o.c(),Be(d,"id","table"),Be(d,"class","svelte-1q815rq"),Be(c,"id","images")},m(g,y){nn(g,e,y),Ge(e,n),Ge(e,i),Ge(e,s),nn(g,a,y),nn(g,c,y),Ge(c,d),o&&o.m(d,null),f||(u=[as(n,"click",t[25]),as(s,"click",t[26])],f=!0)},p(g,y){g[13]&&g[11]?o?o.p(g,y):(o=RP(g),o.c(),o.m(d,null)):o&&(o.d(1),o=null)},d(g){g&&Xt(e),g&&Xt(a),g&&Xt(c),o&&o.d(),f=!1,nc(u)}}}function RP(t){let e,n,i,s=t[14],a=[];for(let f=0;f<s.length;f+=1)a[f]=DP(kP(t,s,f));let c=Array.from(t[13]),d=[];for(let f=0;f<c.length;f+=1)d[f]=$P(BP(t,c,f));return{c(){e=Ft("tr");for(let f=0;f<a.length;f+=1)a[f].c();n=Pn();for(let f=0;f<d.length;f+=1)d[f].c();i=ote()},m(f,u){nn(f,e,u);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null);nn(f,n,u);for(let o=0;o<d.length;o+=1)d[o]&&d[o].m(f,u);nn(f,i,u)},p(f,u){if(u[0]&16384){s=f[14];let o;for(o=0;o<s.length;o+=1){const g=kP(f,s,o);a[o]?a[o].p(g,u):(a[o]=DP(g),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}if(u[0]&24576){c=Array.from(f[13]);let o;for(o=0;o<c.length;o+=1){const g=BP(f,c,o);d[o]?d[o].p(g,u):(d[o]=$P(g),d[o].c(),d[o].m(i.parentNode,i))}for(;o<d.length;o+=1)d[o].d(1);d.length=c.length}},d(f){f&&Xt(e),Mp(a,f),f&&Xt(n),Mp(d,f),f&&Xt(i)}}}function DP(t){let e,n=t[33]+"",i;return{c(){e=Ft("th"),i=La(n),Be(e,"class","svelte-1q815rq")},m(s,a){nn(s,e,a),Ge(e,i)},p:mi,d(s){s&&Xt(e)}}}function PP(t){let e,n=t[30][t[33]]+"",i;return{c(){e=Ft("td"),i=La(n),Be(e,"class","svelte-1q815rq")},m(s,a){nn(s,e,a),Ge(e,i)},p(s,a){a[0]&8192&&n!==(n=s[30][s[33]]+"")&&B2(i,n)},d(s){s&&Xt(e)}}}function $P(t){let e,n,i=new Date(t[30].FlightDate).toDateString()+"",s,a,c,d=t[14].slice(1),f=[];for(let u=0;u<d.length;u+=1)f[u]=PP(IP(t,d,u));return{c(){e=Ft("tr"),n=Ft("td"),s=La(i),a=Pn();for(let u=0;u<f.length;u+=1)f[u].c();c=Pn(),Be(n,"class","svelte-1q815rq")},m(u,o){nn(u,e,o),Ge(e,n),Ge(n,s),Ge(e,a);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(e,null);Ge(e,c)},p(u,o){if(o[0]&8192&&i!==(i=new Date(u[30].FlightDate).toDateString()+"")&&B2(s,i),o[0]&24576){d=u[14].slice(1);let g;for(g=0;g<d.length;g+=1){const y=IP(u,d,g);f[g]?f[g].p(y,o):(f[g]=PP(y),f[g].c(),f[g].m(e,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(u){u&&Xt(e),Mp(f,u)}}}function LDe(t){var Y,z;let e,n,i,s,a,c,d,f,u,o,g,y,m,l,b,L,E,S,x,k,B;a=new r_e({props:{href:"https://github.com/cmudig/falcon",width:40}});let A=t[5]&&t[0]&&FP(t),M=t[5]&&t[1]&&MP(t),C=t[5]&&t[2]&&AP(t),R=t[5]&&t[3]&&OP(t),D=t[5]&&t[4]&&NP(t);x=new oDe({props:{filteredCount:((Y=t[11])==null?void 0:Y.filter)??0,totalCount:((z=t[11])==null?void 0:z.total)??0,width:800,height:20}});let $=t[13]&&CP(t);return{c(){e=Pn(),n=Ft("header"),i=Ft("div"),i.innerHTML='<a href="https://github.com/cmudig/falcon#falconvis" target="_blank"><img src="https://user-images.githubusercontent.com/65095341/224896033-afc8bd8e-d0e0-4031-a7b2-3857bef51327.svg" alt="FalconVis Logo" height="60px"/></a>',s=Pn(),si(a.$$.fragment),c=Pn(),d=Ft("main"),f=Ft("div"),u=Ft("div"),o=Ft("div"),A&&A.c(),g=Pn(),M&&M.c(),y=Pn(),C&&C.c(),m=Pn(),R&&R.c(),l=Pn(),b=Ft("div"),D&&D.c(),L=Pn(),E=Ft("div"),S=Ft("div"),si(x.$$.fragment),k=Pn(),$&&$.c(),document.title="FalconVis 3 Million Flights",Be(n,"class","svelte-1q815rq"),Be(o,"id","hists"),Be(o,"class","svelte-1q815rq"),Be(b,"id","maps"),Be(b,"class","svelte-1q815rq"),Be(u,"id","charts"),Be(u,"class","svelte-1q815rq"),Be(E,"id","table"),Be(E,"class","svelte-1q815rq"),Be(f,"id","vis"),Be(f,"class","svelte-1q815rq"),Be(d,"class","svelte-1q815rq")},m(H,q){nn(H,e,q),nn(H,n,q),Ge(n,i),Ge(n,s),Gn(a,n,null),nn(H,c,q),nn(H,d,q),Ge(d,f),Ge(f,u),Ge(u,o),A&&A.m(o,null),Ge(o,g),M&&M.m(o,null),Ge(o,y),C&&C.m(o,null),Ge(o,m),R&&R.m(o,null),Ge(u,l),Ge(u,b),D&&D.m(b,null),Ge(f,L),Ge(f,E),Ge(E,S),Gn(x,S,null),Ge(E,k),$&&$.m(E,null),B=!0},p(H,q){var X,G;H[5]&&H[0]?A?(A.p(H,q),q[0]&33&&Bt(A,1)):(A=FP(H),A.c(),Bt(A,1),A.m(o,g)):A&&(Sh(),Wt(A,1,1,()=>{A=null}),xh()),H[5]&&H[1]?M?(M.p(H,q),q[0]&34&&Bt(M,1)):(M=MP(H),M.c(),Bt(M,1),M.m(o,y)):M&&(Sh(),Wt(M,1,1,()=>{M=null}),xh()),H[5]&&H[2]?C?(C.p(H,q),q[0]&36&&Bt(C,1)):(C=AP(H),C.c(),Bt(C,1),C.m(o,m)):C&&(Sh(),Wt(C,1,1,()=>{C=null}),xh()),H[5]&&H[3]?R?(R.p(H,q),q[0]&40&&Bt(R,1)):(R=OP(H),R.c(),Bt(R,1),R.m(o,null)):R&&(Sh(),Wt(R,1,1,()=>{R=null}),xh()),H[5]&&H[4]?D?(D.p(H,q),q[0]&48&&Bt(D,1)):(D=NP(H),D.c(),Bt(D,1),D.m(b,null)):D&&(Sh(),Wt(D,1,1,()=>{D=null}),xh());const W={};q[0]&2048&&(W.filteredCount=((X=H[11])==null?void 0:X.filter)??0),q[0]&2048&&(W.totalCount=((G=H[11])==null?void 0:G.total)??0),x.$set(W),H[13]?$?$.p(H,q):($=CP(H),$.c(),$.m(E,null)):$&&($.d(1),$=null)},i(H){B||(Bt(a.$$.fragment,H),Bt(A),Bt(M),Bt(C),Bt(R),Bt(D),Bt(x.$$.fragment,H),B=!0)},o(H){Wt(a.$$.fragment,H),Wt(A),Wt(M),Wt(C),Wt(R),Wt(D),Wt(x.$$.fragment,H),B=!1},d(H){H&&Xt(e),H&&Xt(n),Wn(a),H&&Xt(c),H&&Xt(d),A&&A.d(),M&&M.d(),C&&C.d(),R&&R.d(),D&&D.d(),Wn(x),$&&$.d()}}}let vh=25;function bDe(t,e,n){let i,s,a,c,d,f,u,o,g,y,m,l;dte(async()=>{const W=await GS.fromParquetFile("flights-3m.parquet");n(5,i=new n_e(W)),await i.view0D(X=>{n(11,u=X)}),n(6,s=await i.view1D({type:"continuous",name:"Distance",resolution:400,bins:20})),s.onChange(X=>{n(0,o=X)}),n(7,a=await i.view1D({type:"continuous",name:"ArrDelay",resolution:400,range:[-20,60],bins:20})),a.onChange(X=>{n(1,g=X)}),n(8,c=await i.view1D({type:"continuous",name:"DepDelay",resolution:400,range:[-20,60],bins:20})),c.onChange(X=>{n(2,y=X)}),n(9,d=await i.view1D({type:"continuous",name:"FlightDate",resolution:400,bins:20,time:!0})),d.onChange(X=>{n(3,m=X)}),n(10,f=await i.view1D({type:"categorical",name:"OriginState"})),f.onChange(X=>{n(4,l=X)}),await i.link(),n(13,L=await i.entries({length:vh,offset:b}))});let b=0,L,E=!0;async function S(W){i&&E&&(E=!1,i.entries({length:vh,offset:b}).then(X=>{E=!0,n(13,L=X)}))}let x=["FlightDate","OriginState","DestState","DepDelay","ArrDelay","Distance"];const k=async()=>{await s.activate()},B=async W=>{const X=W.detail;X!==null?await s.select(X):await s.select()},A=async()=>{await a.activate()},M=async W=>{const X=W.detail;X!==null?await a.select(X):await a.select()},C=async()=>{await c.activate()},R=async W=>{const X=W.detail;X!==null?await c.select(X):await c.select()},D=async()=>{await d.activate()},$=async W=>{const X=W.detail;X!==null?await d.select(X):await d.select()},Y=async()=>{await f.activate()},z=async W=>{const X=W.detail;X!==null?await f.select(X):await f.select()},H=async()=>{n(12,b=Math.max(b-vh,0)),n(13,L=await i.entries({length:vh,offset:b}))},q=async()=>{n(12,b+=vh),n(13,L=await i.entries({length:vh,offset:b}))};return t.$$.update=()=>{t.$$.dirty[0]&31&&S()},[o,g,y,m,l,i,s,a,c,d,f,u,b,L,x,k,B,A,M,C,R,D,$,Y,z,H,q]}class TDe extends ws{constructor(e){super(),ms(this,e,bDe,LDe,ys,{},null,[-1,-1])}}new TDe({target:document.getElementById("app")})});export default vDe();
